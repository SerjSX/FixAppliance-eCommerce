/*
 * ============================================================================
 * FixAppliance - Typography Styles
 * ============================================================================
 * Text styles, headings, and typographic utilities.
 * Ensures consistent typography across the application.
 */

@layer components {

  /* ==========================================================================
   * HEADINGS
   * Consistent heading styles with responsive sizing
   * ========================================================================== */

  .heading-display {
    @apply text-4xl md:text-5xl lg:text-6xl font-bold 
           text-neutral-900 dark:text-neutral-100
           tracking-tight leading-tight;
  }

  .heading-1 {
    @apply text-3xl md:text-4xl font-bold 
           text-neutral-900 dark:text-neutral-100
           tracking-tight leading-tight;
  }

  .heading-2 {
    @apply text-2xl md:text-3xl font-semibold 
           text-neutral-900 dark:text-neutral-100
           tracking-tight leading-snug;
  }

  .heading-3 {
    @apply text-xl md:text-2xl font-semibold 
           text-neutral-900 dark:text-neutral-100
           leading-snug;
  }

  .heading-4 {
    @apply text-lg md:text-xl font-semibold 
           text-neutral-900 dark:text-neutral-100
           leading-snug;
  }

  .heading-5 {
    @apply text-base md:text-lg font-semibold 
           text-neutral-900 dark:text-neutral-100;
  }

  .heading-6 {
    @apply text-sm md:text-base font-semibold 
           text-neutral-900 dark:text-neutral-100;
  }

  /* Section headings with decorative elements */
  .section-heading {
    @apply heading-2 text-center mb-4;
  }

  .section-subheading {
    @apply text-lg text-neutral-600 text-center max-w-2xl mx-auto
           dark:text-neutral-400;
  }

  .section-heading-left {
    @apply heading-2 text-left mb-4;
  }

  /* Heading with underline accent */
  .heading-underline {
    @apply relative pb-3;
  }

  .heading-underline::after {
    content: '';
    @apply absolute bottom-0 left-0 w-12 h-1 bg-primary-500 rounded-full;
  }

  .heading-underline-center::after {
    @apply left-1/2 -translate-x-1/2;
  }

  /* ==========================================================================
   * BODY TEXT
   * Paragraph and body text styles
   * ========================================================================== */

  .text-body {
    @apply text-base text-neutral-700 leading-relaxed
           dark:text-neutral-300;
  }

  .text-body-sm {
    @apply text-sm text-neutral-700 leading-relaxed
           dark:text-neutral-300;
  }

  .text-body-lg {
    @apply text-lg text-neutral-700 leading-relaxed
           dark:text-neutral-300;
  }

  /* Lead/intro text */
  .text-lead {
    @apply text-lg md:text-xl text-neutral-600 leading-relaxed
           dark:text-neutral-400;
  }

  /* Muted text */
  .text-muted {
    @apply text-sm text-neutral-500 dark:text-neutral-400;
  }

  /* Caption text */
  .text-caption {
    @apply text-xs text-neutral-500 dark:text-neutral-400;
  }

  /* Overline text */
  .text-overline {
    @apply text-xs font-semibold uppercase tracking-wider
           text-neutral-500 dark:text-neutral-400;
  }

  /* ==========================================================================
   * LINKS
   * Link styles with hover states
   * ========================================================================== */

  .link {
    @apply text-primary-600 hover:text-primary-700 
           underline underline-offset-2
           transition-colors
           dark:text-primary-400 dark:hover:text-primary-300;
  }

  .link-subtle {
    @apply text-neutral-600 hover:text-primary-600
           underline-offset-2
           transition-colors
           dark:text-neutral-400 dark:hover:text-primary-400;
  }

  .link-subtle:hover {
    @apply underline;
  }

  .link-muted {
    @apply text-neutral-500 hover:text-neutral-700
           transition-colors
           dark:text-neutral-400 dark:hover:text-neutral-300;
  }

  .link-nav {
    @apply text-neutral-700 hover:text-primary-600
           font-medium transition-colors
           dark:text-neutral-300 dark:hover:text-primary-400;
  }

  /* External link indicator */
  .link-external::after {
    content: ' ↗';
    @apply text-neutral-400;
  }

  /* ==========================================================================
   * TEXT COLORS
   * Semantic text color utilities
   * ========================================================================== */

  .text-primary {
    @apply text-primary-600 dark:text-primary-400;
  }

  .text-secondary {
    @apply text-secondary-600 dark:text-secondary-400;
  }

  .text-success {
    @apply text-success-600 dark:text-success-400;
  }

  .text-warning {
    @apply text-warning-600 dark:text-warning-400;
  }

  .text-error {
    @apply text-error-600 dark:text-error-400;
  }

  .text-on-primary {
    @apply text-white;
  }

  .text-on-dark {
    @apply text-neutral-100;
  }

  /* ==========================================================================
   * PROSE / RICH TEXT
   * For rendered markdown/HTML content
   * ========================================================================== */

  .prose-custom {
    @apply prose prose-neutral max-w-none
           prose-headings:font-semibold
           prose-headings:text-neutral-900
           prose-p:text-neutral-700
           prose-p:leading-relaxed
           prose-a:text-primary-600
           prose-a:no-underline
           hover:prose-a:underline
           prose-strong:text-neutral-900
           prose-code:text-primary-700
           prose-code:bg-neutral-100
           prose-code:px-1.5 prose-code:py-0.5
           prose-code:rounded
           prose-code:before:content-none
           prose-code:after:content-none
           prose-pre:bg-neutral-900
           prose-img:rounded-lg
           prose-hr:border-neutral-200
           dark:prose-invert
           dark:prose-headings:text-neutral-100
           dark:prose-p:text-neutral-300
           dark:prose-a:text-primary-400
           dark:prose-strong:text-neutral-100
           dark:prose-code:text-primary-300
           dark:prose-code:bg-neutral-800
           dark:prose-hr:border-neutral-700;
  }

  /* ==========================================================================
   * LIST STYLES
   * Styled lists
   * ========================================================================== */

  .list-styled {
    @apply space-y-2 text-neutral-700 dark:text-neutral-300;
  }

  .list-styled li {
    @apply flex items-start gap-2;
  }

  .list-styled li::before {
    content: '•';
    @apply text-primary-500 font-bold flex-shrink-0;
  }

  .list-check {
    @apply space-y-3;
  }

  .list-check li {
    @apply flex items-start gap-3 text-neutral-700 dark:text-neutral-300;
  }

  .list-check li::before {
    content: '✓';
    @apply text-success-500 font-bold flex-shrink-0;
  }

  .list-numbered {
    counter-reset: item;
    @apply space-y-3;
  }

  .list-numbered li {
    @apply flex items-start gap-3 text-neutral-700 dark:text-neutral-300;
    counter-increment: item;
  }

  .list-numbered li::before {
    content: counter(item) '.';
    @apply text-primary-600 font-semibold flex-shrink-0 min-w-[1.5rem]
           dark:text-primary-400;
  }

  /* ==========================================================================
   * BLOCKQUOTE
   * Quote styles
   * ========================================================================== */

  .blockquote {
    @apply border-l-4 border-primary-500 pl-4 py-2
           text-neutral-700 italic
           dark:text-neutral-300;
  }

  .blockquote-author {
    @apply mt-2 text-sm text-neutral-500 not-italic
           dark:text-neutral-400;
  }

  /* ==========================================================================
   * CODE DISPLAY
   * Inline and block code styling
   * ========================================================================== */

  .code-inline {
    @apply px-1.5 py-0.5 
           text-sm font-mono 
           bg-neutral-100 text-primary-700 
           rounded
           dark:bg-neutral-800 dark:text-primary-300;
  }

  .code-block {
    @apply p-4 
           text-sm font-mono 
           bg-neutral-900 text-neutral-100 
           rounded-lg overflow-x-auto;
  }

  /* ==========================================================================
   * TEXT UTILITIES
   * Additional text utilities
   * ========================================================================== */

  /* Text truncation */
  .text-truncate {
    @apply truncate;
  }

  .text-line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .text-line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .text-line-clamp-4 {
    display: -webkit-box;
    -webkit-line-clamp: 4;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* Text selection */
  .text-select-none {
    @apply select-none;
  }

  .text-select-all {
    @apply select-all;
  }

  /* Text balance (for headings)
   * Uses text-wrap: balance for improved heading appearance.
   * Fallback to text-wrap: wrap for browsers without support.
   * Supported in Chrome 114+, Edge 114+, Safari 17.5+.
   */
  .text-balance {
    text-wrap: wrap;    /* Fallback for older browsers */
    text-wrap: balance; /* Modern browsers */
  }

  /* Text gradient */
  .text-gradient-primary {
    @apply bg-gradient-to-r from-primary-600 to-primary-400 
           bg-clip-text text-transparent;
  }

  .text-gradient-secondary {
    @apply bg-gradient-to-r from-secondary-500 to-secondary-300 
           bg-clip-text text-transparent;
  }

  /* ==========================================================================
   * PRICE DISPLAY
   * Pricing and currency formatting
   * ========================================================================== */

  .price {
    @apply font-semibold text-neutral-900 dark:text-neutral-100;
  }

  .price-large {
    @apply text-2xl md:text-3xl font-bold;
  }

  .price-currency {
    @apply text-sm font-normal text-neutral-500 dark:text-neutral-400;
  }

  .price-old {
    @apply text-neutral-500 line-through text-sm dark:text-neutral-400;
  }

  .price-discount {
    @apply text-success-600 font-medium dark:text-success-400;
  }

  /* ==========================================================================
   * LABELS
   * Form and display labels
   * ========================================================================== */

  .label {
    @apply text-sm font-medium text-neutral-700 dark:text-neutral-300;
  }

  .label-required::after {
    content: ' *';
    @apply text-error-500;
  }

  .label-optional::after {
    content: ' (optional)';
    @apply text-neutral-400 font-normal text-xs;
  }

  /* ==========================================================================
   * RTL SUPPORT
   * Right-to-left text utilities for Arabic
   * ========================================================================== */

  .rtl-text {
    @apply text-right font-arabic;
    direction: rtl;
  }

  .ltr-text {
    @apply text-left;
    direction: ltr;
  }

  /* Mixed LTR/RTL content */
  .bidi-isolate {
    unicode-bidi: isolate;
  }
}
