/*
 * ============================================================================
 * FixAppliance - Component Styles
 * ============================================================================
 * Reusable component classes using @apply for common UI patterns.
 * Organized by component type for easy navigation.
 */

@layer components {

  /* ==========================================================================
   * BUTTONS
   * Standard button variants with consistent sizing and states
   * ========================================================================== */

  /* Base button - shared styles */
  .btn {
    @apply inline-flex items-center justify-center gap-2 
           font-medium text-sm 
           px-4 py-2.5 
           rounded-lg 
           transition-all duration-200 
           focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 
           disabled:opacity-50 disabled:cursor-not-allowed;
  }

  /* Button sizes */
  .btn-xs {
    @apply px-2.5 py-1.5 text-xs rounded-md;
  }

  .btn-sm {
    @apply px-3 py-2 text-sm;
  }

  .btn-lg {
    @apply px-6 py-3 text-base rounded-xl;
  }

  .btn-xl {
    @apply px-8 py-4 text-lg rounded-xl;
  }

  /* Primary button */
  .btn-primary {
    @apply bg-primary-600 text-white 
           hover:bg-primary-700 
           active:bg-primary-800 
           focus-visible:ring-primary-500
           dark:bg-primary-500 dark:hover:bg-primary-600 dark:active:bg-primary-700;
  }

  /* Secondary button */
  .btn-secondary {
    @apply bg-secondary-500 text-white 
           hover:bg-secondary-600 
           active:bg-secondary-700 
           focus-visible:ring-secondary-500
           dark:bg-secondary-600 dark:hover:bg-secondary-700;
  }

  /* Outline button */
  .btn-outline {
    @apply border-2 border-primary-600 text-primary-600 bg-transparent 
           hover:bg-primary-50 
           active:bg-primary-100 
           focus-visible:ring-primary-500
           dark:border-primary-400 dark:text-primary-400 
           dark:hover:bg-primary-950 dark:active:bg-primary-900;
  }

  .btn-outline-secondary {
    @apply border-2 border-secondary-500 text-secondary-600 bg-transparent 
           hover:bg-secondary-50 
           active:bg-secondary-100 
           focus-visible:ring-secondary-500
           dark:border-secondary-400 dark:text-secondary-400 
           dark:hover:bg-secondary-950;
  }

  /* Ghost button */
  .btn-ghost {
    @apply text-neutral-700 bg-transparent 
           hover:bg-neutral-100 
           active:bg-neutral-200 
           focus-visible:ring-neutral-400
           dark:text-neutral-300 dark:hover:bg-neutral-800 dark:active:bg-neutral-700;
  }

  /* Success button */
  .btn-success {
    @apply bg-success-500 text-white 
           hover:bg-success-600 
           active:bg-success-700 
           focus-visible:ring-success-500;
  }

  /* Error/Danger button - .btn-error is the primary name, .btn-danger is an alias */
  .btn-error,
  .btn-danger {
    @apply bg-error-500 text-white 
           hover:bg-error-600 
           active:bg-error-700 
           focus-visible:ring-error-500;
  }

  /* Warning button */
  .btn-warning {
    @apply bg-warning-500 text-white 
           hover:bg-warning-600 
           active:bg-warning-700 
           focus-visible:ring-warning-500;
  }

  /* Icon-only button */
  .btn-icon {
    @apply p-2.5 aspect-square;
  }

  .btn-icon-sm {
    @apply p-2 aspect-square;
  }

  .btn-icon-lg {
    @apply p-3.5 aspect-square;
  }

  /* ==========================================================================
   * CARDS
   * Versatile card containers for content display
   * ========================================================================== */

  /* Base card */
  .card {
    @apply bg-white rounded-xl shadow-soft 
           border border-neutral-200 
           overflow-hidden
           dark:bg-neutral-800 dark:border-neutral-700;
  }

  .card-hover {
    @apply transition-all duration-300 
           hover:shadow-soft-lg hover:-translate-y-1 
           hover:border-primary-200 
           dark:hover:border-primary-700;
  }

  .card-header {
    @apply px-5 py-4 border-b border-neutral-200 dark:border-neutral-700;
  }

  .card-body {
    @apply px-5 py-4;
  }

  .card-footer {
    @apply px-5 py-4 bg-neutral-50 border-t border-neutral-200 
           dark:bg-neutral-900 dark:border-neutral-700;
  }

  /* Card with image */
  .card-image {
    @apply w-full aspect-card object-cover;
  }

  /* Compact card */
  .card-compact .card-header,
  .card-compact .card-body,
  .card-compact .card-footer {
    @apply px-4 py-3;
  }

  /* ==========================================================================
   * FORMS
   * Input fields, labels, and form groups
   * ========================================================================== */

  /* Form label */
  .form-label {
    @apply block text-sm font-medium text-neutral-700 mb-1.5 
           dark:text-neutral-300;
  }

  .form-label-required::after {
    content: '*';
    @apply text-error-500 ml-0.5;
  }

  /* Base input */
  .form-input {
    @apply block w-full px-4 py-2.5 
           text-neutral-900 bg-white 
           border border-neutral-300 rounded-lg 
           placeholder:text-neutral-400 
           focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 
           disabled:bg-neutral-100 disabled:text-neutral-500 disabled:cursor-not-allowed
           dark:bg-neutral-800 dark:text-neutral-100 dark:border-neutral-600 
           dark:placeholder:text-neutral-500 
           dark:focus:border-primary-400 dark:focus:ring-primary-400/20
           dark:disabled:bg-neutral-900;
  }

  /* Input sizes */
  .form-input-sm {
    @apply px-3 py-2 text-sm;
  }

  .form-input-lg {
    @apply px-5 py-3 text-base;
  }

  /* Textarea */
  .form-textarea {
    @apply form-input resize-y min-h-[100px];
  }

  /* Select */
  .form-select {
    @apply form-input appearance-none bg-no-repeat cursor-pointer;
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
    background-position: right 0.75rem center;
    background-size: 1.25em 1.25em;
    padding-right: 2.5rem;
  }

  /* Dark mode select arrow with lighter color */
  .dark .form-select {
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%23d4d4d4' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
  }

  /* Checkbox & Radio base */
  .form-checkbox,
  .form-radio {
    @apply h-4 w-4 
           text-primary-600 border-neutral-300 
           focus:ring-primary-500 focus:ring-offset-0
           disabled:opacity-50 disabled:cursor-not-allowed
           dark:border-neutral-600 dark:bg-neutral-800 
           dark:checked:bg-primary-500 dark:checked:border-primary-500
           dark:focus:ring-primary-400;
  }

  .form-checkbox {
    @apply rounded;
  }

  .form-radio {
    @apply rounded-full;
  }

  /* Form group container */
  .form-group {
    @apply space-y-1.5;
  }

  /* Input with icon */
  .input-icon-wrapper {
    @apply relative;
  }

  .input-icon-left {
    @apply absolute left-3 top-1/2 -translate-y-1/2 text-neutral-400 pointer-events-none;
  }

  .input-icon-right {
    @apply absolute right-3 top-1/2 -translate-y-1/2 text-neutral-400;
  }

  .form-input-with-icon-left {
    @apply pl-10;
  }

  .form-input-with-icon-right {
    @apply pr-10;
  }

  /* Form validation states */
  .form-input-error {
    @apply border-error-500 focus:border-error-500 focus:ring-error-500/20
           dark:border-error-400 dark:focus:border-error-400 dark:focus:ring-error-400/20;
  }

  .form-input-success {
    @apply border-success-500 focus:border-success-500 focus:ring-success-500/20
           dark:border-success-400 dark:focus:border-success-400 dark:focus:ring-success-400/20;
  }

  .form-error-message {
    @apply text-sm text-error-500 mt-1 dark:text-error-400;
  }

  .form-helper-text {
    @apply text-sm text-neutral-500 mt-1 dark:text-neutral-400;
  }

  /* ==========================================================================
   * BADGES & TAGS
   * Status indicators and labels
   * ========================================================================== */

  /* Base badge */
  .badge {
    @apply inline-flex items-center justify-center 
           px-2.5 py-0.5 
           text-xs font-medium 
           rounded-full;
  }

  .badge-sm {
    @apply px-2 py-0.5 text-[10px];
  }

  .badge-lg {
    @apply px-3 py-1 text-sm;
  }

  /* Badge variants */
  .badge-primary {
    @apply bg-primary-100 text-primary-700 
           dark:bg-primary-900/50 dark:text-primary-300;
  }

  .badge-secondary {
    @apply bg-secondary-100 text-secondary-700 
           dark:bg-secondary-900/50 dark:text-secondary-300;
  }

  .badge-success {
    @apply bg-success-100 text-success-700 
           dark:bg-success-900/50 dark:text-success-300;
  }

  .badge-warning {
    @apply bg-warning-100 text-warning-700 
           dark:bg-warning-900/50 dark:text-warning-300;
  }

  .badge-error {
    @apply bg-error-100 text-error-700 
           dark:bg-error-900/50 dark:text-error-300;
  }

  .badge-neutral {
    @apply bg-neutral-100 text-neutral-700 
           dark:bg-neutral-700 dark:text-neutral-300;
  }

  /* Pill badge (for counts) */
  .badge-pill {
    @apply rounded-lg px-2;
  }

  /* Dot indicator */
  .badge-dot {
    @apply w-2 h-2 rounded-full p-0;
  }

  .badge-dot-success {
    @apply bg-success-500;
  }

  .badge-dot-warning {
    @apply bg-warning-500;
  }

  .badge-dot-error {
    @apply bg-error-500;
  }

  /* ==========================================================================
   * ALERTS & NOTIFICATIONS
   * Contextual feedback messages
   * ========================================================================== */

  /* Base alert */
  .alert {
    @apply flex items-start gap-3 
           p-4 rounded-lg 
           text-sm;
  }

  .alert-icon {
    @apply flex-shrink-0 w-5 h-5 mt-0.5;
  }

  .alert-content {
    @apply flex-1;
  }

  .alert-title {
    @apply font-semibold mb-1;
  }

  .alert-dismiss {
    @apply flex-shrink-0 -mr-1.5 -mt-1.5 p-1.5 rounded-lg 
           hover:bg-black/5 dark:hover:bg-white/10 
           transition-colors;
  }

  /* Alert variants */
  .alert-info {
    @apply bg-primary-50 text-primary-800 border border-primary-200
           dark:bg-primary-950 dark:text-primary-200 dark:border-primary-800;
  }

  .alert-success {
    @apply bg-success-50 text-success-800 border border-success-200
           dark:bg-success-950 dark:text-success-200 dark:border-success-800;
  }

  .alert-warning {
    @apply bg-warning-50 text-warning-800 border border-warning-200
           dark:bg-warning-950 dark:text-warning-200 dark:border-warning-800;
  }

  .alert-error {
    @apply bg-error-50 text-error-800 border border-error-200
           dark:bg-error-950 dark:text-error-200 dark:border-error-800;
  }

  /* ==========================================================================
   * AVATARS
   * User profile pictures and placeholders
   * ========================================================================== */

  .avatar {
    @apply relative inline-flex items-center justify-center 
           rounded-full bg-neutral-200 text-neutral-600 font-medium
           dark:bg-neutral-700 dark:text-neutral-300
           overflow-hidden;
  }

  .avatar-xs {
    @apply w-6 h-6 text-xs;
  }

  .avatar-sm {
    @apply w-8 h-8 text-sm;
  }

  .avatar-md {
    @apply w-10 h-10 text-base;
  }

  .avatar-lg {
    @apply w-12 h-12 text-lg;
  }

  .avatar-xl {
    @apply w-16 h-16 text-xl;
  }

  .avatar-2xl {
    @apply w-24 h-24 text-3xl;
  }

  .avatar img {
    @apply w-full h-full object-cover;
  }

  /* Avatar status indicator */
  .avatar-status {
    @apply absolute bottom-0 right-0 block rounded-full ring-2 ring-white dark:ring-neutral-800;
  }

  .avatar-status-online {
    @apply avatar-status w-3 h-3 bg-success-500;
  }

  .avatar-status-offline {
    @apply avatar-status w-3 h-3 bg-neutral-400;
  }

  .avatar-status-busy {
    @apply avatar-status w-3 h-3 bg-error-500;
  }

  /* Avatar group */
  .avatar-group {
    @apply flex -space-x-2;
  }

  .avatar-group .avatar {
    @apply ring-2 ring-white dark:ring-neutral-800;
  }

  /* ==========================================================================
   * MODALS & DIALOGS
   * Overlay containers for focused content
   * ========================================================================== */

  .modal-overlay {
    @apply fixed inset-0 z-50 
           bg-black/50 backdrop-blur-sm
           flex items-center justify-center p-4;
  }

  .modal {
    @apply bg-white rounded-2xl shadow-xl 
           max-w-lg w-full max-h-[90vh] 
           overflow-hidden
           dark:bg-neutral-800;
  }

  .modal-sm {
    @apply max-w-sm;
  }

  .modal-lg {
    @apply max-w-2xl;
  }

  .modal-xl {
    @apply max-w-4xl;
  }

  .modal-fullscreen {
    @apply max-w-full h-full rounded-none;
  }

  .modal-header {
    @apply flex items-center justify-between 
           px-6 py-4 
           border-b border-neutral-200 
           dark:border-neutral-700;
  }

  .modal-title {
    @apply text-lg font-semibold text-neutral-900 dark:text-neutral-100;
  }

  .modal-close {
    @apply p-2 -mr-2 rounded-lg text-neutral-500 
           hover:bg-neutral-100 hover:text-neutral-700
           dark:hover:bg-neutral-700 dark:hover:text-neutral-300
           transition-colors;
  }

  .modal-body {
    @apply px-6 py-4 overflow-y-auto;
  }

  .modal-footer {
    @apply flex items-center justify-end gap-3 
           px-6 py-4 
           border-t border-neutral-200 
           bg-neutral-50
           dark:bg-neutral-900 dark:border-neutral-700;
  }

  /* ==========================================================================
   * TABLES
   * Data display tables
   * ========================================================================== */

  .table-container {
    @apply overflow-x-auto rounded-lg border border-neutral-200 
           dark:border-neutral-700;
  }

  .table {
    @apply w-full text-sm text-left;
  }

  .table thead {
    @apply bg-neutral-50 text-neutral-700 uppercase text-xs tracking-wider
           dark:bg-neutral-800 dark:text-neutral-400;
  }

  .table th {
    @apply px-4 py-3 font-semibold whitespace-nowrap;
  }

  .table td {
    @apply px-4 py-3 whitespace-nowrap;
  }

  .table tbody tr {
    @apply border-t border-neutral-200 bg-white
           dark:border-neutral-700 dark:bg-neutral-800;
  }

  .table-hover tbody tr {
    @apply hover:bg-neutral-50 dark:hover:bg-neutral-700/50 transition-colors;
  }

  .table-striped tbody tr:nth-child(even) {
    @apply bg-neutral-50 dark:bg-neutral-700/30;
  }

  /* ==========================================================================
   * DROPDOWN MENUS
   * Contextual action menus
   * ========================================================================== */

  .dropdown-menu {
    @apply absolute z-50 
           mt-2 py-1 
           bg-white rounded-lg shadow-lg 
           border border-neutral-200 
           min-w-[160px]
           dark:bg-neutral-800 dark:border-neutral-700;
  }

  .dropdown-item {
    @apply flex items-center gap-3 
           px-4 py-2 text-sm text-neutral-700 
           hover:bg-neutral-100 
           transition-colors cursor-pointer
           dark:text-neutral-300 dark:hover:bg-neutral-700;
  }

  .dropdown-item-active {
    @apply bg-primary-50 text-primary-700
           dark:bg-primary-900/50 dark:text-primary-300;
  }

  .dropdown-item-danger {
    @apply text-error-600 hover:bg-error-50
           dark:text-error-400 dark:hover:bg-error-900/50;
  }

  .dropdown-divider {
    @apply my-1 border-t border-neutral-200 dark:border-neutral-700;
  }

  .dropdown-header {
    @apply px-4 py-2 text-xs font-semibold text-neutral-500 uppercase tracking-wider
           dark:text-neutral-400;
  }

  /* ==========================================================================
   * TOOLTIPS
   * Contextual information on hover
   * ========================================================================== */

  .tooltip {
    @apply absolute z-50 
           px-2.5 py-1.5 
           text-xs font-medium text-white 
           bg-neutral-900 rounded-lg 
           whitespace-nowrap
           dark:bg-neutral-700;
  }

  .tooltip-arrow {
    @apply absolute w-2 h-2 bg-neutral-900 rotate-45 dark:bg-neutral-700;
  }

  /* ==========================================================================
   * TABS
   * Tabbed navigation
   * ========================================================================== */

  .tabs {
    @apply flex border-b border-neutral-200 dark:border-neutral-700;
  }

  .tabs-pills {
    @apply flex gap-2 p-1 bg-neutral-100 rounded-lg dark:bg-neutral-800 border-0;
  }

  .tab {
    @apply px-4 py-2.5 text-sm font-medium 
           text-neutral-600 
           border-b-2 border-transparent 
           hover:text-neutral-900 hover:border-neutral-300
           transition-colors
           dark:text-neutral-400 dark:hover:text-neutral-200 dark:hover:border-neutral-600;
  }

  .tab-active {
    @apply text-primary-600 border-primary-600
           dark:text-primary-400 dark:border-primary-400;
  }

  .tabs-pills .tab {
    @apply border-0 rounded-md;
  }

  .tabs-pills .tab-active {
    @apply bg-white text-primary-600 shadow-sm
           dark:bg-neutral-700 dark:text-primary-400;
  }

  /* ==========================================================================
   * PROGRESS INDICATORS
   * Visual progress feedback
   * ========================================================================== */

  .progress-bar {
    @apply w-full h-2 bg-neutral-200 rounded-full overflow-hidden
           dark:bg-neutral-700;
  }

  .progress-bar-fill {
    @apply h-full bg-primary-500 rounded-full transition-all duration-500;
  }

  .progress-bar-success .progress-bar-fill {
    @apply bg-success-500;
  }

  .progress-bar-warning .progress-bar-fill {
    @apply bg-warning-500;
  }

  .progress-bar-error .progress-bar-fill {
    @apply bg-error-500;
  }

  /* Steps/Stepper */
  .stepper {
    @apply flex items-center justify-between;
  }

  .stepper-step {
    @apply flex items-center gap-3;
  }

  .stepper-number {
    @apply flex items-center justify-center 
           w-8 h-8 rounded-full 
           text-sm font-semibold
           bg-neutral-200 text-neutral-600
           dark:bg-neutral-700 dark:text-neutral-400;
  }

  .stepper-step-active .stepper-number {
    @apply bg-primary-600 text-white
           dark:bg-primary-500;
  }

  .stepper-step-completed .stepper-number {
    @apply bg-success-500 text-white;
  }

  .stepper-label {
    @apply text-sm font-medium text-neutral-600 dark:text-neutral-400;
  }

  .stepper-step-active .stepper-label {
    @apply text-primary-600 dark:text-primary-400;
  }

  .stepper-line {
    @apply flex-1 h-0.5 bg-neutral-200 mx-4 dark:bg-neutral-700;
  }

  .stepper-line-completed {
    @apply bg-success-500;
  }

  /* ==========================================================================
   * SKELETON LOADERS
   * Loading placeholders
   * ========================================================================== */

  .skeleton {
    @apply animate-pulse bg-neutral-200 rounded dark:bg-neutral-700;
  }

  .skeleton-text {
    @apply h-4 rounded;
  }

  .skeleton-text-sm {
    @apply h-3 rounded;
  }

  .skeleton-text-lg {
    @apply h-5 rounded;
  }

  .skeleton-circle {
    @apply rounded-full;
  }

  .skeleton-card {
    @apply h-48 rounded-xl;
  }

  /* Shimmer effect */
  .skeleton-shimmer {
    @apply relative overflow-hidden;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
    background-size: 200% 100%;
    animation: shimmer 2s linear infinite;
  }

  /* ==========================================================================
   * STAR RATINGS
   * Rating display and input
   * ========================================================================== */

  .rating {
    @apply flex items-center gap-1;
  }

  .rating-star {
    @apply w-5 h-5 text-warning-400;
  }

  .rating-star-empty {
    @apply text-neutral-300 dark:text-neutral-600;
  }

  .rating-star-half {
    @apply relative;
  }

  .rating-interactive .rating-star {
    @apply cursor-pointer transition-transform hover:scale-110;
  }

  /* ==========================================================================
   * PAGINATION
   * Page navigation controls
   * ========================================================================== */

  .pagination {
    @apply flex items-center gap-1;
  }

  .pagination-item {
    @apply flex items-center justify-center 
           w-10 h-10 
           text-sm font-medium 
           rounded-lg 
           text-neutral-600 
           hover:bg-neutral-100
           transition-colors
           dark:text-neutral-400 dark:hover:bg-neutral-800;
  }

  .pagination-item-active {
    @apply bg-primary-600 text-white hover:bg-primary-700
           dark:bg-primary-500 dark:hover:bg-primary-600;
  }

  .pagination-item-disabled {
    @apply opacity-50 cursor-not-allowed hover:bg-transparent
           dark:hover:bg-transparent;
  }

  .pagination-ellipsis {
    @apply flex items-center justify-center w-10 h-10 text-neutral-400;
  }
}
