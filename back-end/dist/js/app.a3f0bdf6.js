(function(){"use strict";var e={63:function(e,t,a){a.d(t,{getAuthInitPromise:function(){return nw}});var s=a(5130),i=a(6768);const n={id:"app",class:"min-h-screen flex flex-col"},o={class:"flex-1"};function r(e,t,a,s,r,l){const c=(0,i.g2)("AppHeader"),d=(0,i.g2)("router-view"),u=(0,i.g2)("AppFooter");return(0,i.uX)(),(0,i.CE)("div",n,[l.isPortalPage?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.Wv)(c,{key:0})),(0,i.Lk)("main",o,[(0,i.bF)(d)]),l.isPortalPage?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.Wv)(u,{key:1}))])}var l=a(4232);const c={class:"header"},d={class:"header-inner"},u={class:"header-nav"},m={class:"header-actions"},p={key:0,class:"hidden md:flex items-center gap-2"},h={key:1,class:"hidden md:flex items-center gap-2"},k={key:2,class:"hidden md:flex items-center gap-2"},g={class:"flex items-center justify-between p-4 border-b border-neutral-100"},v={class:"p-4 space-y-1"},b={class:"p-4 border-t border-neutral-100 space-y-3"};function f(e,t,a,s,n,o){const r=(0,i.g2)("router-link");return(0,i.uX)(),(0,i.CE)("header",c,[(0,i.Lk)("div",d,[(0,i.bF)(r,{to:"/",class:"header-logo"},{default:(0,i.k6)(()=>[...t[7]||(t[7]=[(0,i.Lk)("img",{src:"/images/logo/fixappliance-icon.svg",alt:"FixAppliance Logo",class:"h-8 w-auto"},null,-1),(0,i.Lk)("span",{class:"hidden sm:inline"},"FixAppliance",-1)])]),_:1}),(0,i.Lk)("nav",u,[(0,i.bF)(r,{to:"/",class:"header-nav-link","exact-active-class":"active"},{default:(0,i.k6)(()=>[...t[8]||(t[8]=[(0,i.eW)("Home",-1)])]),_:1}),(0,i.bF)(r,{to:"/book-technician",class:"header-nav-link"},{default:(0,i.k6)(()=>[...t[9]||(t[9]=[(0,i.eW)("Book a Technician",-1)])]),_:1}),(0,i.bF)(r,{to:"/about",class:"header-nav-link"},{default:(0,i.k6)(()=>[...t[10]||(t[10]=[(0,i.eW)("About Us",-1)])]),_:1}),(0,i.bF)(r,{to:"/contact",class:"header-nav-link"},{default:(0,i.k6)(()=>[...t[11]||(t[11]=[(0,i.eW)("Contact",-1)])]),_:1})]),(0,i.Lk)("div",m,[o.isUserAuthenticated?((0,i.uX)(),(0,i.CE)("div",p,[(0,i.bF)(r,{to:"/dashboard",class:"btn btn-ghost btn-sm"},{default:(0,i.k6)(()=>[...t[12]||(t[12]=[(0,i.eW)("Dashboard",-1)])]),_:1}),(0,i.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>o.handleUserLogout&&o.handleUserLogout(...e)),class:"btn btn-primary btn-sm"},"Logout")])):o.isTechnicianAuthenticated?((0,i.uX)(),(0,i.CE)("div",h,[(0,i.bF)(r,{to:"/technician-dashboard",class:"btn btn-ghost btn-sm"},{default:(0,i.k6)(()=>[...t[13]||(t[13]=[(0,i.eW)("Dashboard",-1)])]),_:1}),(0,i.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>o.handleTechnicianLogout&&o.handleTechnicianLogout(...e)),class:"btn btn-primary btn-sm"},"Logout")])):((0,i.uX)(),(0,i.CE)("div",k,[(0,i.bF)(r,{to:"/login",class:"btn btn-ghost btn-sm"},{default:(0,i.k6)(()=>[...t[14]||(t[14]=[(0,i.eW)("Login",-1)])]),_:1}),(0,i.bF)(r,{to:"/register",class:"btn btn-primary btn-sm"},{default:(0,i.k6)(()=>[...t[15]||(t[15]=[(0,i.eW)("Get Started",-1)])]),_:1})])),(0,i.Lk)("button",{type:"button",class:"btn-ghost btn-icon md:hidden","aria-label":"Toggle mobile menu",onClick:t[2]||(t[2]=(...e)=>o.toggleMobileMenu&&o.toggleMobileMenu(...e))},[...t[16]||(t[16]=[(0,i.Lk)("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)])])])]),(0,i.Lk)("div",{class:(0,l.C4)(["mobile-menu-overlay",{active:n.mobileMenuOpen}]),onClick:t[3]||(t[3]=(...e)=>o.closeMobileMenu&&o.closeMobileMenu(...e))},null,2),(0,i.Lk)("div",{class:(0,l.C4)(["mobile-menu",{active:n.mobileMenuOpen}])},[(0,i.Lk)("div",g,[t[18]||(t[18]=(0,i.Lk)("span",{class:"text-lg font-bold text-primary-600"},"FixAppliance",-1)),(0,i.Lk)("button",{type:"button",class:"btn-ghost btn-icon-sm","aria-label":"Close menu",onClick:t[4]||(t[4]=(...e)=>o.closeMobileMenu&&o.closeMobileMenu(...e))},[...t[17]||(t[17]=[(0,i.Lk)("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),(0,i.Lk)("nav",v,[(0,i.bF)(r,{to:"/",class:"block px-4 py-3 text-base font-medium text-neutral-900 rounded-lg hover:bg-neutral-50",onClick:o.closeMobileMenu},{default:(0,i.k6)(()=>[...t[19]||(t[19]=[(0,i.eW)("Home",-1)])]),_:1},8,["onClick"]),(0,i.bF)(r,{to:"/book-technician",class:"block px-4 py-3 text-base font-medium text-neutral-600 rounded-lg hover:bg-neutral-50",onClick:o.closeMobileMenu},{default:(0,i.k6)(()=>[...t[20]||(t[20]=[(0,i.eW)("Book a Technician",-1)])]),_:1},8,["onClick"]),(0,i.bF)(r,{to:"/about",class:"block px-4 py-3 text-base font-medium text-neutral-600 rounded-lg hover:bg-neutral-50",onClick:o.closeMobileMenu},{default:(0,i.k6)(()=>[...t[21]||(t[21]=[(0,i.eW)("About Us",-1)])]),_:1},8,["onClick"]),(0,i.bF)(r,{to:"/contact",class:"block px-4 py-3 text-base font-medium text-neutral-600 rounded-lg hover:bg-neutral-50",onClick:o.closeMobileMenu},{default:(0,i.k6)(()=>[...t[22]||(t[22]=[(0,i.eW)("Contact",-1)])]),_:1},8,["onClick"])]),(0,i.Lk)("div",b,[o.isUserAuthenticated?((0,i.uX)(),(0,i.CE)(i.FK,{key:0},[(0,i.bF)(r,{to:"/dashboard",class:"btn btn-outline w-full",onClick:o.closeMobileMenu},{default:(0,i.k6)(()=>[...t[23]||(t[23]=[(0,i.eW)("Dashboard",-1)])]),_:1},8,["onClick"]),(0,i.Lk)("button",{onClick:t[5]||(t[5]=(...e)=>o.handleUserLogout&&o.handleUserLogout(...e)),class:"btn btn-primary w-full"},"Logout")],64)):o.isTechnicianAuthenticated?((0,i.uX)(),(0,i.CE)(i.FK,{key:1},[(0,i.bF)(r,{to:"/technician-dashboard",class:"btn btn-outline w-full",onClick:o.closeMobileMenu},{default:(0,i.k6)(()=>[...t[24]||(t[24]=[(0,i.eW)("Dashboard",-1)])]),_:1},8,["onClick"]),(0,i.Lk)("button",{onClick:t[6]||(t[6]=(...e)=>o.handleTechnicianLogout&&o.handleTechnicianLogout(...e)),class:"btn btn-primary w-full"},"Logout")],64)):((0,i.uX)(),(0,i.CE)(i.FK,{key:2},[(0,i.bF)(r,{to:"/login",class:"btn btn-outline w-full",onClick:o.closeMobileMenu},{default:(0,i.k6)(()=>[...t[25]||(t[25]=[(0,i.eW)("Login",-1)])]),_:1},8,["onClick"]),(0,i.bF)(r,{to:"/register",class:"btn btn-primary w-full",onClick:o.closeMobileMenu},{default:(0,i.k6)(()=>[...t[26]||(t[26]=[(0,i.eW)("Get Started",-1)])]),_:1},8,["onClick"])],64))])],2)])}a(4114);var x=a(2261),y=a(4373);const L=y.A.create({baseURL:"/api",withCredentials:!0,headers:{"Content-Type":"application/json"}});L.interceptors.request.use(e=>e,e=>Promise.reject(e)),L.interceptors.response.use(e=>e,e=>{const t=e.response?.data?.message||"An error occurred";return Promise.reject({message:t,status:e.response?.status})});var w=L;const C={register:e=>w.post("/user/register",e),login:e=>w.post("/user/login",e),logout:()=>w.post("/user/logout"),getProfile:()=>w.get("/user/profile"),updateProfile:e=>w.put("/user/profile",e)};a(8111),a(1701);const A={request:e=>w.post("/user/booking/request",e),pay:(e,t=null)=>w.post("/user/booking/pay",{bookingID:e,transactionID:t}),cancel:e=>w.post("/user/booking/cancel",{bookingID:e}),rate:(e,t,a)=>w.post("/user/booking/rate",{bookingID:e,ratingScore:t,reviewText:a}),getPending:()=>w.get("/user/booking/pending"),getConfirmed:()=>w.get("/user/booking/confirmed"),getInProgress:()=>w.get("/user/booking/in-progress"),getCompleted:()=>w.get("/user/booking/completed"),getCancelled:()=>w.get("/user/booking/cancelled"),getAll:async()=>{const[e,t,a,s,i]=await Promise.all([w.get("/user/booking/pending"),w.get("/user/booking/confirmed"),w.get("/user/booking/in-progress"),w.get("/user/booking/completed"),w.get("/user/booking/cancelled")]),n=(e,t)=>({id:e.Booking_ID,scheduledDate:e["Scheduled Date"],scheduledTime:e["Scheduled Time"],price:e["Total Price"],applianceType:e["Appliance's Name (EN)"],applianceTypeAR:e["Appliance's Name (AR)"],description:e["Issue Description"],technicianName:e["Technician's First Name"]&&e["Technician's Last Name"]?`${e["Technician's First Name"]} ${e["Technician's Last Name"]}`:null,technicianPhone:e["Technician's Phone Number"],paymentStatus:e["Payment Status"],paymentMethod:e["Payment Method"],transactionId:e["Transaction ID"]||null,isPaid:"completed"===e["Payment Status"],rating:e["Rating Score"]||null,reviewText:e["Review Text"]||null,isRated:null!==e["Rating Score"]&&void 0!==e["Rating Score"],status:t,createdAt:e["Created At"]}),o=(e,t)=>(e||[]).map(e=>n(e,t));return{pending:o(e.data?.bookings,"pending"),confirmed:o(t.data?.bookings,"confirmed"),inProgress:o(a.data?.bookings,"in-progress"),completed:o(s.data?.bookings,"completed"),cancelled:o(i.data?.bookings,"cancelled")}}};const M={register:e=>w.post("/technician/register",e),login:e=>w.post("/technician/login",e),logout:()=>w.post("/technician/logout"),getProfile:()=>w.get("/technician/profile"),updateProfile:e=>w.put("/technician/profile",e),addSpecialty:(e,t=0,a=null)=>w.post("/technician/specialty",{applianceCategoryID:e,yearsOfExperience:t,certificateDate:a}),getSpecialties:()=>w.get("/technician/specialties"),removeSpecialty:e=>w.delete(`/technician/specialty/${e}`),addServiceArea:(e,t=1)=>w.post("/technician/service-area",{serviceAreaID:e,priority:t}),getServiceAreas:()=>w.get("/technician/service-areas"),removeServiceArea:e=>w.delete(`/technician/service-area/${e}`),getPendingBookings:()=>w.get("/technician/booking/get-pendings"),getActiveBookings:()=>w.get("/technician/booking/active"),getCompletedBookings:()=>w.get("/technician/booking/completed"),acceptBooking:e=>w.post("/technician/booking/accept",{bookingID:e}),declineBooking:e=>w.post("/technician/booking/decline",{bookingID:e}),startBooking:e=>w.post("/technician/booking/start",{bookingID:e}),completeBooking:e=>w.post("/technician/booking/complete",{bookingID:e}),getEarnings:()=>w.get("/technician/earnings")};const T={getCategories:()=>w.get("/appliances/categories"),getTypes:e=>w.get("/appliances/types",{params:{categoryId:e}})};const _={getAll:()=>w.get("/service-areas")};const B={submit:e=>w.post("/contact",e)};a(4603),a(7566),a(8721);const S={login:e=>w.post("/admin/login",e),logout:()=>w.post("/admin/logout"),addCategory:e=>w.post("/admin/categories",e,{headers:{"Content-Type":"multipart/form-data"}}),addApplianceType:(e,t)=>w.post(`/admin/categories/${e}/types`,t),updateTypePrice:(e,t)=>w.patch(`/admin/types/${e}/price`,t),getCompletedUnpaid:(e=7)=>w.get(`/admin/bookings/completed-unpaid?days=${e}`),getAcceptedIncomplete:(e=3)=>w.get(`/admin/bookings/accepted-incomplete?days=${e}`),getPaidOverdue:()=>w.get("/admin/bookings/paid-overdue"),getAllTechnicians:(e={})=>{const t=new URLSearchParams(e).toString();return w.get("/admin/technicians"+(t?`?${t}`:""))},getLowRatedTechnicians:(e=3)=>w.get(`/admin/technicians/low-rated?threshold=${e}`),getHighPerformers:(e=3)=>w.get(`/admin/technicians/high-performers?threshold=${e}`),getUnverifiedTechnicians:()=>w.get("/admin/technicians/unverified"),verifyTechnician:e=>w.patch(`/admin/technicians/${e}/verify`),revokeVerification:e=>w.patch(`/admin/technicians/${e}/revoke-verification`),deactivateTechnician:e=>w.patch(`/admin/technicians/${e}/deactivate`),activateTechnician:e=>w.patch(`/admin/technicians/${e}/activate`),getTechnicianDetails:e=>w.get(`/admin/technicians/${e}`),getFinancials:(e={})=>{const t=new URLSearchParams(e).toString();return w.get("/admin/financials"+(t?`?${t}`:""))},getUserDetails:e=>w.get(`/admin/users/${e}`)};const F=(0,x.nY)("auth",{state:()=>({user:null,isAuthenticated:!1,loading:!1,error:null}),getters:{currentUser:e=>e.user,isLoading:e=>e.loading},actions:{async register(e){this.loading=!0,this.error=null;try{const{data:t}=await C.register(e);return t}catch(t){throw this.error=t.message,t}finally{this.loading=!1}},async login(e){this.loading=!0,this.error=null;try{const{data:t}=await C.login(e);return this.user=t.user,this.isAuthenticated=!0,t}catch(t){throw this.error=t.message,t}finally{this.loading=!1}},async logout(){try{await C.logout()}finally{this.user=null,this.isAuthenticated=!1}},async fetchProfile(){this.loading=!0;try{const{data:e}=await C.getProfile();return this.user=e,this.isAuthenticated=!0,e}catch(e){throw this.isAuthenticated=!1,e}finally{this.loading=!1}},async updateProfile(e){this.loading=!0,this.error=null;try{const{data:t}=await C.updateProfile(e);return this.user={...this.user,...t},t}catch(t){throw this.error=t.message,t}finally{this.loading=!1}}}}),E=(0,x.nY)("technicianAuth",{state:()=>({technician:null,isAuthenticated:!1,loading:!1,error:null}),getters:{currentTechnician:e=>e.technician,isLoading:e=>e.loading},actions:{async register(e){this.loading=!0,this.error=null;try{const{data:t}=await M.register(e);return t}catch(t){throw this.error=t.message,t}finally{this.loading=!1}},async login(e){this.loading=!0,this.error=null;try{const{data:t}=await M.login(e);return this.technician=t.technician,this.isAuthenticated=!0,t}catch(t){throw this.error=t.message,t}finally{this.loading=!1}},async logout(){try{await M.logout()}finally{this.technician=null,this.isAuthenticated=!1}},async fetchProfile(){this.loading=!0;try{const{data:e}=await M.getProfile();return this.technician=e,this.isAuthenticated=!0,e}catch(e){throw this.isAuthenticated=!1,e}finally{this.loading=!1}},async updateProfile(e){this.loading=!0,this.error=null;try{const{data:t}=await M.updateProfile(e);return this.technician={...this.technician,...t},t}catch(t){throw this.error=t.message,t}finally{this.loading=!1}}}});var D={name:"AppHeader",data(){return{mobileMenuOpen:!1}},computed:{authStore(){return F()},technicianAuthStore(){return E()},isUserAuthenticated(){return this.authStore.isAuthenticated},isTechnicianAuthenticated(){return this.technicianAuthStore.isAuthenticated}},methods:{toggleMobileMenu(){this.mobileMenuOpen=!this.mobileMenuOpen},closeMobileMenu(){this.mobileMenuOpen=!1},async handleUserLogout(){try{await this.authStore.logout(),this.closeMobileMenu(),this.$router.push("/")}catch(e){console.error("Logout failed:",e)}},async handleTechnicianLogout(){try{await this.technicianAuthStore.logout(),this.closeMobileMenu(),this.$router.push("/")}catch(e){console.error("Logout failed:",e)}}}},P=a(1241);const X=(0,P.A)(D,[["render",f]]);var N=X;const V={class:"footer"},j={class:"container-wide"},R={class:"footer-main"},I={class:"footer-grid"},U={class:"footer-links"},$={class:"footer-links"},z={class:"footer-links"};function W(e,t,a,s,n,o){const r=(0,i.g2)("router-link");return(0,i.uX)(),(0,i.CE)("footer",V,[(0,i.Lk)("div",j,[(0,i.Lk)("div",R,[(0,i.Lk)("div",I,[t[13]||(t[13]=(0,i.Fv)('<div class="footer-brand"><div class="footer-logo"><img src="/images/logo/fixappliance-icon-white.svg" alt="FixAppliance Logo" class="h-8 w-auto mb-2"> FixAppliance </div><p class="footer-description"> Your trusted partner for appliance repairs in Lebanon. Book verified technicians to fix your appliances quickly and professionally. </p><div class="mt-6 space-y-3"><div class="flex items-center gap-3 text-sm text-neutral-400"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path></svg><span>+961 1 234 567</span></div><div class="flex items-center gap-3 text-sm text-neutral-400"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg><span>support@fixappliance.lb</span></div><div class="flex items-start gap-3 text-sm text-neutral-400"><svg class="w-5 h-5 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path></svg><span>Mount Lebanon, Lebanon</span></div></div></div>',1)),(0,i.Lk)("div",null,[t[6]||(t[6]=(0,i.Lk)("h3",{class:"footer-heading"},"Services",-1)),(0,i.Lk)("ul",U,[(0,i.Lk)("li",null,[(0,i.bF)(r,{to:"/book-technician",class:"footer-link"},{default:(0,i.k6)(()=>[...t[0]||(t[0]=[(0,i.eW)("Book a Technician",-1)])]),_:1})]),(0,i.Lk)("li",null,[(0,i.bF)(r,{to:"/book-technician",class:"footer-link"},{default:(0,i.k6)(()=>[...t[1]||(t[1]=[(0,i.eW)("Washing Machine Repair",-1)])]),_:1})]),(0,i.Lk)("li",null,[(0,i.bF)(r,{to:"/book-technician",class:"footer-link"},{default:(0,i.k6)(()=>[...t[2]||(t[2]=[(0,i.eW)("Refrigerator Repair",-1)])]),_:1})]),(0,i.Lk)("li",null,[(0,i.bF)(r,{to:"/book-technician",class:"footer-link"},{default:(0,i.k6)(()=>[...t[3]||(t[3]=[(0,i.eW)("AC Maintenance",-1)])]),_:1})]),(0,i.Lk)("li",null,[(0,i.bF)(r,{to:"/book-technician",class:"footer-link"},{default:(0,i.k6)(()=>[...t[4]||(t[4]=[(0,i.eW)("Oven & Stove Repair",-1)])]),_:1})]),(0,i.Lk)("li",null,[(0,i.bF)(r,{to:"/book-technician",class:"footer-link"},{default:(0,i.k6)(()=>[...t[5]||(t[5]=[(0,i.eW)("Dishwasher Repair",-1)])]),_:1})])])]),(0,i.Lk)("div",null,[t[8]||(t[8]=(0,i.Lk)("h3",{class:"footer-heading"},"Resources",-1)),(0,i.Lk)("ul",$,[(0,i.Lk)("li",null,[(0,i.bF)(r,{to:"/contact",class:"footer-link"},{default:(0,i.k6)(()=>[...t[7]||(t[7]=[(0,i.eW)("FAQ",-1)])]),_:1})])])]),(0,i.Lk)("div",null,[t[12]||(t[12]=(0,i.Lk)("h3",{class:"footer-heading"},"Company",-1)),(0,i.Lk)("ul",z,[(0,i.Lk)("li",null,[(0,i.bF)(r,{to:"/about",class:"footer-link"},{default:(0,i.k6)(()=>[...t[9]||(t[9]=[(0,i.eW)("About Us",-1)])]),_:1})]),(0,i.Lk)("li",null,[(0,i.bF)(r,{to:"/contact",class:"footer-link"},{default:(0,i.k6)(()=>[...t[10]||(t[10]=[(0,i.eW)("Contact",-1)])]),_:1})]),(0,i.Lk)("li",null,[(0,i.bF)(r,{to:"/technician-register",class:"footer-link"},{default:(0,i.k6)(()=>[...t[11]||(t[11]=[(0,i.eW)("Become a Technician",-1)])]),_:1})])])])])]),t[14]||(t[14]=(0,i.Fv)('<div class="footer-bottom"><div class="footer-bottom-inner container-wide"><p>© 2025 FixAppliance Lebanon. All rights reserved.</p><div class="footer-social"><a href="https://facebook.com/fixappliance" class="footer-social-link" aria-label="Facebook"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"></path></svg></a><a href="https://instagram.com/fixappliance" class="footer-social-link" aria-label="Instagram"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z"></path></svg></a><a href="https://wa.me/9611234567" class="footer-social-link" aria-label="WhatsApp"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"></path></svg></a><a href="https://linkedin.com/company/fixappliance" class="footer-social-link" aria-label="LinkedIn"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"></path></svg></a></div></div></div>',1))])])}var Q={name:"AppFooter"};const q=(0,P.A)(Q,[["render",W]]);var H=q;const O=(0,x.nY)("adminAuth",{state:()=>({admin:null,isAuthenticated:!1,loading:!1,error:null}),getters:{currentAdmin:e=>e.admin,isLoading:e=>e.loading},actions:{async login(e){this.loading=!0,this.error=null;try{const{data:t}=await S.login(e);return this.admin=t.admin,this.isAuthenticated=!0,t}catch(t){throw this.error=t.response?.data?.message||t.message,t}finally{this.loading=!1}},async logout(){this.loading=!0,this.error=null;try{await S.logout(),this.admin=null,this.isAuthenticated=!1}catch(e){throw this.error=e.response?.data?.message||e.message,e}finally{this.loading=!1}},initializeAuth(e){e&&(this.admin=e,this.isAuthenticated=!0)},clearAuth(){this.admin=null,this.isAuthenticated=!1,this.error=null}}});var J={name:"App",components:{AppHeader:N,AppFooter:H},computed:{isPortalPage(){const e=this.$route.path,t=F(),a=E(),s=O(),i=s.isAuthenticated&&e.startsWith("/admin/"),n=a.isAuthenticated&&(e.startsWith("/technician-dashboard")||e.startsWith("/technician/")&&!e.includes("/technician-login")&&!e.includes("/technician-register")),o=t.isAuthenticated&&("/dashboard"===e||e.startsWith("/my-bookings")||e.startsWith("/booking/")||"/profile"===e||"/book-technician"===e);return i||n||o}}};const K=(0,P.A)(J,[["render",r]]);var Y=K,G=a(8512);const Z={class:"main-content"},ee={class:"hero"},te={class:"hero-content"},ae={class:"hero-subtitle"},se={class:"flex flex-col sm:flex-row gap-4 justify-center"},ie={class:"section bg-white"},ne={class:"container-wide"},oe={key:0,class:"text-center py-12"},re={key:1,class:"grid-services"},le={class:"service-card-icon"},ce=["src","alt"],de={class:"service-card-title"},ue={class:"service-card-description"},me={key:2,class:"text-center py-12"},pe={class:"section bg-neutral-50"},he={class:"container-wide"},ke={class:"text-center mt-10"},ge={class:"section bg-white"},ve={class:"container-wide"},be={class:"flex flex-col md:flex-row items-center gap-12"},fe={class:"flex-1"},xe={class:"cta-section"},ye={class:"container-wide text-center"},Le={class:"flex flex-col sm:flex-row gap-4 justify-center"};function we(e,t,a,s,n,o){const r=(0,i.g2)("router-link");return(0,i.uX)(),(0,i.CE)("div",Z,[(0,i.Lk)("section",ee,[t[4]||(t[4]=(0,i.Lk)("div",{class:"hero-pattern"},null,-1)),(0,i.Lk)("div",te,[t[2]||(t[2]=(0,i.Lk)("h1",{class:"hero-title"},[(0,i.eW)(" Fix Your Appliances with"),(0,i.Lk)("br"),(0,i.Lk)("span",{class:"text-secondary-400"},"Trusted Technicians")],-1)),(0,i.Lk)("p",ae," Book verified technicians or learn to DIY with our troubleshooting guides. Serving homeowners across "+(0,l.v_)(o.serviceAreasText)+". ",1),(0,i.Lk)("div",se,[(0,i.bF)(r,{to:"/book-technician",class:"btn btn-secondary btn-lg shadow-secondary"},{default:(0,i.k6)(()=>[...t[0]||(t[0]=[(0,i.Lk)("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1),(0,i.eW)(" Book a Technician ",-1)])]),_:1}),(0,i.bF)(r,{to:"/register",class:"btn btn-white btn-lg"},{default:(0,i.k6)(()=>[...t[1]||(t[1]=[(0,i.Lk)("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})],-1),(0,i.eW)(" Create Free Account ",-1)])]),_:1})]),t[3]||(t[3]=(0,i.Fv)('<div class="flex flex-wrap justify-center gap-8 mt-12"><div class="text-center"><p class="text-3xl font-bold text-white">500+</p><p class="text-sm text-primary-200">Verified Technicians</p></div><div class="text-center"><p class="text-3xl font-bold text-white">10k+</p><p class="text-sm text-primary-200">Repairs Completed</p></div><div class="text-center"><p class="text-3xl font-bold text-white">4.8★</p><p class="text-sm text-primary-200">Average Rating</p></div><div class="text-center"><p class="text-3xl font-bold text-white">24/7</p><p class="text-sm text-primary-200">Support Available</p></div></div>',1))])]),(0,i.Lk)("section",ie,[(0,i.Lk)("div",ne,[t[8]||(t[8]=(0,i.Lk)("div",{class:"text-center mb-12"},[(0,i.Lk)("h2",{class:"h2 mb-4"},"Appliances We Service"),(0,i.Lk)("p",{class:"text-lg text-neutral-600 max-w-2xl mx-auto"}," From washing machines to air conditioners, our technicians are trained to handle all major appliances. ")],-1)),o.loadingCategories?((0,i.uX)(),(0,i.CE)("div",oe,[...t[5]||(t[5]=[(0,i.Lk)("div",{class:"spinner spinner-lg mx-auto"},null,-1),(0,i.Lk)("p",{class:"text-neutral-500 mt-4"},"Loading services...",-1)])])):o.applianceCategories.length>0?((0,i.uX)(),(0,i.CE)("div",re,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(o.applianceCategories,e=>((0,i.uX)(),(0,i.CE)("div",{key:e.id,class:"service-card"},[(0,i.Lk)("div",le,[(0,i.Lk)("img",{class:"w-8 h-8",src:"/images/appliance-categories/"+e.fileName,alt:e.name},null,8,ce)]),(0,i.Lk)("h3",de,(0,l.v_)(e.name),1),(0,i.Lk)("p",ue,(0,l.v_)(e.description||"Professional repair services"),1),(0,i.bF)(r,{to:"/book-technician",class:"btn btn-outline btn-sm mt-4"},{default:(0,i.k6)(()=>[...t[6]||(t[6]=[(0,i.eW)("Book Repair",-1)])]),_:1})]))),128))])):((0,i.uX)(),(0,i.CE)("div",me,[...t[7]||(t[7]=[(0,i.Lk)("p",{class:"text-neutral-500"},"Loading appliance categories...",-1)])]))])]),(0,i.Lk)("section",pe,[(0,i.Lk)("div",he,[t[10]||(t[10]=(0,i.Fv)('<div class="text-center mb-12"><h2 class="h2 mb-4">How It Works</h2><p class="text-lg text-neutral-600 max-w-2xl mx-auto"> Get your appliance fixed in three simple steps </p></div><div class="grid grid-cols-1 md:grid-cols-3 gap-8"><div class="text-center"><div class="w-16 h-16 mx-auto mb-6 bg-primary-600 text-white rounded-full flex items-center justify-center text-2xl font-bold"> 1 </div><h3 class="text-xl font-semibold text-neutral-900 mb-3">Book Online</h3><p class="text-neutral-600"> Select your appliance type, describe the issue, and choose a convenient time slot. </p></div><div class="text-center"><div class="w-16 h-16 mx-auto mb-6 bg-primary-600 text-white rounded-full flex items-center justify-center text-2xl font-bold"> 2 </div><h3 class="text-xl font-semibold text-neutral-900 mb-3">Get Matched</h3><p class="text-neutral-600"> A verified technician in your area accepts your request and comes to your location. </p></div><div class="text-center"><div class="w-16 h-16 mx-auto mb-6 bg-primary-600 text-white rounded-full flex items-center justify-center text-2xl font-bold"> 3 </div><h3 class="text-xl font-semibold text-neutral-900 mb-3">Problem Solved</h3><p class="text-neutral-600"> Your appliance is fixed, you pay securely, and rate your experience. </p></div></div>',2)),(0,i.Lk)("div",ke,[(0,i.bF)(r,{to:"/book-technician",class:"btn btn-secondary btn-lg"},{default:(0,i.k6)(()=>[...t[9]||(t[9]=[(0,i.eW)(" Book Your First Repair ",-1)])]),_:1})])])]),(0,i.Lk)("section",ge,[(0,i.Lk)("div",ve,[(0,i.Lk)("div",be,[(0,i.Lk)("div",fe,[t[12]||(t[12]=(0,i.Fv)('<span class="badge badge-secondary mb-4">Why FixAppliance</span><h2 class="h2 mb-4">Reliable Appliance Repairs You Can Trust</h2><p class="text-lg text-neutral-600 mb-6"> We connect you with verified, skilled technicians who can fix your appliances quickly and professionally. </p><ul class="space-y-3 mb-8"><li class="flex items-center gap-3 text-neutral-700"><svg class="w-5 h-5 text-success-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg> Verified and experienced technicians </li><li class="flex items-center gap-3 text-neutral-700"><svg class="w-5 h-5 text-success-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg> Transparent pricing with no hidden fees </li><li class="flex items-center gap-3 text-neutral-700"><svg class="w-5 h-5 text-success-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg> Easy online booking system </li><li class="flex items-center gap-3 text-neutral-700"><svg class="w-5 h-5 text-success-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg> Customer ratings and reviews </li></ul>',4)),(0,i.bF)(r,{to:"/book-technician",class:"btn btn-primary"},{default:(0,i.k6)(()=>[...t[11]||(t[11]=[(0,i.eW)(" Book a Technician ",-1),(0,i.Lk)("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 8l4 4m0 0l-4 4m4-4H3"})],-1)])]),_:1})]),t[13]||(t[13]=(0,i.Lk)("div",{class:"flex-1"},[(0,i.Lk)("img",{src:"/images/home/technician-at-work.jpg",alt:"Professional Technician at Work",class:"w-full max-w-md mx-auto"})],-1))])])]),t[18]||(t[18]=(0,i.Fv)('<section class="section bg-neutral-50"><div class="container-wide"><div class="text-center mb-12"><h2 class="h2 mb-4">What Our Customers Say</h2><p class="text-lg text-neutral-600 max-w-2xl mx-auto"> Join thousands of satisfied homeowners across Lebanon </p></div><div class="grid grid-cols-1 md:grid-cols-3 gap-8"><div class="card"><div class="card-body"><div class="flex items-center gap-1 mb-4"><svg class="star star-filled" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg><svg class="star star-filled" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg><svg class="star star-filled" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg><svg class="star star-filled" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg><svg class="star star-filled" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg></div><p class="text-neutral-600 mb-4"> &quot;The technician arrived on time and fixed my washing machine in under an hour. Very professional service!&quot; </p><div class="flex items-center gap-3"><span class="avatar avatar-sm bg-primary-100 text-primary-600">SH</span><div><p class="text-sm font-medium text-neutral-900">Sara Haddad</p><p class="text-xs text-neutral-500">Beirut</p></div></div></div></div><div class="card"><div class="card-body"><div class="flex items-center gap-1 mb-4"><svg class="star star-filled" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg><svg class="star star-filled" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg><svg class="star star-filled" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg><svg class="star star-filled" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg><svg class="star star-filled" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg></div><p class="text-neutral-600 mb-4"> &quot;The technician was very knowledgeable about my AC system. He fixed it quickly and explained what was wrong!&quot; </p><div class="flex items-center gap-3"><span class="avatar avatar-sm bg-primary-100 text-primary-600">MK</span><div><p class="text-sm font-medium text-neutral-900">Marwan Khalil</p><p class="text-xs text-neutral-500">Jounieh</p></div></div></div></div><div class="card"><div class="card-body"><div class="flex items-center gap-1 mb-4"><svg class="star star-filled" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg><svg class="star star-filled" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg><svg class="star star-filled" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg><svg class="star star-filled" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg><svg class="star star-filled" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg></div><p class="text-neutral-600 mb-4"> &quot;Finally a reliable service for appliance repairs! The booking process was super easy.&quot; </p><div class="flex items-center gap-3"><span class="avatar avatar-sm bg-primary-100 text-primary-600">RA</span><div><p class="text-sm font-medium text-neutral-900">Rima Abbas</p><p class="text-xs text-neutral-500">Baabda</p></div></div></div></div></div></div></section>',1)),(0,i.Lk)("section",xe,[(0,i.Lk)("div",ye,[t[16]||(t[16]=(0,i.Lk)("h2",{class:"text-3xl md:text-4xl font-bold mb-4"},"Ready to Get Started?",-1)),t[17]||(t[17]=(0,i.Lk)("p",{class:"text-lg text-white/90 max-w-2xl mx-auto mb-8"}," Book a verified technician now and get your appliance fixed quickly. ",-1)),(0,i.Lk)("div",Le,[(0,i.bF)(r,{to:"/book-technician",class:"btn btn-white btn-lg"},{default:(0,i.k6)(()=>[...t[14]||(t[14]=[(0,i.eW)(" Book a Technician ",-1)])]),_:1}),(0,i.bF)(r,{to:"/register",class:"btn btn-lg bg-white/10 text-white border-2 border-white/30 hover:bg-white/20"},{default:(0,i.k6)(()=>[...t[15]||(t[15]=[(0,i.eW)(" Create Free Account ",-1)])]),_:1})])])])])}a(2489),a(7642),a(8004),a(3853),a(5876),a(2475),a(5024),a(1698);const Ce=(0,x.nY)("appliance",{state:()=>({categories:[],types:[],selectedCategoryId:null,loading:!1,error:null}),getters:{filteredTypes:e=>e.selectedCategoryId?e.types.filter(t=>t.categoryId===e.selectedCategoryId):e.types},actions:{async fetchCategories(){this.loading=!0;try{const{data:e}=await T.getCategories();this.categories=(e.data||[]).map(e=>({id:e.Category_ID,name:e.NameEN,nameAR:e.NameAR,isActive:e.isActive,fileName:e.logoFileName}))}catch(e){this.error=e.message}finally{this.loading=!1}},async fetchTypes(e=null){this.loading=!0,this.selectedCategoryId=e;try{const{data:t}=await T.getTypes(e);this.types=(t.data||[]).map(e=>({id:e.Appliance_Type_ID,categoryId:e.Category_ID,name:e.nameEN,nameAR:e.nameAR,basePrice:e.Base_Price,avgRepairTime:e.Average_Repair_Time_Min,description:e.DescriptionEN,descriptionAR:e.DescriptionAR,isActive:e.isActive,logoFileName:e.logoFileName}))}catch(t){this.error=t.message}finally{this.loading=!1}}}}),Ae=(0,x.nY)("serviceArea",{state:()=>({areas:[],loading:!1,error:null}),actions:{async fetchAll(){this.loading=!0;try{const{data:e}=await _.getAll(),t=e?.data||[];this.areas=t.map(e=>({id:e.Area_ID,name:e.NameEN,nameAr:e.NameAR,region:e.Region,isActive:e.isActive}))}catch(e){this.error=e.message}finally{this.loading=!1}}}});var Me={name:"HomeView",data(){return{applianceStore:Ce(),serviceAreaStore:Ae()}},computed:{applianceCategories(){return this.applianceStore.categories.filter(e=>e.isActive)},serviceAreas(){return this.serviceAreaStore.areas.filter(e=>e.isActive)},loadingCategories(){return this.applianceStore.loading},loadingServiceAreas(){return this.serviceAreaStore.loading},serviceAreasText(){if(0===this.serviceAreas.length)return"Mount Lebanon";const e=[...new Set(this.serviceAreas.map(e=>e.region))].filter(Boolean);if(e.length>0)return e.join(", ");const t=this.serviceAreas.slice(0,3).map(e=>e.name);return t.length>0?t.join(", "):"Mount Lebanon"}},async mounted(){await Promise.all([this.applianceStore.fetchCategories(),this.serviceAreaStore.fetchAll()])}};const Te=(0,P.A)(Me,[["render",we]]);var _e=Te;const Be={class:"main-content"},Se={class:"section bg-white"},Fe={class:"container-wide"},Ee={class:"grid gap-12 items-center"},De={key:0,class:"py-4"},Pe={key:1,class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3"},Xe={key:2,class:"grid grid-cols-2 gap-3"},Ne={class:"cta-section"},Ve={class:"container-wide text-center"},je={class:"flex flex-col sm:flex-row gap-4 justify-center"};function Re(e,t,a,s,n,o){const r=(0,i.g2)("router-link");return(0,i.uX)(),(0,i.CE)("div",Be,[t[11]||(t[11]=(0,i.Fv)('<section class="hero"><div class="hero-pattern"></div><div class="hero-content"><span class="badge badge-secondary mb-4">About Us</span><h1 class="hero-title">Connecting You With<br>Trusted Technicians</h1><p class="hero-subtitle"> FixAppliance is Lebanon&#39;s premier platform for appliance repairs, connecting homeowners with verified technicians across Mount Lebanon. </p></div></section><section class="section bg-white"><div class="container-wide"><div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center"><div><span class="badge badge-primary mb-4">Our Story</span><h2 class="h2 mb-6">Making Appliance Repair Simple</h2><div class="space-y-4 text-neutral-600"><p> We started FixAppliance with a simple mission: to make finding reliable appliance repair technicians as easy as possible for Lebanese homeowners. </p><p> Too often, people struggle to find qualified technicians when their appliances break down. They rely on word of mouth, uncertain about quality and pricing. We&#39;re changing that. </p><p> Our platform connects you with verified, skilled technicians in your area. Every technician on our platform is vetted for quality and professionalism, giving you peace of mind when you book. </p></div></div><div><img src="/images/about/team-photo.jpg" alt="FixAppliance Team" class="rounded-2xl shadow-medium w-full"></div></div></div></section><section class="section bg-neutral-50"><div class="container-wide"><div class="text-center mb-12"><span class="badge badge-primary mb-4">Our Values</span><h2 class="h2 mb-4">What We Stand For</h2><p class="text-lg text-neutral-600 max-w-2xl mx-auto"> These principles guide everything we do at FixAppliance </p></div><div class="flex justify-center items-center flex-col lg:flex-row"><div class="text-center w-80 mb-10 lg:mr-40"><div class="icon-box icon-box-lg icon-box-primary mx-auto mb-6"><svg class="w-8 h-8 text-primary-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"></path></svg></div><h3 class="text-xl font-semibold text-neutral-900 mb-3">Trust &amp; Reliability</h3><p class="text-neutral-600"> Every technician is verified and rated by real customers. We ensure you always get quality service. </p></div><div class="text-center w-80"><div class="icon-box icon-box-lg icon-box-secondary mx-auto mb-6"><svg class="w-8 h-8 text-secondary-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path></svg></div><h3 class="text-xl font-semibold text-neutral-900 mb-3">Transparency</h3><p class="text-neutral-600"> Clear pricing, honest reviews, and no hidden fees. You always know what to expect. </p></div></div></div></section><section class="section bg-primary-700 text-white"><div class="container-wide"><div class="grid grid-cols-2 md:grid-cols-4 gap-8 text-center"><div><p class="!text-neutral-300 text-4xl md:text-5xl font-bold mb-2">500+</p><p class="text-primary-200">Verified Technicians</p></div><div><p class="!text-neutral-300 text-4xl md:text-5xl font-bold mb-2">10,000+</p><p class="text-primary-200">Repairs Completed</p></div><div><p class="!text-neutral-300 text-4xl md:text-5xl font-bold mb-2">4.8★</p><p class="text-primary-200">Average Rating</p></div><div><p class="!text-neutral-300 text-4xl md:text-5xl font-bold mb-2">100+</p><p class="text-primary-200">DIY Guides</p></div></div></div></section>',4)),(0,i.Lk)("section",Se,[(0,i.Lk)("div",Fe,[(0,i.Lk)("div",Ee,[(0,i.Lk)("div",null,[t[3]||(t[3]=(0,i.Lk)("span",{class:"badge badge-secondary mb-4"},"Service Area",-1)),t[4]||(t[4]=(0,i.Lk)("h2",{class:"h2 mb-6"},"Currently Serving Mount Lebanon",-1)),t[5]||(t[5]=(0,i.Lk)("p",{class:"text-neutral-600 mb-6"}," We're currently focused on providing the best service to homeowners in Mount Lebanon. Our network of technicians covers: ",-1)),o.loadingServiceAreas?((0,i.uX)(),(0,i.CE)("div",De,[...t[0]||(t[0]=[(0,i.Lk)("div",{class:"spinner spinner-md"},null,-1),(0,i.Lk)("p",{class:"text-neutral-500 mt-2"},"Loading service areas...",-1)])])):o.serviceAreas.length>0?((0,i.uX)(),(0,i.CE)("div",Pe,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(o.serviceAreas,e=>((0,i.uX)(),(0,i.CE)("div",{key:e.id,class:"flex items-center gap-2 text-neutral-700"},[t[1]||(t[1]=(0,i.Lk)("svg",{class:"w-5 h-5 text-success-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)),(0,i.Lk)("span",null,(0,l.v_)(e.name),1)]))),128))])):((0,i.uX)(),(0,i.CE)("div",Xe,[...t[2]||(t[2]=[(0,i.Lk)("div",{class:"flex items-center gap-2 text-neutral-700"},[(0,i.Lk)("svg",{class:"w-5 h-5 text-success-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})]),(0,i.Lk)("span",null,"Mount Lebanon")],-1)])])),t[6]||(t[6]=(0,i.Lk)("p",{class:"text-sm text-neutral-500 mt-6"}," We're actively expanding to serve more areas across Lebanon. Stay tuned for updates! ",-1))])])])]),(0,i.Lk)("section",Ne,[(0,i.Lk)("div",Ve,[t[9]||(t[9]=(0,i.Lk)("h2",{class:"text-2xl md:text-3xl font-bold mb-4"},"Ready to Get Started?",-1)),t[10]||(t[10]=(0,i.Lk)("p",{class:"text-lg text-white/90 max-w-xl mx-auto mb-8"}," Join thousands of satisfied homeowners or become a verified technician on our platform. ",-1)),(0,i.Lk)("div",je,[(0,i.bF)(r,{to:"/book-technician",class:"btn btn-white btn-lg"},{default:(0,i.k6)(()=>[...t[7]||(t[7]=[(0,i.eW)(" Book a Technician ",-1)])]),_:1}),(0,i.bF)(r,{to:"/technician-register",class:"btn btn-lg bg-white/10 text-white border-2 border-white/30 hover:bg-white/20"},{default:(0,i.k6)(()=>[...t[8]||(t[8]=[(0,i.eW)(" Join as Technician ",-1)])]),_:1})])])])])}var Ie={name:"AboutView",data(){return{serviceAreaStore:null}},computed:{serviceAreas(){return this.serviceAreaStore?.areas?.filter(e=>!1!==e.isActive)||[]},loadingServiceAreas(){return this.serviceAreaStore?.loading??!0}},mounted(){this.serviceAreaStore=Ae(),this.fetchServiceAreas()},methods:{async fetchServiceAreas(){await this.serviceAreaStore.fetchAll()}}};const Ue=(0,P.A)(Ie,[["render",Re]]);var $e=Ue;const ze={class:"main-content"},We={class:"page-header"},Qe={class:"container-wide"},qe={class:"breadcrumb mb-4"},He={class:"section-sm"},Oe={class:"container-wide"},Je={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},Ke={class:"lg:col-span-2"},Ye={class:"card"},Ge={class:"card-body"},Ze={class:"form-row"},et={class:"form-group"},tt={class:"form-group"},at={class:"form-group"},st={class:"input-group"},it={class:"form-group"},nt={class:"form-group"},ot=["disabled"],rt={class:"space-y-6"},lt={class:"card bg-primary-50 border-primary-100"},ct={class:"card-body text-center"};function dt(e,t,a,n,o,r){const c=(0,i.g2)("router-link"),d=(0,i.g2)("AlertMessage");return(0,i.uX)(),(0,i.CE)("div",ze,[(0,i.Lk)("div",We,[(0,i.Lk)("div",Qe,[(0,i.Lk)("nav",qe,[(0,i.bF)(c,{to:"/",class:"breadcrumb-link"},{default:(0,i.k6)(()=>[...t[8]||(t[8]=[(0,i.eW)("Home",-1)])]),_:1}),t[9]||(t[9]=(0,i.Lk)("span",{class:"breadcrumb-separator"},"/",-1)),t[10]||(t[10]=(0,i.Lk)("span",{class:"breadcrumb-current"},"Contact Us",-1))]),t[11]||(t[11]=(0,i.Lk)("h1",{class:"page-title"},"Contact Us",-1)),t[12]||(t[12]=(0,i.Lk)("p",{class:"page-description"},"We're here to help with any questions or concerns",-1))])]),(0,i.Lk)("section",He,[(0,i.Lk)("div",Oe,[(0,i.Lk)("div",Je,[(0,i.Lk)("div",Ke,[(0,i.Lk)("div",Ye,[t[21]||(t[21]=(0,i.Lk)("div",{class:"card-header"},[(0,i.Lk)("h3",{class:"font-semibold text-neutral-900"},"Send us a Message")],-1)),(0,i.Lk)("div",Ge,[(0,i.Lk)("form",{onSubmit:t[7]||(t[7]=(0,s.D$)((...e)=>r.handleSubmit&&r.handleSubmit(...e),["prevent"])),class:"space-y-5",ref:"formTop"},[o.success?((0,i.uX)(),(0,i.Wv)(d,{key:0,type:"success",message:"Your message has been sent successfully!",onDismiss:t[0]||(t[0]=e=>o.success=!1)})):(0,i.Q3)("",!0),o.error?((0,i.uX)(),(0,i.Wv)(d,{key:1,type:"error",message:o.error,onDismiss:t[1]||(t[1]=e=>o.error=null)},null,8,["message"])):(0,i.Q3)("",!0),(0,i.Lk)("div",Ze,[(0,i.Lk)("div",et,[t[13]||(t[13]=(0,i.Lk)("label",{for:"contact-name",class:"form-label form-label-required"},"Full Name",-1)),(0,i.bo)((0,i.Lk)("input",{type:"text",id:"contact-name","onUpdate:modelValue":t[2]||(t[2]=e=>o.form.name=e),class:"form-input",placeholder:"Your name",required:""},null,512),[[s.Jo,o.form.name]])]),(0,i.Lk)("div",tt,[t[14]||(t[14]=(0,i.Lk)("label",{for:"contact-email",class:"form-label form-label-required"},"Email Address",-1)),(0,i.bo)((0,i.Lk)("input",{type:"email",id:"contact-email","onUpdate:modelValue":t[3]||(t[3]=e=>o.form.email=e),class:"form-input",placeholder:"name@example.com",required:""},null,512),[[s.Jo,o.form.email]])])]),(0,i.Lk)("div",at,[t[16]||(t[16]=(0,i.Lk)("label",{for:"contact-phone",class:"form-label"},"Phone Number (Optional)",-1)),(0,i.Lk)("div",st,[t[15]||(t[15]=(0,i.Lk)("span",{class:"input-group-text"},"+961",-1)),(0,i.bo)((0,i.Lk)("input",{type:"tel",id:"contact-phone","onUpdate:modelValue":t[4]||(t[4]=e=>o.form.phone=e),class:"form-input",placeholder:"71 234 567"},null,512),[[s.Jo,o.form.phone]])])]),(0,i.Lk)("div",it,[t[18]||(t[18]=(0,i.Lk)("label",{for:"contact-subject",class:"form-label form-label-required"},"Subject",-1)),(0,i.bo)((0,i.Lk)("select",{id:"contact-subject","onUpdate:modelValue":t[5]||(t[5]=e=>o.form.subject=e),class:"form-select",required:""},[...t[17]||(t[17]=[(0,i.Fv)('<option value="">Select a topic...</option><option value="booking">Booking Issue</option><option value="payment">Payment Problem</option><option value="technician">Technician Inquiry</option><option value="feedback">Feedback</option><option value="partnership">Partnership</option><option value="other">Other</option>',7)])],512),[[s.u1,o.form.subject]])]),(0,i.Lk)("div",nt,[t[19]||(t[19]=(0,i.Lk)("label",{for:"contact-message",class:"form-label form-label-required"},"Message",-1)),(0,i.bo)((0,i.Lk)("textarea",{id:"contact-message","onUpdate:modelValue":t[6]||(t[6]=e=>o.form.message=e),class:"form-textarea",rows:"6",placeholder:"How can we help you?",required:""},null,512),[[s.Jo,o.form.message]])]),(0,i.Lk)("button",{type:"submit",class:"btn btn-primary",disabled:o.loading},[t[20]||(t[20]=(0,i.Lk)("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})],-1)),(0,i.eW)(" "+(0,l.v_)(o.loading?"Sending...":"Send Message"),1)],8,ot)],544)])])]),(0,i.Lk)("div",rt,[t[25]||(t[25]=(0,i.Fv)('<div class="card"><div class="card-body"><div class="flex items-start gap-4"><div class="icon-box icon-box-primary"><svg class="w-6 h-6 text-primary-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path></svg></div><div><h4 class="font-semibold text-neutral-900 mb-1">Phone</h4><p class="text-neutral-600">+961 1 234 567</p><p class="text-sm text-neutral-500 mt-1">Mon-Fri 9am-6pm</p></div></div></div></div><div class="card"><div class="card-body"><div class="flex items-start gap-4"><div class="icon-box icon-box-success"><svg class="w-6 h-6 text-success-600" fill="currentColor" viewBox="0 0 24 24"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"></path></svg></div><div><h4 class="font-semibold text-neutral-900 mb-1">WhatsApp</h4><p class="text-neutral-600">+961 71 234 567</p><p class="text-sm text-neutral-500 mt-1">Quick responses</p></div></div></div></div><div class="card"><div class="card-body"><div class="flex items-start gap-4"><div class="icon-box icon-box-secondary"><svg class="w-6 h-6 text-secondary-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg></div><div><h4 class="font-semibold text-neutral-900 mb-1">Email</h4><p class="text-neutral-600">support@fixappliance.lb</p><p class="text-sm text-neutral-500 mt-1">24-48 hour response</p></div></div></div></div><div class="card"><div class="card-body"><div class="flex items-start gap-4"><div class="icon-box icon-box-warning"><svg class="w-6 h-6 text-warning-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path></svg></div><div><h4 class="font-semibold text-neutral-900 mb-1">Office</h4><p class="text-neutral-600">Mount Lebanon, Lebanon</p><p class="text-sm text-neutral-500 mt-1">By appointment only</p></div></div></div></div>',4)),(0,i.Lk)("div",lt,[(0,i.Lk)("div",ct,[t[23]||(t[23]=(0,i.Lk)("h4",{class:"font-semibold text-primary-900 mb-2"},"Need More Help?",-1)),t[24]||(t[24]=(0,i.Lk)("p",{class:"text-sm text-primary-700 mb-4"},"Learn about our services and technicians",-1)),(0,i.bF)(c,{to:"/about",class:"btn btn-primary btn-sm"},{default:(0,i.k6)(()=>[...t[22]||(t[22]=[(0,i.eW)("About Us",-1)])]),_:1})])])])])])])])}const ut={class:"flex-1 min-w-0"},mt={key:0,class:"font-medium"};function pt(e,t,a,n,o,r){return(0,i.uX)(),(0,i.Wv)(s.eB,{name:"alert-fade"},{default:(0,i.k6)(()=>[o.visible?((0,i.uX)(),(0,i.CE)("div",{key:0,class:(0,l.C4)(r.alertClasses),role:"alert"},[((0,i.uX)(),(0,i.Wv)((0,i.$y)(r.iconComponent),{class:"w-5 h-5 flex-shrink-0"})),(0,i.Lk)("div",ut,[a.title?((0,i.uX)(),(0,i.CE)("h4",mt,(0,l.v_)(a.title),1)):(0,i.Q3)("",!0),(0,i.Lk)("p",{class:(0,l.C4)(["text-sm",a.title?"opacity-90":""])},(0,l.v_)(a.message),3)]),a.dismissible?((0,i.uX)(),(0,i.CE)("button",{key:0,type:"button",class:"flex-shrink-0 opacity-70 hover:opacity-100 transition-opacity",onClick:t[0]||(t[0]=(...e)=>r.handleDismiss&&r.handleDismiss(...e)),"aria-label":"Dismiss alert"},[...t[1]||(t[1]=[(0,i.Lk)("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])):(0,i.Q3)("",!0)],2)):(0,i.Q3)("",!0)]),_:1})}const ht={render(){return(0,i.h)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.h)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])}},kt={render(){return(0,i.h)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.h)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])}},gt={render(){return(0,i.h)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.h)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])}},vt={render(){return(0,i.h)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.h)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})])}};var bt={name:"AlertMessage",props:{type:{type:String,default:"info",validator:e=>["info","success","warning","error"].includes(e)},message:{type:String,required:!0},title:{type:String,default:""},dismissible:{type:Boolean,default:!0},autoDismiss:{type:Number,default:0}},emits:["dismiss"],data(){return{visible:!0,dismissTimer:null}},computed:{alertClasses(){return["alert",`alert-${this.type}`]},iconComponent(){const e={info:ht,success:kt,warning:gt,error:vt};return e[this.type]}},mounted(){this.autoDismiss>0&&(this.dismissTimer=setTimeout(()=>this.handleDismiss(),this.autoDismiss))},beforeUnmount(){this.dismissTimer&&clearTimeout(this.dismissTimer)},methods:{handleDismiss(){this.visible=!1,this.$emit("dismiss")}}};const ft=(0,P.A)(bt,[["render",pt]]);var xt=ft,yt={name:"ContactView",components:{AlertMessage:xt},data(){return{form:{name:"",email:"",phone:"",subject:"",message:""},loading:!1,error:null,success:!1}},methods:{async handleSubmit(){this.loading=!0,this.error=null,this.success=!1;try{await B.submit(this.form),this.success=!0,this.form={name:"",email:"",phone:"",subject:"",message:""},this.$nextTick(()=>this.$refs.formTop?.scrollIntoView({behavior:"smooth",block:"start"}))}catch(e){this.error=e.message||"Failed to send message",this.$nextTick(()=>this.$refs.formTop?.scrollIntoView({behavior:"smooth",block:"start"}))}finally{this.loading=!1}}}};const Lt=(0,P.A)(yt,[["render",dt]]);var wt=Lt;const Ct={class:"main-content"},At={class:"page-header"},Mt={class:"container-wide"},Tt={class:"breadcrumb mb-4"},_t={class:"section-sm"},Bt={class:"container-wide"},St={class:"max-w-md mx-auto"},Ft={class:"card"},Et={class:"card-body py-8 px-6 md:px-8"},Dt={class:"form-group"},Pt={class:"form-input-wrapper"},Xt={class:"form-group"},Nt={class:"form-input-wrapper"},Vt=["disabled"],jt={class:"text-center text-sm text-neutral-600 mt-8"},Rt={class:"mt-6 pt-6 border-t border-neutral-200 text-center"};function It(e,t,a,n,o,r){const c=(0,i.g2)("router-link"),d=(0,i.g2)("AlertMessage");return(0,i.uX)(),(0,i.CE)("div",Ct,[(0,i.Lk)("div",At,[(0,i.Lk)("div",Mt,[(0,i.Lk)("nav",Tt,[(0,i.bF)(c,{to:"/",class:"breadcrumb-link"},{default:(0,i.k6)(()=>[...t[4]||(t[4]=[(0,i.eW)("Home",-1)])]),_:1}),t[5]||(t[5]=(0,i.Lk)("span",{class:"breadcrumb-separator"},"/",-1)),t[6]||(t[6]=(0,i.Lk)("span",{class:"breadcrumb-current"},"Login",-1))]),t[7]||(t[7]=(0,i.Lk)("h1",{class:"page-title"},"Welcome Back",-1)),t[8]||(t[8]=(0,i.Lk)("p",{class:"page-description"},"Sign in to your account",-1))])]),(0,i.Lk)("section",_t,[(0,i.Lk)("div",Bt,[(0,i.Lk)("div",St,[(0,i.Lk)("div",Ft,[(0,i.Lk)("div",Et,[t[16]||(t[16]=(0,i.Lk)("div",{class:"text-center mb-8"},[(0,i.Lk)("img",{src:"/images/logo/fixappliance-icon.svg",alt:"FixAppliance",class:"h-10 w-auto mx-auto mb-4"}),(0,i.Lk)("h2",{class:"text-xl font-semibold text-neutral-900"},"Sign in to your account")],-1)),(0,i.Lk)("form",{onSubmit:t[3]||(t[3]=(0,s.D$)((...e)=>r.handleLogin&&r.handleLogin(...e),["prevent"])),class:"space-y-5",ref:"formTop"},[o.error?((0,i.uX)(),(0,i.Wv)(d,{key:0,type:"error",message:o.error,onDismiss:t[0]||(t[0]=e=>o.error=null)},null,8,["message"])):(0,i.Q3)("",!0),(0,i.Lk)("div",Dt,[t[10]||(t[10]=(0,i.Lk)("label",{for:"login-email",class:"form-label"},"Email Address",-1)),(0,i.Lk)("div",Pt,[t[9]||(t[9]=(0,i.Lk)("svg",{class:"form-input-icon form-input-icon-left-position w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})],-1)),(0,i.bo)((0,i.Lk)("input",{type:"email",id:"login-email","onUpdate:modelValue":t[1]||(t[1]=e=>o.form.email=e),class:"form-input form-input-icon-left",placeholder:"name@example.com",autocomplete:"email",required:""},null,512),[[s.Jo,o.form.email]])])]),(0,i.Lk)("div",Xt,[(0,i.Lk)("div",Nt,[t[11]||(t[11]=(0,i.Lk)("svg",{class:"form-input-icon form-input-icon-left-position w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})],-1)),(0,i.bo)((0,i.Lk)("input",{type:"password",id:"login-password","onUpdate:modelValue":t[2]||(t[2]=e=>o.form.password=e),class:"form-input form-input-icon-left",placeholder:"Enter your password",autocomplete:"current-password",required:""},null,512),[[s.Jo,o.form.password]])])]),(0,i.Lk)("button",{type:"submit",class:"btn btn-primary w-full",disabled:o.loading},(0,l.v_)(o.loading?"Signing in...":"Sign In"),9,Vt)],544),(0,i.Lk)("p",jt,[t[13]||(t[13]=(0,i.eW)(" Don't have an account? ",-1)),(0,i.bF)(c,{to:"/register",class:"text-primary-600 font-medium hover:underline"},{default:(0,i.k6)(()=>[...t[12]||(t[12]=[(0,i.eW)("Create one now",-1)])]),_:1})]),(0,i.Lk)("div",Rt,[t[15]||(t[15]=(0,i.Lk)("p",{class:"text-sm text-neutral-500 mb-2"},"Are you a technician?",-1)),(0,i.bF)(c,{to:"/technician-login",class:"text-sm text-primary-600 font-medium hover:underline"},{default:(0,i.k6)(()=>[...t[14]||(t[14]=[(0,i.eW)("Sign in to Technician Portal →",-1)])]),_:1})])])])])])])])}var Ut={name:"LoginView",components:{AlertMessage:xt},data(){return{form:{email:"",password:""},loading:!1,error:null}},methods:{async handleLogin(){this.loading=!0,this.error=null;try{await F().login(this.form),this.$router.push("/dashboard")}catch(e){this.error=e.message||"Login failed",this.$nextTick(()=>this.$refs.formTop?.scrollIntoView({behavior:"smooth",block:"start"}))}finally{this.loading=!1}}}};const $t=(0,P.A)(Ut,[["render",It]]);var zt=$t;const Wt={class:"main-content"},Qt={class:"page-header"},qt={class:"container-wide"},Ht={class:"breadcrumb mb-4"},Ot={class:"section-sm"},Jt={class:"container-wide"},Kt={class:"max-w-2xl mx-auto"},Yt={class:"card"},Gt={class:"card-body py-8 px-6 md:px-8"},Zt={class:"form-section"},ea={class:"form-row"},ta={class:"form-group"},aa={class:"form-group"},sa={class:"form-row"},ia={class:"form-group"},na={class:"form-group"},oa={class:"input-group"},ra={class:"form-section"},la={class:"form-group"},ca={class:"form-row"},da={class:"form-group"},ua={class:"form-group"},ma={class:"form-row"},pa={class:"form-group"},ha={class:"form-group"},ka={class:"form-section"},ga={class:"form-row"},va={class:"form-group"},ba={class:"form-input-wrapper"},fa={class:"form-group"},xa=["disabled"],ya={class:"text-center text-sm text-neutral-600 mt-6"},La={class:"mt-6 pt-6 border-t border-neutral-200 text-center"};function wa(e,t,a,n,o,r){const c=(0,i.g2)("router-link"),d=(0,i.g2)("AlertMessage");return(0,i.uX)(),(0,i.CE)("div",Wt,[(0,i.Lk)("div",Qt,[(0,i.Lk)("div",qt,[(0,i.Lk)("nav",Ht,[(0,i.bF)(c,{to:"/",class:"breadcrumb-link"},{default:(0,i.k6)(()=>[...t[13]||(t[13]=[(0,i.eW)("Home",-1)])]),_:1}),t[14]||(t[14]=(0,i.Lk)("span",{class:"breadcrumb-separator"},"/",-1)),t[15]||(t[15]=(0,i.Lk)("span",{class:"breadcrumb-current"},"Register",-1))]),t[16]||(t[16]=(0,i.Lk)("h1",{class:"page-title"},"Create Your Account",-1)),t[17]||(t[17]=(0,i.Lk)("p",{class:"page-description"},"Join thousands of homeowners using FixAppliance",-1))])]),(0,i.Lk)("section",Ot,[(0,i.Lk)("div",Jt,[(0,i.Lk)("div",Kt,[(0,i.Lk)("div",Yt,[(0,i.Lk)("div",Gt,[(0,i.Lk)("form",{onSubmit:t[12]||(t[12]=(0,s.D$)((...e)=>r.handleRegister&&r.handleRegister(...e),["prevent"])),class:"space-y-6",ref:"formTop"},[o.error?((0,i.uX)(),(0,i.Wv)(d,{key:0,type:"error",message:o.error,onDismiss:t[0]||(t[0]=e=>o.error=null)},null,8,["message"])):(0,i.Q3)("",!0),(0,i.Lk)("div",Zt,[t[23]||(t[23]=(0,i.Lk)("h3",{class:"form-section-title"},"Personal Information",-1)),(0,i.Lk)("div",ea,[(0,i.Lk)("div",ta,[t[18]||(t[18]=(0,i.Lk)("label",{for:"first-name",class:"form-label form-label-required"},"First Name",-1)),(0,i.bo)((0,i.Lk)("input",{type:"text",id:"first-name","onUpdate:modelValue":t[1]||(t[1]=e=>o.form.firstName=e),class:"form-input",placeholder:"John",autocomplete:"given-name",required:""},null,512),[[s.Jo,o.form.firstName]])]),(0,i.Lk)("div",aa,[t[19]||(t[19]=(0,i.Lk)("label",{for:"last-name",class:"form-label form-label-required"},"Last Name",-1)),(0,i.bo)((0,i.Lk)("input",{type:"text",id:"last-name","onUpdate:modelValue":t[2]||(t[2]=e=>o.form.lastName=e),class:"form-input",placeholder:"Doe",autocomplete:"family-name",required:""},null,512),[[s.Jo,o.form.lastName]])])]),(0,i.Lk)("div",sa,[(0,i.Lk)("div",ia,[t[20]||(t[20]=(0,i.Lk)("label",{for:"register-email",class:"form-label form-label-required"},"Email Address",-1)),(0,i.bo)((0,i.Lk)("input",{type:"email",id:"register-email","onUpdate:modelValue":t[3]||(t[3]=e=>o.form.email=e),class:"form-input",placeholder:"name@example.com",autocomplete:"email",required:""},null,512),[[s.Jo,o.form.email]])]),(0,i.Lk)("div",na,[t[22]||(t[22]=(0,i.Lk)("label",{for:"phone",class:"form-label form-label-required"},"Phone Number",-1)),(0,i.Lk)("div",oa,[t[21]||(t[21]=(0,i.Lk)("span",{class:"input-group-text"},"+961",-1)),(0,i.bo)((0,i.Lk)("input",{type:"tel",id:"phone","onUpdate:modelValue":t[4]||(t[4]=e=>o.form.phone=e),class:"form-input",placeholder:"71 234 567",autocomplete:"tel",required:""},null,512),[[s.Jo,o.form.phone]])])])])]),(0,i.Lk)("div",ra,[t[30]||(t[30]=(0,i.Lk)("h3",{class:"form-section-title"},"Address",-1)),t[31]||(t[31]=(0,i.Lk)("p",{class:"form-section-description"},"Your address helps technicians locate you for service visits",-1)),(0,i.Lk)("div",la,[t[24]||(t[24]=(0,i.Lk)("label",{for:"street-address",class:"form-label form-label-required"},"Street Address",-1)),(0,i.bo)((0,i.Lk)("input",{type:"text",id:"street-address","onUpdate:modelValue":t[5]||(t[5]=e=>o.form.streetAddress=e),class:"form-input",placeholder:"123 Main Street",autocomplete:"street-address",required:""},null,512),[[s.Jo,o.form.streetAddress]])]),(0,i.Lk)("div",ca,[(0,i.Lk)("div",da,[t[25]||(t[25]=(0,i.Lk)("label",{for:"building-name",class:"form-label form-label-required"},"Building Name",-1)),(0,i.bo)((0,i.Lk)("input",{type:"text",id:"building-name","onUpdate:modelValue":t[6]||(t[6]=e=>o.form.buildingName=e),class:"form-input",placeholder:"Sunset Tower",required:""},null,512),[[s.Jo,o.form.buildingName]])]),(0,i.Lk)("div",ua,[t[26]||(t[26]=(0,i.Lk)("label",{for:"floor",class:"form-label form-label-required"},"Floor",-1)),(0,i.bo)((0,i.Lk)("input",{type:"text",id:"floor","onUpdate:modelValue":t[7]||(t[7]=e=>o.form.floor=e),class:"form-input",placeholder:"3rd Floor",required:""},null,512),[[s.Jo,o.form.floor]])])]),(0,i.Lk)("div",ma,[(0,i.Lk)("div",pa,[t[28]||(t[28]=(0,i.Lk)("label",{for:"city",class:"form-label form-label-required"},"City",-1)),(0,i.bo)((0,i.Lk)("select",{id:"city","onUpdate:modelValue":t[8]||(t[8]=e=>o.form.city=e),class:"form-select",required:""},[...t[27]||(t[27]=[(0,i.Fv)('<option value="">Select city...</option><option value="beirut">Beirut</option><option value="tripoli">Tripoli</option><option value="sidon">Sidon</option><option value="byblos">Byblos</option><option value="jounieh">Jounieh</option><option value="zahle">Zahle</option><option value="batroun">Batroun</option><option value="aley">Aley</option><option value="baabda">Baabda</option><option value="metn">Metn</option>',11)])],512),[[s.u1,o.form.city]])]),(0,i.Lk)("div",ha,[t[29]||(t[29]=(0,i.Lk)("label",{for:"postal-code",class:"form-label form-label-required"},"Postal Code",-1)),(0,i.bo)((0,i.Lk)("input",{type:"text",id:"postal-code","onUpdate:modelValue":t[9]||(t[9]=e=>o.form.postalCode=e),class:"form-input",placeholder:"1234",autocomplete:"postal-code",required:""},null,512),[[s.Jo,o.form.postalCode]])])])]),(0,i.Lk)("div",ka,[t[34]||(t[34]=(0,i.Lk)("h3",{class:"form-section-title"},"Create Password",-1)),(0,i.Lk)("div",ga,[(0,i.Lk)("div",va,[t[32]||(t[32]=(0,i.Lk)("label",{for:"register-password",class:"form-label form-label-required"},"Password",-1)),(0,i.Lk)("div",ba,[(0,i.bo)((0,i.Lk)("input",{type:"password",id:"register-password","onUpdate:modelValue":t[10]||(t[10]=e=>o.form.password=e),class:"form-input",placeholder:"Create a strong password",autocomplete:"new-password",required:""},null,512),[[s.Jo,o.form.password]])])]),(0,i.Lk)("div",fa,[t[33]||(t[33]=(0,i.Lk)("label",{for:"confirm-password",class:"form-label form-label-required"},"Confirm Password",-1)),(0,i.bo)((0,i.Lk)("input",{type:"password",id:"confirm-password","onUpdate:modelValue":t[11]||(t[11]=e=>o.form.confirmPassword=e),class:"form-input",placeholder:"Confirm your password",autocomplete:"new-password",required:""},null,512),[[s.Jo,o.form.confirmPassword]])])])]),(0,i.Lk)("button",{type:"submit",class:"btn btn-primary w-full btn-lg",disabled:o.loading},(0,l.v_)(o.loading?"Creating Account...":"Create Account"),9,xa)],544),(0,i.Lk)("p",ya,[t[36]||(t[36]=(0,i.eW)(" Already have an account? ",-1)),(0,i.bF)(c,{to:"/login",class:"text-primary-600 font-medium hover:underline"},{default:(0,i.k6)(()=>[...t[35]||(t[35]=[(0,i.eW)("Sign in",-1)])]),_:1})]),(0,i.Lk)("div",La,[t[38]||(t[38]=(0,i.Lk)("p",{class:"text-sm text-neutral-500 mb-2"},"Are you a technician looking to join our platform?",-1)),(0,i.bF)(c,{to:"/technician-register",class:"text-sm text-primary-600 font-medium hover:underline"},{default:(0,i.k6)(()=>[...t[37]||(t[37]=[(0,i.eW)("Register as a Technician →",-1)])]),_:1})])])])])])])])}var Ca={name:"RegisterView",components:{AlertMessage:xt},data(){return{form:{firstName:"",lastName:"",email:"",phone:"",streetAddress:"",buildingName:"",floor:"",city:"",postalCode:"",password:"",confirmPassword:"",newsletter:!0},loading:!1,error:null}},methods:{async handleRegister(){if(this.form.password!==this.form.confirmPassword)return this.error="Passwords do not match",void this.$nextTick(()=>this.$refs.formTop?.scrollIntoView({behavior:"smooth",block:"start"}));this.loading=!0,this.error=null;try{const e={firstName:this.form.firstName,lastName:this.form.lastName,email:this.form.email,phone:this.form.phone,password:this.form.password,streetAddress:this.form.streetAddress,buildingName:this.form.buildingName,floor:this.form.floor,city:this.form.city,postalCode:this.form.postalCode};await F().register(e),this.$router.push("/login")}catch(e){this.error=e.response?.data?.message||e.message||"Registration failed",this.$nextTick(()=>this.$refs.formTop?.scrollIntoView({behavior:"smooth",block:"start"}))}finally{this.loading=!1}}}};const Aa=(0,P.A)(Ca,[["render",wa]]);var Ma=Aa;const Ta={class:"main-content"},_a={class:"page-header bg-primary-700 text-white"},Ba={class:"container-wide"},Sa={class:"breadcrumb mb-4 text-primary-200"},Fa={class:"section-sm"},Ea={class:"container-wide"},Da={class:"max-w-md mx-auto"},Pa={class:"card"},Xa={class:"card-body py-8 px-6 md:px-8"},Na={class:"form-group"},Va={class:"form-group"},ja={class:"form-input-wrapper"},Ra=["disabled"],Ia={class:"text-center text-sm text-neutral-600 mt-8"},Ua={class:"mt-6 pt-6 border-t border-neutral-200 text-center"};function $a(e,t,a,n,o,r){const c=(0,i.g2)("router-link"),d=(0,i.g2)("AlertMessage");return(0,i.uX)(),(0,i.CE)("div",Ta,[(0,i.Lk)("div",_a,[(0,i.Lk)("div",Ba,[(0,i.Lk)("nav",Sa,[(0,i.bF)(c,{to:"/",class:"breadcrumb-link text-primary-200 hover:text-white"},{default:(0,i.k6)(()=>[...t[4]||(t[4]=[(0,i.eW)("Home",-1)])]),_:1}),t[5]||(t[5]=(0,i.Lk)("span",{class:"breadcrumb-separator text-primary-400"},"/",-1)),t[6]||(t[6]=(0,i.Lk)("span",{class:"breadcrumb-current text-white"},"Technician Login",-1))]),t[7]||(t[7]=(0,i.Lk)("h1",{class:"page-title text-white"},"Technician Portal",-1)),t[8]||(t[8]=(0,i.Lk)("p",{class:"page-description text-primary-100"},"Sign in to manage your bookings and profile",-1))])]),(0,i.Lk)("section",Fa,[(0,i.Lk)("div",Ea,[(0,i.Lk)("div",Da,[(0,i.Lk)("div",Pa,[(0,i.Lk)("div",Xa,[t[14]||(t[14]=(0,i.Fv)('<div class="text-center mb-8"><div class="icon-box-round icon-box-lg icon-box-primary mx-auto mb-4"><svg class="w-8 h-8 text-primary-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg></div><h2 class="text-xl font-semibold text-neutral-900">Technician Sign In</h2><p class="text-sm text-neutral-500 mt-1">Access your technician dashboard</p></div>',1)),(0,i.Lk)("form",{onSubmit:t[3]||(t[3]=(0,s.D$)((...e)=>r.handleLogin&&r.handleLogin(...e),["prevent"])),class:"space-y-5",ref:"formTop"},[o.error?((0,i.uX)(),(0,i.Wv)(d,{key:0,type:"error",message:o.error,onDismiss:t[0]||(t[0]=e=>o.error=null)},null,8,["message"])):(0,i.Q3)("",!0),(0,i.Lk)("div",Na,[t[9]||(t[9]=(0,i.Lk)("label",{for:"tech-email",class:"form-label"},"Email Address",-1)),(0,i.bo)((0,i.Lk)("input",{type:"email",id:"tech-email","onUpdate:modelValue":t[1]||(t[1]=e=>o.form.email=e),class:"form-input",placeholder:"technician@example.com",autocomplete:"email",required:""},null,512),[[s.Jo,o.form.email]])]),(0,i.Lk)("div",Va,[(0,i.Lk)("div",ja,[(0,i.bo)((0,i.Lk)("input",{type:"password",id:"tech-password","onUpdate:modelValue":t[2]||(t[2]=e=>o.form.password=e),class:"form-input",placeholder:"Enter your password",autocomplete:"current-password",required:""},null,512),[[s.Jo,o.form.password]])])]),(0,i.Lk)("button",{type:"submit",class:"btn btn-primary w-full",disabled:o.loading},(0,l.v_)(o.loading?"Signing in...":"Sign In to Dashboard"),9,Ra)],544),(0,i.Lk)("p",Ia,[t[11]||(t[11]=(0,i.eW)(" Not a registered technician? ",-1)),(0,i.bF)(c,{to:"/technician-register",class:"text-primary-600 font-medium hover:underline"},{default:(0,i.k6)(()=>[...t[10]||(t[10]=[(0,i.eW)("Apply now",-1)])]),_:1})]),(0,i.Lk)("div",Ua,[t[13]||(t[13]=(0,i.Lk)("p",{class:"text-sm text-neutral-500 mb-2"},"Looking for customer login?",-1)),(0,i.bF)(c,{to:"/login",class:"text-sm text-primary-600 font-medium hover:underline"},{default:(0,i.k6)(()=>[...t[12]||(t[12]=[(0,i.eW)("Sign in as Customer →",-1)])]),_:1})])])]),t[15]||(t[15]=(0,i.Fv)('<div class="card mt-6 bg-primary-50 border-primary-100"><div class="card-body"><div class="flex gap-3"><svg class="w-6 h-6 text-primary-600 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><div><h4 class="font-medium text-primary-900 mb-1">Account Verification Required</h4><p class="text-sm text-primary-700"> After registration, your account must be verified by our admin team before you can start accepting bookings. </p></div></div></div></div>',1))])])])])}var za={name:"TechnicianLoginView",components:{AlertMessage:xt},data(){return{form:{email:"",password:""},loading:!1,error:null}},methods:{async handleLogin(){this.loading=!0,this.error=null;try{await E().login(this.form),this.$router.push("/technician-dashboard")}catch(e){this.error=e.message||"Login failed",this.$nextTick(()=>this.$refs.formTop?.scrollIntoView({behavior:"smooth",block:"start"}))}finally{this.loading=!1}}}};const Wa=(0,P.A)(za,[["render",$a]]);var Qa=Wa;const qa={class:"main-content"},Ha={class:"page-header bg-primary-700 text-white"},Oa={class:"container-wide"},Ja={class:"breadcrumb mb-4 text-primary-200"},Ka={class:"section-sm bg-neutral-50"},Ya={class:"container-wide"},Ga={class:"max-w-2xl mx-auto"},Za={class:"card"},es={class:"card-body"},ts={class:"form-section"},as={class:"form-row"},ss={class:"form-group"},is={class:"form-group"},ns={class:"form-row"},os={class:"form-group"},rs={class:"form-group"},ls={class:"input-group"},cs={class:"form-section"},ds={class:"form-row"},us={class:"form-group"},ms={class:"form-input-wrapper"},ps={class:"form-group"},hs={class:"form-check"},ks=["disabled"],gs={key:0,class:"animate-spin w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24"},vs={class:"text-center text-sm text-neutral-600 mt-6"};function bs(e,t,a,n,o,r){const c=(0,i.g2)("router-link"),d=(0,i.g2)("AlertMessage");return(0,i.uX)(),(0,i.CE)("div",qa,[(0,i.Lk)("div",Ha,[(0,i.Lk)("div",Oa,[(0,i.Lk)("nav",Ja,[(0,i.bF)(c,{to:"/",class:"breadcrumb-link text-primary-200 hover:text-white"},{default:(0,i.k6)(()=>[...t[9]||(t[9]=[(0,i.eW)("Home",-1)])]),_:1}),t[10]||(t[10]=(0,i.Lk)("span",{class:"breadcrumb-separator text-primary-400"},"/",-1)),t[11]||(t[11]=(0,i.Lk)("span",{class:"breadcrumb-current text-white"},"Become a Technician",-1))]),t[12]||(t[12]=(0,i.Lk)("h1",{class:"page-title text-white"},"Join Our Technician Network",-1)),t[13]||(t[13]=(0,i.Lk)("p",{class:"page-description text-primary-100"},"Apply to become a verified technician on FixAppliance",-1))])]),t[29]||(t[29]=(0,i.Fv)('<section class="section-sm bg-white"><div class="container-wide"><div class="max-w-3xl mx-auto text-center mb-12"><h2 class="h3 mb-4">Why Join FixAppliance?</h2><p class="text-neutral-600"> Join our growing network of technicians and connect with customers who need your expertise. </p></div><div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-12"><div class="card p-6 text-center"><div class="icon-box-round icon-box-success mx-auto mb-4"><svg class="w-6 h-6 text-success-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div><h3 class="font-semibold text-neutral-900 mb-2">Earn More</h3><p class="text-sm text-neutral-600"> Keep 85% of each booking. Get paid for your expertise. </p></div><div class="card p-6 text-center"><div class="icon-box-round icon-box-primary mx-auto mb-4"><svg class="w-6 h-6 text-primary-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg></div><h3 class="font-semibold text-neutral-900 mb-2">Flexible Schedule</h3><p class="text-sm text-neutral-600"> Accept bookings that fit your schedule and service areas. </p></div><div class="card p-6 text-center"><div class="icon-box-round icon-box-secondary mx-auto mb-4"><svg class="w-6 h-6 text-secondary-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"></path></svg></div><h3 class="font-semibold text-neutral-900 mb-2">Grow Your Business</h3><p class="text-sm text-neutral-600"> Build your reputation through ratings and get more customers. </p></div></div></div></section>',1)),(0,i.Lk)("section",Ka,[(0,i.Lk)("div",Ya,[(0,i.Lk)("div",Ga,[(0,i.Lk)("div",Za,[t[26]||(t[26]=(0,i.Lk)("div",{class:"card-header"},[(0,i.Lk)("h3",{class:"font-semibold text-neutral-900"},"Technician Registration")],-1)),(0,i.Lk)("div",es,[(0,i.Lk)("form",{onSubmit:t[8]||(t[8]=(0,s.D$)((...e)=>r.handleRegister&&r.handleRegister(...e),["prevent"])),class:"space-y-6",ref:"formTop"},[o.error?((0,i.uX)(),(0,i.Wv)(d,{key:0,type:"error",message:o.error,onDismiss:t[0]||(t[0]=e=>o.error=null)},null,8,["message"])):(0,i.Q3)("",!0),o.success?((0,i.uX)(),(0,i.Wv)(d,{key:1,type:"success",message:o.success,dismissible:!1},null,8,["message"])):(0,i.Q3)("",!0),(0,i.Lk)("div",ts,[t[19]||(t[19]=(0,i.Lk)("h3",{class:"form-section-title"},"Personal Information",-1)),(0,i.Lk)("div",as,[(0,i.Lk)("div",ss,[t[14]||(t[14]=(0,i.Lk)("label",{for:"tech-first-name",class:"form-label form-label-required"},"First Name",-1)),(0,i.bo)((0,i.Lk)("input",{type:"text",id:"tech-first-name","onUpdate:modelValue":t[1]||(t[1]=e=>o.form.firstName=e),class:"form-input",placeholder:"Ahmad",autocomplete:"given-name",required:""},null,512),[[s.Jo,o.form.firstName]])]),(0,i.Lk)("div",is,[t[15]||(t[15]=(0,i.Lk)("label",{for:"tech-last-name",class:"form-label form-label-required"},"Last Name",-1)),(0,i.bo)((0,i.Lk)("input",{type:"text",id:"tech-last-name","onUpdate:modelValue":t[2]||(t[2]=e=>o.form.lastName=e),class:"form-input",placeholder:"Hassan",autocomplete:"family-name",required:""},null,512),[[s.Jo,o.form.lastName]])])]),(0,i.Lk)("div",ns,[(0,i.Lk)("div",os,[t[16]||(t[16]=(0,i.Lk)("label",{for:"tech-email",class:"form-label form-label-required"},"Email Address",-1)),(0,i.bo)((0,i.Lk)("input",{type:"email",id:"tech-email","onUpdate:modelValue":t[3]||(t[3]=e=>o.form.email=e),class:"form-input",placeholder:"ahmad@example.com",autocomplete:"email",required:""},null,512),[[s.Jo,o.form.email]])]),(0,i.Lk)("div",rs,[t[18]||(t[18]=(0,i.Lk)("label",{for:"tech-phone",class:"form-label form-label-required"},"Phone Number",-1)),(0,i.Lk)("div",ls,[t[17]||(t[17]=(0,i.Lk)("span",{class:"input-group-text"},"+961",-1)),(0,i.bo)((0,i.Lk)("input",{type:"tel",id:"tech-phone","onUpdate:modelValue":t[4]||(t[4]=e=>o.form.phone=e),class:"form-input",placeholder:"71 234 567",autocomplete:"tel",required:""},null,512),[[s.Jo,o.form.phone]])])])])]),(0,i.Lk)("div",cs,[t[22]||(t[22]=(0,i.Lk)("h3",{class:"form-section-title"},"Create Password",-1)),(0,i.Lk)("div",ds,[(0,i.Lk)("div",us,[t[20]||(t[20]=(0,i.Lk)("label",{for:"tech-password",class:"form-label form-label-required"},"Password",-1)),(0,i.Lk)("div",ms,[(0,i.bo)((0,i.Lk)("input",{type:"password",id:"tech-password","onUpdate:modelValue":t[5]||(t[5]=e=>o.form.password=e),class:"form-input",placeholder:"Create a strong password",autocomplete:"new-password",required:""},null,512),[[s.Jo,o.form.password]])])]),(0,i.Lk)("div",ps,[t[21]||(t[21]=(0,i.Lk)("label",{for:"tech-confirm-password",class:"form-label form-label-required"},"Confirm Password",-1)),(0,i.bo)((0,i.Lk)("input",{type:"password",id:"tech-confirm-password","onUpdate:modelValue":t[6]||(t[6]=e=>o.form.confirmPassword=e),class:"form-input",placeholder:"Confirm your password",autocomplete:"new-password",required:""},null,512),[[s.Jo,o.form.confirmPassword]])])])]),t[25]||(t[25]=(0,i.Fv)('<div class="alert alert-info"><svg class="w-5 h-5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><div><h4 class="font-medium">Next Steps After Registration</h4><p class="text-sm opacity-90"> After registering, you&#39;ll be able to set your specialty areas, service locations, and experience details. Your account will be reviewed and verified by our team before activation. </p></div></div>',1)),(0,i.Lk)("div",hs,[(0,i.bo)((0,i.Lk)("input",{type:"checkbox",id:"background-check","onUpdate:modelValue":t[7]||(t[7]=e=>o.form.backgroundCheck=e),class:"form-checkbox",required:""},null,512),[[s.lH,o.form.backgroundCheck]]),t[23]||(t[23]=(0,i.Lk)("label",{for:"background-check",class:"form-check-label"}," I consent to a background check as part of the verification process ",-1))]),(0,i.Lk)("button",{type:"submit",class:"btn btn-primary w-full btn-lg",disabled:o.loading||!r.isFormValid},[o.loading?((0,i.uX)(),(0,i.CE)("svg",gs,[...t[24]||(t[24]=[(0,i.Lk)("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),(0,i.Lk)("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(0,i.Q3)("",!0),(0,i.eW)(" "+(0,l.v_)(o.loading?"Submitting Application...":"Submit Application"),1)],8,ks)],544)])]),(0,i.Lk)("p",vs,[t[28]||(t[28]=(0,i.eW)(" Already have a technician account? ",-1)),(0,i.bF)(c,{to:"/technician-login",class:"text-primary-600 font-medium hover:underline"},{default:(0,i.k6)(()=>[...t[27]||(t[27]=[(0,i.eW)("Sign in",-1)])]),_:1})])])])])])}var fs={name:"TechnicianRegisterView",components:{AlertMessage:xt},data(){return{form:{firstName:"",lastName:"",email:"",phone:"",password:"",confirmPassword:"",backgroundCheck:!1},loading:!1,error:null,success:null}},computed:{isFormValid(){return this.form.firstName&&this.form.lastName&&this.form.email&&this.form.phone&&this.form.password&&this.form.confirmPassword&&this.form.backgroundCheck}},methods:{async handleRegister(){if(this.form.password!==this.form.confirmPassword)return this.error="Passwords do not match",void this.$nextTick(()=>this.$refs.formTop?.scrollIntoView({behavior:"smooth",block:"start"}));this.loading=!0,this.error=null,this.success=null;try{const e={firstName:this.form.firstName,lastName:this.form.lastName,email:this.form.email,phone:this.form.phone,password:this.form.password};await E().register(e),this.success="Registration successful! Redirecting to login...",this.$nextTick(()=>this.$refs.formTop?.scrollIntoView({behavior:"smooth",block:"start"})),setTimeout(()=>{this.$router.push("/technician-login")},2e3)}catch(e){this.error=e.response?.data?.message||e.message||"Registration failed",this.$nextTick(()=>this.$refs.formTop?.scrollIntoView({behavior:"smooth",block:"start"}))}finally{this.loading=!1}}}};const xs=(0,P.A)(fs,[["render",bs]]);var ys=xs;const Ls={class:"main-content"},ws={class:"page-header"},Cs={class:"container-wide"},As={class:"breadcrumb mb-4"},Ms={class:"section-sm"},Ts={class:"container-wide"},_s={class:"max-w-md mx-auto"},Bs={class:"card"},Ss={class:"card-body py-8 px-6 md:px-8"},Fs={class:"form-group"},Es={class:"form-input-wrapper"},Ds={class:"form-group"},Ps={class:"form-input-wrapper"},Xs=["disabled"],Ns={key:0,class:"spinner spinner-sm mr-2"};function Vs(e,t,a,n,o,r){const c=(0,i.g2)("router-link"),d=(0,i.g2)("AlertMessage");return(0,i.uX)(),(0,i.CE)("div",Ls,[(0,i.Lk)("div",ws,[(0,i.Lk)("div",Cs,[(0,i.Lk)("nav",As,[(0,i.bF)(c,{to:"/",class:"breadcrumb-link"},{default:(0,i.k6)(()=>[...t[4]||(t[4]=[(0,i.eW)("Home",-1)])]),_:1}),t[5]||(t[5]=(0,i.Lk)("span",{class:"breadcrumb-separator"},"/",-1)),t[6]||(t[6]=(0,i.Lk)("span",{class:"breadcrumb-current"},"Admin Login",-1))]),t[7]||(t[7]=(0,i.Lk)("h1",{class:"page-title"},"Admin Portal",-1)),t[8]||(t[8]=(0,i.Lk)("p",{class:"page-description"},"Sign in to the admin dashboard",-1))])]),(0,i.Lk)("section",Ms,[(0,i.Lk)("div",Ts,[(0,i.Lk)("div",_s,[(0,i.Lk)("div",Bs,[(0,i.Lk)("div",Ss,[t[13]||(t[13]=(0,i.Lk)("div",{class:"text-center mb-8"},[(0,i.Lk)("img",{src:"/images/logo/fixappliance-icon.svg",alt:"FixAppliance Admin",class:"h-10 w-auto mx-auto mb-4"}),(0,i.Lk)("h2",{class:"text-xl font-semibold text-neutral-900"},"Admin Sign In"),(0,i.Lk)("p",{class:"text-sm text-neutral-500 mt-2"},"Secure access to platform administration")],-1)),(0,i.Lk)("form",{onSubmit:t[3]||(t[3]=(0,s.D$)((...e)=>r.handleLogin&&r.handleLogin(...e),["prevent"])),class:"space-y-5"},[o.error?((0,i.uX)(),(0,i.Wv)(d,{key:0,type:"error",message:o.error,onDismiss:t[0]||(t[0]=e=>o.error=null)},null,8,["message"])):(0,i.Q3)("",!0),(0,i.Lk)("div",Fs,[t[10]||(t[10]=(0,i.Lk)("label",{for:"admin-email",class:"form-label"},"Email Address",-1)),(0,i.Lk)("div",Es,[t[9]||(t[9]=(0,i.Lk)("svg",{class:"form-input-icon form-input-icon-left-position w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})],-1)),(0,i.bo)((0,i.Lk)("input",{type:"email",id:"admin-email","onUpdate:modelValue":t[1]||(t[1]=e=>o.formData.email=e),class:"form-input !pl-10",placeholder:"admin@fixappliance.com",required:"",autocomplete:"email"},null,512),[[s.Jo,o.formData.email]])])]),(0,i.Lk)("div",Ds,[t[12]||(t[12]=(0,i.Lk)("label",{for:"admin-password",class:"form-label"},"Password",-1)),(0,i.Lk)("div",Ps,[t[11]||(t[11]=(0,i.Lk)("svg",{class:"form-input-icon form-input-icon-left-position w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})],-1)),(0,i.bo)((0,i.Lk)("input",{type:"password",id:"admin-password","onUpdate:modelValue":t[2]||(t[2]=e=>o.formData.password=e),class:"form-input !pl-10 pr-10",placeholder:"Enter your password",required:"",autocomplete:"current-password"},null,512),[[s.Jo,o.formData.password]])])]),(0,i.Lk)("button",{type:"submit",class:"btn btn-primary w-full",disabled:o.loading},[o.loading?((0,i.uX)(),(0,i.CE)("span",Ns)):(0,i.Q3)("",!0),(0,i.eW)(" "+(0,l.v_)(o.loading?"Signing in...":"Sign In"),1)],8,Xs)],32),t[14]||(t[14]=(0,i.Fv)('<div class="mt-6 p-4 bg-warning-50 border border-warning-200 rounded-lg"><div class="flex gap-3"><svg class="w-5 h-5 text-warning-600 flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg><div class="text-sm"><p class="font-medium text-warning-900">Secure Admin Access</p><p class="text-warning-700 mt-1">This portal is for authorized administrators only. All access attempts are logged and monitored.</p></div></div></div>',1))])])])])])])}var js={name:"AdminLoginView",components:{AlertMessage:xt},data(){return{formData:{email:"",password:""},loading:!1,error:null}},methods:{async handleLogin(){this.loading=!0,this.error=null;try{const e=O();await e.login(this.formData),this.$router.push("/admin/dashboard")}catch(e){this.error=e.response?.data?.message||"Invalid email or password",window.scrollTo({top:0,behavior:"smooth"})}finally{this.loading=!1}}}};const Rs=(0,P.A)(js,[["render",Vs]]);var Is=Rs;const Us={class:"min-h-screen flex"},$s={class:"flex-1 lg:ml-64 bg-neutral-50 min-h-screen"},zs={class:"bg-white border-b border-neutral-100 px-4 sm:px-6 py-4"},Ws={class:"flex items-center justify-between gap-3"},Qs={class:"ml-14 sm:ml-12 lg:ml-0 min-w-0 flex-shrink"},qs={class:"text-xs sm:text-sm text-neutral-500 truncate"},Hs={class:"flex items-center gap-2 sm:gap-4 flex-shrink-0"},Os={class:"flex items-center gap-2 sm:gap-3"},Js={class:"avatar avatar-sm sm:avatar-md bg-primary-100 text-primary-600 flex-shrink-0"},Ks={class:"hidden md:block"},Ys={class:"text-sm font-medium text-neutral-900"},Gs={class:"p-6"},Zs={key:0,class:"loading-container"},ei={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},ti={class:"card"},ai={class:"card-body"},si={class:"flex items-center justify-between"},ii={class:"text-3xl font-bold text-neutral-900"},ni={class:"card"},oi={class:"card-body"},ri={class:"flex items-center justify-between"},li={class:"text-3xl font-bold text-neutral-900"},ci={class:"text-sm text-warning-600 mt-3"},di={class:"card"},ui={class:"card-body"},mi={class:"flex items-center justify-between"},pi={class:"text-3xl font-bold text-neutral-900"},hi={class:"card"},ki={class:"card-body"},gi={class:"flex items-center justify-between"},vi={class:"text-3xl font-bold text-neutral-900"},bi={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},fi={key:0,class:"card"},xi={class:"divide-y divide-neutral-100"},yi={class:"flex items-start justify-between mb-2"},Li={class:"font-medium text-neutral-900"},wi={class:"text-xs text-neutral-500"},Ci={class:"font-semibold text-warning-600"},Ai=["onClick"],Mi={class:"lg:col-span-2"},Ti={class:"card"},_i={class:"card-header flex items-center justify-between"},Bi={key:0,class:"p-8 text-center"},Si={key:1,class:"divide-y divide-neutral-100"},Fi={class:"flex items-start justify-between mb-2"},Ei={class:"flex-1"},Di={class:"flex items-center gap-2 mb-1"},Pi={class:"font-medium text-neutral-900"},Xi={class:"text-sm text-neutral-500"},Ni={class:"text-sm font-semibold text-neutral-900"},Vi={class:"grid grid-cols-2 gap-2 mb-3"},ji={class:"text-sm"},Ri={class:"text-neutral-900 ml-1"},Ii={class:"text-sm"},Ui={class:"text-neutral-900 ml-1"},$i={key:0,class:"text-sm text-neutral-600 mb-3"},zi={class:"flex gap-2"},Wi=["onClick"],Qi=["onClick"],qi=["onClick"],Hi={class:"space-y-6"},Oi={class:"card"},Ji={class:"p-4 space-y-3"},Ki={key:0,class:"card"},Yi={class:"divide-y divide-neutral-100"},Gi={class:"mb-2"},Zi={class:"font-medium text-neutral-900"},en={class:"text-xs text-neutral-500"},tn={key:0,class:"text-xs text-neutral-500"},an=["onClick"],sn={class:"p-6"},nn={class:"mb-4"},on={class:"font-medium text-neutral-900"},rn={class:"text-sm text-neutral-500"},ln={class:"mb-4 p-4 bg-neutral-50 rounded-lg"},cn={class:"flex items-center justify-between"},dn={class:"text-2xl font-bold text-neutral-900"},un={class:"mb-4"},mn={class:"form-input bg-neutral-50 text-neutral-700 cursor-not-allowed"},pn={class:"mb-4 p-3 bg-primary-50 rounded-lg border border-primary-100"},hn={class:"font-mono text-sm text-primary-800"},kn={class:"flex gap-3"},gn=["disabled"],vn={key:0,class:"spinner spinner-sm mr-2"},bn={class:"p-6"},fn={class:"mb-4"},xn={class:"font-medium text-neutral-900"},yn={key:0,class:"text-sm text-neutral-500"},Ln={class:"mb-4"},wn={class:"flex gap-2"},Cn=["onClick"],An={class:"mb-4"},Mn={class:"text-xs text-neutral-500 mt-1"},Tn={class:"flex gap-3"},_n=["disabled"],Bn={key:0,class:"spinner spinner-sm mr-2"};function Sn(e,t,a,n,o,r){const c=(0,i.g2)("UserSidebar"),d=(0,i.g2)("router-link"),u=(0,i.g2)("AlertMessage"),m=(0,i.g2)("BaseModal");return(0,i.uX)(),(0,i.CE)("div",Us,[(0,i.bF)(c),(0,i.Lk)("main",$s,[(0,i.Lk)("header",zs,[(0,i.Lk)("div",Ws,[(0,i.Lk)("div",Qs,[t[10]||(t[10]=(0,i.Lk)("h1",{class:"text-lg sm:text-xl font-semibold text-neutral-900 truncate"},"Dashboard",-1)),(0,i.Lk)("p",qs,"Welcome back, "+(0,l.v_)(r.userName)+"!",1)]),(0,i.Lk)("div",Hs,[(0,i.bF)(d,{to:"/book-technician",class:"btn btn-primary whitespace-nowrap sm:px-4 sm:py-2"},{default:(0,i.k6)(()=>[...t[11]||(t[11]=[(0,i.Lk)("svg",{class:"w-6 h-6 sm:w-4 sm:h-4 sm:mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),(0,i.Lk)("span",{class:"hidden sm:inline"},"Book a Technician",-1)])]),_:1}),(0,i.Lk)("div",Os,[(0,i.Lk)("span",Js,(0,l.v_)(r.userInitials),1),(0,i.Lk)("div",Ks,[(0,i.Lk)("p",Ys,(0,l.v_)(r.userName),1),t[12]||(t[12]=(0,i.Lk)("p",{class:"text-xs text-neutral-500"},"Customer",-1))])])])])]),(0,i.Lk)("div",Gs,[o.loading?((0,i.uX)(),(0,i.CE)("div",Zs,[...t[13]||(t[13]=[(0,i.Lk)("div",{class:"spinner spinner-lg"},null,-1)])])):((0,i.uX)(),(0,i.CE)(i.FK,{key:1},[o.error?((0,i.uX)(),(0,i.Wv)(u,{key:0,type:"error",message:o.error,class:"mb-6",onDismiss:t[0]||(t[0]=e=>o.error=null)},null,8,["message"])):(0,i.Q3)("",!0),(0,i.Lk)("div",ei,[(0,i.Lk)("div",ti,[(0,i.Lk)("div",ai,[(0,i.Lk)("div",si,[(0,i.Lk)("div",null,[t[14]||(t[14]=(0,i.Lk)("p",{class:"text-sm text-neutral-500 mb-1"},"Active Bookings",-1)),(0,i.Lk)("p",ii,(0,l.v_)(r.activeBookingsCount),1)]),t[15]||(t[15]=(0,i.Lk)("div",{class:"icon-box icon-box-primary"},[(0,i.Lk)("svg",{class:"w-6 h-6 text-primary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})])],-1))]),(0,i.bF)(d,{to:"/my-bookings",class:"text-sm text-primary-600 hover:underline mt-3 inline-block"},{default:(0,i.k6)(()=>[...t[16]||(t[16]=[(0,i.eW)("View all →",-1)])]),_:1})])]),(0,i.Lk)("div",ni,[(0,i.Lk)("div",oi,[(0,i.Lk)("div",ri,[(0,i.Lk)("div",null,[t[17]||(t[17]=(0,i.Lk)("p",{class:"text-sm text-neutral-500 mb-1"},"Pending Payment",-1)),(0,i.Lk)("p",li,(0,l.v_)(r.unpaidBookingsCount),1)]),t[18]||(t[18]=(0,i.Lk)("div",{class:"icon-box icon-box-warning"},[(0,i.Lk)("svg",{class:"w-6 h-6 text-warning-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))]),(0,i.Lk)("p",ci,"$"+(0,l.v_)(r.unpaidTotalAmount),1)])]),(0,i.Lk)("div",di,[(0,i.Lk)("div",ui,[(0,i.Lk)("div",mi,[(0,i.Lk)("div",null,[t[19]||(t[19]=(0,i.Lk)("p",{class:"text-sm text-neutral-500 mb-1"},"Completed (Month)",-1)),(0,i.Lk)("p",pi,(0,l.v_)(r.completedThisMonth),1)]),t[20]||(t[20]=(0,i.Lk)("div",{class:"icon-box icon-box-success"},[(0,i.Lk)("svg",{class:"w-6 h-6 text-success-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))]),t[21]||(t[21]=(0,i.Lk)("p",{class:"text-sm text-success-600 mt-3"},"Great job!",-1))])]),(0,i.Lk)("div",hi,[(0,i.Lk)("div",ki,[(0,i.Lk)("div",gi,[(0,i.Lk)("div",null,[t[22]||(t[22]=(0,i.Lk)("p",{class:"text-sm text-neutral-500 mb-1"},"Total Spent",-1)),(0,i.Lk)("p",vi,"$"+(0,l.v_)(r.totalSpent),1)]),t[23]||(t[23]=(0,i.Lk)("div",{class:"icon-box icon-box-secondary"},[(0,i.Lk)("svg",{class:"w-6 h-6 text-secondary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})])],-1))]),t[24]||(t[24]=(0,i.Lk)("p",{class:"text-sm text-neutral-500 mt-3"},"All time",-1))])])]),(0,i.Lk)("div",bi,[r.unpaidBookings.length>0?((0,i.uX)(),(0,i.CE)("div",fi,[t[25]||(t[25]=(0,i.Lk)("div",{class:"card-header"},[(0,i.Lk)("h3",{class:"font-semibold text-neutral-900"},"Pending Payments")],-1)),(0,i.Lk)("div",xi,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(r.unpaidBookings.slice(0,3),e=>((0,i.uX)(),(0,i.CE)("div",{key:e.id,class:"p-4"},[(0,i.Lk)("div",yi,[(0,i.Lk)("div",null,[(0,i.Lk)("p",Li,(0,l.v_)(e.applianceType),1),(0,i.Lk)("p",wi,(0,l.v_)(r.formatDate(e.scheduledDate)),1)]),(0,i.Lk)("span",Ci,"$"+(0,l.v_)(e.price),1)]),(0,i.Lk)("button",{onClick:t=>r.handlePayment(e),class:"btn btn-warning btn-sm w-full"}," Pay Now ",8,Ai)]))),128))])])):(0,i.Q3)("",!0),(0,i.Lk)("div",Mi,[(0,i.Lk)("div",Ti,[(0,i.Lk)("div",_i,[t[27]||(t[27]=(0,i.Lk)("h3",{class:"font-semibold text-neutral-900"},"Recent Bookings",-1)),(0,i.bF)(d,{to:"/my-bookings",class:"text-sm text-primary-600 hover:underline"},{default:(0,i.k6)(()=>[...t[26]||(t[26]=[(0,i.eW)("View all",-1)])]),_:1})]),0===r.recentBookings.length?((0,i.uX)(),(0,i.CE)("div",Bi,[t[29]||(t[29]=(0,i.Lk)("svg",{class:"w-12 h-12 mx-auto text-neutral-300 mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})],-1)),t[30]||(t[30]=(0,i.Lk)("p",{class:"text-neutral-500 mb-4"},"No bookings yet",-1)),(0,i.bF)(d,{to:"/book-technician",class:"btn btn-primary"},{default:(0,i.k6)(()=>[...t[28]||(t[28]=[(0,i.eW)("Book Your First Repair",-1)])]),_:1})])):((0,i.uX)(),(0,i.CE)("div",Si,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(r.recentBookings,e=>((0,i.uX)(),(0,i.CE)("div",{key:e.id,class:"p-4 hover:bg-neutral-50 transition-colors"},[(0,i.Lk)("div",Fi,[(0,i.Lk)("div",Ei,[(0,i.Lk)("div",Di,[(0,i.Lk)("h4",Pi,(0,l.v_)(e.applianceType||"Appliance Repair"),1),(0,i.Lk)("span",{class:(0,l.C4)(r.getBadgeClass(e.status))},(0,l.v_)(r.getStatusLabel(e.status)),3)]),(0,i.Lk)("p",Xi,"Booking #"+(0,l.v_)(e.id),1)]),(0,i.Lk)("span",Ni,"$"+(0,l.v_)(e.price),1)]),(0,i.Lk)("div",Vi,[(0,i.Lk)("div",ji,[t[31]||(t[31]=(0,i.Lk)("span",{class:"text-neutral-500"},"Date:",-1)),(0,i.Lk)("span",Ri,(0,l.v_)(r.formatDate(e.scheduledDate)),1)]),(0,i.Lk)("div",Ii,[t[32]||(t[32]=(0,i.Lk)("span",{class:"text-neutral-500"},"Time:",-1)),(0,i.Lk)("span",Ui,(0,l.v_)(r.formatTime(e.scheduledTime)),1)])]),e.technicianName?((0,i.uX)(),(0,i.CE)("div",$i,[t[33]||(t[33]=(0,i.Lk)("svg",{class:"w-4 h-4 inline mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1)),(0,i.eW)(" Technician: "+(0,l.v_)(e.technicianName),1)])):(0,i.Q3)("",!0),(0,i.Lk)("div",zi,[(0,i.bF)(d,{to:`/booking/${e.id}`,class:"btn btn-outline btn-sm"},{default:(0,i.k6)(()=>[...t[34]||(t[34]=[(0,i.eW)(" View Details ",-1)])]),_:1},8,["to"]),"confirmed"!==e.status&&"in-progress"!==e.status||e.isPaid?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("button",{key:0,onClick:t=>r.handlePayment(e),class:"btn btn-primary btn-sm"}," Pay Now ",8,Wi)),"completed"!==e.status||e.isRated?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("button",{key:1,onClick:t=>r.handleRating(e),class:"btn btn-secondary btn-sm"}," Rate Service ",8,Qi)),"pending"===e.status?((0,i.uX)(),(0,i.CE)("button",{key:2,onClick:t=>r.handleCancel(e),class:"btn btn-error btn-sm"}," Cancel ",8,qi)):(0,i.Q3)("",!0)])]))),128))]))])]),(0,i.Lk)("div",Hi,[(0,i.Lk)("div",Oi,[t[37]||(t[37]=(0,i.Lk)("div",{class:"card-header"},[(0,i.Lk)("h3",{class:"font-semibold text-neutral-900"},"Quick Actions")],-1)),(0,i.Lk)("div",Ji,[(0,i.bF)(d,{to:"/my-bookings",class:"quick-action-btn"},{default:(0,i.k6)(()=>[...t[35]||(t[35]=[(0,i.Lk)("div",{class:"icon-box icon-box-secondary"},[(0,i.Lk)("svg",{class:"w-5 h-5 text-secondary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})])],-1),(0,i.Lk)("div",{class:"flex-1"},[(0,i.Lk)("p",{class:"font-medium text-neutral-900"},"My Bookings"),(0,i.Lk)("p",{class:"text-xs text-neutral-500"},"View all bookings")],-1),(0,i.Lk)("svg",{class:"w-5 h-5 text-neutral-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])]),_:1}),(0,i.bF)(d,{to:"/profile",class:"quick-action-btn"},{default:(0,i.k6)(()=>[...t[36]||(t[36]=[(0,i.Lk)("div",{class:"icon-box icon-box-neutral"},[(0,i.Lk)("svg",{class:"w-5 h-5 text-neutral-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])],-1),(0,i.Lk)("div",{class:"flex-1"},[(0,i.Lk)("p",{class:"font-medium text-neutral-900"},"My Profile"),(0,i.Lk)("p",{class:"text-xs text-neutral-500"},"Update information")],-1),(0,i.Lk)("svg",{class:"w-5 h-5 text-neutral-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])]),_:1})])]),r.unratedBookings.length>0?((0,i.uX)(),(0,i.CE)("div",Ki,[t[38]||(t[38]=(0,i.Lk)("div",{class:"card-header"},[(0,i.Lk)("h3",{class:"font-semibold text-neutral-900"},"Rate Your Experience")],-1)),(0,i.Lk)("div",Yi,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(r.unratedBookings.slice(0,3),e=>((0,i.uX)(),(0,i.CE)("div",{key:e.id,class:"p-4"},[(0,i.Lk)("div",Gi,[(0,i.Lk)("p",Zi,(0,l.v_)(e.applianceType),1),(0,i.Lk)("p",en,"Completed on "+(0,l.v_)(r.formatDate(e.scheduledDate)),1),e.technicianName?((0,i.uX)(),(0,i.CE)("p",tn,"by "+(0,l.v_)(e.technicianName),1)):(0,i.Q3)("",!0)]),(0,i.Lk)("button",{onClick:t=>r.handleRating(e),class:"btn btn-secondary btn-sm w-full"}," Rate Service ",8,an)]))),128))])])):(0,i.Q3)("",!0)])])],64))]),o.showPaymentModal?((0,i.uX)(),(0,i.Wv)(m,{key:0,onClose:t[4]||(t[4]=e=>o.showPaymentModal=!1),title:"Payment Confirmation"},{default:(0,i.k6)(()=>[(0,i.Lk)("div",sn,[o.error?((0,i.uX)(),(0,i.Wv)(u,{key:0,type:"error",message:o.error,class:"mb-4",onDismiss:t[1]||(t[1]=e=>o.error=null)},null,8,["message"])):(0,i.Q3)("",!0),(0,i.Lk)("div",nn,[t[39]||(t[39]=(0,i.Lk)("p",{class:"text-sm text-neutral-600 mb-2"},"Booking Details:",-1)),(0,i.Lk)("p",on,(0,l.v_)(o.selectedBooking?.applianceType),1),(0,i.Lk)("p",rn,(0,l.v_)(r.formatDate(o.selectedBooking?.scheduledDate))+" at "+(0,l.v_)(r.formatTime(o.selectedBooking?.scheduledTime)),1)]),(0,i.Lk)("div",ln,[(0,i.Lk)("div",cn,[t[40]||(t[40]=(0,i.Lk)("span",{class:"text-neutral-600"},"Total Amount:",-1)),(0,i.Lk)("span",dn,"$"+(0,l.v_)(o.selectedBooking?.price),1)])]),(0,i.Lk)("div",un,[t[41]||(t[41]=(0,i.Lk)("label",{class:"block text-sm font-medium text-neutral-700 mb-2"},"Payment Method",-1)),(0,i.Lk)("div",mn,(0,l.v_)(r.formatPaymentMethod(o.paymentMethod)),1),t[42]||(t[42]=(0,i.Lk)("p",{class:"text-xs text-neutral-500 mt-1"},"Payment method was set when booking was created",-1))]),(0,i.Lk)("div",pn,[t[43]||(t[43]=(0,i.Lk)("p",{class:"text-xs text-primary-600 mb-1"},"Transaction ID (auto-generated)",-1)),(0,i.Lk)("p",hn,(0,l.v_)(o.generatedTransactionId),1)]),(0,i.Lk)("div",kn,[(0,i.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>r.confirmPayment&&r.confirmPayment(...e)),class:"btn btn-primary flex-1",disabled:o.processingPayment},[o.processingPayment?((0,i.uX)(),(0,i.CE)("span",vn)):(0,i.Q3)("",!0),(0,i.eW)(" "+(0,l.v_)(o.processingPayment?"Processing...":"Confirm Payment"),1)],8,gn),(0,i.Lk)("button",{onClick:t[3]||(t[3]=e=>o.showPaymentModal=!1),class:"btn btn-outline flex-1"},"Cancel")])])]),_:1})):(0,i.Q3)("",!0),o.showRatingModal?((0,i.uX)(),(0,i.Wv)(m,{key:1,onClose:t[9]||(t[9]=e=>o.showRatingModal=!1),title:"Rate Your Experience"},{default:(0,i.k6)(()=>[(0,i.Lk)("div",bn,[o.error?((0,i.uX)(),(0,i.Wv)(u,{key:0,type:"error",message:o.error,class:"mb-4",onDismiss:t[5]||(t[5]=e=>o.error=null)},null,8,["message"])):(0,i.Q3)("",!0),(0,i.Lk)("div",fn,[t[44]||(t[44]=(0,i.Lk)("p",{class:"text-sm text-neutral-600 mb-2"},"Service Details:",-1)),(0,i.Lk)("p",xn,(0,l.v_)(o.selectedBooking?.applianceType),1),o.selectedBooking?.technicianName?((0,i.uX)(),(0,i.CE)("p",yn,"Technician: "+(0,l.v_)(o.selectedBooking?.technicianName),1)):(0,i.Q3)("",!0)]),(0,i.Lk)("div",Ln,[t[45]||(t[45]=(0,i.Lk)("label",{class:"block text-sm font-medium text-neutral-700 mb-2"},"Rating",-1)),(0,i.Lk)("div",wn,[((0,i.uX)(),(0,i.CE)(i.FK,null,(0,i.pI)(5,e=>(0,i.Lk)("button",{key:e,onClick:t=>o.ratingScore=e,type:"button",class:(0,l.C4)(["text-3xl transition-colors",e<=o.ratingScore?"text-warning-500":"text-neutral-300 hover:text-warning-400"])}," ★ ",10,Cn)),64))])]),(0,i.Lk)("div",An,[t[46]||(t[46]=(0,i.Lk)("label",{class:"block text-sm font-medium text-neutral-700 mb-2"},"Review (minimum 15 characters)",-1)),(0,i.bo)((0,i.Lk)("textarea",{"onUpdate:modelValue":t[6]||(t[6]=e=>o.reviewText=e),rows:"4",class:"form-textarea",placeholder:"Share your experience..."},null,512),[[s.Jo,o.reviewText]]),(0,i.Lk)("p",Mn,(0,l.v_)(o.reviewText.length)+" / 15 characters minimum",1)]),(0,i.Lk)("div",Tn,[(0,i.Lk)("button",{onClick:t[7]||(t[7]=(...e)=>r.confirmRating&&r.confirmRating(...e)),class:"btn btn-primary flex-1",disabled:o.processingRating||0===o.ratingScore||o.reviewText.length<15},[o.processingRating?((0,i.uX)(),(0,i.CE)("span",Bn)):(0,i.Q3)("",!0),(0,i.eW)(" "+(0,l.v_)(o.processingRating?"Submitting...":"Submit Rating"),1)],8,_n),(0,i.Lk)("button",{onClick:t[8]||(t[8]=e=>o.showRatingModal=!1),class:"btn btn-outline flex-1"},"Cancel")])])]),_:1})):(0,i.Q3)("",!0)])])}a(8237);const Fn=(0,x.nY)("booking",{state:()=>({pending:[],confirmed:[],inProgress:[],completed:[],cancelled:[],loading:!1,error:null}),getters:{allBookings:e=>[...e.pending,...e.confirmed,...e.inProgress,...e.completed,...e.cancelled],activeCount:e=>e.pending.length+e.confirmed.length+e.inProgress.length},actions:{async fetchAll(){this.loading=!0,this.error=null;try{const e=await A.getAll();this.pending=e.pending||[],this.confirmed=e.confirmed||[],this.inProgress=e.inProgress||[],this.completed=e.completed||[],this.cancelled=e.cancelled||[]}catch(e){throw this.error=e.message,e}finally{this.loading=!1}},async requestBooking(e){this.loading=!0,this.error=null;try{const{data:t}=await A.request(e);return this.pending.push(t),t}catch(t){throw this.error=t.message,t}finally{this.loading=!1}},async payBooking(e,t=0){this.loading=!0;try{await A.pay(e,t),await this.fetchAll()}catch(a){throw this.error=a.message,a}finally{this.loading=!1}},async rateBooking(e,t,a){this.loading=!0;try{await A.rate(e,t,a),await this.fetchAll()}catch(s){throw this.error=s.message,s}finally{this.loading=!1}},async cancelBooking(e){this.loading=!0;try{await A.cancel(e),await this.fetchAll()}catch(t){throw this.error=t.message,t}finally{this.loading=!1}}}}),En=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"",Dn=e=>{if(!e)return"";if("string"===typeof e&&/^\d{1,2}:\d{2}(:\d{2})?$/.test(e)){const[t,a]=e.split(":"),s=parseInt(t,10),i=s>=12?"PM":"AM",n=s%12||12;return`${n}:${a} ${i}`}const t=new Date(e);return isNaN(t.getTime())?e:t.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})},Pn={class:"flex min-h-screen items-center justify-center p-4"},Xn=["aria-labelledby"],Nn={class:"flex items-center justify-between p-4 border-b border-neutral-200"},Vn={class:"text-lg font-semibold text-neutral-900"};function jn(e,t,a,n,o,r){return(0,i.uX)(),(0,i.CE)("div",{class:"fixed inset-0 z-50 overflow-y-auto",onClick:t[2]||(t[2]=(0,s.D$)(t=>e.$emit("close"),["self"]))},[(0,i.Lk)("div",Pn,[(0,i.Lk)("div",{class:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t[0]||(t[0]=t=>e.$emit("close"))}),(0,i.Lk)("div",{class:"relative bg-white rounded-lg shadow-xl max-w-lg w-full",role:"dialog","aria-modal":"true","aria-labelledby":a.title},[(0,i.Lk)("div",Nn,[(0,i.Lk)("h3",Vn,(0,l.v_)(a.title),1),(0,i.Lk)("button",{type:"button",onClick:t[1]||(t[1]=t=>e.$emit("close")),class:"text-neutral-400 hover:text-neutral-600 transition-colors","aria-label":"Close modal"},[...t[3]||(t[3]=[(0,i.Lk)("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),(0,i.RG)(e.$slots,"default")],8,Xn)])])}var Rn={name:"BaseModal",props:{title:{type:String,default:"Modal"}},emits:["close"]};const In=(0,P.A)(Rn,[["render",jn]]);var Un=In;const $n={key:0,class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},zn={key:1,class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Wn={class:"p-4 space-y-1"},Qn={key:0,class:"ml-auto bg-primary-500 text-white text-xs px-2 py-0.5 rounded-full"},qn={class:"absolute bottom-0 left-0 right-0 p-4 border-t border-primary-700"};function Hn(e,t,a,s,n,o){const r=(0,i.g2)("router-link");return(0,i.uX)(),(0,i.CE)("div",null,[(0,i.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>o.toggleSidebar&&o.toggleSidebar(...e)),class:(0,l.C4)(["lg:hidden fixed top-4 left-4 z-50 p-2 bg-primary-800 text-white rounded-lg shadow-lg",{"left-[17rem]":n.isOpen}]),"aria-label":"Toggle sidebar menu"},[n.isOpen?((0,i.uX)(),(0,i.CE)("svg",zn,[...t[4]||(t[4]=[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,-1)])])):((0,i.uX)(),(0,i.CE)("svg",$n,[...t[3]||(t[3]=[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},null,-1)])]))],2),n.isOpen?((0,i.uX)(),(0,i.CE)("div",{key:0,class:"lg:hidden fixed inset-0 bg-black/50 z-30",onClick:t[1]||(t[1]=(...e)=>o.closeSidebar&&o.closeSidebar(...e))})):(0,i.Q3)("",!0),(0,i.Lk)("aside",{class:(0,l.C4)(["fixed left-0 top-0 bottom-0 w-64 bg-primary-800 text-white overflow-y-auto z-40 transform transition-transform duration-300 ease-in-out",{"-translate-x-full lg:translate-x-0":!n.isOpen,"translate-x-0":n.isOpen}]),role:"navigation","aria-label":"User navigation"},[t[16]||(t[16]=(0,i.Fv)('<div class="p-6 border-b border-primary-700"><div class="flex items-center gap-3"><div class="w-10 h-10 bg-white rounded-lg flex items-center justify-center"><img src="/images/logo/fixappliance-icon.svg" alt="FixAppliance" class="w-6 h-6"></div><div class="text-white"><p class="font-bold text-white">FixAppliance</p><p class="text-xs text-primary-300">Customer Portal</p></div></div></div>',1)),(0,i.Lk)("nav",Wn,[(0,i.bF)(r,{to:"/dashboard",class:(0,l.C4)(o.getLinkClass("/dashboard"))},{default:(0,i.k6)(()=>[...t[5]||(t[5]=[(0,i.Lk)("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})],-1),(0,i.Lk)("span",null,"Dashboard",-1)])]),_:1},8,["class"]),(0,i.bF)(r,{to:"/book-technician",class:(0,l.C4)(o.getLinkClass("/book-technician"))},{default:(0,i.k6)(()=>[...t[6]||(t[6]=[(0,i.Lk)("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),(0,i.Lk)("span",null,"Book a Technician",-1)])]),_:1},8,["class"]),(0,i.bF)(r,{to:"/my-bookings",class:(0,l.C4)(o.getLinkClass("/my-bookings"))},{default:(0,i.k6)(()=>[t[7]||(t[7]=(0,i.Lk)("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),t[8]||(t[8]=(0,i.Lk)("span",null,"My Bookings",-1)),o.activeCount>0?((0,i.uX)(),(0,i.CE)("span",Qn,(0,l.v_)(o.activeCount),1)):(0,i.Q3)("",!0)]),_:1},8,["class"]),t[13]||(t[13]=(0,i.Lk)("div",{class:"pt-4 pb-2 px-4"},[(0,i.Lk)("span",{class:"text-xs text-primary-400 uppercase tracking-wider"},"Account")],-1)),(0,i.bF)(r,{to:"/profile",class:(0,l.C4)(o.getLinkClass("/profile"))},{default:(0,i.k6)(()=>[...t[9]||(t[9]=[(0,i.Lk)("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1),(0,i.Lk)("span",null,"My Profile",-1)])]),_:1},8,["class"]),t[14]||(t[14]=(0,i.Lk)("div",{class:"pt-4 pb-2 px-4"},[(0,i.Lk)("span",{class:"text-xs text-primary-400 uppercase tracking-wider"},"Quick Links")],-1)),(0,i.bF)(r,{to:"/",class:(0,l.C4)(o.getLinkClass("/"))},{default:(0,i.k6)(()=>[...t[10]||(t[10]=[(0,i.Lk)("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})],-1),(0,i.Lk)("span",null,"Home Page",-1)])]),_:1},8,["class"]),(0,i.bF)(r,{to:"/about",class:(0,l.C4)(o.getLinkClass("/about"))},{default:(0,i.k6)(()=>[...t[11]||(t[11]=[(0,i.Lk)("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),(0,i.Lk)("span",null,"About Us",-1)])]),_:1},8,["class"]),(0,i.bF)(r,{to:"/contact",class:(0,l.C4)(o.getLinkClass("/contact"))},{default:(0,i.k6)(()=>[...t[12]||(t[12]=[(0,i.Lk)("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})],-1),(0,i.Lk)("span",null,"Contact",-1)])]),_:1},8,["class"])]),(0,i.Lk)("div",qn,[(0,i.Lk)("button",{type:"button",onClick:t[2]||(t[2]=(...e)=>o.handleLogout&&o.handleLogout(...e)),class:"flex items-center gap-3 px-4 py-3 w-full rounded-lg text-primary-200 hover:bg-primary-700 hover:text-white transition-colors"},[...t[15]||(t[15]=[(0,i.Lk)("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1),(0,i.Lk)("span",null,"Logout",-1)])])])],2)])}var On={name:"UserSidebar",data(){return{authStore:null,bookingStore:null,isOpen:!1}},created(){this.authStore=F(),this.bookingStore=Fn()},computed:{currentPath(){return this.$route.path},activeCount(){if(!this.bookingStore)return 0;const e=this.bookingStore.pending?.length||0,t=this.bookingStore.confirmed?.length||0,a=this.bookingStore.inProgress?.length||0;return e+t+a}},watch:{$route(){this.isOpen=!1}},methods:{toggleSidebar(){this.isOpen=!this.isOpen},closeSidebar(){this.isOpen=!1},getLinkClass(e){const t="flex items-center gap-3 px-4 py-3 rounded-lg transition-colors",a=this.currentPath===e||"/"!==e&&this.currentPath.startsWith(e);return a?`${t} bg-primary-700 text-white hover:bg-primary-600 hover:text-white`:`${t} text-primary-200 hover:bg-primary-700 hover:text-white`},async handleLogout(){try{await this.authStore.logout()}catch(e){console.error("Logout error:",e)}this.$router.push("/login")}}};const Jn=(0,P.A)(On,[["render",Hn]]);var Kn=Jn,Yn=a(144);function Gn(){const e=(0,Yn.KR)(!1),t=(0,Yn.KR)(null);let a=null,s=null;const n=()=>{document.hidden?a&&(clearInterval(a),a=null):s&&o(s.fn,s.interval)},o=(i,n=15e3)=>{a&&(clearInterval(a),a=null),s={fn:i,interval:n},i(),document.hidden||(a=setInterval(async()=>{e.value=!0;try{await i(),t.value=new Date}catch(a){console.error("Auto-refresh error:",a)}finally{e.value=!1}},n))},r=()=>{a&&(clearInterval(a),a=null),s=null};return(0,i.sV)(()=>{document.addEventListener("visibilitychange",n)}),(0,i.hi)(()=>{document.removeEventListener("visibilitychange",n),r()}),{isRefreshing:e,lastUpdated:t,startAutoRefresh:o,stopAutoRefresh:r}}var Zn={name:"UserDashboardView",components:{AlertMessage:xt,BaseModal:Un,UserSidebar:Kn},data(){const{isRefreshing:e,lastUpdated:t,startAutoRefresh:a,stopAutoRefresh:s}=Gn();return{loading:!1,error:null,showPaymentModal:!1,showRatingModal:!1,selectedBooking:null,paymentMethod:"cash",generatedTransactionId:"",processingPayment:!1,ratingScore:0,reviewText:"",processingRating:!1,isRefreshing:e,lastUpdated:t,startAutoRefresh:a,stopAutoRefresh:s}},computed:{authStore(){return F()},bookingStore(){return Fn()},user(){return this.authStore.user||{}},userName(){return this.user.firstName&&this.user.lastName?`${this.user.firstName} ${this.user.lastName}`:this.user.name||"User"},userInitials(){return this.user.firstName&&this.user.lastName?`${this.user.firstName[0]}${this.user.lastName[0]}`.toUpperCase():this.userName.split(" ").map(e=>e[0]).join("").toUpperCase().substring(0,2)||"U"},allBookings(){return this.bookingStore.allBookings||[]},pendingBookings(){return this.bookingStore.pending||[]},confirmedBookings(){return this.bookingStore.confirmed||[]},inProgressBookings(){return this.bookingStore.inProgress||[]},completedBookings(){return this.bookingStore.completed||[]},activeBookingsCount(){return this.bookingStore.activeCount||0},unpaidBookings(){return[...this.confirmedBookings,...this.inProgressBookings,...this.completedBookings].filter(e=>!e.isPaid).sort((e,t)=>new Date(e.scheduledDate)-new Date(t.scheduledDate))},unpaidBookingsCount(){return this.unpaidBookings.length},unpaidTotalAmount(){const e=this.unpaidBookings.reduce((e,t)=>e+parseFloat(t.price||0),0);return e.toFixed(2)},unratedBookings(){return this.completedBookings.filter(e=>!e.isRated).sort((e,t)=>new Date(t.scheduledDate)-new Date(e.scheduledDate))},completedThisMonth(){const e=new Date,t=e.getMonth(),a=e.getFullYear();return this.completedBookings.filter(e=>{const s=new Date(e.scheduledDate);return s.getMonth()===t&&s.getFullYear()===a}).length},totalSpent(){const e=this.completedBookings.filter(e=>e.isPaid).reduce((e,t)=>e+parseFloat(t.price||0),0);return e.toFixed(2)},recentBookings(){return this.allBookings.slice().sort((e,t)=>new Date(t.scheduledDate)-new Date(e.scheduledDate)).slice(0,5)}},watch:{},async mounted(){await this.loadDashboardData(),this.startAutoRefresh(async()=>{await this.loadDashboardData()},15e3)},unmounted(){this.stopAutoRefresh()},methods:{formatDate:En,formatTime:Dn,async loadDashboardData(){this.loading=!0,this.error=null;try{await this.bookingStore.fetchAll()}catch(e){this.error=e.response?.data?.message||e.message||"Failed to load dashboard data",window.scrollTo({top:0,behavior:"smooth"})}finally{this.loading=!1}},getBadgeClass(e){const t={pending:"badge badge-pending",confirmed:"badge badge-confirmed","in-progress":"badge badge-in-progress",completed:"badge badge-completed",cancelled:"badge badge-cancelled"};return t[e]||"badge"},getStatusLabel(e){const t={pending:"Pending",confirmed:"Confirmed","in-progress":"In Progress",completed:"Completed",cancelled:"Cancelled"};return t[e]||e},formatPaymentMethod(e){const t={cash:"Cash",credit_card:"Credit Card",debit_card:"Debit Card",whish:"Whish",omt:"OMT"};return t[e]||e},generateTransactionId(){const e=Date.now().toString(36).toUpperCase(),t=Math.random().toString(36).substring(2,8).toUpperCase(),a={cash:"CSH",credit_card:"CC",debit_card:"DC",whish:"WSH",omt:"OMT"};return`${a[this.paymentMethod]||"TXN"}-${e}-${t}`},handlePayment(e){this.selectedBooking=e,this.paymentMethod=e.paymentMethod||"cash",this.generatedTransactionId=this.generateTransactionId(),this.showPaymentModal=!0},async confirmPayment(){this.processingPayment=!0,this.error=null;try{await this.bookingStore.payBooking(this.selectedBooking.id,this.generatedTransactionId),this.showPaymentModal=!1,await this.loadDashboardData()}catch(e){this.error=e.response?.data?.message||e.message||"Failed to process payment"}finally{this.processingPayment=!1}},handleRating(e){this.selectedBooking=e,this.ratingScore=0,this.reviewText="",this.showRatingModal=!0},async confirmRating(){if(0!==this.ratingScore)if(this.reviewText.length<15)this.error="Review must be at least 15 characters";else{this.processingRating=!0,this.error=null;try{await this.bookingStore.rateBooking(this.selectedBooking.id,this.ratingScore,this.reviewText),this.showRatingModal=!1,await this.loadDashboardData()}catch(e){this.error=e.response?.data?.message||e.message||"Failed to submit rating"}finally{this.processingRating=!1}}else this.error="Please select a rating"},async handleCancel(e){if(confirm("Are you sure you want to cancel this booking?")){this.error=null;try{await this.bookingStore.cancelBooking(e.id),await this.loadDashboardData()}catch(t){this.error=t.response?.data?.message||t.message||"Failed to cancel booking",window.scrollTo({top:0,behavior:"smooth"})}}}}};const eo=(0,P.A)(Zn,[["render",Sn],["__scopeId","data-v-46915130"]]);var to=eo;const ao={key:0,class:"bg-white border-b border-neutral-100 px-4 sm:px-6 py-4"},so={key:1,class:"page-header"},io={class:"container-wide"},no={class:"breadcrumb mb-4"},oo={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},ro={class:"lg:col-span-2"},lo={class:"card"},co={class:"card-body"},uo={class:"form-section"},mo={key:0,class:"flex items-center justify-center py-8"},po={key:1},ho={class:"flex flex-wrap gap-2 mb-4"},ko=["onClick"],go=["src","alt"],vo={class:"text-xs opacity-75"},bo={key:0,class:"border border-neutral-200 rounded-lg p-4 bg-white"},fo={class:"flex items-center gap-2 mb-3 pb-2 border-b border-neutral-100"},xo=["src","alt"],yo={class:"font-semibold text-neutral-900"},Lo={class:"grid grid-cols-2 md:grid-cols-3 gap-3",role:"radiogroup","aria-label":"Select appliance type"},wo=["value","aria-label"],Co={class:"p-3 border-2 border-neutral-200 rounded-lg text-center peer-checked:border-primary-500 peer-checked:bg-primary-50 transition-all hover:border-primary-300 hover:shadow-sm"},Ao={class:"text-sm font-medium block mb-1"},Mo={class:"text-xs text-neutral-500"},To={key:1,class:"border border-dashed border-neutral-300 rounded-lg p-6 text-center bg-neutral-50"},_o={key:2,class:"mt-4 p-3 bg-success-50 border border-success-200 rounded-lg flex items-center gap-3"},Bo={class:"flex-1"},So={class:"text-sm font-medium text-success-800"},Fo={class:"text-xs text-success-600 ml-2"},Eo={class:"form-section"},Do={class:"form-group"},Po={class:"flex flex-wrap gap-2"},Xo={class:"form-section"},No={class:"form-row"},Vo={class:"form-group"},jo=["min"],Ro={class:"form-group"},Io={class:"form-section"},Uo={class:"grid grid-cols-3 md:grid-cols-5 gap-2"},$o={class:"relative cursor-pointer"},zo={class:"relative cursor-pointer"},Wo={class:"relative cursor-pointer"},Qo={class:"relative cursor-pointer"},qo={class:"relative cursor-pointer"},Ho={class:"flex justify-end gap-3 pt-4 border-t border-neutral-100"},Oo=["disabled"],Jo={key:0,class:"animate-spin w-5 h-5",fill:"none",viewBox:"0 0 24 24"},Ko={class:"lg:col-span-1"},Yo={class:"card sticky top-6"},Go={class:"card-body"},Zo={class:"space-y-4"},er={class:"flex items-center gap-3 text-sm"},tr={class:"font-medium text-neutral-900"},ar={class:"flex items-center gap-3 text-sm"},sr={class:"font-medium text-neutral-900"},ir={class:"space-y-2 text-sm"},nr={class:"flex justify-between"},or={class:"font-medium"},rr={class:"flex justify-between"},lr={class:"text-neutral-600"},cr={class:"font-medium"},dr={class:"flex justify-between text-base"},ur={class:"font-bold text-primary-600"};function mr(e,t,a,n,o,r){const c=(0,i.g2)("UserSidebar"),d=(0,i.g2)("router-link"),u=(0,i.g2)("AlertMessage");return(0,i.uX)(),(0,i.CE)("div",{class:(0,l.C4)(r.isAuthenticated?"min-h-screen flex":"main-content")},[r.isAuthenticated?((0,i.uX)(),(0,i.Wv)(c,{key:0})):(0,i.Q3)("",!0),(0,i.Lk)("main",{class:(0,l.C4)(r.isAuthenticated?"flex-1 lg:ml-64 bg-neutral-50 min-h-screen":"")},[r.isAuthenticated?((0,i.uX)(),(0,i.CE)("header",ao,[...t[18]||(t[18]=[(0,i.Lk)("div",{class:"flex items-center justify-between"},[(0,i.Lk)("div",{class:"ml-14 lg:ml-0"},[(0,i.Lk)("h1",{class:"text-xl font-semibold text-neutral-900"},"Book a Technician"),(0,i.Lk)("p",{class:"text-sm text-neutral-500"},"Get your appliance fixed by a verified professional")])],-1)])])):(0,i.Q3)("",!0),r.isAuthenticated?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("div",so,[(0,i.Lk)("div",io,[(0,i.Lk)("nav",no,[(0,i.bF)(d,{to:"/",class:"breadcrumb-link"},{default:(0,i.k6)(()=>[...t[19]||(t[19]=[(0,i.eW)("Home",-1)])]),_:1}),t[20]||(t[20]=(0,i.Lk)("span",{class:"breadcrumb-separator"},"/",-1)),t[21]||(t[21]=(0,i.Lk)("span",{class:"breadcrumb-current"},"Book a Technician",-1))]),t[22]||(t[22]=(0,i.Lk)("h1",{class:"page-title"},"Book a Technician",-1)),t[23]||(t[23]=(0,i.Lk)("p",{class:"page-description"},"Get your appliance fixed by a verified professional",-1))])])),(0,i.Lk)("div",{class:(0,l.C4)(r.isAuthenticated?"p-6":"section-sm"),ref:"formTop"},[(0,i.Lk)("div",{class:(0,l.C4)(r.isAuthenticated?"":"container-wide")},[(0,i.Lk)("div",oo,[(0,i.Lk)("div",ro,[(0,i.Lk)("div",lo,[(0,i.Lk)("div",co,[(0,i.Lk)("form",{onSubmit:t[17]||(t[17]=(0,s.D$)((...e)=>r.handleSubmit&&r.handleSubmit(...e),["prevent"])),class:"space-y-6"},[o.error?((0,i.uX)(),(0,i.Wv)(u,{key:0,type:"error",message:o.error,onDismiss:t[0]||(t[0]=e=>o.error=null)},null,8,["message"])):(0,i.Q3)("",!0),o.success?((0,i.uX)(),(0,i.Wv)(u,{key:1,type:"success",message:o.success,dismissible:!1},null,8,["message"])):(0,i.Q3)("",!0),(0,i.Lk)("div",uo,[t[28]||(t[28]=(0,i.Lk)("h3",{class:"form-section-title"},"Select Your Appliance",-1)),o.loadingAppliances?((0,i.uX)(),(0,i.CE)("div",mo,[...t[24]||(t[24]=[(0,i.Lk)("div",{class:"spinner spinner-lg"},null,-1)])])):((0,i.uX)(),(0,i.CE)("div",po,[(0,i.Lk)("div",ho,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(r.groupedAppliances,e=>((0,i.uX)(),(0,i.CE)("button",{key:e.id,type:"button",onClick:t=>r.selectCategory(e.id),class:(0,l.C4)(["flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-all",o.selectedCategoryId===e.id?"bg-primary-600 text-white":"bg-white border border-neutral-200 text-neutral-700 hover:border-primary-300 hover:bg-primary-50"])},[e.fileName?((0,i.uX)(),(0,i.CE)("img",{key:0,class:"w-5 h-5",src:"/images/appliance-categories/"+e.fileName,alt:e.name},null,8,go)):(0,i.Q3)("",!0),(0,i.Lk)("span",null,(0,l.v_)(e.name),1),(0,i.Lk)("span",vo,"("+(0,l.v_)(e.types.length)+")",1)],10,ko))),128))]),r.selectedCategory?((0,i.uX)(),(0,i.CE)("div",bo,[(0,i.Lk)("div",fo,[r.selectedCategory.fileName?((0,i.uX)(),(0,i.CE)("img",{key:0,class:"w-6 h-6",src:"/images/appliance-categories/"+r.selectedCategory.fileName,alt:r.selectedCategory.name},null,8,xo)):(0,i.Q3)("",!0),(0,i.Lk)("h4",yo,(0,l.v_)(r.selectedCategory.name),1)]),(0,i.Lk)("div",Lo,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(r.selectedCategory.types,e=>((0,i.uX)(),(0,i.CE)("label",{key:e.id,class:"relative cursor-pointer"},[(0,i.bo)((0,i.Lk)("input",{type:"radio",name:"appliance-type",value:e.id,"onUpdate:modelValue":t[1]||(t[1]=e=>o.form.applianceTypeId=e),class:"peer sr-only","aria-label":e.name},null,8,wo),[[s.XL,o.form.applianceTypeId]]),(0,i.Lk)("div",Co,[(0,i.Lk)("span",Ao,(0,l.v_)(e.name),1),(0,i.Lk)("span",Mo,"$"+(0,l.v_)(e.basePrice?.toFixed(2)||"0.00"),1)])]))),128))])])):((0,i.uX)(),(0,i.CE)("div",To,[...t[25]||(t[25]=[(0,i.Lk)("svg",{class:"w-10 h-10 mx-auto text-neutral-400 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7v8a2 2 0 002 2h6M8 7V5a2 2 0 012-2h4.586a1 1 0 01.707.293l4.414 4.414a1 1 0 01.293.707V15a2 2 0 01-2 2h-2M8 7H6a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2v-2"})],-1),(0,i.Lk)("p",{class:"text-neutral-500 text-sm"},"Select a category above to view available appliances",-1)])])),r.selectedAppliance?((0,i.uX)(),(0,i.CE)("div",_o,[t[27]||(t[27]=(0,i.Lk)("svg",{class:"w-5 h-5 text-success-600 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)),(0,i.Lk)("div",Bo,[(0,i.Lk)("span",So,"Selected: "+(0,l.v_)(r.selectedAppliance.name),1),(0,i.Lk)("span",Fo,"$"+(0,l.v_)(r.selectedAppliance.basePrice?.toFixed(2)),1)]),(0,i.Lk)("button",{type:"button",onClick:t[2]||(t[2]=e=>o.form.applianceTypeId=null),class:"text-success-600 hover:text-success-800"},[...t[26]||(t[26]=[(0,i.Lk)("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])):(0,i.Q3)("",!0)]))]),(0,i.Lk)("div",Eo,[t[30]||(t[30]=(0,i.Lk)("h3",{class:"form-section-title"},"Describe the Issue",-1)),(0,i.Lk)("div",Do,[t[29]||(t[29]=(0,i.Lk)("label",{for:"issue-description",class:"form-label form-label-required"}," What's the problem? ",-1)),(0,i.bo)((0,i.Lk)("textarea",{id:"issue-description","onUpdate:modelValue":t[3]||(t[3]=e=>o.form.description=e),class:"form-textarea",rows:"3",placeholder:"Describe the problem with your appliance...",required:""},null,512),[[s.Jo,o.form.description]])]),(0,i.Lk)("div",Po,[(0,i.Lk)("button",{type:"button",onClick:t[4]||(t[4]=e=>r.appendToDescription("Not starting")),class:"badge badge-neutral hover:bg-neutral-200 cursor-pointer"},"Not starting"),(0,i.Lk)("button",{type:"button",onClick:t[5]||(t[5]=e=>r.appendToDescription("Strange noise")),class:"badge badge-neutral hover:bg-neutral-200 cursor-pointer"},"Strange noise"),(0,i.Lk)("button",{type:"button",onClick:t[6]||(t[6]=e=>r.appendToDescription("Leaking water")),class:"badge badge-neutral hover:bg-neutral-200 cursor-pointer"},"Leaking water"),(0,i.Lk)("button",{type:"button",onClick:t[7]||(t[7]=e=>r.appendToDescription("Not cooling")),class:"badge badge-neutral hover:bg-neutral-200 cursor-pointer"},"Not cooling"),(0,i.Lk)("button",{type:"button",onClick:t[8]||(t[8]=e=>r.appendToDescription("Not heating")),class:"badge badge-neutral hover:bg-neutral-200 cursor-pointer"},"Not heating"),(0,i.Lk)("button",{type:"button",onClick:t[9]||(t[9]=e=>r.appendToDescription("Electrical issue")),class:"badge badge-neutral hover:bg-neutral-200 cursor-pointer"},"Electrical issue")])]),(0,i.Lk)("div",Xo,[t[34]||(t[34]=(0,i.Lk)("h3",{class:"form-section-title"},"Schedule Your Appointment",-1)),(0,i.Lk)("div",No,[(0,i.Lk)("div",Vo,[t[31]||(t[31]=(0,i.Lk)("label",{for:"booking-date",class:"form-label form-label-required"}," Preferred Date ",-1)),(0,i.bo)((0,i.Lk)("input",{type:"date",id:"booking-date","onUpdate:modelValue":t[10]||(t[10]=e=>o.form.scheduledDate=e),min:r.minDate,class:"form-date",required:""},null,8,jo),[[s.Jo,o.form.scheduledDate]])]),(0,i.Lk)("div",Ro,[t[33]||(t[33]=(0,i.Lk)("label",{for:"booking-time",class:"form-label form-label-required"}," Preferred Time ",-1)),(0,i.bo)((0,i.Lk)("select",{id:"booking-time","onUpdate:modelValue":t[11]||(t[11]=e=>o.form.scheduledTime=e),class:"form-select",required:""},[...t[32]||(t[32]=[(0,i.Fv)('<option value="">Select a time slot...</option><option value="08:00:00">8:00 AM - 10:00 AM</option><option value="10:00:00">10:00 AM - 12:00 PM</option><option value="12:00:00">12:00 PM - 2:00 PM</option><option value="14:00:00">2:00 PM - 4:00 PM</option><option value="16:00:00">4:00 PM - 6:00 PM</option><option value="18:00:00">6:00 PM - 8:00 PM</option>',7)])],512),[[s.u1,o.form.scheduledTime]])])])]),(0,i.Lk)("div",Io,[t[40]||(t[40]=(0,i.Lk)("h3",{class:"form-section-title"},"Payment Method",-1)),(0,i.Lk)("div",Uo,[(0,i.Lk)("label",$o,[(0,i.bo)((0,i.Lk)("input",{type:"radio",name:"payment-method",value:"cash","onUpdate:modelValue":t[12]||(t[12]=e=>o.form.paymentMethod=e),class:"peer sr-only",checked:""},null,512),[[s.XL,o.form.paymentMethod]]),t[35]||(t[35]=(0,i.Lk)("div",{class:"p-3 border-2 border-neutral-200 rounded-lg text-center peer-checked:border-primary-500 peer-checked:bg-primary-50 transition-all hover:border-primary-300"},[(0,i.Lk)("svg",{class:"w-5 h-5 mx-auto mb-1 text-neutral-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})]),(0,i.Lk)("span",{class:"text-xs font-medium"},"Cash")],-1))]),(0,i.Lk)("label",zo,[(0,i.bo)((0,i.Lk)("input",{type:"radio",name:"payment-method",value:"credit_card","onUpdate:modelValue":t[13]||(t[13]=e=>o.form.paymentMethod=e),class:"peer sr-only"},null,512),[[s.XL,o.form.paymentMethod]]),t[36]||(t[36]=(0,i.Lk)("div",{class:"p-3 border-2 border-neutral-200 rounded-lg text-center peer-checked:border-primary-500 peer-checked:bg-primary-50 transition-all hover:border-primary-300"},[(0,i.Lk)("svg",{class:"w-5 h-5 mx-auto mb-1 text-neutral-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})]),(0,i.Lk)("span",{class:"text-xs font-medium"},"Credit")],-1))]),(0,i.Lk)("label",Wo,[(0,i.bo)((0,i.Lk)("input",{type:"radio",name:"payment-method",value:"debit_card","onUpdate:modelValue":t[14]||(t[14]=e=>o.form.paymentMethod=e),class:"peer sr-only"},null,512),[[s.XL,o.form.paymentMethod]]),t[37]||(t[37]=(0,i.Lk)("div",{class:"p-3 border-2 border-neutral-200 rounded-lg text-center peer-checked:border-primary-500 peer-checked:bg-primary-50 transition-all hover:border-primary-300"},[(0,i.Lk)("svg",{class:"w-5 h-5 mx-auto mb-1 text-neutral-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})]),(0,i.Lk)("span",{class:"text-xs font-medium"},"Debit")],-1))]),(0,i.Lk)("label",Qo,[(0,i.bo)((0,i.Lk)("input",{type:"radio",name:"payment-method",value:"whish","onUpdate:modelValue":t[15]||(t[15]=e=>o.form.paymentMethod=e),class:"peer sr-only"},null,512),[[s.XL,o.form.paymentMethod]]),t[38]||(t[38]=(0,i.Lk)("div",{class:"p-3 border-2 border-neutral-200 rounded-lg text-center peer-checked:border-primary-500 peer-checked:bg-primary-50 transition-all hover:border-primary-300"},[(0,i.Lk)("svg",{class:"w-5 h-5 mx-auto mb-1 text-neutral-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8V7m0 1v8m0 0v1"})]),(0,i.Lk)("span",{class:"text-xs font-medium"},"Whish")],-1))]),(0,i.Lk)("label",qo,[(0,i.bo)((0,i.Lk)("input",{type:"radio",name:"payment-method",value:"omt","onUpdate:modelValue":t[16]||(t[16]=e=>o.form.paymentMethod=e),class:"peer sr-only"},null,512),[[s.XL,o.form.paymentMethod]]),t[39]||(t[39]=(0,i.Lk)("div",{class:"p-3 border-2 border-neutral-200 rounded-lg text-center peer-checked:border-primary-500 peer-checked:bg-primary-50 transition-all hover:border-primary-300"},[(0,i.Lk)("svg",{class:"w-5 h-5 mx-auto mb-1 text-neutral-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8V7m0 1v8m0 0v1"})]),(0,i.Lk)("span",{class:"text-xs font-medium"},"OMT")],-1))])])]),(0,i.Lk)("div",Ho,[(0,i.bF)(d,{to:"/dashboard",class:"btn btn-ghost"},{default:(0,i.k6)(()=>[...t[41]||(t[41]=[(0,i.eW)("Cancel",-1)])]),_:1}),(0,i.Lk)("button",{type:"submit",class:"btn btn-secondary",disabled:o.loading||!r.isFormValid},[o.loading?((0,i.uX)(),(0,i.CE)("svg",Jo,[...t[42]||(t[42]=[(0,i.Lk)("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),(0,i.Lk)("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(0,i.Q3)("",!0),(0,i.eW)(" "+(0,l.v_)(o.loading?"Submitting...":"Book Now"),1)],8,Oo)])],32)])])]),(0,i.Lk)("div",Ko,[(0,i.Lk)("div",Yo,[t[51]||(t[51]=(0,i.Lk)("div",{class:"card-header"},[(0,i.Lk)("h3",{class:"font-semibold text-neutral-900"},"Booking Summary")],-1)),(0,i.Lk)("div",Go,[(0,i.Lk)("div",Zo,[(0,i.Lk)("div",er,[t[44]||(t[44]=(0,i.Lk)("div",{class:"w-10 h-10 flex items-center justify-center bg-neutral-100 rounded-lg"},[(0,i.Lk)("svg",{class:"w-5 h-5 text-neutral-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})])],-1)),(0,i.Lk)("div",null,[t[43]||(t[43]=(0,i.Lk)("p",{class:"text-neutral-500"},"Appliance",-1)),(0,i.Lk)("p",tr,(0,l.v_)(r.selectedApplianceName||"Select an appliance"),1)])]),(0,i.Lk)("div",ar,[t[46]||(t[46]=(0,i.Lk)("div",{class:"w-10 h-10 flex items-center justify-center bg-neutral-100 rounded-lg"},[(0,i.Lk)("svg",{class:"w-5 h-5 text-neutral-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})])],-1)),(0,i.Lk)("div",null,[t[45]||(t[45]=(0,i.Lk)("p",{class:"text-neutral-500"},"Date & Time",-1)),(0,i.Lk)("p",sr,(0,l.v_)(r.formattedDateTime||"Select date and time"),1)])]),t[49]||(t[49]=(0,i.Lk)("div",{class:"border-t border-neutral-100 pt-4 mt-4"},null,-1)),(0,i.Lk)("div",ir,[(0,i.Lk)("div",nr,[t[47]||(t[47]=(0,i.Lk)("span",{class:"text-neutral-600"},"Service Fee",-1)),(0,i.Lk)("span",or,(0,l.v_)(r.serviceFee>0?"$"+r.serviceFee.toFixed(2):"--"),1)]),(0,i.Lk)("div",rr,[(0,i.Lk)("span",lr,"Platform Fee ("+(0,l.v_)(r.platformFeeRate)+"%)",1),(0,i.Lk)("span",cr,(0,l.v_)(r.platformFee>0?"$"+r.platformFee.toFixed(2):"--"),1)])]),t[50]||(t[50]=(0,i.Lk)("div",{class:"border-t border-neutral-100 pt-4 mt-4"},null,-1)),(0,i.Lk)("div",dr,[t[48]||(t[48]=(0,i.Lk)("span",{class:"font-semibold text-neutral-900"},"Total",-1)),(0,i.Lk)("span",ur,(0,l.v_)(r.totalPrice>0?"$"+r.totalPrice.toFixed(2):"--"),1)])])]),t[52]||(t[52]=(0,i.Lk)("div",{class:"card-footer"},[(0,i.Lk)("div",{class:"flex items-center gap-2 text-sm text-neutral-500"},[(0,i.Lk)("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})]),(0,i.Lk)("span",null,"Secure payment")])],-1))])])])],2)],2)],2)],2)}a(116),a(7588);var pr={name:"BookTechnicianView",components:{AlertMessage:xt,UserSidebar:Kn},data(){return{authStore:null,form:{applianceTypeId:null,description:"",scheduledDate:"",scheduledTime:"",paymentMethod:"cash"},selectedCategoryId:null,loading:!1,loadingAppliances:!1,error:null,success:null}},created(){this.authStore=F()},computed:{isAuthenticated(){return this.authStore?.isAuthenticated||!1},appliances(){return Ce().types},categories(){return Ce().categories},groupedAppliances(){const e=[];return this.categories.forEach(t=>{const a=this.appliances.filter(e=>e.categoryId===t.id);a.length>0&&e.push({id:t.id,name:t.name,fileName:t.fileName,types:a})}),e},selectedCategory(){return this.selectedCategoryId&&this.groupedAppliances.find(e=>e.id===this.selectedCategoryId)||null},selectedAppliance(){return this.form.applianceTypeId&&this.appliances.find(e=>e.id===this.form.applianceTypeId)||null},selectedApplianceName(){return this.selectedAppliance?this.selectedAppliance.name:null},serviceFee(){return this.selectedAppliance?.basePrice||0},platformFeeRate(){return 15},platformFee(){return this.serviceFee*this.platformFeeRate/100},totalPrice(){return this.serviceFee+this.platformFee},formattedDateTime(){if(!this.form.scheduledDate||!this.form.scheduledTime)return null;const e=new Date(this.form.scheduledDate),t={"08:00:00":"8:00 AM","10:00:00":"10:00 AM","12:00:00":"12:00 PM","14:00:00":"2:00 PM","16:00:00":"4:00 PM","18:00:00":"6:00 PM"};return`${En(e)} at ${t[this.form.scheduledTime]||this.form.scheduledTime}`},minDate(){const e=new Date;return e.setDate(e.getDate()+1),e.toISOString().split("T")[0]},isFormValid(){return this.form.applianceTypeId&&this.form.description&&this.form.scheduledDate&&this.form.scheduledTime}},methods:{formatDate:En,selectCategory(e){this.selectedCategoryId=e,this.form.applianceTypeId=null},appendToDescription(e){this.form.description?this.form.description+=". "+e:this.form.description=e},scrollToTop(){this.$refs.formTop?.scrollIntoView({behavior:"smooth",block:"start"})},async loadAppliances(){this.loadingAppliances=!0;try{await Ce().fetchCategories(),await Ce().fetchTypes(null)}catch(e){console.error("Failed to load appliances:",e)}finally{this.loadingAppliances=!1}},async handleSubmit(){if(this.isFormValid){this.loading=!0,this.error=null,this.success=null;try{const e={applianceTypeID:this.form.applianceTypeId,issueDescription:this.form.description,bookingDate:this.form.scheduledDate,bookingTime:this.form.scheduledTime,paymentMethod:this.form.paymentMethod};await Fn().requestBooking(e),this.success="Booking submitted successfully! Redirecting to your pending bookings...",this.$nextTick(()=>{this.scrollToTop()}),setTimeout(()=>{this.$router.push("/my-bookings?tab=pending")},2e3)}catch(e){this.error=e.response?.data?.message||e.message||"Failed to submit booking",this.$nextTick(()=>{this.scrollToTop()})}finally{this.loading=!1}}}},async mounted(){await this.loadAppliances(),this.groupedAppliances.length>0&&(this.selectedCategoryId=this.groupedAppliances[0].id)}};const hr=(0,P.A)(pr,[["render",mr]]);var kr=hr;const gr={class:"min-h-screen flex overflow-x-hidden"},vr={class:"flex-1 lg:ml-64 bg-neutral-50 min-h-screen w-full overflow-x-hidden"},br={class:"bg-white border-b border-neutral-100 px-4 sm:px-6 py-4"},fr={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},xr={class:"p-4 sm:p-6 max-w-full"},yr={class:"mb-6 -mx-4 px-4 sm:mx-0 sm:px-0 overflow-hidden"},Lr={class:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide",style:{"-webkit-overflow-scrolling":"touch"}},wr={class:"ml-1 text-xs opacity-75"},Cr={class:"ml-1 text-xs opacity-75"},Ar={class:"ml-1 text-xs opacity-75"},Mr={class:"ml-1 text-xs opacity-75"},Tr={class:"ml-1 text-xs opacity-75"},_r={class:"ml-1 text-xs opacity-75"},Br={class:"flex flex-col sm:flex-row gap-3 mb-6"},Sr={class:"w-full sm:w-40 flex-shrink-0"},Fr={class:"flex-1 min-w-0"},Er={class:"relative"},Dr={key:0,class:"loading-container"},Pr={key:1,class:"card p-6 text-center"},Xr={class:"text-error-600 mb-4"},Nr={key:2,class:"empty-state"},Vr={key:3,class:"space-y-4"},jr={class:"card-body"},Rr={class:"flex flex-col gap-4"},Ir={class:"flex items-start gap-3"},Ur={class:"flex-1 min-w-0 overflow-hidden"},$r={class:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-2"},zr={class:"min-w-0 overflow-hidden"},Wr={class:"text-base font-semibold text-neutral-900 truncate"},Qr={class:"text-sm text-neutral-500"},qr={class:"text-sm text-neutral-600 line-clamp-2"},Hr={class:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-sm text-neutral-500"},Or={class:"flex items-center gap-1 min-w-0"},Jr={class:"truncate"},Kr={key:0,class:"flex items-center gap-1 min-w-0"},Yr={key:0,class:"text-success-600 ml-1"},Gr={class:"flex items-center gap-1 min-w-0"},Zr={class:"truncate"},el={key:1,class:"flex items-center gap-1 text-warning-500"},tl={key:0,class:"flex flex-wrap gap-2"},al={key:0,class:"text-xs text-neutral-500 bg-neutral-50 px-2 py-1 rounded inline-flex items-center gap-1"},sl={key:1,class:"text-xs text-neutral-500 bg-neutral-50 px-2 py-1 rounded inline-flex items-center gap-1"},il={class:"font-mono"},nl={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-2 pt-3 border-t border-neutral-100"},ol=["onClick"],rl=["onClick"],ll={key:2,class:"btn btn-ghost btn-sm text-success-600 cursor-default justify-center"},cl=["onClick"],dl={key:4,class:"flex items-center justify-between mt-8"},ul={class:"text-sm text-neutral-500"},ml={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},pl={class:"bg-white rounded-lg p-6 max-w-md w-full mx-4"},hl={class:"flex justify-center gap-2 mb-4"},kl=["onClick"],gl={class:"text-xs text-neutral-500 mb-4"},vl={class:"flex justify-end gap-3"},bl=["disabled"],fl={key:1,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},xl={class:"bg-white rounded-lg p-6 max-w-md w-full mx-4"},yl={class:"mb-4"},Ll={class:"font-medium text-neutral-900"},wl={class:"text-sm text-neutral-500"},Cl={class:"mb-4 p-4 bg-neutral-50 rounded-lg"},Al={class:"flex items-center justify-between"},Ml={class:"text-2xl font-bold text-neutral-900"},Tl={class:"mb-4"},_l={class:"form-input bg-neutral-50 text-neutral-700 cursor-not-allowed"},Bl={class:"mb-4 p-3 bg-primary-50 rounded-lg border border-primary-100"},Sl={class:"font-mono text-sm text-primary-800"},Fl={class:"flex gap-3"},El=["disabled"],Dl={key:0,class:"spinner spinner-sm mr-2"};function Pl(e,t,a,n,o,r){const c=(0,i.g2)("UserSidebar"),d=(0,i.g2)("router-link");return(0,i.uX)(),(0,i.CE)("div",gr,[(0,i.bF)(c),(0,i.Lk)("main",vr,[(0,i.Lk)("header",br,[(0,i.Lk)("div",fr,[t[15]||(t[15]=(0,i.Lk)("div",{class:"ml-14 lg:ml-0"},[(0,i.Lk)("h1",{class:"text-xl font-semibold text-neutral-900"},"My Bookings"),(0,i.Lk)("p",{class:"text-sm text-neutral-500"},"Track and manage your appliance repair bookings")],-1)),(0,i.bF)(d,{to:"/book-technician",class:"btn btn-primary btn-sm"},{default:(0,i.k6)(()=>[...t[14]||(t[14]=[(0,i.Lk)("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),(0,i.eW)(" New Booking ",-1)])]),_:1})])]),(0,i.Lk)("div",xr,[(0,i.Lk)("div",yr,[(0,i.Lk)("div",Lr,[(0,i.Lk)("button",{type:"button",class:(0,l.C4)(["flex-shrink-0 px-3 py-2 text-sm font-medium rounded-lg transition-colors whitespace-nowrap","all"===o.activeTab?"bg-primary-600 text-white":"bg-white text-neutral-600 hover:bg-neutral-100 border border-neutral-200"]),onClick:t[0]||(t[0]=e=>o.activeTab="all")},[t[16]||(t[16]=(0,i.eW)("All ",-1)),(0,i.Lk)("span",wr,"("+(0,l.v_)(r.allBookings.length)+")",1)],2),(0,i.Lk)("button",{type:"button",class:(0,l.C4)(["flex-shrink-0 px-3 py-2 text-sm font-medium rounded-lg transition-colors whitespace-nowrap","pending"===o.activeTab?"bg-primary-600 text-white":"bg-white text-neutral-600 hover:bg-neutral-100 border border-neutral-200"]),onClick:t[1]||(t[1]=e=>o.activeTab="pending")},[t[17]||(t[17]=(0,i.eW)("Pending ",-1)),(0,i.Lk)("span",Cr,"("+(0,l.v_)(r.bookingStore.pending.length)+")",1)],2),(0,i.Lk)("button",{type:"button",class:(0,l.C4)(["flex-shrink-0 px-3 py-2 text-sm font-medium rounded-lg transition-colors whitespace-nowrap","confirmed"===o.activeTab?"bg-primary-600 text-white":"bg-white text-neutral-600 hover:bg-neutral-100 border border-neutral-200"]),onClick:t[2]||(t[2]=e=>o.activeTab="confirmed")},[t[18]||(t[18]=(0,i.eW)("Confirmed ",-1)),(0,i.Lk)("span",Ar,"("+(0,l.v_)(r.bookingStore.confirmed.length)+")",1)],2),(0,i.Lk)("button",{type:"button",class:(0,l.C4)(["flex-shrink-0 px-3 py-2 text-sm font-medium rounded-lg transition-colors whitespace-nowrap","inProgress"===o.activeTab?"bg-primary-600 text-white":"bg-white text-neutral-600 hover:bg-neutral-100 border border-neutral-200"]),onClick:t[3]||(t[3]=e=>o.activeTab="inProgress")},[t[19]||(t[19]=(0,i.eW)("In Progress ",-1)),(0,i.Lk)("span",Mr,"("+(0,l.v_)(r.bookingStore.inProgress.length)+")",1)],2),(0,i.Lk)("button",{type:"button",class:(0,l.C4)(["flex-shrink-0 px-3 py-2 text-sm font-medium rounded-lg transition-colors whitespace-nowrap","completed"===o.activeTab?"bg-primary-600 text-white":"bg-white text-neutral-600 hover:bg-neutral-100 border border-neutral-200"]),onClick:t[4]||(t[4]=e=>o.activeTab="completed")},[t[20]||(t[20]=(0,i.eW)("Completed ",-1)),(0,i.Lk)("span",Tr,"("+(0,l.v_)(r.bookingStore.completed.length)+")",1)],2),(0,i.Lk)("button",{type:"button",class:(0,l.C4)(["flex-shrink-0 px-3 py-2 text-sm font-medium rounded-lg transition-colors whitespace-nowrap","cancelled"===o.activeTab?"bg-primary-600 text-white":"bg-white text-neutral-600 hover:bg-neutral-100 border border-neutral-200"]),onClick:t[5]||(t[5]=e=>o.activeTab="cancelled")},[t[21]||(t[21]=(0,i.eW)("Cancelled ",-1)),(0,i.Lk)("span",_r,"("+(0,l.v_)(r.bookingStore.cancelled.length)+")",1)],2)])]),(0,i.Lk)("div",Br,[(0,i.Lk)("div",Sr,[(0,i.bo)((0,i.Lk)("select",{"onUpdate:modelValue":t[6]||(t[6]=e=>o.sortOrder=e),class:"form-select w-full"},[...t[22]||(t[22]=[(0,i.Lk)("option",{value:"newest"},"Newest First",-1),(0,i.Lk)("option",{value:"oldest"},"Oldest First",-1)])],512),[[s.u1,o.sortOrder]])]),(0,i.Lk)("div",Fr,[(0,i.Lk)("div",Er,[t[23]||(t[23]=(0,i.Lk)("svg",{class:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-400 pointer-events-none",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),(0,i.bo)((0,i.Lk)("input",{type:"text","onUpdate:modelValue":t[7]||(t[7]=e=>o.searchQuery=e),class:"form-input !px-10 w-full",placeholder:"Search bookings..."},null,512),[[s.Jo,o.searchQuery]])])])]),o.loading?((0,i.uX)(),(0,i.CE)("div",Dr,[...t[24]||(t[24]=[(0,i.Lk)("div",{class:"spinner spinner-lg"},null,-1)])])):o.error?((0,i.uX)(),(0,i.CE)("div",Pr,[(0,i.Lk)("p",Xr,(0,l.v_)(o.error),1),(0,i.Lk)("button",{onClick:t[8]||(t[8]=(...e)=>r.fetchBookings&&r.fetchBookings(...e)),class:"btn btn-primary"},"Try Again")])):0===r.filteredBookings.length?((0,i.uX)(),(0,i.CE)("div",Nr,[t[26]||(t[26]=(0,i.Lk)("svg",{class:"empty-state-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),t[27]||(t[27]=(0,i.Lk)("h3",{class:"empty-state-title"},"No bookings yet",-1)),t[28]||(t[28]=(0,i.Lk)("p",{class:"empty-state-description"},"You haven't made any bookings yet. Book a technician to get started.",-1)),(0,i.bF)(d,{to:"/book-technician",class:"btn btn-primary"},{default:(0,i.k6)(()=>[...t[25]||(t[25]=[(0,i.eW)("Book a Technician",-1)])]),_:1})])):((0,i.uX)(),(0,i.CE)("div",Vr,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(r.filteredBookings,e=>((0,i.uX)(),(0,i.CE)("div",{key:e.id,class:"card overflow-hidden"},[(0,i.Lk)("div",jr,[(0,i.Lk)("div",Rr,[(0,i.Lk)("div",Ir,[t[30]||(t[30]=(0,i.Lk)("div",{class:"w-12 h-12 flex-shrink-0 flex items-center justify-center bg-primary-50 rounded-xl"},[(0,i.Lk)("svg",{class:"w-6 h-6 text-primary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"})])],-1)),(0,i.Lk)("div",Ur,[(0,i.Lk)("div",$r,[(0,i.Lk)("div",zr,[(0,i.Lk)("h3",Wr,(0,l.v_)(e.applianceType||"Appliance Repair"),1),(0,i.Lk)("p",Qr,"Booking #"+(0,l.v_)(e.id),1)]),(0,i.Lk)("span",{class:(0,l.C4)([r.getBadgeClass(e.status),"flex-shrink-0 self-start"])},[t[29]||(t[29]=(0,i.Lk)("svg",{class:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 8 8"},[(0,i.Lk)("circle",{cx:"4",cy:"4",r:"3"})],-1)),(0,i.eW)(" "+(0,l.v_)(r.formatStatus(e.status)),1)],2)])])]),(0,i.Lk)("p",qr,(0,l.v_)(e.description||"No description provided"),1),(0,i.Lk)("div",Hr,[(0,i.Lk)("div",Or,[t[31]||(t[31]=(0,i.Lk)("svg",{class:"w-4 h-4 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),(0,i.Lk)("span",Jr,(0,l.v_)(r.formatDate(e.scheduledDate)),1)]),e.price?((0,i.uX)(),(0,i.CE)("div",Kr,[t[32]||(t[32]=(0,i.Lk)("svg",{class:"w-4 h-4 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),(0,i.Lk)("span",null,[(0,i.eW)("$"+(0,l.v_)(e.price),1),e.isPaid?((0,i.uX)(),(0,i.CE)("span",Yr,"(Paid)")):(0,i.Q3)("",!0)])])):(0,i.Q3)("",!0),(0,i.Lk)("div",Gr,[t[33]||(t[33]=(0,i.Lk)("svg",{class:"w-4 h-4 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1)),(0,i.Lk)("span",Zr,(0,l.v_)(e.technicianName||"Awaiting technician"),1)]),e.isRated?((0,i.uX)(),(0,i.CE)("div",el,[t[34]||(t[34]=(0,i.Lk)("svg",{class:"w-4 h-4 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20"},[(0,i.Lk)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})],-1)),(0,i.Lk)("span",null,(0,l.v_)(e.rating)+"/5",1)])):(0,i.Q3)("",!0)]),e.isPaid?((0,i.uX)(),(0,i.CE)("div",tl,[e.paymentMethod?((0,i.uX)(),(0,i.CE)("div",al,[t[35]||(t[35]=(0,i.Lk)("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})],-1)),(0,i.Lk)("span",null,(0,l.v_)(r.formatPaymentMethod(e.paymentMethod)),1)])):(0,i.Q3)("",!0),e.transactionId?((0,i.uX)(),(0,i.CE)("div",sl,[t[36]||(t[36]=(0,i.Lk)("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),(0,i.Lk)("span",il,"TXN: "+(0,l.v_)(e.transactionId),1)])):(0,i.Q3)("",!0)])):(0,i.Q3)("",!0),(0,i.Lk)("div",nl,[(0,i.bF)(d,{to:`/booking/${e.id}`,class:"btn btn-outline btn-sm justify-center"},{default:(0,i.k6)(()=>[...t[37]||(t[37]=[(0,i.eW)(" View Details ",-1)])]),_:1},8,["to"]),"confirmed"!==e.status&&"in-progress"!==e.status||e.isPaid?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("button",{key:0,onClick:t=>r.openPaymentModal(e),class:"btn btn-primary btn-sm justify-center"}," Pay Now ",8,ol)),"completed"!==e.status||e.isRated?"completed"===e.status&&e.isRated?((0,i.uX)(),(0,i.CE)("span",ll,[...t[38]||(t[38]=[(0,i.Lk)("svg",{class:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[(0,i.Lk)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1),(0,i.eW)(" Rated ",-1)])])):(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("button",{key:1,onClick:t=>r.openRatingModal(e),class:"btn btn-secondary btn-sm justify-center"}," Rate Service ",8,rl)),"pending"===e.status?((0,i.uX)(),(0,i.CE)("button",{key:3,onClick:t=>r.cancelBooking(e.id),class:"btn btn-ghost btn-sm text-error-600 hover:bg-error-50 justify-center"}," Cancel ",8,cl)):(0,i.Q3)("",!0)])])])]))),128))])),r.filteredBookings.length>0?((0,i.uX)(),(0,i.CE)("div",dl,[(0,i.Lk)("p",ul,"Showing "+(0,l.v_)(r.filteredBookings.length)+" booking(s)",1)])):(0,i.Q3)("",!0)]),o.ratingModal.show?((0,i.uX)(),(0,i.CE)("div",ml,[(0,i.Lk)("div",pl,[t[39]||(t[39]=(0,i.Lk)("h3",{class:"text-lg font-semibold mb-4"},"Rate Your Service",-1)),(0,i.Lk)("div",hl,[((0,i.uX)(),(0,i.CE)(i.FK,null,(0,i.pI)(5,e=>(0,i.Lk)("button",{key:e,onClick:t=>o.ratingModal.rating=e,class:(0,l.C4)(["text-3xl",e<=o.ratingModal.rating?"text-warning-500":"text-neutral-300"])}," ★ ",10,kl)),64))]),(0,i.bo)((0,i.Lk)("textarea",{"onUpdate:modelValue":t[9]||(t[9]=e=>o.ratingModal.review=e),class:"form-textarea w-full mb-2",rows:"3",placeholder:"Write your review (minimum 15 characters)"},null,512),[[s.Jo,o.ratingModal.review]]),(0,i.Lk)("p",gl,(0,l.v_)(o.ratingModal.review.length)+"/15 characters minimum",1),(0,i.Lk)("div",vl,[(0,i.Lk)("button",{onClick:t[10]||(t[10]=e=>o.ratingModal.show=!1),class:"btn btn-ghost"},"Cancel"),(0,i.Lk)("button",{onClick:t[11]||(t[11]=(...e)=>r.submitRating&&r.submitRating(...e)),class:"btn btn-primary",disabled:!o.ratingModal.rating||o.ratingModal.review.length<15},"Submit Rating",8,bl)])])])):(0,i.Q3)("",!0),o.paymentModal.show?((0,i.uX)(),(0,i.CE)("div",fl,[(0,i.Lk)("div",xl,[t[45]||(t[45]=(0,i.Lk)("h3",{class:"text-lg font-semibold mb-4"},"Payment Confirmation",-1)),(0,i.Lk)("div",yl,[t[40]||(t[40]=(0,i.Lk)("p",{class:"text-sm text-neutral-600 mb-2"},"Booking Details:",-1)),(0,i.Lk)("p",Ll,(0,l.v_)(o.paymentModal.booking?.applianceType),1),(0,i.Lk)("p",wl,"Booking #"+(0,l.v_)(o.paymentModal.booking?.id),1)]),(0,i.Lk)("div",Cl,[(0,i.Lk)("div",Al,[t[41]||(t[41]=(0,i.Lk)("span",{class:"text-neutral-600"},"Total Amount:",-1)),(0,i.Lk)("span",Ml,"$"+(0,l.v_)(o.paymentModal.booking?.price),1)])]),(0,i.Lk)("div",Tl,[t[42]||(t[42]=(0,i.Lk)("label",{class:"block text-sm font-medium text-neutral-700 mb-2"},"Payment Method",-1)),(0,i.Lk)("div",_l,(0,l.v_)(r.formatPaymentMethod(o.paymentModal.method)),1),t[43]||(t[43]=(0,i.Lk)("p",{class:"text-xs text-neutral-500 mt-1"},"Payment method was set when booking was created",-1))]),(0,i.Lk)("div",Bl,[t[44]||(t[44]=(0,i.Lk)("p",{class:"text-xs text-primary-600 mb-1"},"Transaction ID (auto-generated)",-1)),(0,i.Lk)("p",Sl,(0,l.v_)(o.paymentModal.transactionId),1)]),(0,i.Lk)("div",Fl,[(0,i.Lk)("button",{onClick:t[12]||(t[12]=(...e)=>r.confirmPayment&&r.confirmPayment(...e)),class:"btn btn-primary flex-1",disabled:o.paymentModal.processing},[o.paymentModal.processing?((0,i.uX)(),(0,i.CE)("span",Dl)):(0,i.Q3)("",!0),(0,i.eW)(" "+(0,l.v_)(o.paymentModal.processing?"Processing...":"Confirm Payment"),1)],8,El),(0,i.Lk)("button",{onClick:t[13]||(t[13]=e=>o.paymentModal.show=!1),class:"btn btn-outline flex-1"},"Cancel")])])])):(0,i.Q3)("",!0)])])}var Xl={name:"MyBookingsView",components:{UserSidebar:Kn},data(){const{isRefreshing:e,lastUpdated:t,startAutoRefresh:a,stopAutoRefresh:s}=Gn();return{activeTab:this.$route.query.tab||"all",searchQuery:"",sortOrder:"newest",loading:!1,error:null,ratingModal:{show:!1,bookingId:null,rating:0,review:""},paymentModal:{show:!1,booking:null,method:"cash",transactionId:"",processing:!1},isRefreshing:e,lastUpdated:t,startAutoRefresh:a,stopAutoRefresh:s}},computed:{bookingStore(){return Fn()},allBookings(){return this.bookingStore.allBookings},filteredBookings(){let e=[];if("all"===this.activeTab?e=this.allBookings:"pending"===this.activeTab?e=this.bookingStore.pending:"confirmed"===this.activeTab?e=this.bookingStore.confirmed:"inProgress"===this.activeTab?e=this.bookingStore.inProgress:"completed"===this.activeTab?e=this.bookingStore.completed:"cancelled"===this.activeTab&&(e=this.bookingStore.cancelled),this.searchQuery){const t=this.searchQuery.toLowerCase();e=e.filter(e=>e.applianceType&&e.applianceType.toLowerCase().includes(t)||e.description&&e.description.toLowerCase().includes(t)||e.id&&e.id.toString().includes(t))}return[...e].sort((e,t)=>{const a=new Date(e.scheduledDate||e.createdAt),s=new Date(t.scheduledDate||t.createdAt);return"newest"===this.sortOrder?s-a:a-s})}},watch:{"paymentModal.show"(e){e?this.stopAutoRefresh():this.startAutoRefresh(async()=>{await this.fetchBookings()},15e3)},"ratingModal.show"(e){e?this.stopAutoRefresh():this.startAutoRefresh(async()=>{await this.fetchBookings()},15e3)}},methods:{formatDate:En,formatPaymentMethod(e){const t={cash:"Cash",credit_card:"Credit Card",debit_card:"Debit Card",whish:"Whish",omt:"OMT"};return t[e]||e},formatStatus(e){const t={pending:"Pending",confirmed:"Confirmed","in-progress":"In Progress",completed:"Completed",cancelled:"Cancelled"};return t[e]||e},getBadgeClass(e){const t={pending:"badge badge-pending",confirmed:"badge badge-confirmed","in-progress":"badge badge-info",completed:"badge badge-completed",cancelled:"badge badge-error"};return t[e]||"badge badge-neutral"},async fetchBookings(){this.loading=!0,this.error=null;try{await this.bookingStore.fetchAll()}catch(e){this.error=e.response?.data?.message||e.message||"Failed to load bookings",window.scrollTo({top:0,behavior:"smooth"})}finally{this.loading=!1}},generateTransactionId(e){const t=Date.now().toString(36).toUpperCase(),a=Math.random().toString(36).substring(2,8).toUpperCase(),s={cash:"CSH",credit_card:"CC",debit_card:"DC",whish:"WSH",omt:"OMT"};return`${s[e]||"TXN"}-${t}-${a}`},openPaymentModal(e){const t=e.paymentMethod||"cash";this.paymentModal={show:!0,booking:e,method:t,transactionId:this.generateTransactionId(t),processing:!1}},async confirmPayment(){this.paymentModal.processing=!0;try{await this.bookingStore.payBooking(this.paymentModal.booking.id,this.paymentModal.transactionId),this.paymentModal.show=!1,alert("Payment completed successfully!"),await this.fetchBookings()}catch(e){alert(e.response?.data?.message||"Payment failed")}finally{this.paymentModal.processing=!1}},async cancelBooking(e){if(confirm("Are you sure you want to cancel this booking?"))try{await this.bookingStore.cancelBooking(e)}catch(t){alert(t.response?.data?.message||"Failed to cancel booking")}},openRatingModal(e){this.ratingModal={show:!0,bookingId:e.id,rating:0,review:""}},async submitRating(){try{await this.bookingStore.rateBooking(this.ratingModal.bookingId,this.ratingModal.rating,this.ratingModal.review),this.ratingModal.show=!1,alert("Thank you for rating! Your review has been submitted successfully."),await this.fetchBookings()}catch(e){alert(e.response?.data?.message||"Rating failed")}}},async mounted(){await this.fetchBookings(),this.startAutoRefresh(async()=>{await this.fetchBookings()},15e3)},unmounted(){this.stopAutoRefresh()}};const Nl=(0,P.A)(Xl,[["render",Pl]]);var Vl=Nl;const jl={class:"min-h-screen flex"},Rl={class:"flex-1 lg:ml-64 bg-neutral-50 min-h-screen"},Il={class:"p-4 sm:p-6"},Ul={key:0,class:"loading-container"},$l={key:1,class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},zl={class:"lg:col-span-1"},Wl={class:"card"},Ql={class:"card-body text-center py-8"},ql={class:"avatar avatar-2xl bg-primary-100 text-primary-600 mx-auto mb-4"},Hl={class:"font-bold"},Ol={class:"text-lg font-semibold text-neutral-900"},Jl={class:"text-sm text-neutral-500"},Kl={class:"text-xs text-neutral-400 mt-2"},Yl={class:"card mt-4"},Gl={class:"card-body"},Zl={class:"space-y-3"},ec={class:"flex justify-between text-sm"},tc={class:"font-medium"},ac={class:"flex justify-between text-sm"},sc={class:"font-medium text-success-600"},ic={class:"flex justify-between text-sm"},nc={class:"font-medium text-primary-600"},oc={class:"lg:col-span-2",ref:"formTop"},rc={class:"card"},lc={class:"card-body"},cc={class:"form-row"},dc={class:"form-group"},uc={class:"form-group"},mc={class:"form-group"},pc={class:"form-group"},hc={class:"form-section"},kc={class:"form-group"},gc={class:"form-row"},vc={class:"form-group"},bc={class:"form-group"},fc={class:"form-row"},xc={class:"form-group"},yc={class:"form-group"},Lc={class:"flex justify-end gap-3 pt-4"},wc=["disabled"],Cc={class:"card mt-6"},Ac={class:"card-body"},Mc={class:"form-group"},Tc={class:"form-group"},_c={class:"form-group"};function Bc(e,t,a,n,o,r){const c=(0,i.g2)("UserSidebar"),d=(0,i.g2)("AlertMessage");return(0,i.uX)(),(0,i.CE)("div",jl,[(0,i.bF)(c),(0,i.Lk)("main",Rl,[t[39]||(t[39]=(0,i.Fv)('<header class="bg-white border-b border-neutral-100 px-4 sm:px-6 py-4"><div class="flex items-center justify-between"><div class="ml-14 lg:ml-0"><h1 class="text-xl font-semibold text-neutral-900">My Profile</h1><p class="text-sm text-neutral-500">Manage your account information</p></div></div></header>',1)),(0,i.Lk)("div",Il,[o.loading?((0,i.uX)(),(0,i.CE)("div",Ul,[...t[17]||(t[17]=[(0,i.Lk)("div",{class:"spinner spinner-lg"},null,-1)])])):((0,i.uX)(),(0,i.CE)("div",$l,[(0,i.Lk)("div",zl,[(0,i.Lk)("div",Wl,[(0,i.Lk)("div",Ql,[(0,i.Lk)("div",ql,[(0,i.Lk)("span",Hl,(0,l.v_)(r.userInitials),1)]),(0,i.Lk)("h3",Ol,(0,l.v_)(r.userName),1),(0,i.Lk)("p",Jl,(0,l.v_)(r.user.email),1),(0,i.Lk)("p",Kl,"Member since "+(0,l.v_)(r.formatDate(r.user.createdAt)),1)])]),(0,i.Lk)("div",Yl,[(0,i.Lk)("div",Gl,[t[21]||(t[21]=(0,i.Lk)("h4",{class:"font-semibold text-neutral-900 mb-4"},"Booking Statistics",-1)),(0,i.Lk)("div",Zl,[(0,i.Lk)("div",ec,[t[18]||(t[18]=(0,i.Lk)("span",{class:"text-neutral-500"},"Total Bookings",-1)),(0,i.Lk)("span",tc,(0,l.v_)(o.stats.total),1)]),(0,i.Lk)("div",ac,[t[19]||(t[19]=(0,i.Lk)("span",{class:"text-neutral-500"},"Completed",-1)),(0,i.Lk)("span",sc,(0,l.v_)(o.stats.completed),1)]),(0,i.Lk)("div",ic,[t[20]||(t[20]=(0,i.Lk)("span",{class:"text-neutral-500"},"In Progress",-1)),(0,i.Lk)("span",nc,(0,l.v_)(o.stats.inProgress),1)])])])])]),(0,i.Lk)("div",oc,[(0,i.Lk)("div",rc,[(0,i.Lk)("div",lc,[t[33]||(t[33]=(0,i.Lk)("h3",{class:"text-lg font-semibold text-neutral-900 mb-6"},"Edit Profile",-1)),o.error?((0,i.uX)(),(0,i.Wv)(d,{key:0,type:"error",message:o.error,class:"mb-4",onDismiss:t[0]||(t[0]=e=>o.error=null)},null,8,["message"])):(0,i.Q3)("",!0),o.successMessage?((0,i.uX)(),(0,i.Wv)(d,{key:1,type:"success",message:o.successMessage,class:"mb-4",onDismiss:t[1]||(t[1]=e=>o.successMessage=null)},null,8,["message"])):(0,i.Q3)("",!0),(0,i.Lk)("form",{onSubmit:t[12]||(t[12]=(0,s.D$)((...e)=>r.handleSubmit&&r.handleSubmit(...e),["prevent"])),class:"space-y-5"},[(0,i.Lk)("div",cc,[(0,i.Lk)("div",dc,[t[22]||(t[22]=(0,i.Lk)("label",{for:"firstName",class:"form-label"},"First Name",-1)),(0,i.bo)((0,i.Lk)("input",{type:"text",id:"firstName","onUpdate:modelValue":t[2]||(t[2]=e=>o.form.firstName=e),class:"form-input",placeholder:"Enter your first name"},null,512),[[s.Jo,o.form.firstName]])]),(0,i.Lk)("div",uc,[t[23]||(t[23]=(0,i.Lk)("label",{for:"lastName",class:"form-label"},"Last Name",-1)),(0,i.bo)((0,i.Lk)("input",{type:"text",id:"lastName","onUpdate:modelValue":t[3]||(t[3]=e=>o.form.lastName=e),class:"form-input",placeholder:"Enter your last name"},null,512),[[s.Jo,o.form.lastName]])])]),(0,i.Lk)("div",mc,[t[24]||(t[24]=(0,i.Lk)("label",{for:"email",class:"form-label"},"Email Address",-1)),(0,i.bo)((0,i.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":t[4]||(t[4]=e=>o.form.email=e),class:"form-input"},null,512),[[s.Jo,o.form.email]]),t[25]||(t[25]=(0,i.Lk)("p",{class:"form-hint"},"Email can be changed but must be unique",-1))]),(0,i.Lk)("div",pc,[t[26]||(t[26]=(0,i.Lk)("label",{for:"phone",class:"form-label"},"Phone Number",-1)),(0,i.bo)((0,i.Lk)("input",{type:"tel",id:"phone","onUpdate:modelValue":t[5]||(t[5]=e=>o.form.phone=e),class:"form-input",placeholder:"Enter your phone number"},null,512),[[s.Jo,o.form.phone]])]),(0,i.Lk)("div",hc,[t[32]||(t[32]=(0,i.Lk)("h4",{class:"form-section-title"},"Address",-1)),(0,i.Lk)("div",kc,[t[27]||(t[27]=(0,i.Lk)("label",{for:"streetAddress",class:"form-label"},"Street Address",-1)),(0,i.bo)((0,i.Lk)("input",{type:"text",id:"streetAddress","onUpdate:modelValue":t[6]||(t[6]=e=>o.form.streetAddress=e),class:"form-input",placeholder:"Enter your street address"},null,512),[[s.Jo,o.form.streetAddress]])]),(0,i.Lk)("div",gc,[(0,i.Lk)("div",vc,[t[28]||(t[28]=(0,i.Lk)("label",{for:"buildingName",class:"form-label"},"Building Name",-1)),(0,i.bo)((0,i.Lk)("input",{type:"text",id:"buildingName","onUpdate:modelValue":t[7]||(t[7]=e=>o.form.buildingName=e),class:"form-input",placeholder:"Building name"},null,512),[[s.Jo,o.form.buildingName]])]),(0,i.Lk)("div",bc,[t[29]||(t[29]=(0,i.Lk)("label",{for:"floor",class:"form-label"},"Floor",-1)),(0,i.bo)((0,i.Lk)("input",{type:"text",id:"floor","onUpdate:modelValue":t[8]||(t[8]=e=>o.form.floor=e),class:"form-input",placeholder:"Floor"},null,512),[[s.Jo,o.form.floor]])])]),(0,i.Lk)("div",fc,[(0,i.Lk)("div",xc,[t[30]||(t[30]=(0,i.Lk)("label",{for:"city",class:"form-label"},"City",-1)),(0,i.bo)((0,i.Lk)("input",{type:"text",id:"city","onUpdate:modelValue":t[9]||(t[9]=e=>o.form.city=e),class:"form-input",placeholder:"City"},null,512),[[s.Jo,o.form.city]])]),(0,i.Lk)("div",yc,[t[31]||(t[31]=(0,i.Lk)("label",{for:"postalCode",class:"form-label"},"Postal Code",-1)),(0,i.bo)((0,i.Lk)("input",{type:"text",id:"postalCode","onUpdate:modelValue":t[10]||(t[10]=e=>o.form.postalCode=e),class:"form-input",placeholder:"Postal code"},null,512),[[s.Jo,o.form.postalCode]])])])]),(0,i.Lk)("div",Lc,[(0,i.Lk)("button",{type:"button",class:"btn btn-outline",onClick:t[11]||(t[11]=(...e)=>r.resetForm&&r.resetForm(...e))},"Cancel"),(0,i.Lk)("button",{type:"submit",class:"btn btn-primary",disabled:o.saving},(0,l.v_)(o.saving?"Saving...":"Save Changes"),9,wc)])],32)])]),(0,i.Lk)("div",Cc,[(0,i.Lk)("div",Ac,[t[38]||(t[38]=(0,i.Lk)("h3",{class:"text-lg font-semibold text-neutral-900 mb-6"},"Change Password",-1)),(0,i.Lk)("form",{onSubmit:t[16]||(t[16]=(0,s.D$)((...e)=>r.handlePasswordChange&&r.handlePasswordChange(...e),["prevent"])),class:"space-y-5"},[(0,i.Lk)("div",Mc,[t[34]||(t[34]=(0,i.Lk)("label",{for:"current-password",class:"form-label"},"Current Password",-1)),(0,i.bo)((0,i.Lk)("input",{type:"password",id:"current-password","onUpdate:modelValue":t[13]||(t[13]=e=>o.passwordForm.current=e),class:"form-input"},null,512),[[s.Jo,o.passwordForm.current]])]),(0,i.Lk)("div",Tc,[t[35]||(t[35]=(0,i.Lk)("label",{for:"new-password",class:"form-label"},"New Password",-1)),(0,i.bo)((0,i.Lk)("input",{type:"password",id:"new-password","onUpdate:modelValue":t[14]||(t[14]=e=>o.passwordForm.new=e),class:"form-input"},null,512),[[s.Jo,o.passwordForm.new]])]),(0,i.Lk)("div",_c,[t[36]||(t[36]=(0,i.Lk)("label",{for:"confirm-password",class:"form-label"},"Confirm New Password",-1)),(0,i.bo)((0,i.Lk)("input",{type:"password",id:"confirm-password","onUpdate:modelValue":t[15]||(t[15]=e=>o.passwordForm.confirm=e),class:"form-input"},null,512),[[s.Jo,o.passwordForm.confirm]])]),t[37]||(t[37]=(0,i.Lk)("div",{class:"flex justify-end"},[(0,i.Lk)("button",{type:"submit",class:"btn btn-primary"},"Update Password")],-1))],32)])])],512)]))])])])}var Sc={name:"UserProfileView",components:{AlertMessage:xt,UserSidebar:Kn},data(){return{loading:!1,saving:!1,error:null,successMessage:null,form:{firstName:"",lastName:"",email:"",phone:"",streetAddress:"",buildingName:"",floor:"",city:"",postalCode:""},passwordForm:{current:"",new:"",confirm:""},stats:{total:0,completed:0,inProgress:0}}},computed:{authStore(){return F()},user(){return this.authStore.currentUser||{}},userName(){return this.user.firstName&&this.user.lastName?`${this.user.firstName} ${this.user.lastName}`:this.user.name||"User"},userInitials(){return this.user.firstName&&this.user.lastName?`${this.user.firstName[0]}${this.user.lastName[0]}`.toUpperCase():this.userName.split(" ").map(e=>e[0]).join("").toUpperCase().substring(0,2)||"U"}},methods:{formatDate:En,async handleSubmit(){this.saving=!0,this.error=null,this.successMessage=null;try{await this.authStore.updateProfile(this.form),this.successMessage="Profile updated successfully!",this.$nextTick(()=>this.$refs.formTop?.scrollIntoView({behavior:"smooth",block:"start"}))}catch(e){this.error=e.response?.data?.message||e.message||"Failed to update profile",this.$nextTick(()=>this.$refs.formTop?.scrollIntoView({behavior:"smooth",block:"start"}))}finally{this.saving=!1}},resetForm(){this.form={firstName:this.user.firstName||"",lastName:this.user.lastName||"",email:this.user.email||"",phone:this.user.phone||"",streetAddress:this.user.streetAddress||"",buildingName:this.user.buildingName||"",floor:this.user.floor||"",city:this.user.city||"",postalCode:this.user.postalCode||""},this.error=null,this.successMessage=null},async handlePasswordChange(){this.passwordForm.new===this.passwordForm.confirm?alert("Password change is not yet implemented"):alert("Passwords do not match")},calculateStats(){const e=Fn();this.stats={total:e.allBookings.length,completed:e.completed.length,inProgress:e.inProgress.length}},async loadProfile(){this.loading=!0;try{await this.authStore.fetchProfile(),this.resetForm(),await Fn().fetchAll(),this.calculateStats()}catch(e){this.error=e.response?.data?.message||"Failed to load profile",this.$nextTick(()=>this.$refs.formTop?.scrollIntoView({behavior:"smooth",block:"start"}))}finally{this.loading=!1}}},async mounted(){await this.loadProfile()}};const Fc=(0,P.A)(Sc,[["render",Bc]]);var Ec=Fc;const Dc={class:"min-h-screen flex"},Pc={class:"flex-1 lg:ml-64 bg-neutral-50 min-h-screen"},Xc={class:"bg-white border-b border-neutral-100 px-4 sm:px-6 py-4"},Nc={class:"flex items-center justify-between"},Vc={class:"flex items-center gap-4 ml-10 lg:ml-0"},jc={class:"text-lg sm:text-xl font-semibold text-neutral-900"},Rc={key:0,class:"p-6 text-center py-12"},Ic={key:1,class:"p-6 text-center py-12"},Uc={class:"text-error-600 mb-4"},$c={key:2,class:"p-6 text-center py-12"},zc={key:3,class:"p-6"},Wc={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},Qc={class:"lg:col-span-2 space-y-6"},qc={class:"card"},Hc={class:"card-body"},Oc={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Jc={class:"font-medium"},Kc={class:"font-medium"},Yc={class:"font-medium"},Gc={key:0},Zc={class:"font-medium"},ed={class:"card"},td={class:"card-body"},ad={class:"text-neutral-600"},sd={key:0,class:"card"},id={class:"card-body"},nd={class:"flex items-center gap-4"},od={class:"avatar avatar-lg bg-primary-100 text-primary-600"},rd={class:"text-lg font-bold"},ld={class:"font-medium"},cd={key:0,class:"text-sm text-neutral-500"},dd={key:1,class:"flex items-center gap-1 mt-1"},ud={class:"text-sm text-neutral-600"},md={key:1,class:"card"},pd={class:"card-body"},hd={class:"flex gap-2"},kd=["onClick"],gd=["disabled"],vd={key:2,class:"card"},bd={class:"card-body"},fd={class:"flex gap-1 mb-2"},xd={key:0,class:"text-neutral-600"},yd={class:"space-y-6"},Ld={class:"card"},wd={class:"card-body"},Cd={class:"space-y-3"},Ad={class:"flex justify-between"},Md={class:"font-medium"},Td={class:"flex justify-between"},_d=["disabled"],Bd={class:"card"},Sd={class:"card-body"},Fd={class:"space-y-2"},Ed=["disabled"];function Dd(e,t,a,n,o,r){const c=(0,i.g2)("UserSidebar"),d=(0,i.g2)("router-link");return(0,i.uX)(),(0,i.CE)("div",Dc,[(0,i.bF)(c),(0,i.Lk)("main",Pc,[(0,i.Lk)("header",Xc,[(0,i.Lk)("div",Nc,[(0,i.Lk)("div",Vc,[(0,i.bF)(d,{to:"/my-bookings",class:"text-neutral-500 hover:text-neutral-700"},{default:(0,i.k6)(()=>[...t[4]||(t[4]=[(0,i.Lk)("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])]),_:1}),(0,i.Lk)("div",null,[(0,i.Lk)("h1",jc,"Booking #"+(0,l.v_)(o.booking.id||e.$route.params.id),1),t[5]||(t[5]=(0,i.Lk)("p",{class:"text-sm text-neutral-500 hidden sm:block"},"View booking details",-1))])]),(0,i.Lk)("span",{class:(0,l.C4)(["badge",`badge-${r.statusClass}`])},(0,l.v_)(o.booking.status||"Loading..."),3)])]),o.loading?((0,i.uX)(),(0,i.CE)("div",Rc,[...t[6]||(t[6]=[(0,i.Lk)("div",{class:"spinner spinner-xl mx-auto"},null,-1),(0,i.Lk)("p",{class:"mt-4 text-neutral-600"},"Loading booking details...",-1)])])):o.error?((0,i.uX)(),(0,i.CE)("div",Ic,[(0,i.Lk)("p",Uc,(0,l.v_)(o.error),1),(0,i.bF)(d,{to:"/my-bookings",class:"btn btn-primary"},{default:(0,i.k6)(()=>[...t[7]||(t[7]=[(0,i.eW)("Back to My Bookings",-1)])]),_:1})])):o.booking.id?((0,i.uX)(),(0,i.CE)("div",zc,[(0,i.Lk)("div",Wc,[(0,i.Lk)("div",Qc,[(0,i.Lk)("div",qc,[(0,i.Lk)("div",Hc,[t[14]||(t[14]=(0,i.Lk)("h3",{class:"text-lg font-semibold text-neutral-900 mb-4"},"Booking Details",-1)),(0,i.Lk)("div",Oc,[(0,i.Lk)("div",null,[t[10]||(t[10]=(0,i.Lk)("p",{class:"text-sm text-neutral-500"},"Appliance Type",-1)),(0,i.Lk)("p",Jc,(0,l.v_)(o.booking.applianceTypeEN||o.booking.applianceType||"N/A"),1)]),(0,i.Lk)("div",null,[t[11]||(t[11]=(0,i.Lk)("p",{class:"text-sm text-neutral-500"},"Preferred Date",-1)),(0,i.Lk)("p",Kc,(0,l.v_)(r.formatDate(o.booking.preferredDate||o.booking.scheduledDate)),1)]),(0,i.Lk)("div",null,[t[12]||(t[12]=(0,i.Lk)("p",{class:"text-sm text-neutral-500"},"Created",-1)),(0,i.Lk)("p",Yc,(0,l.v_)(r.formatDate(o.booking.createdAt)),1)]),o.booking.completedAt?((0,i.uX)(),(0,i.CE)("div",Gc,[t[13]||(t[13]=(0,i.Lk)("p",{class:"text-sm text-neutral-500"},"Completed",-1)),(0,i.Lk)("p",Zc,(0,l.v_)(r.formatDate(o.booking.completedAt)),1)])):(0,i.Q3)("",!0)])])]),(0,i.Lk)("div",ed,[(0,i.Lk)("div",td,[t[15]||(t[15]=(0,i.Lk)("h3",{class:"text-lg font-semibold text-neutral-900 mb-4"},"Problem Description",-1)),(0,i.Lk)("p",ad,(0,l.v_)(o.booking.description||o.booking.problemDescription||"No description provided"),1)])]),o.booking.technicianFirstName||o.booking.technician?((0,i.uX)(),(0,i.CE)("div",sd,[(0,i.Lk)("div",id,[t[17]||(t[17]=(0,i.Lk)("h3",{class:"text-lg font-semibold text-neutral-900 mb-4"},"Assigned Technician",-1)),(0,i.Lk)("div",nd,[(0,i.Lk)("div",od,[(0,i.Lk)("span",rd,(0,l.v_)(r.technicianInitials),1)]),(0,i.Lk)("div",null,[(0,i.Lk)("p",ld,(0,l.v_)(r.technicianName),1),o.booking.technicianPhone?((0,i.uX)(),(0,i.CE)("p",cd,(0,l.v_)(o.booking.technicianPhone),1)):(0,i.Q3)("",!0),o.booking.technicianRating?((0,i.uX)(),(0,i.CE)("div",dd,[t[16]||(t[16]=(0,i.Lk)("span",{class:"text-warning-500"},"★",-1)),(0,i.Lk)("span",ud,(0,l.v_)(o.booking.technicianRating?.toFixed(1)),1)])):(0,i.Q3)("",!0)])])])])):(0,i.Q3)("",!0),"completed"!==o.booking.status||o.booking.rating||o.booking.userRating?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("div",md,[(0,i.Lk)("div",pd,[t[18]||(t[18]=(0,i.Lk)("h3",{class:"text-lg font-semibold text-neutral-900 mb-4"},"Rate This Service",-1)),(0,i.Lk)("form",{onSubmit:t[1]||(t[1]=(0,s.D$)((...e)=>r.submitRating&&r.submitRating(...e),["prevent"])),class:"space-y-4"},[(0,i.Lk)("div",hd,[((0,i.uX)(),(0,i.CE)(i.FK,null,(0,i.pI)(5,e=>(0,i.Lk)("button",{key:e,type:"button",onClick:t=>o.ratingForm.rating=e,class:"text-2xl focus:outline-none"},[(0,i.Lk)("span",{class:(0,l.C4)(e<=o.ratingForm.rating?"text-warning-500":"text-neutral-300")},"★",2)],8,kd)),64))]),(0,i.bo)((0,i.Lk)("textarea",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.ratingForm.review=e),class:"form-textarea",rows:"3",placeholder:"Write your review (optional)"},null,512),[[s.Jo,o.ratingForm.review]]),(0,i.Lk)("button",{type:"submit",class:"btn btn-primary",disabled:0===o.ratingForm.rating||o.submittingRating},(0,l.v_)(o.submittingRating?"Submitting...":"Submit Rating"),9,gd)],32)])])),o.booking.rating||o.booking.userRating?((0,i.uX)(),(0,i.CE)("div",vd,[(0,i.Lk)("div",bd,[t[19]||(t[19]=(0,i.Lk)("h3",{class:"text-lg font-semibold text-neutral-900 mb-4"},"Your Rating",-1)),(0,i.Lk)("div",fd,[((0,i.uX)(),(0,i.CE)(i.FK,null,(0,i.pI)(5,e=>(0,i.Lk)("span",{key:e,class:(0,l.C4)(["text-xl",e<=(o.booking.rating||o.booking.userRating)?"text-warning-500":"text-neutral-300"])},"★",2)),64))]),o.booking.reviewText?((0,i.uX)(),(0,i.CE)("p",xd,(0,l.v_)(o.booking.reviewText),1)):(0,i.Q3)("",!0)])])):(0,i.Q3)("",!0)]),(0,i.Lk)("div",yd,[(0,i.Lk)("div",Ld,[(0,i.Lk)("div",wd,[t[22]||(t[22]=(0,i.Lk)("h3",{class:"text-lg font-semibold text-neutral-900 mb-4"},"Payment",-1)),(0,i.Lk)("div",Cd,[(0,i.Lk)("div",Ad,[t[20]||(t[20]=(0,i.Lk)("span",{class:"text-neutral-500"},"Service Fee",-1)),(0,i.Lk)("span",Md,"$"+(0,l.v_)(o.booking.price||o.booking.amount||"0.00"),1)]),(0,i.Lk)("div",Td,[t[21]||(t[21]=(0,i.Lk)("span",{class:"text-neutral-500"},"Status",-1)),(0,i.Lk)("span",{class:(0,l.C4)(o.booking.isPaid?"text-success-600":"text-warning-600")},(0,l.v_)(o.booking.isPaid?"Paid":"Unpaid"),3)])]),o.booking.isPaid||"confirmed"!==o.booking.status&&"in-progress"!==o.booking.status?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("button",{key:0,onClick:t[2]||(t[2]=(...e)=>r.handlePayment&&r.handlePayment(...e)),disabled:o.processingPayment,class:"btn btn-primary w-full mt-4"},(0,l.v_)(o.processingPayment?"Processing...":"Pay Now"),9,_d))])]),(0,i.Lk)("div",Bd,[(0,i.Lk)("div",Sd,[t[24]||(t[24]=(0,i.Lk)("h3",{class:"text-lg font-semibold text-neutral-900 mb-4"},"Actions",-1)),(0,i.Lk)("div",Fd,["pending"===o.booking.status?((0,i.uX)(),(0,i.CE)("button",{key:0,onClick:t[3]||(t[3]=(...e)=>r.cancelBooking&&r.cancelBooking(...e)),disabled:o.cancelling,class:"btn btn-outline w-full text-error-600"},(0,l.v_)(o.cancelling?"Cancelling...":"Cancel Booking"),9,Ed)):(0,i.Q3)("",!0),(0,i.bF)(d,{to:"/my-bookings",class:"btn btn-ghost w-full"},{default:(0,i.k6)(()=>[...t[23]||(t[23]=[(0,i.eW)("Back to Bookings",-1)])]),_:1})])])])])])])):((0,i.uX)(),(0,i.CE)("div",$c,[t[9]||(t[9]=(0,i.Lk)("p",{class:"text-neutral-600 mb-4"},"Booking not found",-1)),(0,i.bF)(d,{to:"/my-bookings",class:"btn btn-primary"},{default:(0,i.k6)(()=>[...t[8]||(t[8]=[(0,i.eW)("Back to My Bookings",-1)])]),_:1})]))])])}var Pd={name:"BookingDetailView",components:{UserSidebar:Kn},data(){return{booking:{},loading:!0,error:null,ratingForm:{rating:0,review:""},submittingRating:!1,processingPayment:!1,cancelling:!1}},computed:{technicianInitials(){const e=this.booking.technicianFirstName||"",t=this.booking.technicianLastName||"";return e||t?((e[0]||"")+(t[0]||"")).toUpperCase():this.booking.technician?.name?.split(" ").map(e=>e[0]).join("").toUpperCase()||"T"},technicianName(){return this.booking.technicianFirstName&&this.booking.technicianLastName?`${this.booking.technicianFirstName} ${this.booking.technicianLastName}`:this.booking.technician?.name||"Assigned Technician"},statusClass(){const e=this.booking.status?.toLowerCase()||"",t={pending:"warning",confirmed:"info","in-progress":"primary",in_progress:"primary",inprogress:"primary",completed:"success",cancelled:"error",canceled:"error"};return t[e]||"neutral"}},methods:{formatDate:En,async submitRating(){if(0!==this.ratingForm.rating){this.submittingRating=!0;try{const e=Fn();await e.rateBooking(this.booking.id,this.ratingForm.rating,this.ratingForm.review),this.booking.rating=this.ratingForm.rating,this.booking.review=this.ratingForm.review}catch(e){this.error=e.response?.data?.message||"Failed to submit rating",window.scrollTo({top:0,behavior:"smooth"})}finally{this.submittingRating=!1}}},async handlePayment(){if(confirm("Confirm payment for this booking?")){this.processingPayment=!0;try{const e=Fn();await e.payBooking(this.booking.id,null),alert("Payment completed successfully!"),this.loadBooking()}catch(e){this.error=e.response?.data?.message||"Payment failed",window.scrollTo({top:0,behavior:"smooth"})}finally{this.processingPayment=!1}}},async cancelBooking(){if(confirm("Are you sure you want to cancel this booking?")){this.cancelling=!0;try{const e=Fn();await e.cancelBooking(this.booking.id),this.$router.push("/my-bookings")}catch(e){this.error=e.response?.data?.message||e.message||"Failed to cancel booking",window.scrollTo({top:0,behavior:"smooth"})}finally{this.cancelling=!1}}},loadBooking(){const e=Fn(),t=this.$route.params.id,a=parseInt(t,10);this.booking=e.allBookings.find(e=>e.id===a||e.id===t||String(e.id)===String(t))||{}}},async mounted(){this.loading=!0,this.error=null;try{await Fn().fetchAll(),this.loadBooking()}catch(e){this.error=e.response?.data?.message||"Failed to load booking details",window.scrollTo({top:0,behavior:"smooth"})}finally{this.loading=!1}},watch:{"$route.params.id":{handler(){this.loadBooking()}}}};const Xd=(0,P.A)(Pd,[["render",Dd]]);var Nd=Xd;const Vd={class:"min-h-screen flex"},jd={class:"flex-1 lg:ml-64 bg-neutral-50 min-h-screen"},Rd={class:"bg-white border-b border-neutral-100 px-4 sm:px-6 py-4"},Id={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},Ud={class:"ml-14 lg:ml-0"},$d={class:"text-sm text-neutral-500"},zd={class:"flex items-center gap-4"},Wd={type:"button",class:"relative p-2 text-neutral-500 hover:text-neutral-700 transition-colors"},Qd={key:0,class:"absolute top-1 right-1 w-2 h-2 bg-error-500 rounded-full"},qd={class:"flex items-center gap-3"},Hd={class:"avatar avatar-md bg-primary-100 text-primary-600"},Od={class:"hidden md:block"},Jd={class:"text-sm font-medium text-neutral-900"},Kd={class:"text-xs text-neutral-500"},Yd={class:"p-6"},Gd={key:0,class:"loading-container"},Zd={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},eu={class:"card"},tu={class:"card-body"},au={class:"flex items-center justify-between"},su={class:"text-3xl font-bold text-neutral-900"},iu={class:"card"},nu={class:"card-body"},ou={class:"flex items-center justify-between"},ru={class:"text-3xl font-bold text-neutral-900"},lu={class:"card"},cu={class:"card-body"},du={class:"flex items-center justify-between"},uu={class:"text-3xl font-bold text-neutral-900"},mu={class:"card"},pu={class:"card-body"},hu={class:"flex items-center justify-between"},ku={class:"text-3xl font-bold text-neutral-900"},gu={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},vu={class:"card"},bu={class:"card-header flex items-center justify-between"},fu={key:0,class:"p-8 text-center"},xu={key:1,class:"divide-y divide-neutral-100"},yu={class:"flex items-start justify-between mb-2"},Lu={class:"font-medium text-neutral-900"},wu={class:"text-sm text-neutral-500"},Cu={class:"text-sm text-neutral-600 mb-3 line-clamp-1"},Au={class:"flex items-center justify-between"},Mu={class:"text-sm text-neutral-500"},Tu={class:"flex gap-2"},_u=["onClick"],Bu={class:"card"},Su={class:"card-header flex items-center justify-between"},Fu={class:"flex items-center gap-1 text-warning-500"},Eu={class:"font-semibold"},Du={class:"text-sm text-neutral-500"},Pu={key:0,class:"p-8 text-center"},Xu={key:1,class:"divide-y divide-neutral-100"},Nu={class:"flex items-start gap-3"},Vu={class:"avatar avatar-sm bg-primary-100 text-primary-600"},ju={class:"flex-1"},Ru={class:"flex items-center justify-between mb-1"},Iu={class:"font-medium text-neutral-900"},Uu={class:"flex items-center gap-0.5 text-warning-500"},$u={key:0,class:"text-sm text-neutral-600 mb-1"},zu={class:"text-xs text-neutral-400"};function Wu(e,t,a,s,n,o){const r=(0,i.g2)("TechnicianSidebar"),c=(0,i.g2)("AlertMessage"),d=(0,i.g2)("router-link");return(0,i.uX)(),(0,i.CE)("div",Vd,[(0,i.bF)(r),(0,i.Lk)("main",jd,[(0,i.Lk)("header",Rd,[(0,i.Lk)("div",Id,[(0,i.Lk)("div",Ud,[t[1]||(t[1]=(0,i.Lk)("h1",{class:"text-xl font-semibold text-neutral-900"},"Dashboard",-1)),(0,i.Lk)("p",$d,"Welcome back, "+(0,l.v_)(o.technician.firstName||"Technician")+"!",1)]),(0,i.Lk)("div",zd,[(0,i.Lk)("button",Wd,[t[2]||(t[2]=(0,i.Lk)("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})],-1)),o.pendingCount>0?((0,i.uX)(),(0,i.CE)("span",Qd)):(0,i.Q3)("",!0)]),(0,i.Lk)("div",qd,[(0,i.Lk)("span",Hd,(0,l.v_)(o.technicianInitials),1),(0,i.Lk)("div",Od,[(0,i.Lk)("p",Jd,(0,l.v_)(o.technicianName),1),(0,i.Lk)("p",Kd,(0,l.v_)(o.technician.verified?"Verified Technician":"Pending Verification"),1)])])])])]),(0,i.Lk)("div",Yd,[n.loading?((0,i.uX)(),(0,i.CE)("div",Gd,[...t[3]||(t[3]=[(0,i.Lk)("div",{class:"spinner spinner-lg"},null,-1)])])):((0,i.uX)(),(0,i.CE)(i.FK,{key:1},[n.error?((0,i.uX)(),(0,i.Wv)(c,{key:0,type:"error",message:n.error,class:"mb-6",onDismiss:t[0]||(t[0]=e=>n.error=null)},null,8,["message"])):(0,i.Q3)("",!0),(0,i.Lk)("div",Zd,[(0,i.Lk)("div",eu,[(0,i.Lk)("div",tu,[(0,i.Lk)("div",au,[(0,i.Lk)("div",null,[t[4]||(t[4]=(0,i.Lk)("p",{class:"text-sm text-neutral-500 mb-1"},"Pending Requests",-1)),(0,i.Lk)("p",su,(0,l.v_)(o.pendingCount),1)]),t[5]||(t[5]=(0,i.Lk)("div",{class:"icon-box icon-box-warning"},[(0,i.Lk)("svg",{class:"w-6 h-6 text-warning-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))]),(0,i.bF)(d,{to:"/technician/pending-bookings",class:"text-sm text-primary-600 hover:underline mt-3 inline-block"},{default:(0,i.k6)(()=>[...t[6]||(t[6]=[(0,i.eW)("View all →",-1)])]),_:1})])]),(0,i.Lk)("div",iu,[(0,i.Lk)("div",nu,[(0,i.Lk)("div",ou,[(0,i.Lk)("div",null,[t[7]||(t[7]=(0,i.Lk)("p",{class:"text-sm text-neutral-500 mb-1"},"Active Bookings",-1)),(0,i.Lk)("p",ru,(0,l.v_)(o.activeBookingsCount),1)]),t[8]||(t[8]=(0,i.Lk)("div",{class:"icon-box icon-box-primary"},[(0,i.Lk)("svg",{class:"w-6 h-6 text-primary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})])],-1))]),(0,i.bF)(d,{to:"/technician/active-bookings",class:"text-sm text-primary-600 hover:underline mt-3 inline-block"},{default:(0,i.k6)(()=>[...t[9]||(t[9]=[(0,i.eW)("Manage →",-1)])]),_:1})])]),(0,i.Lk)("div",lu,[(0,i.Lk)("div",cu,[(0,i.Lk)("div",du,[(0,i.Lk)("div",null,[t[10]||(t[10]=(0,i.Lk)("p",{class:"text-sm text-neutral-500 mb-1"},"Completed (Month)",-1)),(0,i.Lk)("p",uu,(0,l.v_)(o.completedThisMonth),1)]),t[11]||(t[11]=(0,i.Lk)("div",{class:"icon-box icon-box-success"},[(0,i.Lk)("svg",{class:"w-6 h-6 text-success-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))]),t[12]||(t[12]=(0,i.Lk)("p",{class:"text-sm text-success-600 mt-3"},"Great work!",-1))])]),(0,i.Lk)("div",mu,[(0,i.Lk)("div",pu,[(0,i.Lk)("div",hu,[(0,i.Lk)("div",null,[t[13]||(t[13]=(0,i.Lk)("p",{class:"text-sm text-neutral-500 mb-1"},"Earnings (Month)",-1)),(0,i.Lk)("p",ku,"$"+(0,l.v_)(o.earningsThisMonth),1)]),t[14]||(t[14]=(0,i.Lk)("div",{class:"icon-box icon-box-secondary"},[(0,i.Lk)("svg",{class:"w-6 h-6 text-secondary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))]),(0,i.bF)(d,{to:"/technician/earnings",class:"text-sm text-primary-600 hover:underline mt-3 inline-block"},{default:(0,i.k6)(()=>[...t[15]||(t[15]=[(0,i.eW)("View details →",-1)])]),_:1})])])]),(0,i.Lk)("div",gu,[(0,i.Lk)("div",vu,[(0,i.Lk)("div",bu,[t[17]||(t[17]=(0,i.Lk)("h3",{class:"font-semibold text-neutral-900"},"Pending Bookings",-1)),(0,i.bF)(d,{to:"/technician/pending-bookings",class:"text-sm text-primary-600 hover:underline"},{default:(0,i.k6)(()=>[...t[16]||(t[16]=[(0,i.eW)("View all",-1)])]),_:1})]),0===o.pendingBookings.length?((0,i.uX)(),(0,i.CE)("div",fu,[...t[18]||(t[18]=[(0,i.Lk)("svg",{class:"w-12 h-12 mx-auto text-neutral-300 mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})],-1),(0,i.Lk)("p",{class:"text-neutral-500"},"No pending bookings",-1)])])):((0,i.uX)(),(0,i.CE)("div",xu,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(o.pendingBookings.slice(0,3),e=>((0,i.uX)(),(0,i.CE)("div",{key:e.id,class:"p-4 hover:bg-neutral-50 transition-colors"},[(0,i.Lk)("div",yu,[(0,i.Lk)("div",null,[(0,i.Lk)("h4",Lu,(0,l.v_)(e.applianceName||"Appliance Repair"),1),(0,i.Lk)("p",wu,(0,l.v_)(e.city||"Location TBD"),1)]),t[19]||(t[19]=(0,i.Lk)("span",{class:"badge badge-pending"},"New",-1))]),(0,i.Lk)("p",Cu,(0,l.v_)(e.issueDescription||"No description"),1),(0,i.Lk)("div",Au,[(0,i.Lk)("span",Mu,(0,l.v_)(o.formatDate(e.scheduledDate)),1),(0,i.Lk)("div",Tu,[(0,i.Lk)("button",{type:"button",onClick:t=>o.acceptBooking(e.id),class:"btn btn-primary btn-sm"},"Accept",8,_u)])])]))),128))]))]),(0,i.Lk)("div",Bu,[(0,i.Lk)("div",Su,[t[21]||(t[21]=(0,i.Lk)("h3",{class:"font-semibold text-neutral-900"},"Recent Ratings",-1)),(0,i.Lk)("div",Fu,[t[20]||(t[20]=(0,i.Lk)("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},[(0,i.Lk)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})],-1)),(0,i.Lk)("span",Eu,(0,l.v_)(o.averageRating),1),(0,i.Lk)("span",Du,"("+(0,l.v_)(o.totalReviews)+" reviews)",1)])]),0===o.recentRatings.length?((0,i.uX)(),(0,i.CE)("div",Pu,[...t[22]||(t[22]=[(0,i.Lk)("svg",{class:"w-12 h-12 mx-auto text-neutral-300 mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})],-1),(0,i.Lk)("p",{class:"text-neutral-500"},"No ratings yet",-1)])])):((0,i.uX)(),(0,i.CE)("div",Xu,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(o.recentRatings,e=>((0,i.uX)(),(0,i.CE)("div",{key:e.id,class:"p-4"},[(0,i.Lk)("div",Nu,[(0,i.Lk)("span",Vu,(0,l.v_)(o.getCustomerInitials(e)),1),(0,i.Lk)("div",ju,[(0,i.Lk)("div",Ru,[(0,i.Lk)("span",Iu,(0,l.v_)(e.customerName||"Customer"),1),(0,i.Lk)("div",Uu,[((0,i.uX)(),(0,i.CE)(i.FK,null,(0,i.pI)(5,a=>(0,i.Lk)("svg",{key:a,class:(0,l.C4)(["w-4 h-4",a<=e.rating?"text-warning-500":"text-neutral-300"]),fill:"currentColor",viewBox:"0 0 20 20"},[...t[23]||(t[23]=[(0,i.Lk)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"},null,-1)])],2)),64))])]),e.review?((0,i.uX)(),(0,i.CE)("p",$u,(0,l.v_)(e.review),1)):(0,i.Q3)("",!0),(0,i.Lk)("span",zu,(0,l.v_)(o.formatDate(e.completedAt))+" • "+(0,l.v_)(e.applianceName),1)])])]))),128))]))])])],64))])])])}const Qu=(0,x.nY)("technician",{state:()=>({specialties:[],serviceAreas:[],pendingBookings:[],activeBookings:[],completedBookings:[],earnings:null,loading:!1,error:null}),getters:{specialtyIds:e=>e.specialties.map(e=>e.id),serviceAreaIds:e=>e.serviceAreas.map(e=>e.id),confirmedBookings:e=>e.activeBookings.filter(e=>"confirmed"===e.status),inProgressBookings:e=>e.activeBookings.filter(e=>"in_progress"===e.status)},actions:{async fetchSpecialties(){this.loading=!0;try{const{data:e}=await M.getSpecialties(),t=e?.specialties||e?.data||e||[];this.specialties=t.map(e=>({id:e.categoryId,name:e.nameEN,nameAr:e.nameAR,description:e.description,yearsOfExperience:e.yearsOfExperience,certificationDate:e.certificateDate}))}catch(e){this.error=e.message}finally{this.loading=!1}},async addSpecialty(e,t=0,a=null){try{await M.addSpecialty(e,t,a),await this.fetchSpecialties()}catch(s){throw this.error=s.message,s}},async removeSpecialty(e){try{await M.removeSpecialty(e),this.specialties=this.specialties.filter(t=>t.categoryId!==e&&t.id!==e)}catch(t){throw this.error=t.message,t}},async fetchServiceAreas(){this.loading=!0;try{const{data:e}=await M.getServiceAreas(),t=e?.serviceAreas||[];this.serviceAreas=t.map(e=>({id:e.areaId,name:e.nameEN,nameAr:e.nameAR,region:e.region,priority:e.priority}))}catch(e){this.error=e.message}finally{this.loading=!1}},async addServiceArea(e,t=1){try{await M.addServiceArea(e,t),await this.fetchServiceAreas()}catch(a){throw this.error=a.message,a}},async removeServiceArea(e){try{await M.removeServiceArea(e),this.serviceAreas=this.serviceAreas.filter(t=>t.serviceAreaId!==e&&t.id!==e)}catch(t){throw this.error=t.message,t}},async fetchPendingBookings(){this.loading=!0;try{const{data:e}=await M.getPendingBookings(),t=e?.bookings||[];this.pendingBookings=t.map(e=>({id:e.Booking_ID,scheduledDate:e["Scheduled Date"],scheduledTime:e["Scheduled Time"],totalPrice:e["Total Price"],applianceName:e["Appliance's Name (EN)"],applianceNameAr:e["Appliance's Name (AR)"],issueDescription:e["Issue Description"],customerFirstName:e["First Name"],customerLastName:e["Last Name"],customerName:`${e["First Name"]} ${e["Last Name"]}`.trim(),customerPhone:e["Phone Number"],city:e.City,streetAddress:e["Street Address"],buildingName:e["Building Name"],floor:e["Building Floor"],postalCode:e["Postal Code"],serviceArea:e.City}))}catch(e){this.error=e.message}finally{this.loading=!1}},async acceptBooking(e){try{await M.acceptBooking(e);const t=this.pendingBookings.find(t=>t.id===e);t&&(this.pendingBookings=this.pendingBookings.filter(t=>t.id!==e),t.status="confirmed",this.activeBookings.push(t))}catch(t){throw this.error=t.message,t}},async declineBooking(e){try{await M.declineBooking(e),this.pendingBookings=this.pendingBookings.filter(t=>t.id!==e)}catch(t){throw this.error=t.message,t}},async fetchActiveBookings(){this.loading=!0;try{const{data:e}=await M.getActiveBookings(),t=e?.bookings||[];this.activeBookings=t.map(e=>({id:e.Booking_ID,status:e.Status,scheduledDate:e["Scheduled Date"],scheduledTime:e["Scheduled Time"],totalPrice:e["Total Price"],applianceName:e["Appliance's Name (EN)"],applianceNameAr:e["Appliance's Name (AR)"],issueDescription:e["Issue Description"],customerFirstName:e["First Name"],customerLastName:e["Last Name"],customerName:`${e["First Name"]} ${e["Last Name"]}`.trim(),customerPhone:e["Phone Number"],city:e.City,streetAddress:e["Street Address"],buildingName:e["Building Name"],floor:e["Building Floor"],postalCode:e["Postal Code"],paymentStatus:e["Payment Status"],paymentMethod:e["Payment Method"],transactionId:e["Transaction ID"]}))}catch(e){this.error=e.message}finally{this.loading=!1}},async fetchCompletedBookings(){this.loading=!0;try{const{data:e}=await M.getCompletedBookings(),t=e?.bookings||[];this.completedBookings=t.map(e=>({id:e.Booking_ID,status:e.Status,scheduledDate:e["Scheduled Date"],scheduledTime:e["Scheduled Time"],completedAt:e["Completed At"],totalPrice:e["Total Price"],applianceName:e["Appliance's Name (EN)"],applianceNameAr:e["Appliance's Name (AR)"],issueDescription:e["Issue Description"],customerFirstName:e["First Name"],customerLastName:e["Last Name"],customerName:`${e["First Name"]} ${e["Last Name"]}`.trim(),city:e.City,rating:e.Rating,review:e.Review,paymentStatus:e["Payment Status"],paymentMethod:e["Payment Method"],transactionId:e["Transaction ID"]}))}catch(e){this.error=e.message}finally{this.loading=!1}},async startBooking(e){try{await M.startBooking(e);const t=this.activeBookings.find(t=>t.id===e);t&&(t.status="in_progress")}catch(t){throw this.error=t.message,t}},async completeBooking(e){try{await M.completeBooking(e);const t=this.activeBookings.find(t=>t.id===e);t&&(this.activeBookings=this.activeBookings.filter(t=>t.id!==e),t.status="completed",t.completedAt=(new Date).toISOString(),this.completedBookings.unshift(t))}catch(t){throw this.error=t.message,t}},async fetchEarnings(){this.loading=!0;try{const{data:e}=await M.getEarnings();this.earnings={summary:e?.summary||e||{},monthlyBreakdown:e?.monthlyBreakdown||[]}}catch(e){this.error=e.message}finally{this.loading=!1}}}}),qu={key:0,class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Hu={key:1,class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Ou={class:"p-4 space-y-1"},Ju={key:0,class:"ml-auto bg-secondary-500 text-white text-xs px-2 py-0.5 rounded-full"},Ku={key:0,class:"ml-auto bg-primary-500 text-white text-xs px-2 py-0.5 rounded-full"},Yu={key:0,class:"ml-auto bg-success-500 text-white text-xs px-2 py-0.5 rounded-full"},Gu={class:"absolute bottom-0 left-0 right-0 p-4 border-t border-primary-700"};function Zu(e,t,a,s,n,o){const r=(0,i.g2)("router-link");return(0,i.uX)(),(0,i.CE)("div",null,[(0,i.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>o.toggleSidebar&&o.toggleSidebar(...e)),class:(0,l.C4)(["lg:hidden fixed top-4 left-4 z-50 p-2 bg-primary-800 text-white rounded-lg shadow-lg",{"left-[17rem]":n.isOpen}]),"aria-label":"Toggle sidebar menu"},[n.isOpen?((0,i.uX)(),(0,i.CE)("svg",Hu,[...t[4]||(t[4]=[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,-1)])])):((0,i.uX)(),(0,i.CE)("svg",qu,[...t[3]||(t[3]=[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},null,-1)])]))],2),n.isOpen?((0,i.uX)(),(0,i.CE)("div",{key:0,class:"lg:hidden fixed inset-0 bg-black/50 z-30",onClick:t[1]||(t[1]=(...e)=>o.closeSidebar&&o.closeSidebar(...e))})):(0,i.Q3)("",!0),(0,i.Lk)("aside",{class:(0,l.C4)(["fixed left-0 top-0 bottom-0 w-64 bg-primary-800 text-white overflow-y-auto z-40 transform transition-transform duration-300 ease-in-out",{"-translate-x-full lg:translate-x-0":!n.isOpen,"translate-x-0":n.isOpen}]),role:"navigation","aria-label":"Technician navigation"},[t[18]||(t[18]=(0,i.Fv)('<div class="p-6 border-b border-primary-700"><div class="flex items-center gap-3"><div class="w-10 h-10 bg-white rounded-lg flex items-center justify-center"><img src="/images/logo/fixappliance-icon.svg" alt="FixAppliance" class="w-6 h-6"></div><div class="text-white"><p class="font-bold text-white">FixAppliance</p><p class="text-xs text-primary-300">Technician Portal</p></div></div></div>',1)),(0,i.Lk)("nav",Ou,[(0,i.bF)(r,{to:"/technician-dashboard",class:(0,l.C4)(o.getLinkClass("/technician-dashboard"))},{default:(0,i.k6)(()=>[...t[5]||(t[5]=[(0,i.Lk)("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})],-1),(0,i.Lk)("span",null,"Dashboard",-1)])]),_:1},8,["class"]),(0,i.bF)(r,{to:"/technician/pending-bookings",class:(0,l.C4)(o.getLinkClass("/technician/pending-bookings"))},{default:(0,i.k6)(()=>[t[6]||(t[6]=(0,i.Lk)("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),t[7]||(t[7]=(0,i.Lk)("span",null,"Pending Bookings",-1)),o.pendingCount>0?((0,i.uX)(),(0,i.CE)("span",Ju,(0,l.v_)(o.pendingCount),1)):(0,i.Q3)("",!0)]),_:1},8,["class"]),(0,i.bF)(r,{to:"/technician/active-bookings",class:(0,l.C4)(o.getLinkClass("/technician/active-bookings"))},{default:(0,i.k6)(()=>[t[8]||(t[8]=(0,i.Lk)("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),t[9]||(t[9]=(0,i.Lk)("span",null,"Active Bookings",-1)),o.activeCount>0?((0,i.uX)(),(0,i.CE)("span",Ku,(0,l.v_)(o.activeCount),1)):(0,i.Q3)("",!0)]),_:1},8,["class"]),(0,i.bF)(r,{to:"/technician/completed-bookings",class:(0,l.C4)(o.getLinkClass("/technician/completed-bookings"))},{default:(0,i.k6)(()=>[t[10]||(t[10]=(0,i.Lk)("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),t[11]||(t[11]=(0,i.Lk)("span",null,"Completed",-1)),o.completedCount>0?((0,i.uX)(),(0,i.CE)("span",Yu,(0,l.v_)(o.completedCount),1)):(0,i.Q3)("",!0)]),_:1},8,["class"]),(0,i.bF)(r,{to:"/technician/earnings",class:(0,l.C4)(o.getLinkClass("/technician/earnings"))},{default:(0,i.k6)(()=>[...t[12]||(t[12]=[(0,i.Lk)("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),(0,i.Lk)("span",null,"Earnings",-1)])]),_:1},8,["class"]),t[16]||(t[16]=(0,i.Lk)("div",{class:"pt-4 pb-2 px-4"},[(0,i.Lk)("span",{class:"text-xs text-primary-400 uppercase tracking-wider"},"Settings")],-1)),(0,i.bF)(r,{to:"/technician/profile",class:(0,l.C4)(o.getLinkClass("/technician/profile"))},{default:(0,i.k6)(()=>[...t[13]||(t[13]=[(0,i.Lk)("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1),(0,i.Lk)("span",null,"Profile",-1)])]),_:1},8,["class"]),(0,i.bF)(r,{to:"/technician/specialties",class:(0,l.C4)(o.getLinkClass("/technician/specialties"))},{default:(0,i.k6)(()=>[...t[14]||(t[14]=[(0,i.Lk)("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1),(0,i.Lk)("span",null,"Specialty Areas",-1)])]),_:1},8,["class"]),(0,i.bF)(r,{to:"/technician/service-areas",class:(0,l.C4)(o.getLinkClass("/technician/service-areas"))},{default:(0,i.k6)(()=>[...t[15]||(t[15]=[(0,i.Lk)("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})],-1),(0,i.Lk)("span",null,"Service Areas",-1)])]),_:1},8,["class"])]),(0,i.Lk)("div",Gu,[(0,i.Lk)("button",{type:"button",onClick:t[2]||(t[2]=(...e)=>o.handleLogout&&o.handleLogout(...e)),class:"flex items-center gap-3 px-4 py-3 w-full rounded-lg text-primary-200 hover:bg-primary-700 hover:text-white transition-colors"},[...t[17]||(t[17]=[(0,i.Lk)("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1),(0,i.Lk)("span",null,"Logout",-1)])])])],2)])}var em={name:"TechnicianSidebar",data(){return{technicianAuthStore:null,technicianStore:null,isOpen:!1}},created(){this.technicianAuthStore=E(),this.technicianStore=Qu()},computed:{currentPath(){return this.$route.path},pendingCount(){return this.technicianStore?.pendingBookings?.length||0},activeCount(){return this.technicianStore?.activeBookings?.length||0},completedCount(){return this.technicianStore?.completedBookings?.length||0}},watch:{$route(){this.isOpen=!1}},methods:{toggleSidebar(){this.isOpen=!this.isOpen},closeSidebar(){this.isOpen=!1},getLinkClass(e){const t="flex items-center gap-3 px-4 py-3 rounded-lg transition-colors",a=this.currentPath===e;return a?`${t} bg-primary-700 text-white hover:bg-primary-600 hover:text-white`:`${t} text-primary-200 hover:bg-primary-700 hover:text-white`},async handleLogout(){try{await this.technicianAuthStore.logout()}catch(e){console.error("Logout error:",e)}this.$router.push("/technician-login")}}};const tm=(0,P.A)(em,[["render",Zu]]);var am=tm,sm={name:"TechnicianDashboardView",components:{AlertMessage:xt,TechnicianSidebar:am},data(){const{isRefreshing:e,lastUpdated:t,startAutoRefresh:a,stopAutoRefresh:s}=Gn();return{loading:!1,error:null,isRefreshing:e,lastUpdated:t,startAutoRefresh:a,stopAutoRefresh:s}},computed:{technicianAuthStore(){return E()},technicianStore(){return Qu()},technician(){return this.technicianAuthStore.currentTechnician||{}},technicianName(){return this.technician.firstName&&this.technician.lastName?`${this.technician.firstName} ${this.technician.lastName}`:this.technician.name||"Technician"},technicianInitials(){return this.technician.firstName&&this.technician.lastName?`${this.technician.firstName[0]}${this.technician.lastName[0]}`.toUpperCase():this.technicianName.split(" ").map(e=>e[0]).join("").toUpperCase().substring(0,2)||"T"},pendingBookings(){return this.technicianStore.pendingBookings||[]},activeBookings(){return this.technicianStore.activeBookings||[]},completedBookings(){return this.technicianStore.completedBookings||[]},earnings(){return this.technicianStore.earnings||{}},pendingCount(){return this.pendingBookings.length},activeBookingsCount(){return this.activeBookings.length},completedThisMonth(){const e=new Date,t=e.getMonth(),a=e.getFullYear();return this.completedBookings.filter(e=>{const s=new Date(e.completedAt);return s.getMonth()===t&&s.getFullYear()===a}).length},earningsThisMonth(){if(this.earnings?.monthlyBreakdown?.length>0){const e=new Date,t=`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`,a=this.earnings.monthlyBreakdown.find(e=>e.month===t);if(a)return parseFloat(a.earnings||0).toFixed(2)}return this.earnings?.summary?.totalEarnings?parseFloat(this.earnings.summary.totalEarnings).toFixed(2):"0.00"},recentRatings(){return this.completedBookings.filter(e=>e.rating).slice(0,3)},averageRating(){const e=this.completedBookings.filter(e=>e.rating);if(0===e.length)return 0;const t=e.reduce((e,t)=>e+(t.rating||0),0);return(t/e.length).toFixed(1)},totalReviews(){return this.completedBookings.filter(e=>e.rating).length}},methods:{formatDate:En,getCustomerInitials(e){const t=e.customerName||"Customer",a=t.split(" ");return a.length>=2?`${a[0][0]}${a[1][0]}`.toUpperCase():t.substring(0,2).toUpperCase()},async handleLogout(){await this.technicianAuthStore.logout(),this.$router.push("/technician-login")},async acceptBooking(e){try{await this.technicianStore.acceptBooking(e),await this.loadDashboardData(),this.error=null}catch(t){this.error=t.response?.data?.message||t.message||"Failed to accept booking",window.scrollTo({top:0,behavior:"smooth"});try{await this.loadDashboardData()}catch(a){console.error("Failed to refresh dashboard data:",a)}}},async loadDashboardData(){this.loading=!0;try{await Promise.all([this.technicianAuthStore.fetchProfile(),this.technicianStore.fetchPendingBookings(),this.technicianStore.fetchActiveBookings(),this.technicianStore.fetchCompletedBookings(),this.technicianStore.fetchEarnings()])}catch(e){console.error("Failed to load dashboard data:",e)}finally{this.loading=!1}}},async mounted(){await this.loadDashboardData(),this.startAutoRefresh(async()=>{await this.loadDashboardData()},15e3)},unmounted(){this.stopAutoRefresh()}};const im=(0,P.A)(sm,[["render",Wu]]);var nm=im;const om={class:"min-h-screen flex"},rm={class:"flex-1 lg:ml-64 bg-neutral-50 min-h-screen"},lm={class:"p-4 sm:p-6"},cm={key:0,class:"loading-container"},dm={key:1,class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},um={class:"lg:col-span-1"},mm={class:"card"},pm={class:"card-body text-center py-8"},hm={class:"avatar avatar-2xl bg-primary-100 text-primary-600 mx-auto mb-4"},km={class:"font-bold"},gm={class:"text-lg font-semibold text-neutral-900"},vm={class:"text-sm text-neutral-500"},bm={key:0,class:"tag tag-success tag-sm mt-2"},fm={key:1,class:"tag tag-warning tag-sm mt-2"},xm={class:"border-t border-neutral-200 px-6 py-4"},ym={class:"grid grid-cols-2 gap-4 text-center"},Lm={class:"text-2xl font-bold text-primary-600"},wm={class:"text-2xl font-bold text-warning-500"},Cm={class:"lg:col-span-2"},Am={class:"card"},Mm={class:"card-body",ref:"formTop"},Tm={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},_m={class:"form-group"},Bm={class:"form-group"},Sm={class:"form-group"},Fm={class:"form-group"},Em={class:"flex justify-end gap-3"},Dm=["disabled"],Pm={key:0,class:"card mt-6"},Xm={class:"card-body"},Nm={key:0,class:"flex flex-wrap gap-2"},Vm={key:1,class:"text-neutral-500 text-sm"},jm={key:1,class:"card mt-6"},Rm={class:"card-body"},Im={key:0,class:"flex flex-wrap gap-2"},Um={key:1,class:"text-neutral-500 text-sm"};function $m(e,t,a,n,o,r){const c=(0,i.g2)("TechnicianSidebar"),d=(0,i.g2)("AlertMessage"),u=(0,i.g2)("router-link");return(0,i.uX)(),(0,i.CE)("div",om,[(0,i.bF)(c),(0,i.Lk)("main",rm,[t[21]||(t[21]=(0,i.Fv)('<header class="bg-white border-b border-neutral-100 px-4 sm:px-6 py-4"><div class="flex items-center justify-between"><div class="ml-14 lg:ml-0"><h1 class="text-xl font-semibold text-neutral-900">My Profile</h1><p class="text-sm text-neutral-500">Manage your technician account</p></div></div></header>',1)),(0,i.Lk)("div",lm,[o.loading?((0,i.uX)(),(0,i.CE)("div",cm,[...t[8]||(t[8]=[(0,i.Lk)("div",{class:"spinner spinner-xl"},null,-1)])])):((0,i.uX)(),(0,i.CE)("div",dm,[(0,i.Lk)("div",um,[(0,i.Lk)("div",mm,[(0,i.Lk)("div",pm,[(0,i.Lk)("div",hm,[(0,i.Lk)("span",km,(0,l.v_)(r.initials),1)]),(0,i.Lk)("h3",gm,(0,l.v_)(r.fullName),1),(0,i.Lk)("p",vm,(0,l.v_)(r.technician.email),1),r.technician.verified?((0,i.uX)(),(0,i.CE)("span",bm," Verified Technician ")):((0,i.uX)(),(0,i.CE)("span",fm," Pending Verification "))]),(0,i.Lk)("div",xm,[(0,i.Lk)("div",ym,[(0,i.Lk)("div",null,[(0,i.Lk)("p",Lm,(0,l.v_)(r.technician.totalJobs||0),1),t[9]||(t[9]=(0,i.Lk)("p",{class:"text-xs text-neutral-500"},"Total Jobs",-1))]),(0,i.Lk)("div",null,[(0,i.Lk)("p",wm,(0,l.v_)(r.technician.averageRating?.toFixed(1)||"N/A"),1),t[10]||(t[10]=(0,i.Lk)("p",{class:"text-xs text-neutral-500"},"Avg Rating",-1))])])])])]),(0,i.Lk)("div",Cm,[(0,i.Lk)("div",Am,[(0,i.Lk)("div",Mm,[t[16]||(t[16]=(0,i.Lk)("h3",{class:"text-lg font-semibold text-neutral-900 mb-6"},"Edit Profile",-1)),o.error?((0,i.uX)(),(0,i.Wv)(d,{key:0,type:"error",message:o.error,class:"mb-4",onDismiss:t[0]||(t[0]=e=>o.error=null)},null,8,["message"])):(0,i.Q3)("",!0),o.success?((0,i.uX)(),(0,i.Wv)(d,{key:1,type:"success",message:o.success,class:"mb-4",onDismiss:t[1]||(t[1]=e=>o.success=null)},null,8,["message"])):(0,i.Q3)("",!0),(0,i.Lk)("form",{onSubmit:t[7]||(t[7]=(0,s.D$)((...e)=>r.handleSubmit&&r.handleSubmit(...e),["prevent"])),class:"space-y-5"},[(0,i.Lk)("div",Tm,[(0,i.Lk)("div",_m,[t[11]||(t[11]=(0,i.Lk)("label",{for:"firstName",class:"form-label"},"First Name",-1)),(0,i.bo)((0,i.Lk)("input",{type:"text",id:"firstName","onUpdate:modelValue":t[2]||(t[2]=e=>o.form.firstName=e),class:"form-input",required:""},null,512),[[s.Jo,o.form.firstName]])]),(0,i.Lk)("div",Bm,[t[12]||(t[12]=(0,i.Lk)("label",{for:"lastName",class:"form-label"},"Last Name",-1)),(0,i.bo)((0,i.Lk)("input",{type:"text",id:"lastName","onUpdate:modelValue":t[3]||(t[3]=e=>o.form.lastName=e),class:"form-input",required:""},null,512),[[s.Jo,o.form.lastName]])])]),(0,i.Lk)("div",Sm,[t[13]||(t[13]=(0,i.Lk)("label",{for:"email",class:"form-label"},"Email",-1)),(0,i.bo)((0,i.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":t[4]||(t[4]=e=>o.form.email=e),class:"form-input bg-neutral-50",disabled:""},null,512),[[s.Jo,o.form.email]]),t[14]||(t[14]=(0,i.Lk)("p",{class:"text-xs text-neutral-500 mt-1"},"Email cannot be changed",-1))]),(0,i.Lk)("div",Fm,[t[15]||(t[15]=(0,i.Lk)("label",{for:"phone",class:"form-label"},"Phone",-1)),(0,i.bo)((0,i.Lk)("input",{type:"tel",id:"phone","onUpdate:modelValue":t[5]||(t[5]=e=>o.form.phone=e),class:"form-input",required:""},null,512),[[s.Jo,o.form.phone]])]),(0,i.Lk)("div",Em,[(0,i.Lk)("button",{type:"button",class:"btn btn-outline",onClick:t[6]||(t[6]=(...e)=>r.resetForm&&r.resetForm(...e))},"Cancel"),(0,i.Lk)("button",{type:"submit",class:"btn btn-primary",disabled:o.saving},(0,l.v_)(o.saving?"Saving...":"Save Changes"),9,Dm)])],32)],512)]),r.technician.applianceCategories?((0,i.uX)(),(0,i.CE)("div",Pm,[(0,i.Lk)("div",Xm,[t[18]||(t[18]=(0,i.Lk)("h3",{class:"text-lg font-semibold text-neutral-900 mb-4"},"My Specialties",-1)),r.technician.applianceCategories.length>0?((0,i.uX)(),(0,i.CE)("div",Nm,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(r.technician.applianceCategories,e=>((0,i.uX)(),(0,i.CE)("span",{key:e.categoryId,class:"tag tag-primary"},(0,l.v_)(e.nameEN)+" ("+(0,l.v_)(e.yearsOfExperience)+" yrs) ",1))),128))])):((0,i.uX)(),(0,i.CE)("p",Vm,"No specialties added yet.")),(0,i.bF)(u,{to:"/technician/specialties",class:"btn btn-outline btn-sm mt-4"},{default:(0,i.k6)(()=>[...t[17]||(t[17]=[(0,i.eW)(" Manage Specialties ",-1)])]),_:1})])])):(0,i.Q3)("",!0),r.technician.serviceAreas?((0,i.uX)(),(0,i.CE)("div",jm,[(0,i.Lk)("div",Rm,[t[20]||(t[20]=(0,i.Lk)("h3",{class:"text-lg font-semibold text-neutral-900 mb-4"},"Service Areas",-1)),r.technician.serviceAreas.length>0?((0,i.uX)(),(0,i.CE)("div",Im,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(r.technician.serviceAreas,e=>((0,i.uX)(),(0,i.CE)("span",{key:e.areaId,class:"tag tag-secondary"},(0,l.v_)(e.nameEN),1))),128))])):((0,i.uX)(),(0,i.CE)("p",Um,"No service areas added yet.")),(0,i.bF)(u,{to:"/technician/service-areas",class:"btn btn-outline btn-sm mt-4"},{default:(0,i.k6)(()=>[...t[19]||(t[19]=[(0,i.eW)(" Manage Service Areas ",-1)])]),_:1})])])):(0,i.Q3)("",!0)])]))])])])}var zm={name:"TechnicianProfileView",components:{AlertMessage:xt,TechnicianSidebar:am},data(){return{loading:!0,saving:!1,error:null,success:null,form:{firstName:"",lastName:"",email:"",phone:""}}},computed:{technician(){return E().currentTechnician||{}},fullName(){return this.technician.firstName&&this.technician.lastName?`${this.technician.firstName} ${this.technician.lastName}`:"Technician"},initials(){const e=this.technician.firstName?.[0]||"",t=this.technician.lastName?.[0]||"";return(e+t).toUpperCase()||"T"}},methods:{async handleLogout(){await E().logout(),this.$router.push("/technician-login")},async handleSubmit(){this.saving=!0,this.error=null,this.success=null;try{await E().updateProfile({firstName:this.form.firstName,lastName:this.form.lastName,email:this.form.email,phone:this.form.phone}),this.success="Profile updated successfully!",this.$nextTick(()=>this.$refs.formTop?.scrollIntoView({behavior:"smooth",block:"start"})),await this.loadProfile()}catch(e){this.error=e.response?.data?.message||"Failed to update profile",this.$nextTick(()=>this.$refs.formTop?.scrollIntoView({behavior:"smooth",block:"start"}))}finally{this.saving=!1}},resetForm(){this.form={firstName:this.technician.firstName||"",lastName:this.technician.lastName||"",email:this.technician.email||"",phone:this.technician.phone||""},this.error=null,this.success=null},async loadProfile(){this.loading=!0;try{await E().fetchProfile(),this.resetForm()}catch(e){this.error="Failed to load profile",this.$nextTick(()=>this.$refs.formTop?.scrollIntoView({behavior:"smooth",block:"start"}))}finally{this.loading=!1}}},async mounted(){await this.loadProfile()}};const Wm=(0,P.A)(zm,[["render",$m]]);var Qm=Wm;const qm={class:"min-h-screen flex"},Hm={class:"flex-1 lg:ml-64 bg-neutral-50 min-h-screen"},Om={class:"p-4 sm:p-6"},Jm={key:0,class:"loading-container"},Km={key:1,class:"alert alert-error mb-4"},Ym={key:2,class:"card p-12 text-center"},Gm={key:3,class:"space-y-4"},Zm={class:"card-body"},ep={class:"flex flex-col md:flex-row md:items-start gap-4"},tp={class:"flex-1"},ap={class:"flex items-start justify-between mb-2"},sp={class:"text-lg font-semibold text-neutral-900"},ip={class:"text-sm text-neutral-600 mb-3"},np={class:"flex flex-wrap gap-4 text-sm text-neutral-500"},op={class:"flex items-center gap-1"},rp={class:"flex items-center gap-1"},lp={class:"flex items-center gap-1"},cp={class:"flex gap-2"},dp=["onClick"];function up(e,t,a,s,n,o){const r=(0,i.g2)("TechnicianSidebar");return(0,i.uX)(),(0,i.CE)("div",qm,[(0,i.bF)(r),(0,i.Lk)("main",Hm,[t[8]||(t[8]=(0,i.Fv)('<header class="bg-white border-b border-neutral-100 px-4 sm:px-6 py-4"><div class="flex items-center justify-between"><div class="ml-14 lg:ml-0"><h1 class="text-xl font-semibold text-neutral-900">Pending Bookings</h1><p class="text-sm text-neutral-500">Review and accept new booking requests</p></div></div></header>',1)),(0,i.Lk)("div",Om,[n.loading?((0,i.uX)(),(0,i.CE)("div",Jm,[...t[1]||(t[1]=[(0,i.Lk)("div",{class:"spinner spinner-lg"},null,-1)])])):(0,i.Q3)("",!0),n.error?((0,i.uX)(),(0,i.CE)("div",Km,[t[2]||(t[2]=(0,i.Lk)("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},[(0,i.Lk)("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})],-1)),(0,i.Lk)("span",null,(0,l.v_)(n.error),1),(0,i.Lk)("button",{onClick:t[0]||(t[0]=e=>n.error=null),class:"text-sm font-medium hover:opacity-75"},"Dismiss")])):0===o.pendingBookings.length?((0,i.uX)(),(0,i.CE)("div",Ym,[...t[3]||(t[3]=[(0,i.Lk)("svg",{class:"w-16 h-16 mx-auto text-neutral-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})],-1),(0,i.Lk)("h3",{class:"text-lg font-medium text-neutral-900 mb-2"},"No pending bookings",-1),(0,i.Lk)("p",{class:"text-neutral-500"},"You don't have any new booking requests at the moment.",-1)])])):((0,i.uX)(),(0,i.CE)("div",Gm,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(o.pendingBookings,e=>((0,i.uX)(),(0,i.CE)("div",{key:e.id,class:"card"},[(0,i.Lk)("div",Zm,[(0,i.Lk)("div",ep,[(0,i.Lk)("div",tp,[(0,i.Lk)("div",ap,[(0,i.Lk)("h3",sp,(0,l.v_)(e.applianceName),1),t[4]||(t[4]=(0,i.Lk)("span",{class:"badge badge-pending"},"Pending",-1))]),(0,i.Lk)("p",ip,(0,l.v_)(e.issueDescription),1),(0,i.Lk)("div",np,[(0,i.Lk)("div",op,[t[5]||(t[5]=(0,i.Lk)("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"})],-1)),(0,i.Lk)("span",null,(0,l.v_)(e.serviceArea),1)]),(0,i.Lk)("div",rp,[t[6]||(t[6]=(0,i.Lk)("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),(0,i.Lk)("span",null,(0,l.v_)(o.formatDate(e.scheduledDate)),1)]),(0,i.Lk)("div",lp,[t[7]||(t[7]=(0,i.Lk)("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8V7m0 1v8m0 0v1"})],-1)),(0,i.Lk)("span",null,"$"+(0,l.v_)(e.totalPrice),1)])])]),(0,i.Lk)("div",cp,[(0,i.Lk)("button",{onClick:t=>o.acceptBooking(e.id),class:"btn btn-primary btn-sm"},"Accept",8,dp)])])])]))),128))]))])])])}var mp={name:"TechnicianPendingBookingsView",components:{TechnicianSidebar:am},data(){const{isRefreshing:e,lastUpdated:t,startAutoRefresh:a,stopAutoRefresh:s}=Gn();return{loading:!1,error:null,isRefreshing:e,lastUpdated:t,startAutoRefresh:a,stopAutoRefresh:s}},computed:{pendingBookings(){return Qu().pendingBookings}},methods:{formatDate:En,async handleLogout(){await E().logout(),this.$router.push("/technician-login")},async acceptBooking(e){this.error=null;try{await Qu().acceptBooking(e),await this.loadData()}catch(t){this.error=t.response?.data?.message||t.message||"Failed to accept booking",window.scrollTo({top:0,behavior:"smooth"});try{await this.loadData()}catch(a){console.error("Failed to refresh pending bookings:",a)}}},async loadData(){this.loading=!0,await Qu().fetchPendingBookings(),this.loading=!1}},async mounted(){await this.loadData(),this.startAutoRefresh(async()=>{await this.loadData()},15e3)},unmounted(){this.stopAutoRefresh()}};const pp=(0,P.A)(mp,[["render",up]]);var hp=pp;const kp={class:"min-h-screen flex"},gp={class:"flex-1 lg:ml-64 bg-neutral-50 min-h-screen"},vp={class:"p-4 sm:p-6"},bp={key:0,class:"loading-container"},fp={class:"flex gap-4 mb-6 overflow-auto"},xp={key:1,class:"card p-12 text-center"},yp={key:2,class:"space-y-4"},Lp={class:"card-body"},wp={class:"flex items-start justify-between mb-4"},Cp={class:"flex items-start gap-4"},Ap={class:"font-semibold text-neutral-900"},Mp={class:"text-sm text-neutral-500"},Tp={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4"},_p={class:"font-medium text-neutral-900"},Bp={class:"font-medium text-neutral-900"},Sp={class:"font-medium text-neutral-900"},Fp={class:"font-medium text-neutral-900"},Ep={class:"mb-4"},Dp={class:"text-neutral-900"},Pp={key:0},Xp={key:1},Np={key:0,class:"mb-4"},Vp={class:"text-neutral-700 bg-neutral-50 p-3 rounded-lg"},jp={class:"flex lg:items-center flex-col lg:flex-row justify-between border-t border-neutral-100 pt-4"},Rp={class:"mb-5"},Ip={class:"text-xl font-bold text-primary-600"},Up={key:0,class:"text-xs text-neutral-500"},$p={key:1,class:"text-xs text-neutral-400 font-mono"},zp={class:"flex gap-2"},Wp=["onClick","disabled"],Qp={key:0},qp={key:1},Hp=["onClick","disabled"],Op={key:0},Jp={key:1},Kp=["onClick","disabled","title"],Yp={key:0},Gp={key:1},Zp=["href"];function eh(e,t,a,s,n,o){const r=(0,i.g2)("TechnicianSidebar"),c=(0,i.g2)("AlertMessage"),d=(0,i.g2)("router-link");return(0,i.uX)(),(0,i.CE)("div",kp,[(0,i.bF)(r),(0,i.Lk)("main",gp,[t[20]||(t[20]=(0,i.Fv)('<header class="bg-white border-b border-neutral-100 px-4 sm:px-6 py-4"><div class="flex items-center justify-between"><div class="ml-14 lg:ml-0"><h1 class="text-xl font-semibold text-neutral-900">Active Bookings</h1><p class="text-sm text-neutral-500">Manage your confirmed and in-progress jobs</p></div></div></header>',1)),(0,i.Lk)("div",vp,[n.loading?((0,i.uX)(),(0,i.CE)("div",bp,[...t[4]||(t[4]=[(0,i.Lk)("div",{class:"spinner spinner-lg"},null,-1)])])):((0,i.uX)(),(0,i.CE)(i.FK,{key:1},[n.error?((0,i.uX)(),(0,i.Wv)(c,{key:0,type:"error",message:n.error,class:"mb-6",onDismiss:t[0]||(t[0]=e=>n.error=null)},null,8,["message"])):(0,i.Q3)("",!0),(0,i.Lk)("div",fp,[(0,i.Lk)("button",{onClick:t[1]||(t[1]=e=>n.filter="all"),class:(0,l.C4)(["px-4 py-2 rounded-lg text-sm font-medium transition-colors","all"===n.filter?"bg-primary-600 text-white hover:bg-primary-700 hover:text-white":"bg-white text-neutral-600 hover:bg-neutral-100"])}," All ("+(0,l.v_)(o.activeBookings.length)+") ",3),(0,i.Lk)("button",{onClick:t[2]||(t[2]=e=>n.filter="confirmed"),class:(0,l.C4)(["px-4 py-2 rounded-lg text-sm font-medium transition-colors","confirmed"===n.filter?"bg-primary-600 text-white hover:bg-primary-700 hover:text-white":"bg-white text-neutral-600 hover:bg-neutral-100"])}," Confirmed ("+(0,l.v_)(o.confirmedBookings.length)+") ",3),(0,i.Lk)("button",{onClick:t[3]||(t[3]=e=>n.filter="in_progress"),class:(0,l.C4)(["px-4 py-2 rounded-lg text-sm font-medium transition-colors","in_progress"===n.filter?"bg-primary-600 text-white hover:bg-primary-700 hover:text-white":"bg-white text-neutral-600 hover:bg-neutral-100"])}," In Progress ("+(0,l.v_)(o.inProgressBookings.length)+") ",3)]),0===o.filteredBookings.length?((0,i.uX)(),(0,i.CE)("div",xp,[t[6]||(t[6]=(0,i.Lk)("svg",{class:"w-16 h-16 mx-auto text-neutral-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),t[7]||(t[7]=(0,i.Lk)("h3",{class:"text-lg font-medium text-neutral-900 mb-2"},"No active bookings",-1)),t[8]||(t[8]=(0,i.Lk)("p",{class:"text-neutral-500 mb-4"},"Accept pending bookings to start working",-1)),(0,i.bF)(d,{to:"/technician/pending-bookings",class:"btn btn-primary"},{default:(0,i.k6)(()=>[...t[5]||(t[5]=[(0,i.eW)("View Pending Bookings",-1)])]),_:1})])):((0,i.uX)(),(0,i.CE)("div",yp,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(o.filteredBookings,e=>((0,i.uX)(),(0,i.CE)("div",{key:e.id,class:"card"},[(0,i.Lk)("div",Lp,[(0,i.Lk)("div",wp,[(0,i.Lk)("div",Cp,[t[9]||(t[9]=(0,i.Lk)("div",{class:"icon-box icon-box-primary"},[(0,i.Lk)("svg",{class:"w-6 h-6 text-primary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})])],-1)),(0,i.Lk)("div",null,[(0,i.Lk)("h3",Ap,(0,l.v_)(e.applianceName),1),(0,i.Lk)("p",Mp,"Booking #"+(0,l.v_)(e.id),1)])]),(0,i.Lk)("span",{class:(0,l.C4)(["badge","confirmed"===e.status?"badge-confirmed":"badge-in-progress"])},(0,l.v_)("confirmed"===e.status?"Confirmed":"In Progress"),3)]),(0,i.Lk)("div",Tp,[(0,i.Lk)("div",null,[t[10]||(t[10]=(0,i.Lk)("p",{class:"text-sm text-neutral-500 mb-1"},"Customer",-1)),(0,i.Lk)("p",_p,(0,l.v_)(e.customerName),1)]),(0,i.Lk)("div",null,[t[11]||(t[11]=(0,i.Lk)("p",{class:"text-sm text-neutral-500 mb-1"},"Phone",-1)),(0,i.Lk)("p",Bp,(0,l.v_)(e.customerPhone||"N/A"),1)]),(0,i.Lk)("div",null,[t[12]||(t[12]=(0,i.Lk)("p",{class:"text-sm text-neutral-500 mb-1"},"Scheduled Date",-1)),(0,i.Lk)("p",Sp,(0,l.v_)(o.formatDate(e.scheduledDate)),1)]),(0,i.Lk)("div",null,[t[13]||(t[13]=(0,i.Lk)("p",{class:"text-sm text-neutral-500 mb-1"},"Time",-1)),(0,i.Lk)("p",Fp,(0,l.v_)(o.formatTime(e.scheduledTime)),1)])]),(0,i.Lk)("div",Ep,[t[15]||(t[15]=(0,i.Lk)("p",{class:"text-sm text-neutral-500 mb-1"},"Address",-1)),(0,i.Lk)("p",Dp,[(0,i.eW)((0,l.v_)(e.streetAddress)+", "+(0,l.v_)(e.buildingName)+" ",1),e.floor?((0,i.uX)(),(0,i.CE)("span",Pp,", Floor "+(0,l.v_)(e.floor),1)):(0,i.Q3)("",!0),t[14]||(t[14]=(0,i.Lk)("br",null,null,-1)),(0,i.eW)((0,l.v_)(e.city)+" ",1),e.postalCode?((0,i.uX)(),(0,i.CE)("span",Xp," - "+(0,l.v_)(e.postalCode),1)):(0,i.Q3)("",!0)])]),e.issueDescription?((0,i.uX)(),(0,i.CE)("div",Np,[t[16]||(t[16]=(0,i.Lk)("p",{class:"text-sm text-neutral-500 mb-1"},"Issue Description",-1)),(0,i.Lk)("p",Vp,(0,l.v_)(e.issueDescription),1)])):(0,i.Q3)("",!0),(0,i.Lk)("div",jp,[(0,i.Lk)("div",Rp,[t[18]||(t[18]=(0,i.Lk)("p",{class:"text-sm text-neutral-500"},"Total Amount",-1)),(0,i.Lk)("p",Ip,"$"+(0,l.v_)(e.totalPrice?.toFixed(2)||"0.00"),1),e.paymentStatus?((0,i.uX)(),(0,i.CE)("p",Up,[t[17]||(t[17]=(0,i.eW)(" Payment: ",-1)),(0,i.Lk)("span",{class:(0,l.C4)("completed"===e.paymentStatus?"text-success-600":"text-warning-600")},(0,l.v_)(e.paymentStatus),3)])):(0,i.Q3)("",!0),"completed"===e.paymentStatus&&e.transactionId?((0,i.uX)(),(0,i.CE)("p",$p," TXN: "+(0,l.v_)(e.transactionId),1)):(0,i.Q3)("",!0)]),(0,i.Lk)("div",zp,["confirmed"===e.status?((0,i.uX)(),(0,i.CE)("button",{key:0,onClick:t=>o.startJob(e.id),disabled:n.actionLoading===e.id,class:"btn btn-primary"},[n.actionLoading===e.id?((0,i.uX)(),(0,i.CE)("span",Qp,"Starting...")):((0,i.uX)(),(0,i.CE)("span",qp,"Start Job"))],8,Wp)):(0,i.Q3)("",!0),"in_progress"===e.status?((0,i.uX)(),(0,i.CE)("button",{key:1,onClick:t=>o.completeJob(e.id),disabled:n.actionLoading===e.id,class:"btn btn-success"},[n.actionLoading===e.id?((0,i.uX)(),(0,i.CE)("span",Op,"Completing...")):((0,i.uX)(),(0,i.CE)("span",Jp,"Mark Complete"))],8,Hp)):(0,i.Q3)("",!0),"confirmed"===e.status?((0,i.uX)(),(0,i.CE)("button",{key:2,onClick:t=>o.declineJob(e.id),disabled:n.actionLoading===e.id||"completed"===e.paymentStatus,class:"btn btn-ghost text-error-600 hover:bg-error-50",title:"completed"===e.paymentStatus?"Cannot decline a paid booking":""},[n.actionLoading===e.id?((0,i.uX)(),(0,i.CE)("span",Yp,"Declining...")):((0,i.uX)(),(0,i.CE)("span",Gp,"Decline"))],8,Kp)):(0,i.Q3)("",!0),e.customerPhone?((0,i.uX)(),(0,i.CE)("a",{key:3,href:"tel:"+e.customerPhone,class:"btn btn-ghost"},[...t[19]||(t[19]=[(0,i.Lk)("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})],-1),(0,i.eW)(" Call ",-1)])],8,Zp)):(0,i.Q3)("",!0)])])])]))),128))]))],64))])])])}var th={name:"TechnicianActiveBookingsView",components:{AlertMessage:xt,TechnicianSidebar:am},data(){const{isRefreshing:e,lastUpdated:t,startAutoRefresh:a,stopAutoRefresh:s}=Gn();return{loading:!1,actionLoading:null,filter:"all",error:null,isRefreshing:e,lastUpdated:t,startAutoRefresh:a,stopAutoRefresh:s}},computed:{technicianAuthStore(){return E()},technicianStore(){return Qu()},activeBookings(){return this.technicianStore.activeBookings||[]},confirmedBookings(){return this.activeBookings.filter(e=>"confirmed"===e.status)},inProgressBookings(){return this.activeBookings.filter(e=>"in_progress"===e.status)},filteredBookings(){return"confirmed"===this.filter?this.confirmedBookings:"in_progress"===this.filter?this.inProgressBookings:this.activeBookings}},methods:{formatDate:En,formatTime:Dn,async handleLogout(){await this.technicianAuthStore.logout(),this.$router.push("/technician-login")},async startJob(e){this.actionLoading=e;try{await this.technicianStore.startBooking(e),await this.loadData(),this.error=null}catch(t){this.error=t.response?.data?.message||t.message||"Failed to start job",window.scrollTo({top:0,behavior:"smooth"})}finally{this.actionLoading=null}},async completeJob(e){if(confirm("Are you sure you want to mark this job as complete?")){this.actionLoading=e;try{await this.technicianStore.completeBooking(e),await this.loadData(),this.error=null}catch(t){this.error=t.response?.data?.message||t.message||"Failed to complete job",window.scrollTo({top:0,behavior:"smooth"})}finally{this.actionLoading=null}}},async declineJob(e){if(confirm("Are you sure you want to decline this booking? It will return to pending status.")){this.actionLoading=e;try{await this.technicianStore.declineBooking(e),await this.loadData(),this.error=null}catch(t){this.error=t.response?.data?.message||t.message||"Failed to decline booking",window.scrollTo({top:0,behavior:"smooth"})}finally{this.actionLoading=null}}},async loadData(){this.loading=!0;try{await this.technicianStore.fetchActiveBookings()}catch(e){console.error("Failed to load active bookings:",e)}finally{this.loading=!1}}},async mounted(){await this.loadData(),this.startAutoRefresh(async()=>{await this.loadData()},15e3)},unmounted(){this.stopAutoRefresh()}};const ah=(0,P.A)(th,[["render",eh]]);var sh=ah;const ih={class:"min-h-screen flex"},nh={class:"flex-1 lg:ml-64 bg-neutral-50 min-h-screen"},oh={class:"bg-white border-b border-neutral-100 px-4 sm:px-6 py-4"},rh={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},lh={class:"flex gap-4"},ch={class:"text-right"},dh={class:"text-lg sm:text-xl font-bold text-neutral-900"},uh={class:"text-right"},mh={class:"text-lg sm:text-xl font-bold text-success-600"},ph={class:"p-4 sm:p-6"},hh={key:0,class:"loading-container"},kh={key:0,class:"card p-12 text-center"},gh={key:1,class:"space-y-4"},vh={class:"card-body"},bh={class:"flex items-start justify-between mb-4"},fh={class:"flex items-start gap-4"},xh={class:"font-semibold text-neutral-900"},yh={class:"text-sm text-neutral-500"},Lh={class:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4"},wh={class:"font-medium text-neutral-900"},Ch={class:"font-medium text-neutral-900"},Ah={class:"font-medium text-neutral-900"},Mh={key:0,class:"mb-4"},Th={class:"text-neutral-700 bg-neutral-50 p-3 rounded-lg"},_h={key:1,class:"mb-4 bg-warning-50 p-4 rounded-lg"},Bh={class:"flex items-center gap-2 mb-2"},Sh={class:"flex items-center gap-1"},Fh={class:"text-sm font-medium text-neutral-700 ml-1"},Eh={key:0,class:"text-neutral-600 italic"},Dh={key:2,class:"mb-4 bg-neutral-50 p-4 rounded-lg"},Ph={class:"flex items-center justify-between border-t border-neutral-100 pt-4"},Xh={class:"text-xl font-bold text-success-600"},Nh={class:"text-xs text-neutral-500"},Vh={key:0,class:"flex flex-wrap gap-2 mt-1"},jh={key:0,class:"text-xs text-neutral-400"},Rh={key:1,class:"text-xs text-neutral-400 font-mono"},Ih={class:"font-medium text-neutral-700"};function Uh(e,t,a,s,n,o){const r=(0,i.g2)("TechnicianSidebar"),c=(0,i.g2)("router-link");return(0,i.uX)(),(0,i.CE)("div",ih,[(0,i.bF)(r),(0,i.Lk)("main",nh,[(0,i.Lk)("header",oh,[(0,i.Lk)("div",rh,[t[2]||(t[2]=(0,i.Lk)("div",{class:"ml-14 lg:ml-0"},[(0,i.Lk)("h1",{class:"text-xl font-semibold text-neutral-900"},"Completed Bookings"),(0,i.Lk)("p",{class:"text-sm text-neutral-500"},"History of your completed jobs")],-1)),(0,i.Lk)("div",lh,[(0,i.Lk)("div",ch,[t[0]||(t[0]=(0,i.Lk)("p",{class:"text-xs sm:text-sm text-neutral-500"},"Total Completed",-1)),(0,i.Lk)("p",dh,(0,l.v_)(o.completedBookings.length),1)]),(0,i.Lk)("div",uh,[t[1]||(t[1]=(0,i.Lk)("p",{class:"text-xs sm:text-sm text-neutral-500"},"Total Earnings",-1)),(0,i.Lk)("p",mh,"$"+(0,l.v_)(o.totalEarnings.toFixed(2)),1)])])])]),(0,i.Lk)("div",ph,[n.loading?((0,i.uX)(),(0,i.CE)("div",hh,[...t[3]||(t[3]=[(0,i.Lk)("div",{class:"spinner spinner-lg"},null,-1)])])):((0,i.uX)(),(0,i.CE)(i.FK,{key:1},[0===o.completedBookings.length?((0,i.uX)(),(0,i.CE)("div",kh,[t[5]||(t[5]=(0,i.Lk)("svg",{class:"w-16 h-16 mx-auto text-neutral-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),t[6]||(t[6]=(0,i.Lk)("h3",{class:"text-lg font-medium text-neutral-900 mb-2"},"No completed bookings yet",-1)),t[7]||(t[7]=(0,i.Lk)("p",{class:"text-neutral-500 mb-4"},"Complete your active jobs to see them here",-1)),(0,i.bF)(c,{to:"/technician/active-bookings",class:"btn btn-primary"},{default:(0,i.k6)(()=>[...t[4]||(t[4]=[(0,i.eW)("View Active Bookings",-1)])]),_:1})])):((0,i.uX)(),(0,i.CE)("div",gh,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(o.completedBookings,e=>((0,i.uX)(),(0,i.CE)("div",{key:e.id,class:"card"},[(0,i.Lk)("div",vh,[(0,i.Lk)("div",bh,[(0,i.Lk)("div",fh,[t[8]||(t[8]=(0,i.Lk)("div",{class:"icon-box icon-box-success"},[(0,i.Lk)("svg",{class:"w-6 h-6 text-success-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),(0,i.Lk)("div",null,[(0,i.Lk)("h3",xh,(0,l.v_)(e.applianceName),1),(0,i.Lk)("p",yh,"Booking #"+(0,l.v_)(e.id),1)])]),t[9]||(t[9]=(0,i.Lk)("span",{class:"badge badge-completed"},"Completed",-1))]),(0,i.Lk)("div",Lh,[(0,i.Lk)("div",null,[t[10]||(t[10]=(0,i.Lk)("p",{class:"text-sm text-neutral-500 mb-1"},"Customer",-1)),(0,i.Lk)("p",wh,(0,l.v_)(e.customerName),1)]),(0,i.Lk)("div",null,[t[11]||(t[11]=(0,i.Lk)("p",{class:"text-sm text-neutral-500 mb-1"},"Location",-1)),(0,i.Lk)("p",Ch,(0,l.v_)(e.city),1)]),(0,i.Lk)("div",null,[t[12]||(t[12]=(0,i.Lk)("p",{class:"text-sm text-neutral-500 mb-1"},"Completed On",-1)),(0,i.Lk)("p",Ah,(0,l.v_)(o.formatDateTime(e.completedAt)),1)])]),e.issueDescription?((0,i.uX)(),(0,i.CE)("div",Mh,[t[13]||(t[13]=(0,i.Lk)("p",{class:"text-sm text-neutral-500 mb-1"},"Issue Description",-1)),(0,i.Lk)("p",Th,(0,l.v_)(e.issueDescription),1)])):(0,i.Q3)("",!0),e.rating?((0,i.uX)(),(0,i.CE)("div",_h,[(0,i.Lk)("div",Bh,[t[15]||(t[15]=(0,i.Lk)("p",{class:"text-sm font-medium text-neutral-700"},"Customer Rating:",-1)),(0,i.Lk)("div",Sh,[((0,i.uX)(),(0,i.CE)(i.FK,null,(0,i.pI)(5,a=>(0,i.Lk)("svg",{key:a,class:(0,l.C4)(["w-5 h-5",a<=e.rating?"text-warning-500":"text-neutral-300"]),fill:"currentColor",viewBox:"0 0 20 20"},[...t[14]||(t[14]=[(0,i.Lk)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"},null,-1)])],2)),64)),(0,i.Lk)("span",Fh,(0,l.v_)(e.rating)+"/5",1)])]),e.review?((0,i.uX)(),(0,i.CE)("p",Eh,'"'+(0,l.v_)(e.review)+'"',1)):(0,i.Q3)("",!0)])):((0,i.uX)(),(0,i.CE)("div",Dh,[...t[16]||(t[16]=[(0,i.Lk)("p",{class:"text-sm text-neutral-500"},"No rating received yet",-1)])])),(0,i.Lk)("div",Ph,[(0,i.Lk)("div",null,[t[17]||(t[17]=(0,i.Lk)("p",{class:"text-sm text-neutral-500"},"Job Earnings (after platform fee)",-1)),(0,i.Lk)("p",Xh,"$"+(0,l.v_)(o.calculateEarnings(e.totalPrice).toFixed(2)),1),(0,i.Lk)("p",Nh,"Total: $"+(0,l.v_)(e.totalPrice?.toFixed(2)||"0.00")+" (15% platform fee)",1),e.paymentMethod||e.transactionId?((0,i.uX)(),(0,i.CE)("div",Vh,[e.paymentMethod?((0,i.uX)(),(0,i.CE)("span",jh,(0,l.v_)(o.formatPaymentMethod(e.paymentMethod)),1)):(0,i.Q3)("",!0),e.transactionId?((0,i.uX)(),(0,i.CE)("span",Rh,"TXN: "+(0,l.v_)(e.transactionId),1)):(0,i.Q3)("",!0)])):(0,i.Q3)("",!0)]),(0,i.Lk)("div",null,[t[18]||(t[18]=(0,i.Lk)("p",{class:"text-sm text-neutral-500"},"Service Date",-1)),(0,i.Lk)("p",Ih,(0,l.v_)(o.formatDate(e.scheduledDate)),1)])])])]))),128))]))],64))])])])}var $h={name:"TechnicianCompletedBookingsView",components:{TechnicianSidebar:am},data(){return{loading:!1}},computed:{technicianAuthStore(){return E()},technicianStore(){return Qu()},completedBookings(){return this.technicianStore.completedBookings||[]},totalEarnings(){return this.completedBookings.reduce((e,t)=>e+this.calculateEarnings(t.totalPrice),0)}},methods:{formatDate:En,formatPaymentMethod(e){const t={cash:"Cash",credit_card:"Credit Card",debit_card:"Debit Card",whish:"Whish",omt:"OMT"};return t[e]||e},formatDateTime(e){if(!e)return"N/A";const t=new Date(e);return t.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},calculateEarnings(e){const t=e||0;return t-.15*t},async handleLogout(){await this.technicianAuthStore.logout(),this.$router.push("/technician-login")},async loadData(){this.loading=!0;try{await this.technicianStore.fetchCompletedBookings()}catch(e){console.error("Failed to load completed bookings:",e)}finally{this.loading=!1}}},async mounted(){await this.loadData()}};const zh=(0,P.A)($h,[["render",Uh]]);var Wh=zh;const Qh={class:"min-h-screen flex"},qh={class:"flex-1 lg:ml-64 bg-neutral-50 min-h-screen"},Hh={class:"p-4 sm:p-6"},Oh={key:0,class:"loading-container"},Jh={class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8"},Kh={class:"card"},Yh={class:"card-body"},Gh={class:"text-3xl font-bold text-success-600"},Zh={class:"card"},ek={class:"card-body"},tk={class:"text-3xl font-bold text-neutral-900"},ak={class:"card"},sk={class:"card-body"},ik={class:"text-3xl font-bold text-warning-600"},nk={class:"card"},ok={class:"card-body"},rk={class:"text-3xl font-bold text-primary-600"},lk={class:"text-xs text-neutral-400 mt-1"},ck={class:"card"},dk={class:"card-body"},uk={key:0,class:"text-center py-8 text-neutral-500"},mk={key:1,class:"overflow-x-auto"},pk={class:"w-full"},hk={class:"py-3 px-4 text-sm font-medium"},kk={class:"py-3 px-4 text-sm text-center"},gk={class:"py-3 px-4 text-sm text-right font-medium text-success-600"},vk={class:"bg-neutral-50"},bk={class:"py-3 px-4 text-sm text-center font-semibold"},fk={class:"py-3 px-4 text-sm text-right font-semibold text-success-600"};function xk(e,t,a,s,n,o){const r=(0,i.g2)("TechnicianSidebar");return(0,i.uX)(),(0,i.CE)("div",Qh,[(0,i.bF)(r),(0,i.Lk)("main",qh,[t[11]||(t[11]=(0,i.Fv)('<header class="bg-white border-b border-neutral-100 px-4 sm:px-6 py-4"><div class="flex items-center justify-between"><div class="ml-14 lg:ml-0"><h1 class="text-xl font-semibold text-neutral-900">My Earnings</h1><p class="text-sm text-neutral-500">Track your income and completed jobs</p></div></div></header>',1)),(0,i.Lk)("div",Hh,[n.loading?((0,i.uX)(),(0,i.CE)("div",Oh,[...t[0]||(t[0]=[(0,i.Lk)("div",{class:"spinner spinner-lg"},null,-1)])])):((0,i.uX)(),(0,i.CE)(i.FK,{key:1},[(0,i.Lk)("div",Jh,[(0,i.Lk)("div",Kh,[(0,i.Lk)("div",Yh,[t[1]||(t[1]=(0,i.Lk)("p",{class:"text-sm text-neutral-500 mb-1"},"Total Earnings",-1)),(0,i.Lk)("p",Gh,"$"+(0,l.v_)(o.earningsSummary.totalEarnings),1),t[2]||(t[2]=(0,i.Lk)("p",{class:"text-xs text-neutral-400 mt-1"},"After platform fees",-1))])]),(0,i.Lk)("div",Zh,[(0,i.Lk)("div",ek,[t[3]||(t[3]=(0,i.Lk)("p",{class:"text-sm text-neutral-500 mb-1"},"Total Revenue",-1)),(0,i.Lk)("p",tk,"$"+(0,l.v_)(o.earningsSummary.totalRevenue),1),t[4]||(t[4]=(0,i.Lk)("p",{class:"text-xs text-neutral-400 mt-1"},"Before fees",-1))])]),(0,i.Lk)("div",ak,[(0,i.Lk)("div",sk,[t[5]||(t[5]=(0,i.Lk)("p",{class:"text-sm text-neutral-500 mb-1"},"Platform Fees",-1)),(0,i.Lk)("p",ik,"$"+(0,l.v_)(o.earningsSummary.totalPlatformFees),1),t[6]||(t[6]=(0,i.Lk)("p",{class:"text-xs text-neutral-400 mt-1"},"15% commission",-1))])]),(0,i.Lk)("div",nk,[(0,i.Lk)("div",ok,[t[7]||(t[7]=(0,i.Lk)("p",{class:"text-sm text-neutral-500 mb-1"},"Completed Jobs",-1)),(0,i.Lk)("p",rk,(0,l.v_)(o.earningsSummary.totalBookings),1),(0,i.Lk)("p",lk,"Avg: $"+(0,l.v_)(o.earningsSummary.averageBookingValue),1)])])]),(0,i.Lk)("div",ck,[(0,i.Lk)("div",dk,[t[10]||(t[10]=(0,i.Lk)("h3",{class:"text-lg font-semibold text-neutral-900 mb-4"},"Monthly Breakdown",-1)),o.monthlyBreakdown.length?((0,i.uX)(),(0,i.CE)("div",mk,[(0,i.Lk)("table",pk,[t[9]||(t[9]=(0,i.Lk)("thead",null,[(0,i.Lk)("tr",{class:"border-b border-neutral-200"},[(0,i.Lk)("th",{class:"text-left py-3 px-4 text-sm font-medium text-neutral-500"},"Month"),(0,i.Lk)("th",{class:"text-center py-3 px-4 text-sm font-medium text-neutral-500"},"Jobs Completed"),(0,i.Lk)("th",{class:"text-right py-3 px-4 text-sm font-medium text-neutral-500"},"Earnings")])],-1)),(0,i.Lk)("tbody",null,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(o.monthlyBreakdown,e=>((0,i.uX)(),(0,i.CE)("tr",{key:e.month,class:"border-b border-neutral-100 hover:bg-neutral-50"},[(0,i.Lk)("td",hk,(0,l.v_)(o.formatMonth(e.month)),1),(0,i.Lk)("td",kk,(0,l.v_)(e.bookingsCount),1),(0,i.Lk)("td",gk,"$"+(0,l.v_)(e.earnings),1)]))),128))]),(0,i.Lk)("tfoot",null,[(0,i.Lk)("tr",vk,[t[8]||(t[8]=(0,i.Lk)("td",{class:"py-3 px-4 text-sm font-semibold"},"Total",-1)),(0,i.Lk)("td",bk,(0,l.v_)(o.earningsSummary.totalBookings),1),(0,i.Lk)("td",fk,"$"+(0,l.v_)(o.earningsSummary.totalEarnings),1)])])])])):((0,i.uX)(),(0,i.CE)("div",uk," No earnings data yet. Complete some jobs to see your earnings here. "))])])],64))])])])}var yk={name:"TechnicianEarningsView",components:{TechnicianSidebar:am},data(){return{loading:!1}},computed:{technicianStore(){return Qu()},earnings(){return this.technicianStore.earnings||{}},earningsSummary(){return this.earnings.summary||{totalBookings:0,totalRevenue:"0.00",totalPlatformFees:"0.00",totalEarnings:"0.00",averageBookingValue:"0.00"}},monthlyBreakdown(){return this.earnings.monthlyBreakdown||[]}},methods:{formatMonth(e){if(!e)return"N/A";const[t,a]=e.split("-"),s=new Date(t,parseInt(a)-1);return s.toLocaleDateString("en-US",{year:"numeric",month:"long"})},async handleLogout(){await E().logout(),this.$router.push("/technician-login")}},async mounted(){this.loading=!0;try{await this.technicianStore.fetchEarnings()}catch(e){console.error("Failed to load earnings:",e)}finally{this.loading=!1}}};const Lk=(0,P.A)(yk,[["render",xk]]);var wk=Lk;const Ck={class:"min-h-screen flex"},Ak={class:"flex-1 lg:ml-64 bg-neutral-50 min-h-screen"},Mk={class:"p-4 sm:p-6"},Tk={class:"card"},_k={class:"card-body"},Bk={key:0,class:"loading-container"},Sk={key:1},Fk={class:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4"},Ek=["checked","onChange"],Dk={class:"p-4 border-2 border-neutral-200 rounded-lg text-center peer-checked:border-primary-500 peer-checked:bg-primary-50 transition-all hover:border-primary-300 hover:shadow-sm"},Pk=["src","alt"],Xk={class:"text-sm font-medium block"},Nk={class:"card mt-6"},Vk={class:"card-body"},jk={class:"font-semibold text-neutral-900 mb-3"},Rk={key:0,class:"flex flex-wrap gap-2"},Ik={key:1,class:"text-neutral-500 text-sm"};function Uk(e,t,a,s,n,o){const r=(0,i.g2)("TechnicianSidebar");return(0,i.uX)(),(0,i.CE)("div",Ck,[(0,i.bF)(r),(0,i.Lk)("main",Ak,[t[1]||(t[1]=(0,i.Fv)('<header class="bg-white border-b border-neutral-100 px-4 sm:px-6 py-4"><div class="flex items-center justify-between"><div class="ml-14 lg:ml-0"><h1 class="text-xl font-semibold text-neutral-900">My Specialties</h1><p class="text-sm text-neutral-500">Select the appliance types you specialize in</p></div></div></header>',1)),(0,i.Lk)("div",Mk,[(0,i.Lk)("div",Tk,[(0,i.Lk)("div",_k,[n.loading?((0,i.uX)(),(0,i.CE)("div",Bk,[...t[0]||(t[0]=[(0,i.Lk)("div",{class:"spinner spinner-lg"},null,-1)])])):((0,i.uX)(),(0,i.CE)("div",Sk,[(0,i.Lk)("div",Fk,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(o.categories,e=>((0,i.uX)(),(0,i.CE)("label",{key:e.id,class:"relative cursor-pointer"},[(0,i.Lk)("input",{type:"checkbox",checked:o.isCategorySelected(e.id),onChange:t=>o.toggleSpecialty(e.id),class:"peer sr-only"},null,40,Ek),(0,i.Lk)("div",Dk,[e.fileName?((0,i.uX)(),(0,i.CE)("img",{key:0,class:"w-12 h-12 mx-auto mb-3",src:"/images/appliance-categories/"+e.fileName,alt:e.name},null,8,Pk)):(0,i.Q3)("",!0),(0,i.Lk)("span",Xk,(0,l.v_)(e.name),1)])]))),128))])]))])]),(0,i.Lk)("div",Nk,[(0,i.Lk)("div",Vk,[(0,i.Lk)("h3",jk,"Selected Specialties ("+(0,l.v_)(o.selectedSpecialties.length)+")",1),o.selectedSpecialties.length?((0,i.uX)(),(0,i.CE)("div",Rk,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(o.selectedSpecialties,e=>((0,i.uX)(),(0,i.CE)("span",{key:e.id,class:"tag tag-primary"},(0,l.v_)(e.name),1))),128))])):((0,i.uX)(),(0,i.CE)("p",Ik,"No specialties selected yet. Choose categories from above."))])])])])])}a(3579);var $k={name:"TechnicianSpecialtyView",data(){return{loading:!1}},components:{TechnicianSidebar:am},computed:{categories(){return Ce().categories},selectedSpecialties(){return Qu().specialties}},methods:{async handleLogout(){await E().logout(),this.$router.push("/technician-login")},isCategorySelected(e){return this.selectedSpecialties.some(t=>t.id===e||t.categoryId===e)},async toggleSpecialty(e){const t=Qu();this.isCategorySelected(e)?await t.removeSpecialty(e):await t.addSpecialty(e,0)}},async mounted(){this.loading=!0,await Ce().fetchCategories(),await Qu().fetchSpecialties(),this.loading=!1}};const zk=(0,P.A)($k,[["render",Uk]]);var Wk=zk;const Qk={class:"min-h-screen flex"},qk={class:"flex-1 lg:ml-64 bg-neutral-50 min-h-screen"},Hk={class:"p-4 sm:p-6"},Ok={class:"card"},Jk={class:"card-body"},Kk={key:0,class:"loading-container-sm"},Yk={key:1,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3"},Gk=["checked","onChange"],Zk={class:"text-sm font-medium"},eg={key:0,class:"text-xs text-neutral-500"},tg={class:"card mt-6"},ag={class:"card-body"},sg={class:"font-semibold text-neutral-900 mb-3"},ig={key:0,class:"flex flex-wrap gap-2"},ng={key:1,class:"text-neutral-500 text-sm"};function og(e,t,a,s,n,o){const r=(0,i.g2)("TechnicianSidebar");return(0,i.uX)(),(0,i.CE)("div",Qk,[(0,i.bF)(r),(0,i.Lk)("main",qk,[t[1]||(t[1]=(0,i.Fv)('<header class="bg-white border-b border-neutral-100 px-4 sm:px-6 py-4"><div class="flex items-center justify-between"><div class="ml-14 lg:ml-0"><h1 class="text-xl font-semibold text-neutral-900">My Service Areas</h1><p class="text-sm text-neutral-500">Select the areas where you provide services</p></div></div></header>',1)),(0,i.Lk)("div",Hk,[(0,i.Lk)("div",Ok,[(0,i.Lk)("div",Jk,[n.loading?((0,i.uX)(),(0,i.CE)("div",Kk,[...t[0]||(t[0]=[(0,i.Lk)("div",{class:"spinner spinner-lg"},null,-1)])])):((0,i.uX)(),(0,i.CE)("div",Yk,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(o.allAreas,e=>((0,i.uX)(),(0,i.CE)("label",{key:e.id,class:(0,l.C4)(["flex items-center gap-3 p-4 border border-neutral-200 rounded-lg cursor-pointer hover:border-primary-300 transition-colors",{"border-primary-500 bg-primary-50":o.isSelected(e.id)}])},[(0,i.Lk)("input",{type:"checkbox",checked:o.isSelected(e.id),onChange:t=>o.toggleArea(e.id),class:"form-checkbox"},null,40,Gk),(0,i.Lk)("div",null,[(0,i.Lk)("span",Zk,(0,l.v_)(e.name),1),e.city?((0,i.uX)(),(0,i.CE)("p",eg,(0,l.v_)(e.city),1)):(0,i.Q3)("",!0)])],2))),128))]))])]),(0,i.Lk)("div",tg,[(0,i.Lk)("div",ag,[(0,i.Lk)("h3",sg,"Selected Areas ("+(0,l.v_)(o.selectedAreas.length)+")",1),o.selectedAreas.length?((0,i.uX)(),(0,i.CE)("div",ig,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(o.selectedAreas,e=>((0,i.uX)(),(0,i.CE)("span",{key:e.id,class:"tag tag-primary"},(0,l.v_)(e.name),1))),128))])):((0,i.uX)(),(0,i.CE)("p",ng,"No areas selected"))])])])])])}var rg={name:"TechnicianServiceAreasView",data(){return{loading:!1}},components:{TechnicianSidebar:am},computed:{allAreas(){return Ae().areas},selectedAreas(){return Qu().serviceAreas}},methods:{async handleLogout(){await E().logout(),this.$router.push("/technician-login")},isSelected(e){return this.selectedAreas.some(t=>t.id===e||t.serviceAreaId===e)},async toggleArea(e){const t=Qu();this.isSelected(e)?await t.removeServiceArea(e):await t.addServiceArea(e)}},async mounted(){this.loading=!0,await Ae().fetchAll(),await Qu().fetchServiceAreas(),this.loading=!1}};const lg=(0,P.A)(rg,[["render",og]]);var cg=lg;const dg={class:"min-h-screen flex overflow-x-hidden"},ug={class:"flex-1 lg:ml-64 bg-neutral-50 min-h-screen w-full overflow-x-hidden"},mg={class:"bg-white border-b border-neutral-100 px-4 sm:px-6 py-4 sticky top-0 z-10"},pg={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},hg={class:"text-sm text-neutral-600"},kg={class:"font-medium"},gg={class:"p-4 sm:p-6"},vg={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6"},bg={class:"card"},fg={class:"card-body"},xg={class:"flex items-center justify-between"},yg={class:"text-2xl font-bold text-neutral-900"},Lg={class:"card"},wg={class:"card-body"},Cg={class:"flex items-center justify-between"},Ag={class:"text-2xl font-bold text-neutral-900"},Mg={class:"card"},Tg={class:"card-body"},_g={class:"flex items-center justify-between"},Bg={class:"text-2xl font-bold text-neutral-900"},Sg={class:"card"},Fg={class:"card-body"},Eg={class:"flex items-center justify-between"},Dg={class:"text-2xl font-bold text-neutral-900"},Pg={class:"mb-6"},Xg={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6"},Ng={class:"bg-gradient-to-br from-success-50 to-success-100 rounded-xl p-6 border border-success-200 shadow-sm"},Vg={class:"text-3xl font-bold text-success-700 mb-1"},jg={class:"bg-gradient-to-br from-primary-50 to-primary-100 rounded-xl p-6 border border-primary-200 shadow-sm"},Rg={class:"text-3xl font-bold text-primary-700 mb-1"},Ig={class:"bg-gradient-to-br from-warning-50 to-warning-100 rounded-xl p-6 border border-warning-200 shadow-sm"},Ug={class:"text-3xl font-bold text-warning-700 mb-1"},$g={class:"bg-gradient-to-br from-neutral-50 to-neutral-100 rounded-xl p-6 border border-neutral-200 shadow-sm"},zg={class:"text-3xl font-bold text-neutral-800 mb-1"},Wg={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},Qg={class:"card"},qg={class:"card-body"},Hg={class:"space-y-3"},Og={key:0,class:"flex items-start gap-3 p-3 bg-warning-50 border border-warning-200 rounded-lg"},Jg={class:"flex-1"},Kg={class:"text-sm font-medium text-warning-900"},Yg={key:1,class:"flex items-start gap-3 p-3 bg-error-50 border border-error-200 rounded-lg"},Gg={class:"flex-1"},Zg={class:"text-sm font-medium text-error-900"},ev={key:2,class:"flex items-start gap-3 p-3 bg-info-50 border border-info-200 rounded-lg"},tv={class:"flex-1"},av={class:"text-sm font-medium text-info-900"},sv={key:3,class:"text-center py-8"},iv={class:"card"},nv={class:"card-body"},ov={class:"grid grid-cols-1 gap-3"};function rv(e,t,a,s,n,o){const r=(0,i.g2)("AdminSidebar"),c=(0,i.g2)("router-link");return(0,i.uX)(),(0,i.CE)("div",dg,[(0,i.bF)(r),(0,i.Lk)("main",ug,[(0,i.Lk)("header",mg,[(0,i.Lk)("div",pg,[t[0]||(t[0]=(0,i.Lk)("div",{class:"ml-14 lg:ml-0"},[(0,i.Lk)("h1",{class:"text-xl font-semibold text-neutral-900"},"Admin Dashboard"),(0,i.Lk)("p",{class:"text-sm text-neutral-500"},"Platform overview and key metrics")],-1)),(0,i.Lk)("div",hg,[(0,i.Lk)("span",kg,(0,l.v_)(o.adminAuthStore.currentAdmin?.username),1)])])]),(0,i.Lk)("div",gg,[(0,i.Lk)("div",vg,[(0,i.Lk)("div",bg,[(0,i.Lk)("div",fg,[(0,i.Lk)("div",xg,[(0,i.Lk)("div",null,[t[1]||(t[1]=(0,i.Lk)("p",{class:"text-sm text-neutral-500 mb-1"},"Pending Verification",-1)),(0,i.Lk)("p",yg,(0,l.v_)(n.unverifiedCount),1)]),t[2]||(t[2]=(0,i.Lk)("div",{class:"w-12 h-12 bg-warning-100 rounded-lg flex items-center justify-center"},[(0,i.Lk)("svg",{class:"w-6 h-6 text-warning-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])],-1))]),(0,i.bF)(c,{to:"/admin/technicians/verification",class:"text-xs text-primary-600 hover:underline mt-2 inline-block"},{default:(0,i.k6)(()=>[...t[3]||(t[3]=[(0,i.eW)(" View Queue → ",-1)])]),_:1})])]),(0,i.Lk)("div",Lg,[(0,i.Lk)("div",wg,[(0,i.Lk)("div",Cg,[(0,i.Lk)("div",null,[t[4]||(t[4]=(0,i.Lk)("p",{class:"text-sm text-neutral-500 mb-1"},"Unpaid Bookings",-1)),(0,i.Lk)("p",Ag,(0,l.v_)(n.unpaidCount),1)]),t[5]||(t[5]=(0,i.Lk)("div",{class:"w-12 h-12 bg-error-100 rounded-lg flex items-center justify-center"},[(0,i.Lk)("svg",{class:"w-6 h-6 text-error-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))]),(0,i.bF)(c,{to:"/admin/bookings/unpaid",class:"text-xs text-primary-600 hover:underline mt-2 inline-block"},{default:(0,i.k6)(()=>[...t[6]||(t[6]=[(0,i.eW)(" View Details → ",-1)])]),_:1})])]),(0,i.Lk)("div",Mg,[(0,i.Lk)("div",Tg,[(0,i.Lk)("div",_g,[(0,i.Lk)("div",null,[t[7]||(t[7]=(0,i.Lk)("p",{class:"text-sm text-neutral-500 mb-1"},"Incomplete Bookings",-1)),(0,i.Lk)("p",Bg,(0,l.v_)(n.incompleteCount),1)]),t[8]||(t[8]=(0,i.Lk)("div",{class:"w-12 h-12 bg-info-100 rounded-lg flex items-center justify-center"},[(0,i.Lk)("svg",{class:"w-6 h-6 text-info-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))]),(0,i.bF)(c,{to:"/admin/bookings/incomplete",class:"text-xs text-primary-600 hover:underline mt-2 inline-block"},{default:(0,i.k6)(()=>[...t[9]||(t[9]=[(0,i.eW)(" View Details → ",-1)])]),_:1})])]),(0,i.Lk)("div",Sg,[(0,i.Lk)("div",Fg,[(0,i.Lk)("div",Eg,[(0,i.Lk)("div",null,[t[10]||(t[10]=(0,i.Lk)("p",{class:"text-sm text-neutral-500 mb-1"},"Overdue Bookings",-1)),(0,i.Lk)("p",Dg,(0,l.v_)(n.overdueCount),1)]),t[11]||(t[11]=(0,i.Lk)("div",{class:"w-12 h-12 bg-secondary-100 rounded-lg flex items-center justify-center"},[(0,i.Lk)("svg",{class:"w-6 h-6 text-secondary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))]),(0,i.bF)(c,{to:"/admin/bookings/overdue",class:"text-xs text-primary-600 hover:underline mt-2 inline-block"},{default:(0,i.k6)(()=>[...t[12]||(t[12]=[(0,i.eW)(" View Details → ",-1)])]),_:1})])])]),(0,i.Lk)("div",Pg,[t[21]||(t[21]=(0,i.Lk)("h2",{class:"text-lg font-semibold text-neutral-900 mb-4"},"Financial Summary",-1)),(0,i.Lk)("div",Xg,[(0,i.Lk)("div",Ng,[t[13]||(t[13]=(0,i.Lk)("div",{class:"flex items-center justify-between mb-2"},[(0,i.Lk)("p",{class:"text-sm font-medium text-success-700"},"Total Revenue"),(0,i.Lk)("svg",{class:"w-8 h-8 text-success-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),(0,i.Lk)("p",Vg,"$"+(0,l.v_)(o.formatCurrency(n.financialSummary.totalRevenue)),1),t[14]||(t[14]=(0,i.Lk)("p",{class:"text-xs text-success-600"},"From all completed bookings",-1))]),(0,i.Lk)("div",jg,[t[15]||(t[15]=(0,i.Lk)("div",{class:"flex items-center justify-between mb-2"},[(0,i.Lk)("p",{class:"text-sm font-medium text-primary-700"},"Platform Commission"),(0,i.Lk)("svg",{class:"w-8 h-8 text-primary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})])],-1)),(0,i.Lk)("p",Rg,"$"+(0,l.v_)(o.formatCurrency(n.financialSummary.totalPlatformCommission)),1),t[16]||(t[16]=(0,i.Lk)("p",{class:"text-xs text-primary-600"},"Your earnings after payouts",-1))]),(0,i.Lk)("div",Ig,[t[17]||(t[17]=(0,i.Lk)("div",{class:"flex items-center justify-between mb-2"},[(0,i.Lk)("p",{class:"text-sm font-medium text-warning-700"},"Technician Earnings"),(0,i.Lk)("svg",{class:"w-8 h-8 text-warning-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})])],-1)),(0,i.Lk)("p",Ug,"$"+(0,l.v_)(o.formatCurrency(n.financialSummary.totalTechnicianEarnings)),1),t[18]||(t[18]=(0,i.Lk)("p",{class:"text-xs text-warning-600"},"Paid to service technicians",-1))]),(0,i.Lk)("div",$g,[t[19]||(t[19]=(0,i.Lk)("div",{class:"flex items-center justify-between mb-2"},[(0,i.Lk)("p",{class:"text-sm font-medium text-neutral-700"},"Completed Bookings"),(0,i.Lk)("svg",{class:"w-8 h-8 text-neutral-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})])],-1)),(0,i.Lk)("p",zg,(0,l.v_)(n.financialSummary.totalCompletedBookings||0),1),t[20]||(t[20]=(0,i.Lk)("p",{class:"text-xs text-neutral-600"},"Total completed bookings",-1))])])]),(0,i.Lk)("div",Wg,[(0,i.Lk)("div",Qg,[t[29]||(t[29]=(0,i.Lk)("div",{class:"card-header"},[(0,i.Lk)("h2",{class:"card-title"},"Recent Alerts")],-1)),(0,i.Lk)("div",qg,[(0,i.Lk)("div",Hg,[n.unverifiedCount>0?((0,i.uX)(),(0,i.CE)("div",Og,[t[23]||(t[23]=(0,i.Lk)("svg",{class:"w-5 h-5 text-warning-600 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20"},[(0,i.Lk)("path",{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1)),(0,i.Lk)("div",Jg,[(0,i.Lk)("p",Kg,(0,l.v_)(n.unverifiedCount)+" technician(s) awaiting verification",1),(0,i.bF)(c,{to:"/admin/technicians/verification",class:"text-xs text-warning-700 hover:underline"},{default:(0,i.k6)(()=>[...t[22]||(t[22]=[(0,i.eW)("Review now",-1)])]),_:1})])])):(0,i.Q3)("",!0),n.unpaidCount>0?((0,i.uX)(),(0,i.CE)("div",Yg,[t[25]||(t[25]=(0,i.Lk)("svg",{class:"w-5 h-5 text-error-600 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20"},[(0,i.Lk)("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})],-1)),(0,i.Lk)("div",Gg,[(0,i.Lk)("p",Zg,(0,l.v_)(n.unpaidCount)+" completed booking(s) remain unpaid",1),(0,i.bF)(c,{to:"/admin/bookings/unpaid",class:"text-xs text-error-700 hover:underline"},{default:(0,i.k6)(()=>[...t[24]||(t[24]=[(0,i.eW)("View details",-1)])]),_:1})])])):(0,i.Q3)("",!0),n.incompleteCount>0?((0,i.uX)(),(0,i.CE)("div",ev,[t[27]||(t[27]=(0,i.Lk)("svg",{class:"w-5 h-5 text-info-600 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20"},[(0,i.Lk)("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})],-1)),(0,i.Lk)("div",tv,[(0,i.Lk)("p",av,(0,l.v_)(n.incompleteCount)+" accepted booking(s) not completed",1),(0,i.bF)(c,{to:"/admin/bookings/incomplete",class:"text-xs text-info-700 hover:underline"},{default:(0,i.k6)(()=>[...t[26]||(t[26]=[(0,i.eW)("View details",-1)])]),_:1})])])):(0,i.Q3)("",!0),0===n.unverifiedCount&&0===n.unpaidCount&&0===n.incompleteCount?((0,i.uX)(),(0,i.CE)("div",sv,[...t[28]||(t[28]=[(0,i.Lk)("svg",{class:"w-12 h-12 text-success-500 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),(0,i.Lk)("p",{class:"text-sm text-neutral-600"},"All systems operational",-1)])])):(0,i.Q3)("",!0)])])]),(0,i.Lk)("div",iv,[t[33]||(t[33]=(0,i.Lk)("div",{class:"card-header"},[(0,i.Lk)("h2",{class:"card-title"},"Quick Actions")],-1)),(0,i.Lk)("div",nv,[(0,i.Lk)("div",ov,[(0,i.bF)(c,{to:"/admin/appliances",class:"flex items-center gap-3 p-3 border border-neutral-200 rounded-lg hover:bg-neutral-50 transition-colors"},{default:(0,i.k6)(()=>[...t[30]||(t[30]=[(0,i.Lk)("div",{class:"w-10 h-10 bg-primary-100 rounded-lg flex items-center justify-center"},[(0,i.Lk)("svg",{class:"w-5 h-5 text-primary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})])],-1),(0,i.Lk)("div",null,[(0,i.Lk)("p",{class:"text-sm font-medium text-neutral-900"},"Add Appliance Category/Type"),(0,i.Lk)("p",{class:"text-xs text-neutral-500"},"Manage appliance catalog")],-1)])]),_:1}),(0,i.bF)(c,{to:"/admin/technicians/verification",class:"flex items-center gap-3 p-3 border border-neutral-200 rounded-lg hover:bg-neutral-50 transition-colors"},{default:(0,i.k6)(()=>[...t[31]||(t[31]=[(0,i.Lk)("div",{class:"w-10 h-10 bg-success-100 rounded-lg flex items-center justify-center"},[(0,i.Lk)("svg",{class:"w-5 h-5 text-success-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1),(0,i.Lk)("div",null,[(0,i.Lk)("p",{class:"text-sm font-medium text-neutral-900"},"Verify Technicians"),(0,i.Lk)("p",{class:"text-xs text-neutral-500"},"Review pending applications")],-1)])]),_:1}),(0,i.bF)(c,{to:"/admin/technicians/performance",class:"flex items-center gap-3 p-3 border border-neutral-200 rounded-lg hover:bg-neutral-50 transition-colors"},{default:(0,i.k6)(()=>[...t[32]||(t[32]=[(0,i.Lk)("div",{class:"w-10 h-10 bg-warning-100 rounded-lg flex items-center justify-center"},[(0,i.Lk)("svg",{class:"w-5 h-5 text-warning-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})])],-1),(0,i.Lk)("div",null,[(0,i.Lk)("p",{class:"text-sm font-medium text-neutral-900"},"Technician Performance"),(0,i.Lk)("p",{class:"text-xs text-neutral-500"},"Review ratings and metrics")],-1)])]),_:1})])])])])])])])}const lv=(0,x.nY)("admin",{state:()=>({categories:[],applianceTypes:[],completedUnpaidBookings:[],acceptedIncompleteBookings:[],paidOverdueBookings:[],lowRatedTechnicians:[],highPerformers:[],unverifiedTechnicians:[],allTechnicians:[],techniciansPagination:{page:1,limit:20,total:0,pages:0},financialSummary:null,loading:!1,error:null}),actions:{async createCategory(e){this.loading=!0,this.error=null;try{const{data:t}=await S.addCategory(e);return t}catch(t){throw this.error=t.response?.data?.message||t.message,t}finally{this.loading=!1}},async fetchCategories(){this.loading=!0,this.error=null;try{const{data:e}=await T.getCategories();return this.categories=e.data||[],e}catch(e){throw this.error=e.response?.data?.message||e.message,e}finally{this.loading=!1}},async createApplianceType(e,t,a,s,i){this.loading=!0,this.error=null;try{const{data:n}=await S.addApplianceType(e,{nameEN:t,nameAR:a,basePrice:s,averageRepairTimeMin:i});return n}catch(n){throw this.error=n.response?.data?.message||n.message,n}finally{this.loading=!1}},async updateTypePrice(e,t){this.loading=!0,this.error=null;try{const{data:a}=await S.updateTypePrice(e,{basePrice:t});return a}catch(a){throw this.error=a.response?.data?.message||a.message,a}finally{this.loading=!1}},async fetchCompletedUnpaid(e=7){this.loading=!0,this.error=null;try{const{data:t}=await S.getCompletedUnpaid(e);return this.completedUnpaidBookings=t.data,t}catch(t){throw this.error=t.response?.data?.message||t.message,t}finally{this.loading=!1}},async fetchAcceptedIncomplete(e=3){this.loading=!0,this.error=null;try{const{data:t}=await S.getAcceptedIncomplete(e);return this.acceptedIncompleteBookings=t.data,t}catch(t){throw this.error=t.response?.data?.message||t.message,t}finally{this.loading=!1}},async fetchPaidOverdue(){this.loading=!0,this.error=null;try{const{data:e}=await S.getPaidOverdue();return this.paidOverdueBookings=e.data,e}catch(e){throw this.error=e.response?.data?.message||e.message,e}finally{this.loading=!1}},async fetchAllTechnicians(e={}){this.loading=!0,this.error=null;try{const{data:t}=await S.getAllTechnicians(e);return this.allTechnicians=t.data||[],this.techniciansPagination=t.pagination||{page:1,limit:20,total:0,pages:0},t}catch(t){throw this.error=t.response?.data?.message||t.message,t}finally{this.loading=!1}},async fetchLowRatedTechnicians(e=3){this.loading=!0,this.error=null;try{const{data:t}=await S.getLowRatedTechnicians(e);return this.lowRatedTechnicians=t.data,t}catch(t){throw this.error=t.response?.data?.message||t.message,t}finally{this.loading=!1}},async fetchHighPerformers(e=3){this.loading=!0,this.error=null;try{const{data:t}=await S.getHighPerformers(e);return this.highPerformers=t.data,t}catch(t){throw this.error=t.response?.data?.message||t.message,t}finally{this.loading=!1}},async fetchHighPerformanceTechnicians(e=3){return this.fetchHighPerformers(e)},async fetchUnverifiedTechnicians(){this.loading=!0,this.error=null;try{const{data:e}=await S.getUnverifiedTechnicians();return this.unverifiedTechnicians=e.data,e}catch(e){throw this.error=e.response?.data?.message||e.message,e}finally{this.loading=!1}},async verifyTechnician(e){this.loading=!0,this.error=null;try{const{data:t}=await S.verifyTechnician(e);return this.unverifiedTechnicians=this.unverifiedTechnicians.filter(t=>t.Technician_ID!==e),t}catch(t){throw this.error=t.response?.data?.message||t.message,t}finally{this.loading=!1}},async revokeVerification(e){this.loading=!0,this.error=null;try{const{data:t}=await S.revokeVerification(e);return t}catch(t){throw this.error=t.response?.data?.message||t.message,t}finally{this.loading=!1}},async fetchTechnicianDetails(e){this.loading=!0,this.error=null;try{const{data:t}=await S.getTechnicianDetails(e);return t}catch(t){throw this.error=t.response?.data?.message||t.message,t}finally{this.loading=!1}},async deactivateTechnician(e){this.loading=!0,this.error=null;try{const{data:t}=await S.deactivateTechnician(e),a=this.allTechnicians.findIndex(t=>t.Technician_ID===e);return-1!==a&&(this.allTechnicians[a].isActive=!1),t}catch(t){throw this.error=t.response?.data?.message||t.message,t}finally{this.loading=!1}},async activateTechnician(e){this.loading=!0,this.error=null;try{const{data:t}=await S.activateTechnician(e),a=this.allTechnicians.findIndex(t=>t.Technician_ID===e);return-1!==a&&(this.allTechnicians[a].isActive=!0),t}catch(t){throw this.error=t.response?.data?.message||t.message,t}finally{this.loading=!1}},async verifyTechnicianFromList(e){this.loading=!0,this.error=null;try{const{data:t}=await S.verifyTechnician(e),a=this.allTechnicians.findIndex(t=>t.Technician_ID===e);return-1!==a&&(this.allTechnicians[a].Verified=!0),t}catch(t){throw this.error=t.response?.data?.message||t.message,t}finally{this.loading=!1}},async revokeVerificationFromList(e){this.loading=!0,this.error=null;try{const{data:t}=await S.revokeVerification(e),a=this.allTechnicians.findIndex(t=>t.Technician_ID===e);return-1!==a&&(this.allTechnicians[a].Verified=!1),t}catch(t){throw this.error=t.response?.data?.message||t.message,t}finally{this.loading=!1}},async fetchFinancials(e=null,t=null){this.loading=!0,this.error=null;try{const a={};e&&(a.startDate=e),t&&(a.endDate=t);const{data:s}=await S.getFinancials(a);return this.financialSummary=s,s}catch(a){throw this.error=a.response?.data?.message||a.message,a}finally{this.loading=!1}},async fetchUserDetails(e){this.loading=!0,this.error=null;try{const{data:t}=await S.getUserDetails(e);return t}catch(t){throw this.error=t.response?.data?.message||t.message,t}finally{this.loading=!1}}}}),cv={key:0,class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},dv={key:1,class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},uv={class:"p-4 space-y-1"};function mv(e,t,a,s,n,o){const r=(0,i.g2)("router-link");return(0,i.uX)(),(0,i.CE)("div",null,[(0,i.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>o.toggleSidebar&&o.toggleSidebar(...e)),class:(0,l.C4)(["lg:hidden fixed top-4 left-4 z-50 p-2 bg-error-600 text-white rounded-lg shadow-lg",{"left-[17rem]":n.isOpen}]),"aria-label":"Toggle sidebar menu"},[n.isOpen?((0,i.uX)(),(0,i.CE)("svg",dv,[...t[4]||(t[4]=[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,-1)])])):((0,i.uX)(),(0,i.CE)("svg",cv,[...t[3]||(t[3]=[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},null,-1)])]))],2),n.isOpen?((0,i.uX)(),(0,i.CE)("div",{key:0,class:"lg:hidden fixed inset-0 bg-black/50 z-30",onClick:t[1]||(t[1]=(...e)=>o.closeSidebar&&o.closeSidebar(...e))})):(0,i.Q3)("",!0),(0,i.Lk)("aside",{class:(0,l.C4)(["fixed left-0 top-0 bottom-0 w-64 bg-error-700 text-white overflow-y-auto z-40 transform transition-transform duration-300 ease-in-out",{"-translate-x-full lg:translate-x-0":!n.isOpen,"translate-x-0":n.isOpen}]),role:"navigation","aria-label":"Admin navigation"},[t[18]||(t[18]=(0,i.Fv)('<div class="p-6 border-b border-error-600"><div class="flex items-center gap-3"><div class="w-10 h-10 bg-white rounded-lg flex items-center justify-center"><img src="/images/logo/fixappliance-icon.svg" alt="FixAppliance" class="w-6 h-6"></div><div class="text-white"><p class="font-bold text-white">FixAppliance</p><p class="text-xs text-error-200">Admin Portal</p></div></div></div>',1)),(0,i.Lk)("nav",uv,[(0,i.bF)(r,{to:"/admin/dashboard",class:(0,l.C4)(o.getLinkClass("/admin/dashboard"))},{default:(0,i.k6)(()=>[...t[5]||(t[5]=[(0,i.Lk)("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})],-1),(0,i.Lk)("span",null,"Dashboard",-1)])]),_:1},8,["class"]),t[14]||(t[14]=(0,i.Lk)("div",{class:"pt-4 pb-2 px-4"},[(0,i.Lk)("p",{class:"text-xs font-semibold text-error-200 uppercase tracking-wider"},"Appliances")],-1)),(0,i.bF)(r,{to:"/admin/appliances",class:(0,l.C4)(o.getLinkClass("/admin/appliances"))},{default:(0,i.k6)(()=>[...t[6]||(t[6]=[(0,i.Lk)("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})],-1),(0,i.Lk)("span",null,"Manage Appliances",-1)])]),_:1},8,["class"]),t[15]||(t[15]=(0,i.Lk)("div",{class:"pt-4 pb-2 px-4"},[(0,i.Lk)("p",{class:"text-xs font-semibold text-error-200 uppercase tracking-wider"},"Booking Alerts")],-1)),(0,i.bF)(r,{to:"/admin/bookings/unpaid",class:(0,l.C4)(o.getLinkClass("/admin/bookings/unpaid"))},{default:(0,i.k6)(()=>[...t[7]||(t[7]=[(0,i.Lk)("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),(0,i.Lk)("span",null,"Unpaid Bookings",-1)])]),_:1},8,["class"]),(0,i.bF)(r,{to:"/admin/bookings/incomplete",class:(0,l.C4)(o.getLinkClass("/admin/bookings/incomplete"))},{default:(0,i.k6)(()=>[...t[8]||(t[8]=[(0,i.Lk)("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),(0,i.Lk)("span",null,"Incomplete Bookings",-1)])]),_:1},8,["class"]),(0,i.bF)(r,{to:"/admin/bookings/overdue",class:(0,l.C4)(o.getLinkClass("/admin/bookings/overdue"))},{default:(0,i.k6)(()=>[...t[9]||(t[9]=[(0,i.Lk)("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1),(0,i.Lk)("span",null,"Overdue Bookings",-1)])]),_:1},8,["class"]),t[16]||(t[16]=(0,i.Lk)("div",{class:"pt-4 pb-2 px-4"},[(0,i.Lk)("p",{class:"text-xs font-semibold text-error-200 uppercase tracking-wider"},"Technicians")],-1)),(0,i.bF)(r,{to:"/admin/technicians/verification",class:(0,l.C4)(o.getLinkClass("/admin/technicians/verification"))},{default:(0,i.k6)(()=>[...t[10]||(t[10]=[(0,i.Lk)("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})],-1),(0,i.Lk)("span",null,"Verification Queue",-1)])]),_:1},8,["class"]),(0,i.bF)(r,{to:"/admin/technicians/performance",class:(0,l.C4)(o.getLinkClass("/admin/technicians/performance"))},{default:(0,i.k6)(()=>[...t[11]||(t[11]=[(0,i.Lk)("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})],-1),(0,i.Lk)("span",null,"Performance Review",-1)])]),_:1},8,["class"]),(0,i.bF)(r,{to:"/admin/technicians",class:(0,l.C4)(o.getLinkClass("/admin/technicians"))},{default:(0,i.k6)(()=>[...t[12]||(t[12]=[(0,i.Lk)("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})],-1),(0,i.Lk)("span",null,"Manage All Technicians",-1)])]),_:1},8,["class"]),t[17]||(t[17]=(0,i.Lk)("div",{class:"pt-4 pb-2 px-4 border-t border-error-600 mt-4"},[(0,i.Lk)("p",{class:"text-xs font-semibold text-error-200 uppercase tracking-wider"},"Account")],-1)),(0,i.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>o.handleLogout&&o.handleLogout(...e)),class:"w-full flex items-center gap-3 px-4 py-2.5 text-white hover:bg-error-600 rounded-lg transition-colors"},[...t[13]||(t[13]=[(0,i.Lk)("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1),(0,i.Lk)("span",null,"Logout",-1)])])])],2)])}var pv={name:"AdminSidebar",data(){return{isOpen:!1}},computed:{currentPath(){return this.$route.path}},methods:{toggleSidebar(){this.isOpen=!this.isOpen},closeSidebar(){this.isOpen=!1},getLinkClass(e){const t="flex items-center gap-3 px-4 py-3 rounded-lg transition-colors",a=this.currentPath===e;return a?`${t} bg-error-600 font-medium text-white hover:text-white`:`${t} text-error-100 hover:bg-error-600 hover:text-white`},async handleLogout(){try{const e=O();await e.logout(),this.$router.push("/admin-login")}catch(e){console.error("Logout error:",e)}}},watch:{$route(){window.innerWidth<1024&&this.closeSidebar()}}};const hv=(0,P.A)(pv,[["render",mv]]);var kv=hv,gv={name:"AdminDashboardView",components:{AdminSidebar:kv},data(){return{unverifiedCount:0,unpaidCount:0,incompleteCount:0,overdueCount:0,financialSummary:{totalRevenue:"0.00",totalPlatformCommission:"0.00",totalTechnicianEarnings:"0.00",totalCompletedBookings:0},loading:!1,loadingAnalytics:!1}},computed:{adminAuthStore(){return O()}},async mounted(){await this.loadDashboardData()},methods:{async loadDashboardData(){this.loading=!0,this.loadingAnalytics=!0;const e=lv();try{const[t,a,s,i,n]=await Promise.all([e.fetchUnverifiedTechnicians(),e.fetchCompletedUnpaid(7),e.fetchAcceptedIncomplete(3),e.fetchPaidOverdue(),e.fetchFinancials()]);this.unverifiedCount=t.count||0,this.unpaidCount=a.count||0,this.incompleteCount=s.count||0,this.overdueCount=i.count||0,n&&n.summary&&(this.financialSummary={totalRevenue:n.summary.totalRevenue||"0.00",totalPlatformCommission:n.summary.totalPlatformCommission||"0.00",totalTechnicianEarnings:n.summary.totalTechnicianEarnings||"0.00",totalCompletedBookings:n.summary.totalCompletedBookings||0})}catch(t){console.error("Error loading dashboard data:",t)}finally{this.loading=!1,this.loadingAnalytics=!1}},formatCurrency(e){if("string"===typeof e){const t=parseFloat(e)||0;return t.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}const t=parseFloat(e)||0;return t.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}}};const vv=(0,P.A)(gv,[["render",rv]]);var bv=vv;const fv={class:"min-h-screen flex overflow-x-hidden"},xv={class:"flex-1 lg:ml-64 bg-neutral-50 min-h-screen w-full overflow-x-hidden"},yv={class:"p-4 sm:p-6"},Lv={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},wv={class:"card"},Cv={class:"card-body"},Av=["disabled"],Mv={key:0,class:"alert alert-error"},Tv={key:1,class:"alert alert-success"},_v={class:"card"},Bv={class:"card-body"},Sv=["value"],Fv=["disabled"],Ev={key:0,class:"alert alert-error"},Dv={key:1,class:"alert alert-success"};function Pv(e,t,a,n,o,r){const c=(0,i.g2)("AdminSidebar");return(0,i.uX)(),(0,i.CE)("div",fv,[(0,i.bF)(c),(0,i.Lk)("main",xv,[t[22]||(t[22]=(0,i.Lk)("header",{class:"bg-white border-b border-neutral-100 px-4 sm:px-6 py-4 sticky top-0 z-10"},[(0,i.Lk)("div",{class:"ml-14 lg:ml-0"},[(0,i.Lk)("h1",{class:"text-xl font-semibold text-neutral-900"},"Appliance Management"),(0,i.Lk)("p",{class:"text-sm text-neutral-500"},"Add and manage appliance categories and types")])],-1)),(0,i.Lk)("div",yv,[(0,i.Lk)("div",Lv,[(0,i.Lk)("div",wv,[t[14]||(t[14]=(0,i.Lk)("div",{class:"card-header"},[(0,i.Lk)("h2",{class:"card-title"},"Add Category")],-1)),(0,i.Lk)("div",Cv,[(0,i.Lk)("form",{onSubmit:t[3]||(t[3]=(0,s.D$)((...e)=>r.addCategory&&r.addCategory(...e),["prevent"])),class:"space-y-4"},[(0,i.Lk)("div",null,[t[10]||(t[10]=(0,i.Lk)("label",{class:"form-label"},"Category Name (English)",-1)),(0,i.bo)((0,i.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.categoryForm.nameEN=e),type:"text",class:"form-input",placeholder:"e.g., Washing Machine",required:""},null,512),[[s.Jo,o.categoryForm.nameEN]])]),(0,i.Lk)("div",null,[t[11]||(t[11]=(0,i.Lk)("label",{class:"form-label"},"Category Name (Arabic)",-1)),(0,i.bo)((0,i.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>o.categoryForm.nameAR=e),type:"text",class:"form-input",placeholder:"مثل: غسالة"},null,512),[[s.Jo,o.categoryForm.nameAR]])]),(0,i.Lk)("div",null,[t[12]||(t[12]=(0,i.Lk)("label",{class:"form-label"},"Category Icon",-1)),(0,i.Lk)("input",{onChange:t[2]||(t[2]=(...e)=>r.handleIconUpload&&r.handleIconUpload(...e)),type:"file",accept:"image/*",class:"form-input",required:""},null,32),t[13]||(t[13]=(0,i.Lk)("p",{class:"text-xs text-neutral-500 mt-1"},"Max 2MB, PNG/JPG/SVG",-1))]),(0,i.Lk)("button",{type:"submit",disabled:o.categoryLoading,class:"btn btn-primary w-full"},(0,l.v_)(o.categoryLoading?"Adding...":"Add Category"),9,Av),o.categoryError?((0,i.uX)(),(0,i.CE)("div",Mv,(0,l.v_)(o.categoryError),1)):(0,i.Q3)("",!0),o.categorySuccess?((0,i.uX)(),(0,i.CE)("div",Tv," Category added successfully! ")):(0,i.Q3)("",!0)],32)])]),(0,i.Lk)("div",_v,[t[21]||(t[21]=(0,i.Lk)("div",{class:"card-header"},[(0,i.Lk)("h2",{class:"card-title"},"Add Appliance Type")],-1)),(0,i.Lk)("div",Bv,[(0,i.Lk)("form",{onSubmit:t[9]||(t[9]=(0,s.D$)((...e)=>r.addApplianceType&&r.addApplianceType(...e),["prevent"])),class:"space-y-4"},[(0,i.Lk)("div",null,[t[16]||(t[16]=(0,i.Lk)("label",{class:"form-label"},"Category",-1)),(0,i.bo)((0,i.Lk)("select",{"onUpdate:modelValue":t[4]||(t[4]=e=>o.typeForm.categoryId=e),class:"form-input",required:""},[t[15]||(t[15]=(0,i.Lk)("option",{value:""},"Select a category",-1)),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(n.categories,e=>((0,i.uX)(),(0,i.CE)("option",{key:e.Category_ID,value:e.Category_ID},(0,l.v_)(e.NameEN),9,Sv))),128))],512),[[s.u1,o.typeForm.categoryId]])]),(0,i.Lk)("div",null,[t[17]||(t[17]=(0,i.Lk)("label",{class:"form-label"},"Type Name (English)",-1)),(0,i.bo)((0,i.Lk)("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>o.typeForm.nameEN=e),type:"text",class:"form-input",placeholder:"e.g., Front Load",required:""},null,512),[[s.Jo,o.typeForm.nameEN]])]),(0,i.Lk)("div",null,[t[18]||(t[18]=(0,i.Lk)("label",{class:"form-label"},"Type Name (Arabic)",-1)),(0,i.bo)((0,i.Lk)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>o.typeForm.nameAR=e),type:"text",class:"form-input",placeholder:"مثل: أمامي"},null,512),[[s.Jo,o.typeForm.nameAR]])]),(0,i.Lk)("div",null,[t[19]||(t[19]=(0,i.Lk)("label",{class:"form-label"},"Base Price ($)",-1)),(0,i.bo)((0,i.Lk)("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>o.typeForm.basePrice=e),type:"number",step:"0.01",class:"form-input",placeholder:"50.00",required:""},null,512),[[s.Jo,o.typeForm.basePrice,void 0,{number:!0}]])]),(0,i.Lk)("div",null,[t[20]||(t[20]=(0,i.Lk)("label",{class:"form-label"},"Avg Repair Time (minutes)",-1)),(0,i.bo)((0,i.Lk)("input",{"onUpdate:modelValue":t[8]||(t[8]=e=>o.typeForm.averageRepairTimeMin=e),type:"number",class:"form-input",placeholder:"60",required:""},null,512),[[s.Jo,o.typeForm.averageRepairTimeMin,void 0,{number:!0}]])]),(0,i.Lk)("button",{type:"submit",disabled:o.typeLoading,class:"btn btn-primary w-full"},(0,l.v_)(o.typeLoading?"Adding...":"Add Type"),9,Fv),o.typeError?((0,i.uX)(),(0,i.CE)("div",Ev,(0,l.v_)(o.typeError),1)):(0,i.Q3)("",!0),o.typeSuccess?((0,i.uX)(),(0,i.CE)("div",Dv," Type added successfully! ")):(0,i.Q3)("",!0)],32)])])])])])])}var Xv={name:"AdminAppliancesView",components:{AdminSidebar:kv},setup(){const e=lv(),t=(0,i.EW)(()=>e.categories||[]);return{adminStore:e,categories:t}},data(){return{categoryForm:{nameEN:"",nameAR:"",icon:null},typeForm:{categoryId:"",nameEN:"",nameAR:"",basePrice:null,averageRepairTimeMin:null},categoryLoading:!1,typeLoading:!1,categoryError:null,typeError:null,categorySuccess:!1,typeSuccess:!1}},async mounted(){await this.loadCategories()},methods:{async loadCategories(){try{await this.adminStore.fetchCategories()}catch(e){console.error("Error loading categories:",e)}},handleIconUpload(e){this.categoryForm.icon=e.target.files[0]},async addCategory(){this.categoryLoading=!0,this.categoryError=null,this.categorySuccess=!1;const e=new FormData;e.append("nameEN",this.categoryForm.nameEN),e.append("nameAR",this.categoryForm.nameAR),e.append("icon",this.categoryForm.icon);try{await this.adminStore.createCategory(e),this.categorySuccess=!0,this.categoryForm={nameEN:"",nameAR:"",icon:null};const t=document.querySelector('input[type="file"]');t&&(t.value=""),await this.loadCategories(),setTimeout(()=>this.categorySuccess=!1,3e3)}catch(t){this.categoryError=t.message||"Failed to add category"}finally{this.categoryLoading=!1}},async addApplianceType(){if(this.typeForm.categoryId){this.typeLoading=!0,this.typeError=null,this.typeSuccess=!1;try{await this.adminStore.createApplianceType(this.typeForm.categoryId,this.typeForm.nameEN,this.typeForm.nameAR,this.typeForm.basePrice,this.typeForm.averageRepairTimeMin),this.typeSuccess=!0,this.typeForm={categoryId:"",nameEN:"",nameAR:"",basePrice:null,averageRepairTimeMin:null},setTimeout(()=>this.typeSuccess=!1,3e3)}catch(e){this.typeError=e.message||"Failed to add type"}finally{this.typeLoading=!1}}else this.typeError="Please select a category"}}};const Nv=(0,P.A)(Xv,[["render",Pv]]);var Vv=Nv;const jv={class:"min-h-screen flex overflow-x-hidden"},Rv={class:"flex-1 lg:ml-64 bg-neutral-50 min-h-screen w-full overflow-x-hidden"},Iv={class:"p-4 sm:p-6"},Uv={class:"bg-white rounded-lg border border-neutral-200 p-4 mb-6"},$v={class:"flex flex-col sm:flex-row gap-4 items-start sm:items-end"},zv={class:"card"},Wv={class:"card-body p-0"},Qv={key:0,class:"p-8 text-center"},qv={key:1,class:"p-8 text-center text-neutral-500"},Hv={key:2,class:"overflow-x-auto"},Ov={class:"w-full"},Jv={class:"divide-y divide-neutral-200"},Kv={class:"px-4 py-3 text-sm font-medium text-neutral-900"},Yv={class:"px-4 py-3 text-sm"},Gv={class:"text-xs text-neutral-500"},Zv={class:"px-4 py-3 text-sm"},eb={class:"text-xs text-neutral-500"},tb={class:"px-4 py-3 text-sm text-neutral-600"},ab={class:"px-4 py-3 text-sm font-semibold text-neutral-900"},sb={class:"px-4 py-3 text-sm"},ib={class:"px-2 py-1 bg-error-100 text-error-700 rounded text-xs font-medium"},nb={key:0,class:"grid grid-cols-1 sm:grid-cols-3 gap-4 mt-6"},ob={class:"card"},rb={class:"card-body"},lb={class:"text-2xl font-bold text-error-600"},cb={class:"card"},db={class:"card-body"},ub={class:"text-2xl font-bold text-neutral-900"},mb={class:"card"},pb={class:"card-body"},hb={class:"text-2xl font-bold text-neutral-900"};function kb(e,t,a,n,o,r){const c=(0,i.g2)("AdminSidebar");return(0,i.uX)(),(0,i.CE)("div",jv,[(0,i.bF)(c),(0,i.Lk)("main",Rv,[t[11]||(t[11]=(0,i.Lk)("header",{class:"bg-white border-b border-neutral-100 px-4 sm:px-6 py-4 sticky top-0 z-10"},[(0,i.Lk)("div",{class:"ml-14 lg:ml-0"},[(0,i.Lk)("h1",{class:"text-xl font-semibold text-neutral-900"},"Completed Unpaid Bookings"),(0,i.Lk)("p",{class:"text-sm text-neutral-500"},"Bookings completed but payment not received")])],-1)),(0,i.Lk)("div",Iv,[(0,i.Lk)("div",Uv,[(0,i.Lk)("div",$v,[(0,i.Lk)("div",null,[t[3]||(t[3]=(0,i.Lk)("label",{class:"form-label"},"Days Since Completion",-1)),(0,i.bo)((0,i.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.daysFilter=e),class:"form-input"},[...t[2]||(t[2]=[(0,i.Lk)("option",{value:"7"},"7+ days",-1),(0,i.Lk)("option",{value:"14"},"14+ days",-1),(0,i.Lk)("option",{value:"30"},"30+ days",-1)])],512),[[s.u1,o.daysFilter]])]),(0,i.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>r.loadBookings&&r.loadBookings(...e)),class:"btn btn-primary"},(0,l.v_)(o.loading?"Loading...":"Refresh"),1)])]),(0,i.Lk)("div",zv,[(0,i.Lk)("div",Wv,[o.loading?((0,i.uX)(),(0,i.CE)("div",Qv,[...t[4]||(t[4]=[(0,i.Lk)("div",{class:"inline-block animate-spin"},[(0,i.Lk)("svg",{class:"w-8 h-8 text-primary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})])],-1)])])):0===o.bookings.length?((0,i.uX)(),(0,i.CE)("div",qv,[...t[5]||(t[5]=[(0,i.Lk)("p",null,"No unpaid bookings found",-1)])])):((0,i.uX)(),(0,i.CE)("div",Hv,[(0,i.Lk)("table",Ov,[t[7]||(t[7]=(0,i.Lk)("thead",{class:"bg-neutral-50 border-b border-neutral-200"},[(0,i.Lk)("tr",null,[(0,i.Lk)("th",{class:"px-4 py-3 text-left text-sm font-semibold text-neutral-700"},"Booking ID"),(0,i.Lk)("th",{class:"px-4 py-3 text-left text-sm font-semibold text-neutral-700"},"User"),(0,i.Lk)("th",{class:"px-4 py-3 text-left text-sm font-semibold text-neutral-700"},"Technician"),(0,i.Lk)("th",{class:"px-4 py-3 text-left text-sm font-semibold text-neutral-700"},"Appliance"),(0,i.Lk)("th",{class:"px-4 py-3 text-left text-sm font-semibold text-neutral-700"},"Amount"),(0,i.Lk)("th",{class:"px-4 py-3 text-left text-sm font-semibold text-neutral-700"},"Days Unpaid"),(0,i.Lk)("th",{class:"px-4 py-3 text-left text-sm font-semibold text-neutral-700"},"Actions")])],-1)),(0,i.Lk)("tbody",Jv,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(o.bookings,e=>((0,i.uX)(),(0,i.CE)("tr",{key:e.Booking_ID,class:"hover:bg-neutral-50"},[(0,i.Lk)("td",Kv,"#"+(0,l.v_)(e.Booking_ID),1),(0,i.Lk)("td",Yv,[(0,i.Lk)("div",null,(0,l.v_)(e.User_Name),1),(0,i.Lk)("div",Gv,(0,l.v_)(e.User_Email),1)]),(0,i.Lk)("td",Zv,[(0,i.Lk)("div",null,(0,l.v_)(e.Technician_Name),1),(0,i.Lk)("div",eb,(0,l.v_)(e.Technician_Phone),1)]),(0,i.Lk)("td",tb,(0,l.v_)(e.Appliance_Type),1),(0,i.Lk)("td",ab,"$"+(0,l.v_)(e.Total_Price),1),(0,i.Lk)("td",sb,[(0,i.Lk)("span",ib,(0,l.v_)(e.Days_Since_Completion),1)]),t[6]||(t[6]=(0,i.Lk)("td",{class:"px-4 py-3 text-sm"},[(0,i.Lk)("button",{class:"text-primary-600 hover:underline text-xs font-medium"}," View Details ")],-1))]))),128))])])]))])]),o.bookings.length>0?((0,i.uX)(),(0,i.CE)("div",nb,[(0,i.Lk)("div",ob,[(0,i.Lk)("div",rb,[t[8]||(t[8]=(0,i.Lk)("p",{class:"text-sm text-neutral-500 mb-1"},"Total Unpaid",-1)),(0,i.Lk)("p",lb,"$"+(0,l.v_)(r.totalUnpaid),1)])]),(0,i.Lk)("div",cb,[(0,i.Lk)("div",db,[t[9]||(t[9]=(0,i.Lk)("p",{class:"text-sm text-neutral-500 mb-1"},"Booking Count",-1)),(0,i.Lk)("p",ub,(0,l.v_)(o.bookings.length),1)])]),(0,i.Lk)("div",mb,[(0,i.Lk)("div",pb,[t[10]||(t[10]=(0,i.Lk)("p",{class:"text-sm text-neutral-500 mb-1"},"Avg Days Unpaid",-1)),(0,i.Lk)("p",hb,(0,l.v_)(r.avgDaysUnpaid),1)])])])):(0,i.Q3)("",!0)])])])}var gb={name:"AdminUnpaidBookingsView",components:{AdminSidebar:kv},data(){return{bookings:[],daysFilter:"7",loading:!1}},computed:{totalUnpaid(){return this.bookings.reduce((e,t)=>e+(t.Total_Price||0),0).toFixed(2)},avgDaysUnpaid(){if(0===this.bookings.length)return 0;const e=this.bookings.reduce((e,t)=>e+(t.Days_Since_Completion||0),0);return Math.round(e/this.bookings.length)}},async mounted(){await this.loadBookings()},methods:{async loadBookings(){this.loading=!0;const e=lv();try{const t=await e.fetchCompletedUnpaid(parseInt(this.daysFilter));this.bookings=t.data||[]}catch(t){console.error("Error loading bookings:",t),this.bookings=[]}finally{this.loading=!1}}}};const vb=(0,P.A)(gb,[["render",kb]]);var bb=vb;const fb={class:"min-h-screen flex overflow-x-hidden"},xb={class:"flex-1 lg:ml-64 bg-neutral-50 min-h-screen w-full overflow-x-hidden"},yb={class:"p-4 sm:p-6"},Lb={class:"bg-white rounded-lg border border-neutral-200 p-4 mb-6"},wb={class:"flex flex-col sm:flex-row gap-4 items-start sm:items-end"},Cb={class:"card"},Ab={class:"card-body p-0"},Mb={key:0,class:"p-8 text-center"},Tb={key:1,class:"p-8 text-center text-neutral-500"},_b={key:2,class:"overflow-x-auto"},Bb={class:"w-full"},Sb={class:"divide-y divide-neutral-200"},Fb={class:"px-4 py-3 text-sm font-medium text-neutral-900"},Eb={class:"px-4 py-3 text-sm"},Db={class:"text-xs text-neutral-500"},Pb={class:"px-4 py-3 text-sm"},Xb={class:"text-xs text-neutral-500"},Nb={class:"px-4 py-3 text-sm"},Vb={class:"px-2 py-1 bg-info-100 text-info-700 rounded text-xs font-medium capitalize"},jb={class:"px-4 py-3 text-sm"},Rb={class:"px-2 py-1 bg-warning-100 text-warning-700 rounded text-xs font-medium"},Ib={class:"px-4 py-3 text-sm font-semibold text-neutral-900"},Ub={key:0,class:"grid grid-cols-1 sm:grid-cols-3 gap-4 mt-6"},$b={class:"card"},zb={class:"card-body"},Wb={class:"text-2xl font-bold text-neutral-900"},Qb={class:"card"},qb={class:"card-body"},Hb={class:"text-2xl font-bold text-neutral-900"},Ob={class:"card"},Jb={class:"card-body"},Kb={class:"text-2xl font-bold text-neutral-900"};function Yb(e,t,a,n,o,r){const c=(0,i.g2)("AdminSidebar");return(0,i.uX)(),(0,i.CE)("div",fb,[(0,i.bF)(c),(0,i.Lk)("main",xb,[t[10]||(t[10]=(0,i.Lk)("header",{class:"bg-white border-b border-neutral-100 px-4 sm:px-6 py-4 sticky top-0 z-10"},[(0,i.Lk)("div",{class:"ml-14 lg:ml-0"},[(0,i.Lk)("h1",{class:"text-xl font-semibold text-neutral-900"},"Incomplete Bookings"),(0,i.Lk)("p",{class:"text-sm text-neutral-500"},"Accepted but not yet completed")])],-1)),(0,i.Lk)("div",yb,[(0,i.Lk)("div",Lb,[(0,i.Lk)("div",wb,[(0,i.Lk)("div",null,[t[3]||(t[3]=(0,i.Lk)("label",{class:"form-label"},"Days Since Acceptance",-1)),(0,i.bo)((0,i.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.daysFilter=e),class:"form-input"},[...t[2]||(t[2]=[(0,i.Lk)("option",{value:"1"},"1+ days",-1),(0,i.Lk)("option",{value:"3"},"3+ days",-1),(0,i.Lk)("option",{value:"7"},"7+ days",-1)])],512),[[s.u1,o.daysFilter]])]),(0,i.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>r.loadBookings&&r.loadBookings(...e)),class:"btn btn-primary"},(0,l.v_)(o.loading?"Loading...":"Refresh"),1)])]),(0,i.Lk)("div",Cb,[(0,i.Lk)("div",Ab,[o.loading?((0,i.uX)(),(0,i.CE)("div",Mb,[...t[4]||(t[4]=[(0,i.Lk)("div",{class:"inline-block animate-spin"},[(0,i.Lk)("svg",{class:"w-8 h-8 text-primary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})])],-1)])])):0===o.bookings.length?((0,i.uX)(),(0,i.CE)("div",Tb,[...t[5]||(t[5]=[(0,i.Lk)("p",null,"No incomplete bookings found",-1)])])):((0,i.uX)(),(0,i.CE)("div",_b,[(0,i.Lk)("table",Bb,[t[6]||(t[6]=(0,i.Lk)("thead",{class:"bg-neutral-50 border-b border-neutral-200"},[(0,i.Lk)("tr",null,[(0,i.Lk)("th",{class:"px-4 py-3 text-left text-sm font-semibold text-neutral-700"},"Booking ID"),(0,i.Lk)("th",{class:"px-4 py-3 text-left text-sm font-semibold text-neutral-700"},"User"),(0,i.Lk)("th",{class:"px-4 py-3 text-left text-sm font-semibold text-neutral-700"},"Technician"),(0,i.Lk)("th",{class:"px-4 py-3 text-left text-sm font-semibold text-neutral-700"},"Status"),(0,i.Lk)("th",{class:"px-4 py-3 text-left text-sm font-semibold text-neutral-700"},"Days Pending"),(0,i.Lk)("th",{class:"px-4 py-3 text-left text-sm font-semibold text-neutral-700"},"Amount")])],-1)),(0,i.Lk)("tbody",Sb,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(o.bookings,e=>((0,i.uX)(),(0,i.CE)("tr",{key:e.Booking_ID,class:"hover:bg-neutral-50"},[(0,i.Lk)("td",Fb,"#"+(0,l.v_)(e.Booking_ID),1),(0,i.Lk)("td",Eb,[(0,i.Lk)("div",null,(0,l.v_)(e.User_Name),1),(0,i.Lk)("div",Db,(0,l.v_)(e.User_Email),1)]),(0,i.Lk)("td",Pb,[(0,i.Lk)("div",null,(0,l.v_)(e.Technician_Name),1),(0,i.Lk)("div",Xb,(0,l.v_)(e.Technician_Phone),1)]),(0,i.Lk)("td",Nb,[(0,i.Lk)("span",Vb,(0,l.v_)(e.Status),1)]),(0,i.Lk)("td",jb,[(0,i.Lk)("span",Rb,(0,l.v_)(e.Days_Since_Acceptance),1)]),(0,i.Lk)("td",Ib,"$"+(0,l.v_)(e.Total_Price),1)]))),128))])])]))])]),o.bookings.length>0?((0,i.uX)(),(0,i.CE)("div",Ub,[(0,i.Lk)("div",$b,[(0,i.Lk)("div",zb,[t[7]||(t[7]=(0,i.Lk)("p",{class:"text-sm text-neutral-500 mb-1"},"Total Value",-1)),(0,i.Lk)("p",Wb,"$"+(0,l.v_)(r.totalValue),1)])]),(0,i.Lk)("div",Qb,[(0,i.Lk)("div",qb,[t[8]||(t[8]=(0,i.Lk)("p",{class:"text-sm text-neutral-500 mb-1"},"Booking Count",-1)),(0,i.Lk)("p",Hb,(0,l.v_)(o.bookings.length),1)])]),(0,i.Lk)("div",Ob,[(0,i.Lk)("div",Jb,[t[9]||(t[9]=(0,i.Lk)("p",{class:"text-sm text-neutral-500 mb-1"},"Avg Days Pending",-1)),(0,i.Lk)("p",Kb,(0,l.v_)(r.avgDaysPending),1)])])])):(0,i.Q3)("",!0)])])])}var Gb={name:"AdminIncompleteBookingsView",components:{AdminSidebar:kv},data(){return{bookings:[],daysFilter:"3",loading:!1}},computed:{totalValue(){return this.bookings.reduce((e,t)=>e+(t.Total_Price||0),0).toFixed(2)},avgDaysPending(){if(0===this.bookings.length)return 0;const e=this.bookings.reduce((e,t)=>e+(t.Days_Since_Acceptance||0),0);return Math.round(e/this.bookings.length)}},async mounted(){await this.loadBookings()},methods:{async loadBookings(){this.loading=!0;const e=lv();try{const t=await e.fetchAcceptedIncomplete(parseInt(this.daysFilter));this.bookings=t.data||[]}catch(t){console.error("Error loading bookings:",t),this.bookings=[]}finally{this.loading=!1}}}};const Zb=(0,P.A)(Gb,[["render",Yb]]);var ef=Zb;const tf={class:"min-h-screen flex overflow-x-hidden"},af={class:"flex-1 lg:ml-64 bg-neutral-50 min-h-screen w-full overflow-x-hidden"},sf={class:"p-4 sm:p-6"},nf={class:"mb-6"},of={class:"card"},rf={class:"card-body p-0"},lf={key:0,class:"p-8 text-center"},cf={key:1,class:"p-8 text-center text-neutral-500"},df={key:2,class:"overflow-x-auto"},uf={class:"w-full"},mf={class:"divide-y divide-neutral-200"},pf={class:"px-4 py-3 text-sm font-medium text-neutral-900"},hf={class:"px-4 py-3 text-sm"},kf={class:"text-xs text-neutral-500"},gf={class:"px-4 py-3 text-sm"},vf={class:"text-xs text-neutral-500"},bf={class:"px-4 py-3 text-sm"},ff={class:"px-2 py-1 bg-error-100 text-error-700 rounded text-xs font-medium capitalize"},xf={class:"px-4 py-3 text-sm"},yf={class:"px-2 py-1 bg-error-100 text-error-700 rounded text-xs font-medium"},Lf={class:"px-4 py-3 text-sm"},wf={class:"font-semibold text-neutral-900"},Cf={class:"text-xs text-neutral-500"},Af={key:0,class:"grid grid-cols-1 sm:grid-cols-3 gap-4 mt-6"},Mf={class:"card"},Tf={class:"card-body"},_f={class:"text-2xl font-bold text-error-600"},Bf={class:"card"},Sf={class:"card-body"},Ff={class:"text-2xl font-bold text-neutral-900"},Ef={class:"card"},Df={class:"card-body"},Pf={class:"text-2xl font-bold text-neutral-900"};function Xf(e,t,a,s,n,o){const r=(0,i.g2)("AdminSidebar");return(0,i.uX)(),(0,i.CE)("div",tf,[(0,i.bF)(r),(0,i.Lk)("main",af,[t[7]||(t[7]=(0,i.Lk)("header",{class:"bg-white border-b border-neutral-100 px-4 sm:px-6 py-4 sticky top-0 z-10"},[(0,i.Lk)("div",{class:"ml-14 lg:ml-0"},[(0,i.Lk)("h1",{class:"text-xl font-semibold text-neutral-900"},"Overdue Bookings"),(0,i.Lk)("p",{class:"text-sm text-neutral-500"},"Paid but not completed past scheduled date")])],-1)),(0,i.Lk)("div",sf,[(0,i.Lk)("div",nf,[(0,i.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>o.loadBookings&&o.loadBookings(...e)),class:"btn btn-primary"},(0,l.v_)(n.loading?"Loading...":"Refresh"),1)]),(0,i.Lk)("div",of,[(0,i.Lk)("div",rf,[n.loading?((0,i.uX)(),(0,i.CE)("div",lf,[...t[1]||(t[1]=[(0,i.Lk)("div",{class:"inline-block animate-spin"},[(0,i.Lk)("svg",{class:"w-8 h-8 text-primary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})])],-1)])])):0===n.bookings.length?((0,i.uX)(),(0,i.CE)("div",cf,[...t[2]||(t[2]=[(0,i.Lk)("p",null,"No overdue bookings found",-1)])])):((0,i.uX)(),(0,i.CE)("div",df,[(0,i.Lk)("table",uf,[t[3]||(t[3]=(0,i.Lk)("thead",{class:"bg-neutral-50 border-b border-neutral-200"},[(0,i.Lk)("tr",null,[(0,i.Lk)("th",{class:"px-4 py-3 text-left text-sm font-semibold text-neutral-700"},"Booking ID"),(0,i.Lk)("th",{class:"px-4 py-3 text-left text-sm font-semibold text-neutral-700"},"User"),(0,i.Lk)("th",{class:"px-4 py-3 text-left text-sm font-semibold text-neutral-700"},"Technician"),(0,i.Lk)("th",{class:"px-4 py-3 text-left text-sm font-semibold text-neutral-700"},"Status"),(0,i.Lk)("th",{class:"px-4 py-3 text-left text-sm font-semibold text-neutral-700"},"Days Overdue"),(0,i.Lk)("th",{class:"px-4 py-3 text-left text-sm font-semibold text-neutral-700"},"Payment")])],-1)),(0,i.Lk)("tbody",mf,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(n.bookings,e=>((0,i.uX)(),(0,i.CE)("tr",{key:e.Booking_ID,class:"hover:bg-neutral-50"},[(0,i.Lk)("td",pf,"#"+(0,l.v_)(e.Booking_ID),1),(0,i.Lk)("td",hf,[(0,i.Lk)("div",null,(0,l.v_)(e.User_Name),1),(0,i.Lk)("div",kf,(0,l.v_)(e.User_Email),1)]),(0,i.Lk)("td",gf,[(0,i.Lk)("div",null,(0,l.v_)(e.Technician_Name),1),(0,i.Lk)("div",vf,(0,l.v_)(e.Technician_Phone),1)]),(0,i.Lk)("td",bf,[(0,i.Lk)("span",ff,(0,l.v_)(e.Status),1)]),(0,i.Lk)("td",xf,[(0,i.Lk)("span",yf,(0,l.v_)(e.Days_Overdue)+" days ",1)]),(0,i.Lk)("td",Lf,[(0,i.Lk)("div",wf,"$"+(0,l.v_)(e.Paid_Amount),1),(0,i.Lk)("div",Cf,(0,l.v_)(e.Payment_Method),1)])]))),128))])])]))])]),n.bookings.length>0?((0,i.uX)(),(0,i.CE)("div",Af,[(0,i.Lk)("div",Mf,[(0,i.Lk)("div",Tf,[t[4]||(t[4]=(0,i.Lk)("p",{class:"text-sm text-neutral-500 mb-1"},"Total Overdue Amount",-1)),(0,i.Lk)("p",_f,"$"+(0,l.v_)(o.totalAmount),1)])]),(0,i.Lk)("div",Bf,[(0,i.Lk)("div",Sf,[t[5]||(t[5]=(0,i.Lk)("p",{class:"text-sm text-neutral-500 mb-1"},"Booking Count",-1)),(0,i.Lk)("p",Ff,(0,l.v_)(n.bookings.length),1)])]),(0,i.Lk)("div",Ef,[(0,i.Lk)("div",Df,[t[6]||(t[6]=(0,i.Lk)("p",{class:"text-sm text-neutral-500 mb-1"},"Avg Days Overdue",-1)),(0,i.Lk)("p",Pf,(0,l.v_)(o.avgDaysOverdue),1)])])])):(0,i.Q3)("",!0)])])])}var Nf={name:"AdminOverdueBookingsView",components:{AdminSidebar:kv},data(){return{bookings:[],loading:!1}},computed:{totalAmount(){return this.bookings.reduce((e,t)=>e+(t.Paid_Amount||0),0).toFixed(2)},avgDaysOverdue(){if(0===this.bookings.length)return 0;const e=this.bookings.reduce((e,t)=>e+(t.Days_Overdue||0),0);return Math.round(e/this.bookings.length)}},async mounted(){await this.loadBookings()},methods:{async loadBookings(){this.loading=!0;const e=lv();try{const t=await e.fetchPaidOverdue();this.bookings=t.data||[]}catch(t){console.error("Error loading bookings:",t),this.bookings=[]}finally{this.loading=!1}}}};const Vf=(0,P.A)(Nf,[["render",Xf]]);var jf=Vf;const Rf={class:"min-h-screen flex overflow-x-hidden"},If={class:"flex-1 lg:ml-64 bg-neutral-50 min-h-screen w-full overflow-x-hidden"},Uf={class:"p-4 sm:p-6"},$f={class:"card"},zf={class:"card-body p-0"},Wf={key:0,class:"p-8 text-center"},Qf={key:1,class:"p-8 text-center text-neutral-500"},qf={key:2,class:"space-y-4 p-6"},Hf={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},Of={class:"text-sm font-semibold text-neutral-900 mb-2"},Jf={class:"space-y-1 text-xs text-neutral-600"},Kf={key:0},Yf={class:"text-warning-600"},Gf={class:"flex flex-col gap-2"},Zf=["onClick","disabled"],ex=["onClick"],tx=["onClick"];function ax(e,t,a,s,n,o){const r=(0,i.g2)("AdminSidebar");return(0,i.uX)(),(0,i.CE)("div",Rf,[(0,i.bF)(r),(0,i.Lk)("main",If,[t[7]||(t[7]=(0,i.Lk)("header",{class:"bg-white border-b border-neutral-100 px-4 sm:px-6 py-4 sticky top-0 z-10"},[(0,i.Lk)("div",{class:"ml-14 lg:ml-0"},[(0,i.Lk)("h1",{class:"text-xl font-semibold text-neutral-900"},"Technician Verification"),(0,i.Lk)("p",{class:"text-sm text-neutral-500"},"Review and verify pending technician applications")])],-1)),(0,i.Lk)("div",Uf,[(0,i.Lk)("div",$f,[(0,i.Lk)("div",zf,[n.loading?((0,i.uX)(),(0,i.CE)("div",Wf,[...t[0]||(t[0]=[(0,i.Lk)("div",{class:"inline-block animate-spin"},[(0,i.Lk)("svg",{class:"w-8 h-8 text-primary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})])],-1)])])):0===n.technicians.length?((0,i.uX)(),(0,i.CE)("div",Qf,[...t[1]||(t[1]=[(0,i.Lk)("p",null,"No pending technicians to verify",-1)])])):((0,i.uX)(),(0,i.CE)("div",qf,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(n.technicians,e=>((0,i.uX)(),(0,i.CE)("div",{key:e.Technician_ID,class:"border border-neutral-200 rounded-lg p-4 hover:bg-neutral-50 transition-colors"},[(0,i.Lk)("div",Hf,[(0,i.Lk)("div",null,[(0,i.Lk)("h3",Of,(0,l.v_)(e.First_Name)+" "+(0,l.v_)(e.Last_Name),1),(0,i.Lk)("div",Jf,[(0,i.Lk)("p",null,[t[2]||(t[2]=(0,i.Lk)("span",{class:"font-medium"},"Email:",-1)),(0,i.eW)(" "+(0,l.v_)(e.Email),1)]),(0,i.Lk)("p",null,[t[3]||(t[3]=(0,i.Lk)("span",{class:"font-medium"},"Phone:",-1)),(0,i.eW)(" "+(0,l.v_)(e.Phone),1)]),(0,i.Lk)("p",null,[t[4]||(t[4]=(0,i.Lk)("span",{class:"font-medium"},"Specialties:",-1)),(0,i.eW)(" "+(0,l.v_)(e.Specialties||"N/A"),1)]),(0,i.Lk)("p",null,[t[5]||(t[5]=(0,i.Lk)("span",{class:"font-medium"},"Years Experience:",-1)),(0,i.eW)(" "+(0,l.v_)(e.Years_Experience||"N/A"),1)]),e.Average_Rating?((0,i.uX)(),(0,i.CE)("p",Kf,[t[6]||(t[6]=(0,i.Lk)("span",{class:"font-medium"},"Current Rating:",-1)),(0,i.Lk)("span",Yf,(0,l.v_)(e.Average_Rating)+"/5",1)])):(0,i.Q3)("",!0)])]),(0,i.Lk)("div",Gf,[(0,i.Lk)("button",{onClick:t=>o.verifyTechnician(e.Technician_ID),disabled:n.verifyingId===e.Technician_ID,class:"px-4 py-2 bg-success-600 text-white rounded-lg hover:bg-success-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-sm font-medium"},(0,l.v_)(n.verifyingId===e.Technician_ID?"Verifying...":"Verify Technician"),9,Zf),(0,i.Lk)("button",{onClick:t=>o.rejectTechnician(e.Technician_ID),class:"px-4 py-2 border border-error-600 text-error-600 rounded-lg hover:bg-error-50 transition-colors text-sm font-medium"}," Reject Application ",8,ex),(0,i.Lk)("button",{onClick:t=>o.viewProfile(e.Technician_ID),class:"px-4 py-2 border border-primary-600 text-primary-600 rounded-lg hover:bg-primary-50 transition-colors text-sm font-medium"}," View Full Profile ",8,tx)])])]))),128))]))])])])])])}var sx={name:"AdminVerificationView",components:{AdminSidebar:kv},data(){return{technicians:[],loading:!1,verifyingId:null}},async mounted(){await this.loadTechnicians()},methods:{async loadTechnicians(){this.loading=!0;const e=lv();try{const t=await e.fetchUnverifiedTechnicians();this.technicians=t.data||[]}catch(t){console.error("Error loading technicians:",t),this.technicians=[]}finally{this.loading=!1}},async verifyTechnician(e){this.verifyingId=e;const t=lv();try{await t.verifyTechnician(e),this.technicians=this.technicians.filter(t=>t.Technician_ID!==e)}catch(a){console.error("Error verifying technician:",a)}finally{this.verifyingId=null}},async rejectTechnician(e){confirm("Are you sure you want to reject this technician?")&&(this.technicians=this.technicians.filter(t=>t.Technician_ID!==e))},viewProfile(e){this.$router.push({name:"AdminTechnicianDetails",params:{id:e}})}}};const ix=(0,P.A)(sx,[["render",ax]]);var nx=ix;const ox={class:"min-h-screen flex overflow-x-hidden"},rx={class:"flex-1 lg:ml-64 bg-neutral-50 min-h-screen w-full overflow-x-hidden"},lx={class:"p-4 sm:p-6"},cx={class:"flex gap-4 mb-6 border-b border-neutral-200"},dx={key:0,class:"card"},ux={class:"card-body p-0"},mx={key:0,class:"p-8 text-center"},px={key:1,class:"p-8 text-center text-neutral-500"},hx={key:2,class:"overflow-x-auto"},kx={class:"w-full"},gx={class:"divide-y divide-neutral-200"},vx={class:"px-4 py-3 text-sm font-medium text-neutral-900"},bx={class:"px-4 py-3 text-sm text-neutral-600"},fx={class:"px-4 py-3 text-sm"},xx={class:"px-2 py-1 bg-error-100 text-error-700 rounded text-xs font-semibold"},yx={class:"px-4 py-3 text-sm text-neutral-600"},Lx={class:"px-4 py-3 text-sm text-neutral-600"},wx={class:"px-4 py-3 text-sm"},Cx={class:"px-4 py-3 text-sm"},Ax=["onClick"],Mx={key:1,class:"card"},Tx={class:"card-body p-0"},_x={key:0,class:"p-8 text-center"},Bx={key:1,class:"p-8 text-center text-neutral-500"},Sx={key:2,class:"overflow-x-auto"},Fx={class:"w-full"},Ex={class:"divide-y divide-neutral-200"},Dx={class:"px-4 py-3 text-sm font-medium text-neutral-900"},Px={class:"px-4 py-3 text-sm text-neutral-600"},Xx={class:"px-4 py-3 text-sm"},Nx={class:"px-2 py-1 bg-success-100 text-success-700 rounded text-xs font-semibold"},Vx={class:"px-4 py-3 text-sm text-neutral-600"},jx={class:"px-4 py-3 text-sm text-neutral-600"},Rx={class:"px-4 py-3 text-sm"},Ix=["onClick"];function Ux(e,t,a,s,n,o){const r=(0,i.g2)("AdminSidebar");return(0,i.uX)(),(0,i.CE)("div",ox,[(0,i.bF)(r),(0,i.Lk)("main",rx,[t[8]||(t[8]=(0,i.Lk)("header",{class:"bg-white border-b border-neutral-100 px-4 sm:px-6 py-4 sticky top-0 z-10"},[(0,i.Lk)("div",{class:"ml-14 lg:ml-0"},[(0,i.Lk)("h1",{class:"text-xl font-semibold text-neutral-900"},"Technician Performance"),(0,i.Lk)("p",{class:"text-sm text-neutral-500"},"Low-rated and high-performing technicians")])],-1)),(0,i.Lk)("div",lx,[(0,i.Lk)("div",cx,[(0,i.Lk)("button",{onClick:t[0]||(t[0]=e=>n.activeTab="low"),class:(0,l.C4)(["px-4 py-2 font-medium border-b-2 transition-colors","low"===n.activeTab?"border-error-500 text-error-600":"border-transparent text-neutral-600 hover:text-neutral-900"])}," Low Rated ",2),(0,i.Lk)("button",{onClick:t[1]||(t[1]=e=>n.activeTab="high"),class:(0,l.C4)(["px-4 py-2 font-medium border-b-2 transition-colors","high"===n.activeTab?"border-success-500 text-success-600":"border-transparent text-neutral-600 hover:text-neutral-900"])}," High Performers ",2)]),"low"===n.activeTab?((0,i.uX)(),(0,i.CE)("div",dx,[(0,i.Lk)("div",ux,[n.loadingLow?((0,i.uX)(),(0,i.CE)("div",mx,[...t[2]||(t[2]=[(0,i.Lk)("div",{class:"inline-block animate-spin"},[(0,i.Lk)("svg",{class:"w-8 h-8 text-primary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})])],-1)])])):0===n.lowRatedTechs.length?((0,i.uX)(),(0,i.CE)("div",px,[...t[3]||(t[3]=[(0,i.Lk)("p",null,"No low-rated technicians",-1)])])):((0,i.uX)(),(0,i.CE)("div",hx,[(0,i.Lk)("table",kx,[t[4]||(t[4]=(0,i.Lk)("thead",{class:"bg-neutral-50 border-b border-neutral-200"},[(0,i.Lk)("tr",null,[(0,i.Lk)("th",{class:"px-4 py-3 text-left text-sm font-semibold text-neutral-700"},"Name"),(0,i.Lk)("th",{class:"px-4 py-3 text-left text-sm font-semibold text-neutral-700"},"Email"),(0,i.Lk)("th",{class:"px-4 py-3 text-left text-sm font-semibold text-neutral-700"},"Rating"),(0,i.Lk)("th",{class:"px-4 py-3 text-left text-sm font-semibold text-neutral-700"},"Jobs"),(0,i.Lk)("th",{class:"px-4 py-3 text-left text-sm font-semibold text-neutral-700"},"Reviews"),(0,i.Lk)("th",{class:"px-4 py-3 text-left text-sm font-semibold text-neutral-700"},"Status"),(0,i.Lk)("th",{class:"px-4 py-3 text-left text-sm font-semibold text-neutral-700"},"Actions")])],-1)),(0,i.Lk)("tbody",gx,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(n.lowRatedTechs,t=>((0,i.uX)(),(0,i.CE)("tr",{key:t.Technician_ID,class:"hover:bg-neutral-50"},[(0,i.Lk)("td",vx,(0,l.v_)(t.Technician_Name),1),(0,i.Lk)("td",bx,(0,l.v_)(t.Email),1),(0,i.Lk)("td",fx,[(0,i.Lk)("span",xx,(0,l.v_)(t.Average_Rating)+"/5 ",1)]),(0,i.Lk)("td",yx,(0,l.v_)(t.Total_Jobs),1),(0,i.Lk)("td",Lx,(0,l.v_)(t.Total_Reviews),1),(0,i.Lk)("td",wx,[(0,i.Lk)("span",{class:(0,l.C4)(["px-2 py-1 rounded text-xs font-medium",t.Verified?"bg-success-100 text-success-700":"bg-warning-100 text-warning-700"])},(0,l.v_)(t.Verified?"Verified":"Unverified"),3)]),(0,i.Lk)("td",Cx,[(0,i.Lk)("button",{onClick:a=>e.$router.push({name:"AdminTechnicianDetails",params:{id:t.Technician_ID}}),class:"text-primary-600 hover:text-primary-800 font-medium"}," View Details ",8,Ax)])]))),128))])])]))])])):(0,i.Q3)("",!0),"high"===n.activeTab?((0,i.uX)(),(0,i.CE)("div",Mx,[(0,i.Lk)("div",Tx,[n.loadingHigh?((0,i.uX)(),(0,i.CE)("div",_x,[...t[5]||(t[5]=[(0,i.Lk)("div",{class:"inline-block animate-spin"},[(0,i.Lk)("svg",{class:"w-8 h-8 text-primary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})])],-1)])])):0===n.highPerformers.length?((0,i.uX)(),(0,i.CE)("div",Bx,[...t[6]||(t[6]=[(0,i.Lk)("p",null,"No high-performing technicians",-1)])])):((0,i.uX)(),(0,i.CE)("div",Sx,[(0,i.Lk)("table",Fx,[t[7]||(t[7]=(0,i.Lk)("thead",{class:"bg-neutral-50 border-b border-neutral-200"},[(0,i.Lk)("tr",null,[(0,i.Lk)("th",{class:"px-4 py-3 text-left text-sm font-semibold text-neutral-700"},"Name"),(0,i.Lk)("th",{class:"px-4 py-3 text-left text-sm font-semibold text-neutral-700"},"Email"),(0,i.Lk)("th",{class:"px-4 py-3 text-left text-sm font-semibold text-neutral-700"},"Rating"),(0,i.Lk)("th",{class:"px-4 py-3 text-left text-sm font-semibold text-neutral-700"},"Jobs"),(0,i.Lk)("th",{class:"px-4 py-3 text-left text-sm font-semibold text-neutral-700"},"Reviews"),(0,i.Lk)("th",{class:"px-4 py-3 text-left text-sm font-semibold text-neutral-700"},"Actions")])],-1)),(0,i.Lk)("tbody",Ex,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(n.highPerformers,t=>((0,i.uX)(),(0,i.CE)("tr",{key:t.Technician_ID,class:"hover:bg-neutral-50"},[(0,i.Lk)("td",Dx,(0,l.v_)(t.Technician_Name),1),(0,i.Lk)("td",Px,(0,l.v_)(t.Email),1),(0,i.Lk)("td",Xx,[(0,i.Lk)("span",Nx,(0,l.v_)(t.Average_Rating)+"/5 ⭐ ",1)]),(0,i.Lk)("td",Vx,(0,l.v_)(t.Total_Jobs),1),(0,i.Lk)("td",jx,(0,l.v_)(t.Total_Reviews),1),(0,i.Lk)("td",Rx,[(0,i.Lk)("button",{onClick:a=>e.$router.push({name:"AdminTechnicianDetails",params:{id:t.Technician_ID}}),class:"text-primary-600 hover:text-primary-800 font-medium"}," View Details ",8,Ix)])]))),128))])])]))])])):(0,i.Q3)("",!0)])])])}var $x={name:"AdminPerformanceView",components:{AdminSidebar:kv},data(){return{activeTab:"low",lowRatedTechs:[],highPerformers:[],loadingLow:!1,loadingHigh:!1}},async mounted(){await this.loadData()},methods:{async loadData(){const e=lv();this.loadingLow=!0,this.loadingHigh=!0;try{const[t,a]=await Promise.all([e.fetchLowRatedTechnicians(3),e.fetchHighPerformanceTechnicians(3)]);this.lowRatedTechs=t.data||[],this.highPerformers=a.data||[]}catch(t){console.error("Error loading technician data:",t),this.lowRatedTechs=[],this.highPerformers=[]}finally{this.loadingLow=!1,this.loadingHigh=!1}}}};const zx=(0,P.A)($x,[["render",Ux]]);var Wx=zx;const Qx={class:"min-h-screen flex overflow-x-hidden"},qx={class:"flex-1 lg:ml-64 bg-neutral-50 min-h-screen w-full overflow-x-hidden"},Hx={class:"p-4 sm:p-6"},Ox={class:"card mb-6"},Jx={class:"card-body"},Kx={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},Yx={class:"md:col-span-2"},Gx={class:"mt-4 flex justify-end"},Zx={class:"card"},ey={class:"card-body p-0"},ty={key:0,class:"p-8 text-center"},ay={key:1,class:"p-8 text-center text-neutral-500"},sy={key:2,class:"overflow-x-auto"},iy={class:"w-full"},ny={class:"divide-y divide-neutral-100"},oy={class:"px-4 py-3"},ry={class:"flex items-center gap-3"},ly={class:"avatar avatar-sm bg-primary-100 text-primary-600"},cy={class:"font-medium text-neutral-900"},dy={class:"text-xs text-neutral-500"},uy={class:"px-4 py-3"},my={class:"text-sm text-neutral-900"},py={class:"text-xs text-neutral-500"},hy={class:"px-4 py-3"},ky={class:"flex items-center gap-1"},gy={class:"text-sm font-medium text-neutral-900"},vy={class:"px-4 py-3"},by={class:"text-sm text-neutral-900"},fy={class:"text-xs text-neutral-500"},xy={class:"px-4 py-3"},yy={class:"px-4 py-3"},Ly={class:"px-4 py-3"},wy={class:"flex items-center gap-2"},Cy=["onClick"],Ay=["onClick","disabled"],My=["onClick","disabled"],Ty=["onClick","disabled"],_y=["onClick","disabled"],By={key:3,class:"px-4 py-3 border-t border-neutral-200 flex items-center justify-between"},Sy={class:"text-sm text-neutral-600"},Fy={class:"flex gap-2"},Ey=["disabled"],Dy=["disabled"],Py={class:"p-6"},Xy={class:"flex justify-end gap-3"},Ny=["disabled"],Vy={class:"p-6"},jy={class:"flex justify-end gap-3"},Ry=["disabled"],Iy={class:"p-6"},Uy={class:"flex justify-end gap-3"},$y=["disabled"],zy={class:"p-6"},Wy={class:"flex justify-end gap-3"},Qy=["disabled"];function qy(e,t,a,n,o,r){const c=(0,i.g2)("AdminSidebar"),d=(0,i.g2)("AlertMessage"),u=(0,i.g2)("BaseModal");return(0,i.uX)(),(0,i.CE)("div",Qx,[(0,i.bF)(c),(0,i.Lk)("main",qx,[t[37]||(t[37]=(0,i.Lk)("header",{class:"bg-white border-b border-neutral-100 px-4 sm:px-6 py-4 sticky top-0 z-10"},[(0,i.Lk)("div",{class:"ml-14 lg:ml-0"},[(0,i.Lk)("h1",{class:"text-xl font-semibold text-neutral-900"},"Manage Technicians"),(0,i.Lk)("p",{class:"text-sm text-neutral-500"},"View, search, and manage all technician accounts")])],-1)),(0,i.Lk)("div",Hx,[o.successMessage?((0,i.uX)(),(0,i.Wv)(d,{key:0,type:"success",message:o.successMessage,class:"mb-6",onDismiss:t[0]||(t[0]=e=>o.successMessage=null)},null,8,["message"])):(0,i.Q3)("",!0),o.errorMessage?((0,i.uX)(),(0,i.Wv)(d,{key:1,type:"error",message:o.errorMessage,class:"mb-6",onDismiss:t[1]||(t[1]=e=>o.errorMessage=null)},null,8,["message"])):(0,i.Q3)("",!0),(0,i.Lk)("div",Ox,[(0,i.Lk)("div",Jx,[(0,i.Lk)("div",Kx,[(0,i.Lk)("div",Yx,[t[23]||(t[23]=(0,i.Lk)("label",{class:"block text-sm font-medium text-neutral-700 mb-2"},"Search",-1)),(0,i.bo)((0,i.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>o.searchQuery=e),type:"text",placeholder:"Search by name or email...",class:"input w-full",onInput:t[3]||(t[3]=(...e)=>r.debouncedSearch&&r.debouncedSearch(...e))},null,544),[[s.Jo,o.searchQuery]])]),(0,i.Lk)("div",null,[t[25]||(t[25]=(0,i.Lk)("label",{class:"block text-sm font-medium text-neutral-700 mb-2"},"Status",-1)),(0,i.bo)((0,i.Lk)("select",{"onUpdate:modelValue":t[4]||(t[4]=e=>o.statusFilter=e),onChange:t[5]||(t[5]=(...e)=>r.applyFilters&&r.applyFilters(...e)),class:"select bg-white rounded-md hover:bg-gray-100 hover:cursor-pointer hover:transition hover:ease-in-out hover:duration-300 p-5 w-full"},[...t[24]||(t[24]=[(0,i.Lk)("option",{value:"all"},"All Status",-1),(0,i.Lk)("option",{value:"active"},"Active",-1),(0,i.Lk)("option",{value:"inactive"},"Inactive",-1)])],544),[[s.u1,o.statusFilter]])]),(0,i.Lk)("div",null,[t[27]||(t[27]=(0,i.Lk)("label",{class:"block text-sm font-medium text-neutral-700 mb-2"},"Verification",-1)),(0,i.bo)((0,i.Lk)("select",{"onUpdate:modelValue":t[6]||(t[6]=e=>o.verifiedFilter=e),onChange:t[7]||(t[7]=(...e)=>r.applyFilters&&r.applyFilters(...e)),class:"select bg-white rounded-md hover:bg-gray-100 hover:cursor-pointer hover:transition hover:ease-in-out hover:duration-300 p-5 w-full"},[...t[26]||(t[26]=[(0,i.Lk)("option",{value:"all"},"All",-1),(0,i.Lk)("option",{value:"verified"},"Verified",-1),(0,i.Lk)("option",{value:"unverified"},"Unverified",-1)])],544),[[s.u1,o.verifiedFilter]])])]),(0,i.Lk)("div",Gx,[(0,i.Lk)("button",{type:"button",onClick:t[8]||(t[8]=(...e)=>r.clearFilters&&r.clearFilters(...e)),class:"text-sm text-neutral-600 hover:text-neutral-900"}," Clear Filters ")])])]),(0,i.Lk)("div",Zx,[(0,i.Lk)("div",ey,[o.loading?((0,i.uX)(),(0,i.CE)("div",ty,[...t[28]||(t[28]=[(0,i.Lk)("div",{class:"inline-block animate-spin"},[(0,i.Lk)("svg",{class:"w-8 h-8 text-primary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})])],-1)])])):0===r.technicians.length?((0,i.uX)(),(0,i.CE)("div",ay,[...t[29]||(t[29]=[(0,i.Lk)("svg",{class:"w-12 h-12 mx-auto text-neutral-300 mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})],-1),(0,i.Lk)("p",null,"No technicians found",-1)])])):((0,i.uX)(),(0,i.CE)("div",sy,[(0,i.Lk)("table",iy,[t[36]||(t[36]=(0,i.Lk)("thead",{class:"bg-neutral-50 border-b border-neutral-200"},[(0,i.Lk)("tr",null,[(0,i.Lk)("th",{class:"px-4 py-3 text-left text-sm font-semibold text-neutral-700"}," Technician"),(0,i.Lk)("th",{class:"px-4 py-3 text-left text-sm font-semibold text-neutral-700"},"Contact "),(0,i.Lk)("th",{class:"px-4 py-3 text-left text-sm font-semibold text-neutral-700"},"Rating "),(0,i.Lk)("th",{class:"px-4 py-3 text-left text-sm font-semibold text-neutral-700"},"Jobs"),(0,i.Lk)("th",{class:"px-4 py-3 text-left text-sm font-semibold text-neutral-700"},"Status "),(0,i.Lk)("th",{class:"px-4 py-3 text-left text-sm font-semibold text-neutral-700"},"Verified "),(0,i.Lk)("th",{class:"px-4 py-3 text-left text-sm font-semibold text-neutral-700"},"Actions ")])],-1)),(0,i.Lk)("tbody",ny,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(r.technicians,e=>((0,i.uX)(),(0,i.CE)("tr",{key:e.Technician_ID,class:"hover:bg-neutral-50"},[(0,i.Lk)("td",oy,[(0,i.Lk)("div",ry,[(0,i.Lk)("span",ly,(0,l.v_)(r.getTechnicianInitials(e)),1),(0,i.Lk)("div",null,[(0,i.Lk)("p",cy,(0,l.v_)(e.First_Name)+" "+(0,l.v_)(e.Last_Name),1),(0,i.Lk)("p",dy,"ID: "+(0,l.v_)(e.Technician_ID),1)])])]),(0,i.Lk)("td",uy,[(0,i.Lk)("p",my,(0,l.v_)(e.Email),1),(0,i.Lk)("p",py,(0,l.v_)(e.Phone),1)]),(0,i.Lk)("td",hy,[(0,i.Lk)("div",ky,[t[30]||(t[30]=(0,i.Lk)("svg",{class:"w-4 h-4 text-warning-500",fill:"currentColor",viewBox:"0 0 20 20"},[(0,i.Lk)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})],-1)),(0,i.Lk)("span",gy,(0,l.v_)(r.formatRating(e.Average_Rating)),1)])]),(0,i.Lk)("td",vy,[(0,i.Lk)("p",by,(0,l.v_)(e.Total_Bookings||0),1),(0,i.Lk)("p",fy,(0,l.v_)(e.Completed_Bookings||0)+" completed",1)]),(0,i.Lk)("td",xy,[(0,i.Lk)("span",{class:(0,l.C4)(["badge",e.isActive?"badge-success":"badge-error"])},(0,l.v_)(e.isActive?"Active":"Inactive"),3)]),(0,i.Lk)("td",yy,[(0,i.Lk)("span",{class:(0,l.C4)(["badge",e.Verified?"badge-primary":"badge-warning"])},(0,l.v_)(e.Verified?"Verified":"Pending"),3)]),(0,i.Lk)("td",Ly,[(0,i.Lk)("div",wy,[(0,i.Lk)("button",{type:"button",onClick:t=>r.viewDetails(e.Technician_ID),class:"btn btn-secondary btn-sm",title:"View Details"},[...t[31]||(t[31]=[(0,i.Lk)("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)])],8,Cy),e.Verified?((0,i.uX)(),(0,i.CE)("button",{key:1,type:"button",onClick:t=>r.handleRevokeVerification(e.Technician_ID),class:"btn btn-warning btn-sm",disabled:o.actionLoading,title:"Revoke Verification"},[...t[33]||(t[33]=[(0,i.Lk)("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"})],-1)])],8,My)):((0,i.uX)(),(0,i.CE)("button",{key:0,type:"button",onClick:t=>r.handleVerify(e.Technician_ID),class:"btn btn-success btn-sm",disabled:o.actionLoading,title:"Verify Technician"},[...t[32]||(t[32]=[(0,i.Lk)("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)])],8,Ay)),e.isActive?((0,i.uX)(),(0,i.CE)("button",{key:3,type:"button",onClick:t=>r.handleDeactivate(e.Technician_ID),class:"btn btn-error btn-sm",disabled:o.actionLoading,title:"Deactivate Account"},[...t[35]||(t[35]=[(0,i.Lk)("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,_y)):((0,i.uX)(),(0,i.CE)("button",{key:2,type:"button",onClick:t=>r.handleActivate(e.Technician_ID),class:"btn btn-primary btn-sm",disabled:o.actionLoading,title:"Activate Account"},[...t[34]||(t[34]=[(0,i.Lk)("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)])],8,Ty))])])]))),128))])])])),r.pagination.pages>1?((0,i.uX)(),(0,i.CE)("div",By,[(0,i.Lk)("div",Sy," Showing "+(0,l.v_)((r.pagination.page-1)*r.pagination.limit+1)+" - "+(0,l.v_)(Math.min(r.pagination.page*r.pagination.limit,r.pagination.total))+" of "+(0,l.v_)(r.pagination.total)+" technicians ",1),(0,i.Lk)("div",Fy,[(0,i.Lk)("button",{type:"button",onClick:t[9]||(t[9]=e=>r.changePage(r.pagination.page-1)),disabled:1===r.pagination.page,class:"btn btn-secondary btn-sm"}," Previous ",8,Ey),(0,i.Lk)("button",{type:"button",onClick:t[10]||(t[10]=e=>r.changePage(r.pagination.page+1)),disabled:r.pagination.page>=r.pagination.pages,class:"btn btn-secondary btn-sm"}," Next ",8,Dy)])])):(0,i.Q3)("",!0)])])])]),o.showDeactivateModal?((0,i.uX)(),(0,i.Wv)(u,{key:0,onClose:t[13]||(t[13]=e=>o.showDeactivateModal=!1),title:"Deactivate Technician"},{default:(0,i.k6)(()=>[(0,i.Lk)("div",Py,[t[38]||(t[38]=(0,i.Lk)("p",{class:"text-neutral-700 mb-4"}," Are you sure you want to deactivate this technician? They will not be able to accept new bookings. ",-1)),(0,i.Lk)("div",Xy,[(0,i.Lk)("button",{type:"button",onClick:t[11]||(t[11]=e=>o.showDeactivateModal=!1),class:"btn btn-secondary"}," Cancel "),(0,i.Lk)("button",{type:"button",onClick:t[12]||(t[12]=(...e)=>r.confirmDeactivate&&r.confirmDeactivate(...e)),class:"btn btn-error",disabled:o.actionLoading},(0,l.v_)(o.actionLoading?"Deactivating...":"Deactivate"),9,Ny)])])]),_:1})):(0,i.Q3)("",!0),o.showActivateModal?((0,i.uX)(),(0,i.Wv)(u,{key:1,onClose:t[16]||(t[16]=e=>o.showActivateModal=!1),title:"Activate Technician"},{default:(0,i.k6)(()=>[(0,i.Lk)("div",Vy,[t[39]||(t[39]=(0,i.Lk)("p",{class:"text-neutral-700 mb-4"}," Are you sure you want to activate this technician? They will be able to accept bookings again. ",-1)),(0,i.Lk)("div",jy,[(0,i.Lk)("button",{type:"button",onClick:t[14]||(t[14]=e=>o.showActivateModal=!1),class:"btn btn-secondary"}," Cancel "),(0,i.Lk)("button",{type:"button",onClick:t[15]||(t[15]=(...e)=>r.confirmActivate&&r.confirmActivate(...e)),class:"btn btn-primary",disabled:o.actionLoading},(0,l.v_)(o.actionLoading?"Activating...":"Activate"),9,Ry)])])]),_:1})):(0,i.Q3)("",!0),o.showVerifyModal?((0,i.uX)(),(0,i.Wv)(u,{key:2,onClose:t[19]||(t[19]=e=>o.showVerifyModal=!1),title:"Verify Technician"},{default:(0,i.k6)(()=>[(0,i.Lk)("div",Iy,[t[40]||(t[40]=(0,i.Lk)("p",{class:"text-neutral-700 mb-4"}," Are you sure you want to verify this technician? This will approve them to accept bookings. ",-1)),(0,i.Lk)("div",Uy,[(0,i.Lk)("button",{type:"button",onClick:t[17]||(t[17]=e=>o.showVerifyModal=!1),class:"btn btn-secondary"}," Cancel "),(0,i.Lk)("button",{type:"button",onClick:t[18]||(t[18]=(...e)=>r.confirmVerify&&r.confirmVerify(...e)),class:"btn btn-success",disabled:o.actionLoading},(0,l.v_)(o.actionLoading?"Verifying...":"Verify"),9,$y)])])]),_:1})):(0,i.Q3)("",!0),o.showRevokeModal?((0,i.uX)(),(0,i.Wv)(u,{key:3,onClose:t[22]||(t[22]=e=>o.showRevokeModal=!1),title:"Revoke Verification"},{default:(0,i.k6)(()=>[(0,i.Lk)("div",zy,[t[41]||(t[41]=(0,i.Lk)("p",{class:"text-neutral-700 mb-4"}," Are you sure you want to revoke verification for this technician? They may need to be re-verified later. ",-1)),(0,i.Lk)("div",Wy,[(0,i.Lk)("button",{type:"button",onClick:t[20]||(t[20]=e=>o.showRevokeModal=!1),class:"btn btn-secondary"}," Cancel "),(0,i.Lk)("button",{type:"button",onClick:t[21]||(t[21]=(...e)=>r.confirmRevokeVerification&&r.confirmRevokeVerification(...e)),class:"btn btn-warning",disabled:o.actionLoading},(0,l.v_)(o.actionLoading?"Revoking...":"Revoke"),9,Qy)])])]),_:1})):(0,i.Q3)("",!0)])}var Hy={name:"AdminTechniciansView",components:{AdminSidebar:kv,AlertMessage:xt,BaseModal:Un},data(){return{adminStore:lv(),loading:!1,actionLoading:!1,successMessage:null,errorMessage:null,searchQuery:"",statusFilter:"all",verifiedFilter:"all",currentPage:1,showDeactivateModal:!1,showActivateModal:!1,showVerifyModal:!1,showRevokeModal:!1,selectedTechnicianId:null,searchTimeout:null}},computed:{technicians(){return this.adminStore.allTechnicians},pagination(){return this.adminStore.techniciansPagination}},async mounted(){this.resetModals(),await this.fetchTechnicians()},watch:{$route(){this.resetModals()}},methods:{resetModals(){this.showDeactivateModal=!1,this.showActivateModal=!1,this.showVerifyModal=!1,this.showRevokeModal=!1,this.selectedTechnicianId=null},async fetchTechnicians(){this.loading=!0,this.errorMessage=null;try{await this.adminStore.fetchAllTechnicians({status:this.statusFilter,verified:this.verifiedFilter,search:this.searchQuery,page:this.currentPage,limit:20})}catch(e){this.errorMessage=e.response?.data?.message||"Failed to fetch technicians"}finally{this.loading=!1}},debouncedSearch(){clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.currentPage=1,this.fetchTechnicians()},500)},applyFilters(){this.currentPage=1,this.fetchTechnicians()},clearFilters(){this.searchQuery="",this.statusFilter="all",this.verifiedFilter="all",this.currentPage=1,this.fetchTechnicians()},changePage(e){this.currentPage=e,this.fetchTechnicians(),window.scrollTo({top:0,behavior:"smooth"})},getTechnicianInitials(e){return`${e.First_Name[0]}${e.Last_Name[0]}`.toUpperCase()},formatRating(e){return parseFloat(e||0).toFixed(1)},viewDetails(e){this.$router.push({name:"AdminTechnicianDetails",params:{id:e}})},handleDeactivate(e){this.selectedTechnicianId=e,this.showDeactivateModal=!0},async confirmDeactivate(){this.actionLoading=!0,this.errorMessage=null,this.successMessage=null;try{await this.adminStore.deactivateTechnician(this.selectedTechnicianId),this.showDeactivateModal=!1,this.successMessage="Technician deactivated successfully",setTimeout(()=>{this.successMessage=null},3e3)}catch(e){this.errorMessage=e.response?.data?.message||"Failed to deactivate technician",this.showDeactivateModal=!1}finally{this.actionLoading=!1}},handleActivate(e){this.selectedTechnicianId=e,this.showActivateModal=!0},async confirmActivate(){this.actionLoading=!0,this.errorMessage=null,this.successMessage=null;try{await this.adminStore.activateTechnician(this.selectedTechnicianId),this.showActivateModal=!1,this.successMessage="Technician activated successfully",setTimeout(()=>{this.successMessage=null},3e3)}catch(e){this.errorMessage=e.response?.data?.message||"Failed to activate technician",this.showActivateModal=!1}finally{this.actionLoading=!1}},handleVerify(e){this.selectedTechnicianId=e,this.showVerifyModal=!0},async confirmVerify(){this.actionLoading=!0,this.errorMessage=null,this.successMessage=null;try{await this.adminStore.verifyTechnicianFromList(this.selectedTechnicianId),this.showVerifyModal=!1,this.successMessage="Technician verified successfully",setTimeout(()=>{this.successMessage=null},3e3)}catch(e){this.errorMessage=e.response?.data?.message||"Failed to verify technician",this.showVerifyModal=!1}finally{this.actionLoading=!1}},handleRevokeVerification(e){this.selectedTechnicianId=e,this.showRevokeModal=!0},async confirmRevokeVerification(){this.actionLoading=!0,this.errorMessage=null,this.successMessage=null;try{await this.adminStore.revokeVerificationFromList(this.selectedTechnicianId),this.showRevokeModal=!1,this.successMessage="Verification revoked successfully",setTimeout(()=>{this.successMessage=null},3e3)}catch(e){this.errorMessage=e.response?.data?.message||"Failed to revoke verification",this.showRevokeModal=!1}finally{this.actionLoading=!1}}}};const Oy=(0,P.A)(Hy,[["render",qy]]);var Jy=Oy;const Ky={class:"min-h-screen flex overflow-x-hidden"},Yy={class:"flex-1 lg:ml-64 bg-neutral-50 min-h-screen w-full overflow-x-hidden"},Gy={class:"bg-white border-b border-neutral-100 px-4 sm:px-6 py-4 sticky top-0 z-10"},Zy={class:"flex items-center justify-between"},eL={class:"p-4 sm:p-6"},tL={key:0,class:"flex justify-center items-center py-12"},aL={key:1,class:"alert alert-error"},sL={key:2,class:"space-y-6"},iL={class:"card"},nL={class:"card-body"},oL={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},rL={class:"text-2xl font-bold text-neutral-900"},lL={class:"flex flex-wrap gap-2 mt-2"},cL={class:"px-3 py-1 rounded-full text-sm font-medium bg-purple-100 text-purple-800"},dL={class:"flex flex-wrap gap-2"},uL=["disabled"],mL=["disabled"],pL=["disabled"],hL=["disabled"],kL={class:"card"},gL={class:"card-body"},vL={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},bL={class:"text-neutral-900 mt-1"},fL={class:"text-neutral-900 mt-1"},xL={class:"text-neutral-900 mt-1"},yL={class:"text-neutral-900 mt-1"},LL={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4"},wL={class:"card"},CL={class:"card-body text-center"},AL={class:"text-3xl font-bold text-primary-600"},ML={class:"card"},TL={class:"card-body text-center"},_L={class:"text-3xl font-bold text-green-600"},BL={class:"card"},SL={class:"card-body text-center"},FL={class:"text-3xl font-bold text-blue-600"},EL={class:"card"},DL={class:"card-body text-center"},PL={class:"text-3xl font-bold text-purple-600"},XL={class:"card"},NL={class:"card-body"},VL={class:"space-y-4"},jL={class:"flex justify-between mb-2"},RL={class:"text-sm font-bold text-neutral-900"},IL={class:"w-full bg-neutral-200 rounded-full h-3"},UL={key:0,class:"alert alert-success"},$L={key:1,class:"alert alert-error"},zL={class:"space-y-4 p-4"},WL={class:"text-neutral-700"},QL={class:"flex justify-end gap-3 mt-6"},qL=["disabled"];function HL(e,t,a,s,n,o){const r=(0,i.g2)("AdminSidebar"),c=(0,i.g2)("BaseModal");return(0,i.uX)(),(0,i.CE)("div",Ky,[(0,i.bF)(r),(0,i.Lk)("main",Yy,[(0,i.Lk)("header",Gy,[(0,i.Lk)("div",Zy,[t[8]||(t[8]=(0,i.Lk)("div",{class:"ml-14 lg:ml-0"},[(0,i.Lk)("h1",{class:"text-xl font-semibold text-neutral-900"},"Technician Details"),(0,i.Lk)("p",{class:"text-sm text-neutral-500"},"View and manage technician information")],-1)),(0,i.Lk)("button",{onClick:t[0]||(t[0]=t=>e.$router.back()),class:"btn btn-secondary"}," ← Back ")])]),(0,i.Lk)("div",eL,[n.loading?((0,i.uX)(),(0,i.CE)("div",tL,[...t[9]||(t[9]=[(0,i.Lk)("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"},null,-1)])])):n.error?((0,i.uX)(),(0,i.CE)("div",aL,(0,l.v_)(n.error),1)):n.technician?((0,i.uX)(),(0,i.CE)("div",sL,[(0,i.Lk)("div",iL,[(0,i.Lk)("div",nL,[(0,i.Lk)("div",oL,[(0,i.Lk)("div",null,[(0,i.Lk)("h2",rL,(0,l.v_)(n.technician.First_Name)+" "+(0,l.v_)(n.technician.Last_Name),1),(0,i.Lk)("div",lL,[(0,i.Lk)("span",{class:(0,l.C4)(["px-3 py-1 rounded-full text-sm font-medium",n.technician.Verified?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"])},(0,l.v_)(n.technician.Verified?"✓ Verified":"⚠ Not Verified"),3),(0,i.Lk)("span",{class:(0,l.C4)(["px-3 py-1 rounded-full text-sm font-medium",n.technician.isActive?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"])},(0,l.v_)(n.technician.isActive?"Active":"Deactivated"),3),(0,i.Lk)("span",cL," ⭐ "+(0,l.v_)(n.technician.Average_Rating?n.technician.Average_Rating.toFixed(2):"0.00")+"/5 ",1)])]),(0,i.Lk)("div",dL,[n.technician.Verified?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("button",{key:0,onClick:t[1]||(t[1]=(...e)=>o.verifyTechnician&&o.verifyTechnician(...e)),disabled:n.actionLoading,class:"btn btn-success"},(0,l.v_)(n.actionLoading?"Processing...":"✓ Verify"),9,uL)),n.technician.Verified?((0,i.uX)(),(0,i.CE)("button",{key:1,onClick:t[2]||(t[2]=(...e)=>o.revokeVerification&&o.revokeVerification(...e)),disabled:n.actionLoading,class:"btn btn-warning"},(0,l.v_)(n.actionLoading?"Processing...":"⚠ Revoke Verification"),9,mL)):(0,i.Q3)("",!0),n.technician.isActive?((0,i.uX)(),(0,i.CE)("button",{key:2,onClick:t[3]||(t[3]=e=>n.showDeactivateModal=!0),disabled:n.actionLoading,class:"btn btn-danger"}," 🚫 Deactivate Account ",8,pL)):((0,i.uX)(),(0,i.CE)("button",{key:3,onClick:t[4]||(t[4]=(...e)=>o.activateAccount&&o.activateAccount(...e)),disabled:n.actionLoading,class:"btn btn-primary"},(0,l.v_)(n.actionLoading?"Activating...":"✓ Activate Account"),9,hL))])])])]),(0,i.Lk)("div",kL,[t[14]||(t[14]=(0,i.Lk)("div",{class:"card-header"},[(0,i.Lk)("h3",{class:"card-title"},"Contact Information")],-1)),(0,i.Lk)("div",gL,[(0,i.Lk)("div",vL,[(0,i.Lk)("div",null,[t[10]||(t[10]=(0,i.Lk)("label",{class:"text-sm font-medium text-neutral-600"},"Email",-1)),(0,i.Lk)("p",bL,(0,l.v_)(n.technician.Email),1)]),(0,i.Lk)("div",null,[t[11]||(t[11]=(0,i.Lk)("label",{class:"text-sm font-medium text-neutral-600"},"Phone",-1)),(0,i.Lk)("p",fL,(0,l.v_)(n.technician.Phone),1)]),(0,i.Lk)("div",null,[t[12]||(t[12]=(0,i.Lk)("label",{class:"text-sm font-medium text-neutral-600"},"Registration Date",-1)),(0,i.Lk)("p",xL,(0,l.v_)(o.formatDate(n.technician.createdAt)),1)]),(0,i.Lk)("div",null,[t[13]||(t[13]=(0,i.Lk)("label",{class:"text-sm font-medium text-neutral-600"},"Technician ID",-1)),(0,i.Lk)("p",yL,"#"+(0,l.v_)(n.technician.Technician_ID),1)])])])]),(0,i.Lk)("div",LL,[(0,i.Lk)("div",wL,[(0,i.Lk)("div",CL,[(0,i.Lk)("div",AL,(0,l.v_)(n.technician.Total_Jobs||0),1),t[15]||(t[15]=(0,i.Lk)("div",{class:"text-sm text-neutral-600 mt-1"},"Total Jobs",-1))])]),(0,i.Lk)("div",ML,[(0,i.Lk)("div",TL,[(0,i.Lk)("div",_L,(0,l.v_)(n.technician.Completed_Bookings||0),1),t[16]||(t[16]=(0,i.Lk)("div",{class:"text-sm text-neutral-600 mt-1"},"Completed Bookings",-1))])]),(0,i.Lk)("div",BL,[(0,i.Lk)("div",SL,[(0,i.Lk)("div",FL,(0,l.v_)(n.technician.Specialties_Count||0),1),t[17]||(t[17]=(0,i.Lk)("div",{class:"text-sm text-neutral-600 mt-1"},"Specialties",-1))])]),(0,i.Lk)("div",EL,[(0,i.Lk)("div",DL,[(0,i.Lk)("div",PL,(0,l.v_)(n.technician.Service_Areas_Count||0),1),t[18]||(t[18]=(0,i.Lk)("div",{class:"text-sm text-neutral-600 mt-1"},"Service Areas",-1))])])]),(0,i.Lk)("div",XL,[t[20]||(t[20]=(0,i.Lk)("div",{class:"card-header"},[(0,i.Lk)("h3",{class:"card-title"},"Performance Metrics")],-1)),(0,i.Lk)("div",NL,[(0,i.Lk)("div",VL,[(0,i.Lk)("div",null,[(0,i.Lk)("div",jL,[t[19]||(t[19]=(0,i.Lk)("span",{class:"text-sm font-medium text-neutral-600"},"Average Rating",-1)),(0,i.Lk)("span",RL,(0,l.v_)(n.technician.Average_Rating?n.technician.Average_Rating.toFixed(2):"0.00")+"/5.00 ",1)]),(0,i.Lk)("div",IL,[(0,i.Lk)("div",{class:(0,l.C4)(["h-3 rounded-full transition-all",o.getRatingColor(n.technician.Average_Rating)]),style:(0,l.Tr)({width:20*(n.technician.Average_Rating||0)+"%"})},null,6)])])])])]),n.successMessage?((0,i.uX)(),(0,i.CE)("div",UL,(0,l.v_)(n.successMessage),1)):(0,i.Q3)("",!0),n.actionError?((0,i.uX)(),(0,i.CE)("div",$L,(0,l.v_)(n.actionError),1)):(0,i.Q3)("",!0)])):(0,i.Q3)("",!0)])]),n.showDeactivateModal?((0,i.uX)(),(0,i.Wv)(c,{key:0,onClose:t[7]||(t[7]=e=>n.showDeactivateModal=!1),title:"Deactivate Technician Account"},{default:(0,i.k6)(()=>[(0,i.Lk)("div",zL,[(0,i.Lk)("p",WL,[t[21]||(t[21]=(0,i.eW)(" Are you sure you want to deactivate ",-1)),(0,i.Lk)("strong",null,(0,l.v_)(n.technician?.First_Name)+" "+(0,l.v_)(n.technician?.Last_Name),1),t[22]||(t[22]=(0,i.eW)("'s account? ",-1))]),t[23]||(t[23]=(0,i.Lk)("div",{class:"bg-yellow-50 border border-yellow-200 rounded-lg p-4"},[(0,i.Lk)("p",{class:"text-sm text-yellow-800"}," ⚠ This will prevent the technician from: "),(0,i.Lk)("ul",{class:"list-disc list-inside text-sm text-yellow-800 mt-2 space-y-1"},[(0,i.Lk)("li",null,"Logging into their account"),(0,i.Lk)("li",null,"Accepting new bookings"),(0,i.Lk)("li",null,"Accessing their dashboard")])],-1)),(0,i.Lk)("div",QL,[(0,i.Lk)("button",{onClick:t[5]||(t[5]=e=>n.showDeactivateModal=!1),class:"btn btn-secondary"}," Cancel "),(0,i.Lk)("button",{onClick:t[6]||(t[6]=(...e)=>o.confirmDeactivateAccount&&o.confirmDeactivateAccount(...e)),disabled:n.actionLoading,class:"btn btn-danger"},(0,l.v_)(n.actionLoading?"Deactivating...":"Deactivate Account"),9,qL)])])]),_:1})):(0,i.Q3)("",!0)])}var OL={name:"AdminTechnicianDetailsView",components:{AdminSidebar:kv,BaseModal:Un},data(){return{technician:null,loading:!1,error:null,actionLoading:!1,actionError:null,successMessage:null,showDeactivateModal:!1,showActivateModal:!1}},computed:{technicianId(){return this.$route.params.id}},async mounted(){await this.fetchTechnicianDetails()},methods:{async fetchTechnicianDetails(){this.loading=!0,this.error=null;try{const{data:e}=await S.getTechnicianDetails(this.technicianId);this.technician=e.data}catch(e){this.error=e.response?.data?.message||"Failed to load technician details"}finally{this.loading=!1}},async verifyTechnician(){this.actionLoading=!0,this.actionError=null,this.successMessage=null;try{await S.verifyTechnician(this.technicianId),this.successMessage="Technician verified successfully!",await this.fetchTechnicianDetails(),setTimeout(()=>{this.successMessage=null},3e3)}catch(e){this.actionError=e.response?.data?.message||"Failed to verify technician"}finally{this.actionLoading=!1}},async revokeVerification(){this.actionLoading=!0,this.actionError=null,this.successMessage=null;try{await S.revokeVerification(this.technicianId),this.successMessage="Verification revoked successfully!",await this.fetchTechnicianDetails(),setTimeout(()=>{this.successMessage=null},3e3)}catch(e){this.actionError=e.response?.data?.message||"Failed to revoke verification"}finally{this.actionLoading=!1}},async confirmDeactivateAccount(){this.actionLoading=!0,this.actionError=null,this.successMessage=null;try{await S.deactivateTechnician(this.technicianId),this.showDeactivateModal=!1,this.successMessage="Account deactivated successfully!",await this.fetchTechnicianDetails(),setTimeout(()=>{this.successMessage=null},3e3)}catch(e){this.actionError=e.response?.data?.message||"Failed to deactivate account",this.showDeactivateModal=!1}finally{this.actionLoading=!1}},async activateAccount(){this.actionLoading=!0,this.actionError=null,this.successMessage=null;try{await S.activateTechnician(this.technicianId),this.showActivateModal=!1,this.successMessage="Account activated successfully!",await this.fetchTechnicianDetails(),setTimeout(()=>{this.successMessage=null},3e3)}catch(e){this.actionError=e.response?.data?.message||"Failed to activate account",this.showActivateModal=!1}finally{this.actionLoading=!1}},formatDate(e){return e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A"},getRatingColor(e){return e&&0!==e?e<2?"bg-red-500":e<3?"bg-orange-500":e<4?"bg-yellow-500":"bg-green-500":"bg-neutral-400"}}};const JL=(0,P.A)(OL,[["render",HL]]);var KL=JL;let YL=!1;const GL=[{path:"/",name:"Home",component:_e,meta:{title:"FixAppliance - Trusted Appliance Repair in Lebanon",description:"Book verified technicians. Serving homeowners across Mount Lebanon."}},{path:"/about",name:"About",component:$e,meta:{title:"About Us - FixAppliance",description:"Learn about FixAppliance, Lebanon's premier platform for appliance repairs, connecting homeowners with verified technicians."}},{path:"/contact",name:"Contact",component:wt,meta:{title:"Contact Us - FixAppliance",description:"Get in touch with FixAppliance for questions about bookings, technician inquiries, or partnerships."}},{path:"/login",name:"Login",component:zt,meta:{title:"Login - FixAppliance",description:"Sign in to your FixAppliance account to manage bookings and access your dashboard."}},{path:"/register",name:"Register",component:Ma,meta:{title:"Create Account - FixAppliance",description:"Join FixAppliance to book verified technicians."}},{path:"/dashboard",name:"UserDashboard",component:to,meta:{title:"Dashboard - FixAppliance",description:"View your booking overview, manage payments, and access quick actions.",requiresAuth:!0}},{path:"/book-technician",name:"BookTechnician",component:kr,meta:{title:"Book a Technician - FixAppliance",description:"Book a verified appliance repair technician in your area. Quick, easy, and reliable service."}},{path:"/my-bookings",name:"MyBookings",component:Vl,meta:{title:"My Bookings - FixAppliance",description:"View and manage your appliance repair bookings.",requiresAuth:!0}},{path:"/booking/:id",name:"BookingDetail",component:Nd,meta:{title:"Booking Details - FixAppliance",requiresAuth:!0}},{path:"/profile",name:"UserProfile",component:Ec,meta:{title:"My Profile - FixAppliance",requiresAuth:!0}},{path:"/technician-login",name:"TechnicianLogin",component:Qa,meta:{title:"Technician Login - FixAppliance",description:"Sign in to the FixAppliance technician portal to manage your bookings and profile."}},{path:"/technician-register",name:"TechnicianRegister",component:ys,meta:{title:"Become a Technician - FixAppliance",description:"Join the FixAppliance technician network and connect with customers who need your expertise."}},{path:"/technician-dashboard",name:"TechnicianDashboard",component:nm,meta:{title:"Technician Dashboard - FixAppliance",description:"Manage your bookings, earnings, and profile from the technician dashboard.",requiresTechnicianAuth:!0}},{path:"/technician/profile",name:"TechnicianProfile",component:Qm,meta:{title:"Technician Profile - FixAppliance",requiresTechnicianAuth:!0}},{path:"/technician/pending-bookings",name:"TechnicianPendingBookings",component:hp,meta:{title:"Pending Bookings - FixAppliance",requiresTechnicianAuth:!0}},{path:"/technician/active-bookings",name:"TechnicianActiveBookings",component:sh,meta:{title:"Active Bookings - FixAppliance",requiresTechnicianAuth:!0}},{path:"/technician/completed-bookings",name:"TechnicianCompletedBookings",component:Wh,meta:{title:"Completed Bookings - FixAppliance",requiresTechnicianAuth:!0}},{path:"/technician/earnings",name:"TechnicianEarnings",component:wk,meta:{title:"My Earnings - FixAppliance",requiresTechnicianAuth:!0}},{path:"/technician/specialties",name:"TechnicianSpecialties",component:Wk,meta:{title:"My Specialties - FixAppliance",requiresTechnicianAuth:!0}},{path:"/technician/service-areas",name:"TechnicianServiceAreas",component:cg,meta:{title:"Service Areas - FixAppliance",requiresTechnicianAuth:!0}},{path:"/admin-login",name:"AdminLogin",component:Is,meta:{title:"Admin Login - FixAppliance",description:"Sign in to the FixAppliance admin portal to manage the platform."}},{path:"/admin/dashboard",name:"AdminDashboard",component:bv,meta:{title:"Admin Dashboard - FixAppliance",description:"Admin platform overview and key metrics.",requiresAdminAuth:!0}},{path:"/admin/appliances",name:"AdminAppliances",component:Vv,meta:{title:"Appliance Management - FixAppliance",requiresAdminAuth:!0}},{path:"/admin/bookings/unpaid",name:"AdminUnpaidBookings",component:bb,meta:{title:"Unpaid Bookings - FixAppliance",requiresAdminAuth:!0}},{path:"/admin/bookings/incomplete",name:"AdminIncompleteBookings",component:ef,meta:{title:"Incomplete Bookings - FixAppliance",requiresAdminAuth:!0}},{path:"/admin/bookings/overdue",name:"AdminOverdueBookings",component:jf,meta:{title:"Overdue Bookings - FixAppliance",requiresAdminAuth:!0}},{path:"/admin/technicians/verification",name:"AdminVerification",component:nx,meta:{title:"Technician Verification - FixAppliance",requiresAdminAuth:!0}},{path:"/admin/technicians/performance",name:"AdminPerformance",component:Wx,meta:{title:"Technician Performance - FixAppliance",requiresAdminAuth:!0}},{path:"/admin/technicians",name:"AdminTechnicians",component:Jy,meta:{title:"Manage Technicians - FixAppliance",requiresAdminAuth:!0}},{path:"/admin/technicians/:id",name:"AdminTechnicianDetails",component:KL,meta:{title:"Technician Details - FixAppliance",requiresAdminAuth:!0}},{path:"/:pathMatch(.*)*",name:"NotFound",component:()=>a.e(351).then(a.bind(a,351)),meta:{title:"Page Not Found - FixAppliance"}}],ZL=(0,G.aE)({history:(0,G.LA)("/"),routes:GL,scrollBehavior(){document.getElementById("app").scrollIntoView({behavior:"smooth"})}});ZL.beforeEach(async(e,t,s)=>{const i=F(),n=E(),o=O();if(!YL){const{getAuthInitPromise:e}=await Promise.resolve().then(a.bind(a,63)),t=e();t&&await t,YL=!0}if(e.meta.requiresAuth&&!i.isAuthenticated)return s({path:"/login",query:{redirect:e.fullPath}});if(e.meta.requiresTechnicianAuth&&!n.isAuthenticated)return s({path:"/technician-login",query:{redirect:e.fullPath}});if(e.meta.requiresAdminAuth&&!o.isAuthenticated)return s({path:"/admin-login",query:{redirect:e.fullPath}});if(("/login"===e.path||"/register"===e.path)&&i.isAuthenticated)return s("/dashboard");if(("/technician-login"===e.path||"/technician-register"===e.path)&&n.isAuthenticated)return s("/technician-dashboard");if("/admin-login"===e.path&&o.isAuthenticated)return s("/admin/dashboard");document.title=e.meta.title||"FixAppliance";const r=e.meta.description||"FixAppliance - Trusted Appliance Repair in Lebanon";let l=document.querySelector('meta[name="description"]');l?l.setAttribute("content",r):(l=document.createElement("meta"),l.setAttribute("name","description"),l.setAttribute("content",r),document.head.appendChild(l)),s()});var ew=ZL;const tw=(0,x.Ey)();var aw=tw;const sw=(0,s.Ef)(Y);sw.use(aw),sw.use(ew);let iw=null;const nw=()=>iw,ow=async()=>{const e=F(),t=E();iw=Promise.all([e.fetchProfile().catch(()=>{}),t.fetchProfile().catch(()=>{})]),await iw,sw.mount("#app")};ow()}},t={};function a(s){var i=t[s];if(void 0!==i)return i.exports;var n=t[s]={exports:{}};return e[s].call(n.exports,n,n.exports,a),n.exports}a.m=e,function(){var e=[];a.O=function(t,s,i,n){if(!s){var o=1/0;for(d=0;d<e.length;d++){s=e[d][0],i=e[d][1],n=e[d][2];for(var r=!0,l=0;l<s.length;l++)(!1&n||o>=n)&&Object.keys(a.O).every(function(e){return a.O[e](s[l])})?s.splice(l--,1):(r=!1,n<o&&(o=n));if(r){e.splice(d--,1);var c=i();void 0!==c&&(t=c)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[s,i,n]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce(function(t,s){return a.f[s](e,t),t},[]))}}(),function(){a.u=function(e){return"js/"+e+".7234b7ad.js"}}(),function(){a.miniCssF=function(e){}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="front-end:";a.l=function(s,i,n,o){if(e[s])e[s].push(i);else{var r,l;if(void 0!==n)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==s||u.getAttribute("data-webpack")==t+n){r=u;break}}r||(l=!0,r=document.createElement("script"),r.charset="utf-8",a.nc&&r.setAttribute("nonce",a.nc),r.setAttribute("data-webpack",t+n),r.src=s),e[s]=[i];var m=function(t,a){r.onerror=r.onload=null,clearTimeout(p);var i=e[s];if(delete e[s],r.parentNode&&r.parentNode.removeChild(r),i&&i.forEach(function(e){return e(a)}),t)return t(a)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=m.bind(null,r.onerror),r.onload=m.bind(null,r.onload),l&&document.head.appendChild(r)}}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/"}(),function(){var e={524:0};a.f.j=function(t,s){var i=a.o(e,t)?e[t]:void 0;if(0!==i)if(i)s.push(i[2]);else{var n=new Promise(function(a,s){i=e[t]=[a,s]});s.push(i[2]=n);var o=a.p+a.u(t),r=new Error,l=function(s){if(a.o(e,t)&&(i=e[t],0!==i&&(e[t]=void 0),i)){var n=s&&("load"===s.type?"missing":s.type),o=s&&s.target&&s.target.src;r.message="Loading chunk "+t+" failed.\n("+n+": "+o+")",r.name="ChunkLoadError",r.type=n,r.request=o,i[1](r)}};a.l(o,l,"chunk-"+t,t)}},a.O.j=function(t){return 0===e[t]};var t=function(t,s){var i,n,o=s[0],r=s[1],l=s[2],c=0;if(o.some(function(t){return 0!==e[t]})){for(i in r)a.o(r,i)&&(a.m[i]=r[i]);if(l)var d=l(a)}for(t&&t(s);c<o.length;c++)n=o[c],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(d)},s=self["webpackChunkfront_end"]=self["webpackChunkfront_end"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[504],function(){return a(63)});s=a.O(s)})();
//# sourceMappingURL=app.a3f0bdf6.js.map