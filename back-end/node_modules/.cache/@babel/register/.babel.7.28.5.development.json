{"{\"assumptions\":{},\"sourceRoot\":\"/workspaces/FixAppliance-eCommerce/back-end/src/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/workspaces/FixAppliance-eCommerce/back-end\",\"filename\":\"/workspaces/FixAppliance-eCommerce/back-end/src/server.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/workspaces/FixAppliance-eCommerce/back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"_exploded\":true,\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"VoidPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/workspaces/FixAppliance-eCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$48\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/workspaces/FixAppliance-eCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$49\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"\"use strict\";\n\nvar _process$env$ALLOWED_;\n// Importing the needed libraries\nvar express = require(\"express\");\nvar dotenv = require(\"dotenv\").config();\n//const asyncHandler = require(\"express-async-handler\");\nvar cors = require(\"cors\");\nvar cookieParser = require(\"cookie-parser\");\nvar _require = require(\"./config/database\"),\n  connectDB = _require.connectDB;\n\n// Setting up the express app and its port to use\nvar app = express();\nvar port = process.env.PORT || 5000;\n\n// CORS configuration - restrict origins in production\nvar corsOptions = {\n  origin: process.env.NODE_ENV === \"production\" ? ((_process$env$ALLOWED_ = process.env.ALLOWED_ORIGINS) === null || _process$env$ALLOWED_ === void 0 ? void 0 : _process$env$ALLOWED_.split(',')) || ['https://yourdomain.com'] // Should replace with actual domain in .env\n  : ['http://localhost:3000', 'http://localhost:5173', 'http://127.0.0.1:3000'],\n  // Development origins\n  credentials: true,\n  // Required for cookies to work cross-origin\n  methods: ['GET', 'POST', 'PUT', 'DELETE', 'PATCH'],\n  allowedHeaders: ['Content-Type', 'Authorization']\n};\n\n// Applying the middlewares for json, cookie, public files, cors, url embedding\napp.use(express.json({\n  limit: '10kb'\n})); // Limit body size to prevent large payload attacks\napp.use(cookieParser());\napp.use(express[\"static\"](\"public\"));\napp.use(cors(corsOptions));\napp.use(express.urlencoded({\n  extended: false,\n  limit: '10kb'\n}));\n\n// Setting the 3 main routes: user, technician and freelancer\napp.use(\"/api/user\", require(\"./routes/userRoutes\"));\napp.use(\"/api/technician\", require(\"./routes/technicianRoutes\"));\napp.use(\"/api/freelancer\", require(\"./routes/freelancerRoutes\"));\n\n// 404 handling\napp.use(function (req, res) {\n  res.status(404).json({\n    message: \"Route not found\"\n  });\n});\n\n//Error handling\napp.use(function (err, req, res, next) {\n  console.log(err.stack);\n  res.status(err.status || 500).json({\n    message: err.message || \"Internal server error.\"\n  });\n});\nconnectDB().then(function () {\n  console.log(\"Connected to the database.\");\n  app.listen(port, function () {\n    console.log(\"Server is running on port \".concat(port));\n  });\n})[\"catch\"](function (error) {\n  console.log(\"Failed to connect to the database: \", error);\n  process.exit(1);\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsImRvdGVudiIsImNvbmZpZyIsImNvcnMiLCJjb29raWVQYXJzZXIiLCJfcmVxdWlyZSIsImNvbm5lY3REQiIsImFwcCIsInBvcnQiLCJwcm9jZXNzIiwiZW52IiwiUE9SVCIsImNvcnNPcHRpb25zIiwib3JpZ2luIiwiTk9ERV9FTlYiLCJfcHJvY2VzcyRlbnYkQUxMT1dFRF8iLCJBTExPV0VEX09SSUdJTlMiLCJzcGxpdCIsImNyZWRlbnRpYWxzIiwibWV0aG9kcyIsImFsbG93ZWRIZWFkZXJzIiwidXNlIiwianNvbiIsImxpbWl0IiwidXJsZW5jb2RlZCIsImV4dGVuZGVkIiwicmVxIiwicmVzIiwic3RhdHVzIiwibWVzc2FnZSIsImVyciIsIm5leHQiLCJjb25zb2xlIiwibG9nIiwic3RhY2siLCJ0aGVuIiwibGlzdGVuIiwiY29uY2F0IiwiZXJyb3IiLCJleGl0Il0sInNvdXJjZVJvb3QiOiIvd29ya3NwYWNlcy9GaXhBcHBsaWFuY2UtZUNvbW1lcmNlL2JhY2stZW5kL3NyYy8iLCJzb3VyY2VzIjpbInNlcnZlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBJbXBvcnRpbmcgdGhlIG5lZWRlZCBsaWJyYXJpZXNcbmNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKFwiZXhwcmVzc1wiKTtcbmNvbnN0IGRvdGVudiA9IHJlcXVpcmUoXCJkb3RlbnZcIikuY29uZmlnKCk7XG4vL2NvbnN0IGFzeW5jSGFuZGxlciA9IHJlcXVpcmUoXCJleHByZXNzLWFzeW5jLWhhbmRsZXJcIik7XG5jb25zdCBjb3JzID0gcmVxdWlyZShcImNvcnNcIik7XG5jb25zdCBjb29raWVQYXJzZXIgPSByZXF1aXJlKFwiY29va2llLXBhcnNlclwiKTtcbmNvbnN0IHsgY29ubmVjdERCIH0gPSByZXF1aXJlKFwiLi9jb25maWcvZGF0YWJhc2VcIik7XG5cbi8vIFNldHRpbmcgdXAgdGhlIGV4cHJlc3MgYXBwIGFuZCBpdHMgcG9ydCB0byB1c2VcbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcbmNvbnN0IHBvcnQgPSBwcm9jZXNzLmVudi5QT1JUIHx8IDUwMDA7XG5cbi8vIENPUlMgY29uZmlndXJhdGlvbiAtIHJlc3RyaWN0IG9yaWdpbnMgaW4gcHJvZHVjdGlvblxuY29uc3QgY29yc09wdGlvbnMgPSB7XG4gICAgb3JpZ2luOiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCIgXG4gICAgICAgID8gcHJvY2Vzcy5lbnYuQUxMT1dFRF9PUklHSU5TPy5zcGxpdCgnLCcpIHx8IFsnaHR0cHM6Ly95b3VyZG9tYWluLmNvbSddICAvLyBTaG91bGQgcmVwbGFjZSB3aXRoIGFjdHVhbCBkb21haW4gaW4gLmVudlxuICAgICAgICA6IFsnaHR0cDovL2xvY2FsaG9zdDozMDAwJywgJ2h0dHA6Ly9sb2NhbGhvc3Q6NTE3MycsICdodHRwOi8vMTI3LjAuMC4xOjMwMDAnXSwgLy8gRGV2ZWxvcG1lbnQgb3JpZ2luc1xuICAgIGNyZWRlbnRpYWxzOiB0cnVlLCAgLy8gUmVxdWlyZWQgZm9yIGNvb2tpZXMgdG8gd29yayBjcm9zcy1vcmlnaW5cbiAgICBtZXRob2RzOiBbJ0dFVCcsICdQT1NUJywgJ1BVVCcsICdERUxFVEUnLCAnUEFUQ0gnXSxcbiAgICBhbGxvd2VkSGVhZGVyczogWydDb250ZW50LVR5cGUnLCAnQXV0aG9yaXphdGlvbiddXG59O1xuXG4vLyBBcHBseWluZyB0aGUgbWlkZGxld2FyZXMgZm9yIGpzb24sIGNvb2tpZSwgcHVibGljIGZpbGVzLCBjb3JzLCB1cmwgZW1iZWRkaW5nXG5hcHAudXNlKGV4cHJlc3MuanNvbih7IGxpbWl0OiAnMTBrYicgfSkpOyAgLy8gTGltaXQgYm9keSBzaXplIHRvIHByZXZlbnQgbGFyZ2UgcGF5bG9hZCBhdHRhY2tzXG5hcHAudXNlKGNvb2tpZVBhcnNlcigpKTtcbmFwcC51c2UoZXhwcmVzcy5zdGF0aWMoXCJwdWJsaWNcIikpO1xuYXBwLnVzZShjb3JzKGNvcnNPcHRpb25zKSk7XG5hcHAudXNlKGV4cHJlc3MudXJsZW5jb2RlZCh7ZXh0ZW5kZWQ6IGZhbHNlLCBsaW1pdDogJzEwa2InfSkpO1xuXG4vLyBTZXR0aW5nIHRoZSAzIG1haW4gcm91dGVzOiB1c2VyLCB0ZWNobmljaWFuIGFuZCBmcmVlbGFuY2VyXG5hcHAudXNlKFwiL2FwaS91c2VyXCIsIHJlcXVpcmUoXCIuL3JvdXRlcy91c2VyUm91dGVzXCIpKTtcbmFwcC51c2UoXCIvYXBpL3RlY2huaWNpYW5cIiwgcmVxdWlyZShcIi4vcm91dGVzL3RlY2huaWNpYW5Sb3V0ZXNcIikpO1xuYXBwLnVzZShcIi9hcGkvZnJlZWxhbmNlclwiLCByZXF1aXJlKFwiLi9yb3V0ZXMvZnJlZWxhbmNlclJvdXRlc1wiKSk7XG5cbi8vIDQwNCBoYW5kbGluZ1xuYXBwLnVzZSgocmVxLCByZXMpID0+IHtcbiAgICByZXMuc3RhdHVzKDQwNCkuanNvbih7bWVzc2FnZTogXCJSb3V0ZSBub3QgZm91bmRcIn0pO1xufSlcblxuLy9FcnJvciBoYW5kbGluZ1xuYXBwLnVzZSgoZXJyLCByZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKGVyci5zdGFjayk7XG4gICAgcmVzLnN0YXR1cyhlcnIuc3RhdHVzIHx8IDUwMCkuanNvbih7XG4gICAgICAgIG1lc3NhZ2U6IGVyci5tZXNzYWdlIHx8IFwiSW50ZXJuYWwgc2VydmVyIGVycm9yLlwiXG4gICAgfSk7XG59KTtcblxuY29ubmVjdERCKClcbiAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiQ29ubmVjdGVkIHRvIHRoZSBkYXRhYmFzZS5cIik7XG4gICAgICAgIFxuICAgICAgICBhcHAubGlzdGVuKHBvcnQsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBTZXJ2ZXIgaXMgcnVubmluZyBvbiBwb3J0ICR7cG9ydH1gKTtcbiAgICAgICAgfSk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiRmFpbGVkIHRvIGNvbm5lY3QgdG8gdGhlIGRhdGFiYXNlOiBcIiwgZXJyb3IpO1xuICAgICAgICBwcm9jZXNzLmV4aXQoMSk7XG4gICAgfSk7XG4iXSwibWFwcGluZ3MiOiI7OztBQUFBO0FBQ0EsSUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBUyxDQUFDO0FBQ2xDLElBQU1DLE1BQU0sR0FBR0QsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDRSxNQUFNLENBQUMsQ0FBQztBQUN6QztBQUNBLElBQU1DLElBQUksR0FBR0gsT0FBTyxDQUFDLE1BQU0sQ0FBQztBQUM1QixJQUFNSSxZQUFZLEdBQUdKLE9BQU8sQ0FBQyxlQUFlLENBQUM7QUFDN0MsSUFBQUssUUFBQSxHQUFzQkwsT0FBTyxDQUFDLG1CQUFtQixDQUFDO0VBQTFDTSxTQUFTLEdBQUFELFFBQUEsQ0FBVEMsU0FBUzs7QUFFakI7QUFDQSxJQUFNQyxHQUFHLEdBQUdSLE9BQU8sQ0FBQyxDQUFDO0FBQ3JCLElBQU1TLElBQUksR0FBR0MsT0FBTyxDQUFDQyxHQUFHLENBQUNDLElBQUksSUFBSSxJQUFJOztBQUVyQztBQUNBLElBQU1DLFdBQVcsR0FBRztFQUNoQkMsTUFBTSxFQUFFSixPQUFPLENBQUNDLEdBQUcsQ0FBQ0ksUUFBUSxLQUFLLFlBQVksR0FDdkMsRUFBQUMscUJBQUEsR0FBQU4sT0FBTyxDQUFDQyxHQUFHLENBQUNNLGVBQWUsY0FBQUQscUJBQUEsdUJBQTNCQSxxQkFBQSxDQUE2QkUsS0FBSyxDQUFDLEdBQUcsQ0FBQyxLQUFJLENBQUMsd0JBQXdCLENBQUMsQ0FBRTtFQUFBLEVBQ3ZFLENBQUMsdUJBQXVCLEVBQUUsdUJBQXVCLEVBQUUsdUJBQXVCLENBQUM7RUFBRTtFQUNuRkMsV0FBVyxFQUFFLElBQUk7RUFBRztFQUNwQkMsT0FBTyxFQUFFLENBQUMsS0FBSyxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUUsUUFBUSxFQUFFLE9BQU8sQ0FBQztFQUNsREMsY0FBYyxFQUFFLENBQUMsY0FBYyxFQUFFLGVBQWU7QUFDcEQsQ0FBQzs7QUFFRDtBQUNBYixHQUFHLENBQUNjLEdBQUcsQ0FBQ3RCLE9BQU8sQ0FBQ3VCLElBQUksQ0FBQztFQUFFQyxLQUFLLEVBQUU7QUFBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUU7QUFDM0NoQixHQUFHLENBQUNjLEdBQUcsQ0FBQ2pCLFlBQVksQ0FBQyxDQUFDLENBQUM7QUFDdkJHLEdBQUcsQ0FBQ2MsR0FBRyxDQUFDdEIsT0FBTyxVQUFPLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDakNRLEdBQUcsQ0FBQ2MsR0FBRyxDQUFDbEIsSUFBSSxDQUFDUyxXQUFXLENBQUMsQ0FBQztBQUMxQkwsR0FBRyxDQUFDYyxHQUFHLENBQUN0QixPQUFPLENBQUN5QixVQUFVLENBQUM7RUFBQ0MsUUFBUSxFQUFFLEtBQUs7RUFBRUYsS0FBSyxFQUFFO0FBQU0sQ0FBQyxDQUFDLENBQUM7O0FBRTdEO0FBQ0FoQixHQUFHLENBQUNjLEdBQUcsQ0FBQyxXQUFXLEVBQUVyQixPQUFPLENBQUMscUJBQXFCLENBQUMsQ0FBQztBQUNwRE8sR0FBRyxDQUFDYyxHQUFHLENBQUMsaUJBQWlCLEVBQUVyQixPQUFPLENBQUMsMkJBQTJCLENBQUMsQ0FBQztBQUNoRU8sR0FBRyxDQUFDYyxHQUFHLENBQUMsaUJBQWlCLEVBQUVyQixPQUFPLENBQUMsMkJBQTJCLENBQUMsQ0FBQzs7QUFFaEU7QUFDQU8sR0FBRyxDQUFDYyxHQUFHLENBQUMsVUFBQ0ssR0FBRyxFQUFFQyxHQUFHLEVBQUs7RUFDbEJBLEdBQUcsQ0FBQ0MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDTixJQUFJLENBQUM7SUFBQ08sT0FBTyxFQUFFO0VBQWlCLENBQUMsQ0FBQztBQUN0RCxDQUFDLENBQUM7O0FBRUY7QUFDQXRCLEdBQUcsQ0FBQ2MsR0FBRyxDQUFDLFVBQUNTLEdBQUcsRUFBRUosR0FBRyxFQUFFQyxHQUFHLEVBQUVJLElBQUksRUFBSztFQUM3QkMsT0FBTyxDQUFDQyxHQUFHLENBQUNILEdBQUcsQ0FBQ0ksS0FBSyxDQUFDO0VBQ3RCUCxHQUFHLENBQUNDLE1BQU0sQ0FBQ0UsR0FBRyxDQUFDRixNQUFNLElBQUksR0FBRyxDQUFDLENBQUNOLElBQUksQ0FBQztJQUMvQk8sT0FBTyxFQUFFQyxHQUFHLENBQUNELE9BQU8sSUFBSTtFQUM1QixDQUFDLENBQUM7QUFDTixDQUFDLENBQUM7QUFFRnZCLFNBQVMsQ0FBQyxDQUFDLENBQ042QixJQUFJLENBQUMsWUFBTTtFQUNSSCxPQUFPLENBQUNDLEdBQUcsQ0FBQyw0QkFBNEIsQ0FBQztFQUV6QzFCLEdBQUcsQ0FBQzZCLE1BQU0sQ0FBQzVCLElBQUksRUFBRSxZQUFNO0lBQ25Cd0IsT0FBTyxDQUFDQyxHQUFHLDhCQUFBSSxNQUFBLENBQThCN0IsSUFBSSxDQUFFLENBQUM7RUFDcEQsQ0FBQyxDQUFDO0FBQ04sQ0FBQyxDQUFDLFNBQ0ksQ0FBQyxVQUFDOEIsS0FBSyxFQUFLO0VBQ2ROLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLHFDQUFxQyxFQUFFSyxLQUFLLENBQUM7RUFDekQ3QixPQUFPLENBQUM4QixJQUFJLENBQUMsQ0FBQyxDQUFDO0FBQ25CLENBQUMsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["express","require","dotenv","config","cors","cookieParser","_require","connectDB","app","port","process","env","PORT","corsOptions","origin","NODE_ENV","_process$env$ALLOWED_","ALLOWED_ORIGINS","split","credentials","methods","allowedHeaders","use","json","limit","urlencoded","extended","req","res","status","message","err","next","console","log","stack","then","listen","concat","error","exit"],"sourceRoot":"/workspaces/FixAppliance-eCommerce/back-end/src/","sources":["server.js"],"sourcesContent":["// Importing the needed libraries\nconst express = require(\"express\");\nconst dotenv = require(\"dotenv\").config();\n//const asyncHandler = require(\"express-async-handler\");\nconst cors = require(\"cors\");\nconst cookieParser = require(\"cookie-parser\");\nconst { connectDB } = require(\"./config/database\");\n\n// Setting up the express app and its port to use\nconst app = express();\nconst port = process.env.PORT || 5000;\n\n// CORS configuration - restrict origins in production\nconst corsOptions = {\n    origin: process.env.NODE_ENV === \"production\" \n        ? process.env.ALLOWED_ORIGINS?.split(',') || ['https://yourdomain.com']  // Should replace with actual domain in .env\n        : ['http://localhost:3000', 'http://localhost:5173', 'http://127.0.0.1:3000'], // Development origins\n    credentials: true,  // Required for cookies to work cross-origin\n    methods: ['GET', 'POST', 'PUT', 'DELETE', 'PATCH'],\n    allowedHeaders: ['Content-Type', 'Authorization']\n};\n\n// Applying the middlewares for json, cookie, public files, cors, url embedding\napp.use(express.json({ limit: '10kb' }));  // Limit body size to prevent large payload attacks\napp.use(cookieParser());\napp.use(express.static(\"public\"));\napp.use(cors(corsOptions));\napp.use(express.urlencoded({extended: false, limit: '10kb'}));\n\n// Setting the 3 main routes: user, technician and freelancer\napp.use(\"/api/user\", require(\"./routes/userRoutes\"));\napp.use(\"/api/technician\", require(\"./routes/technicianRoutes\"));\napp.use(\"/api/freelancer\", require(\"./routes/freelancerRoutes\"));\n\n// 404 handling\napp.use((req, res) => {\n    res.status(404).json({message: \"Route not found\"});\n})\n\n//Error handling\napp.use((err, req, res, next) => {\n    console.log(err.stack);\n    res.status(err.status || 500).json({\n        message: err.message || \"Internal server error.\"\n    });\n});\n\nconnectDB()\n    .then(() => {\n        console.log(\"Connected to the database.\");\n        \n        app.listen(port, () => {\n            console.log(`Server is running on port ${port}`);\n        });\n    })\n    .catch((error) => {\n        console.log(\"Failed to connect to the database: \", error);\n        process.exit(1);\n    });\n"],"mappings":"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","ignoreList":[]}},"mtime":1764435434137},"{\"assumptions\":{},\"sourceRoot\":\"/workspaces/FixAppliance-eCommerce/back-end/src/config/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/workspaces/FixAppliance-eCommerce/back-end\",\"filename\":\"/workspaces/FixAppliance-eCommerce/back-end/src/config/database.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/workspaces/FixAppliance-eCommerce/back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"_exploded\":true,\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"VoidPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/workspaces/FixAppliance-eCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$48\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/workspaces/FixAppliance-eCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$49\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar sql = require(\"mssql\");\nvar dotenv = require(\"dotenv\");\ndotenv.config();\nvar dbConfig = {\n  user: process.env.DB_USER,\n  password: process.env.DB_PASS,\n  server: process.env.DB_SERVER,\n  database: process.env.DB_NAME,\n  options: {\n    encrypt: true,\n    trustServerCertificate: true\n  }\n};\nvar pool;\nvar connectDB = /*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee() {\n    var _t;\n    return _regenerator[\"default\"].wrap(function (_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _context.next = 1;\n          return sql.connect(dbConfig);\n        case 1:\n          pool = _context.sent;\n          return _context.abrupt(\"return\", pool);\n        case 2:\n          _context.prev = 2;\n          _t = _context[\"catch\"](0);\n          console.error(\"Database connection failed: \", _t);\n          throw _t;\n        case 3:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[0, 2]]);\n  }));\n  return function connectDB() {\n    return _ref.apply(this, arguments);\n  };\n}();\nmodule.exports = {\n  connectDB: connectDB,\n  getPool: function getPool() {\n    return pool;\n  },\n  sql: sql\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzcWwiLCJyZXF1aXJlIiwiZG90ZW52IiwiY29uZmlnIiwiZGJDb25maWciLCJ1c2VyIiwicHJvY2VzcyIsImVudiIsIkRCX1VTRVIiLCJwYXNzd29yZCIsIkRCX1BBU1MiLCJzZXJ2ZXIiLCJEQl9TRVJWRVIiLCJkYXRhYmFzZSIsIkRCX05BTUUiLCJvcHRpb25zIiwiZW5jcnlwdCIsInRydXN0U2VydmVyQ2VydGlmaWNhdGUiLCJwb29sIiwiY29ubmVjdERCIiwiX3JlZiIsIl9hc3luY1RvR2VuZXJhdG9yMiIsIl9yZWdlbmVyYXRvciIsIm1hcmsiLCJfY2FsbGVlIiwiX3QiLCJ3cmFwIiwiX2NvbnRleHQiLCJwcmV2IiwibmV4dCIsImNvbm5lY3QiLCJzZW50IiwiYWJydXB0IiwiY29uc29sZSIsImVycm9yIiwic3RvcCIsImFwcGx5IiwiYXJndW1lbnRzIiwibW9kdWxlIiwiZXhwb3J0cyIsImdldFBvb2wiXSwic291cmNlUm9vdCI6Ii93b3Jrc3BhY2VzL0ZpeEFwcGxpYW5jZS1lQ29tbWVyY2UvYmFjay1lbmQvc3JjL2NvbmZpZy8iLCJzb3VyY2VzIjpbImRhdGFiYXNlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHNxbCA9IHJlcXVpcmUoXCJtc3NxbFwiKTtcbmNvbnN0IGRvdGVudiA9IHJlcXVpcmUoXCJkb3RlbnZcIik7XG5kb3RlbnYuY29uZmlnKCk7XG5cbmNvbnN0IGRiQ29uZmlnID0ge1xuICAgIHVzZXI6IHByb2Nlc3MuZW52LkRCX1VTRVIsXG4gICAgcGFzc3dvcmQ6IHByb2Nlc3MuZW52LkRCX1BBU1MsXG4gICAgc2VydmVyOiBwcm9jZXNzLmVudi5EQl9TRVJWRVIsXG4gICAgZGF0YWJhc2U6IHByb2Nlc3MuZW52LkRCX05BTUUsXG4gICAgb3B0aW9uczoge2VuY3J5cHQ6IHRydWUsIHRydXN0U2VydmVyQ2VydGlmaWNhdGU6IHRydWV9XG59O1xuXG5sZXQgcG9vbDtcblxuY29uc3QgY29ubmVjdERCID0gYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIHBvb2wgPSBhd2FpdCBzcWwuY29ubmVjdChkYkNvbmZpZyk7XG4gICAgICAgIHJldHVybiBwb29sO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJEYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZDogXCIsIGVycm9yKTtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtjb25uZWN0REIsIGdldFBvb2w6ICgpID0+IHBvb2wsIHNxbH07Il0sIm1hcHBpbmdzIjoiOzs7OztBQUFBLElBQU1BLEdBQUcsR0FBR0MsT0FBTyxDQUFDLE9BQU8sQ0FBQztBQUM1QixJQUFNQyxNQUFNLEdBQUdELE9BQU8sQ0FBQyxRQUFRLENBQUM7QUFDaENDLE1BQU0sQ0FBQ0MsTUFBTSxDQUFDLENBQUM7QUFFZixJQUFNQyxRQUFRLEdBQUc7RUFDYkMsSUFBSSxFQUFFQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0MsT0FBTztFQUN6QkMsUUFBUSxFQUFFSCxPQUFPLENBQUNDLEdBQUcsQ0FBQ0csT0FBTztFQUM3QkMsTUFBTSxFQUFFTCxPQUFPLENBQUNDLEdBQUcsQ0FBQ0ssU0FBUztFQUM3QkMsUUFBUSxFQUFFUCxPQUFPLENBQUNDLEdBQUcsQ0FBQ08sT0FBTztFQUM3QkMsT0FBTyxFQUFFO0lBQUNDLE9BQU8sRUFBRSxJQUFJO0lBQUVDLHNCQUFzQixFQUFFO0VBQUk7QUFDekQsQ0FBQztBQUVELElBQUlDLElBQUk7QUFFUixJQUFNQyxTQUFTO0VBQUEsSUFBQUMsSUFBQSxPQUFBQyxrQkFBQSwwQkFBQUMsWUFBQSxZQUFBQyxJQUFBLENBQUcsU0FBQUMsUUFBQTtJQUFBLElBQUFDLEVBQUE7SUFBQSxPQUFBSCxZQUFBLFlBQUFJLElBQUEsV0FBQUMsUUFBQTtNQUFBLGtCQUFBQSxRQUFBLENBQUFDLElBQUEsR0FBQUQsUUFBQSxDQUFBRSxJQUFBO1FBQUE7VUFBQUYsUUFBQSxDQUFBQyxJQUFBO1VBQUFELFFBQUEsQ0FBQUUsSUFBQTtVQUFBLE9BRUc3QixHQUFHLENBQUM4QixPQUFPLENBQUMxQixRQUFRLENBQUM7UUFBQTtVQUFsQ2MsSUFBSSxHQUFBUyxRQUFBLENBQUFJLElBQUE7VUFBQSxPQUFBSixRQUFBLENBQUFLLE1BQUEsV0FDR2QsSUFBSTtRQUFBO1VBQUFTLFFBQUEsQ0FBQUMsSUFBQTtVQUFBSCxFQUFBLEdBQUFFLFFBQUE7VUFFWE0sT0FBTyxDQUFDQyxLQUFLLENBQUMsOEJBQThCLEVBQUFULEVBQU8sQ0FBQztVQUFDLE1BQUFBLEVBQUE7UUFBQTtRQUFBO1VBQUEsT0FBQUUsUUFBQSxDQUFBUSxJQUFBO01BQUE7SUFBQSxHQUFBWCxPQUFBO0VBQUEsQ0FHNUQ7RUFBQSxnQkFSS0wsU0FBU0EsQ0FBQTtJQUFBLE9BQUFDLElBQUEsQ0FBQWdCLEtBQUEsT0FBQUMsU0FBQTtFQUFBO0FBQUEsR0FRZDtBQUVEQyxNQUFNLENBQUNDLE9BQU8sR0FBRztFQUFDcEIsU0FBUyxFQUFUQSxTQUFTO0VBQUVxQixPQUFPLEVBQUUsU0FBVEEsT0FBT0EsQ0FBQTtJQUFBLE9BQVF0QixJQUFJO0VBQUE7RUFBRWxCLEdBQUcsRUFBSEE7QUFBRyxDQUFDIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["sql","require","dotenv","config","dbConfig","user","process","env","DB_USER","password","DB_PASS","server","DB_SERVER","database","DB_NAME","options","encrypt","trustServerCertificate","pool","connectDB","_ref","_asyncToGenerator2","_regenerator","mark","_callee","_t","wrap","_context","prev","next","connect","sent","abrupt","console","error","stop","apply","arguments","module","exports","getPool"],"sourceRoot":"/workspaces/FixAppliance-eCommerce/back-end/src/config/","sources":["database.js"],"sourcesContent":["const sql = require(\"mssql\");\nconst dotenv = require(\"dotenv\");\ndotenv.config();\n\nconst dbConfig = {\n    user: process.env.DB_USER,\n    password: process.env.DB_PASS,\n    server: process.env.DB_SERVER,\n    database: process.env.DB_NAME,\n    options: {encrypt: true, trustServerCertificate: true}\n};\n\nlet pool;\n\nconst connectDB = async () => {\n    try {\n        pool = await sql.connect(dbConfig);\n        return pool;\n    } catch (error) {\n        console.error(\"Database connection failed: \", error);\n        throw error;\n    }\n}\n\nmodule.exports = {connectDB, getPool: () => pool, sql};"],"mappings":";;;;;AAAA,IAAMA,GAAG,GAAGC,OAAO,CAAC,OAAO,CAAC;AAC5B,IAAMC,MAAM,GAAGD,OAAO,CAAC,QAAQ,CAAC;AAChCC,MAAM,CAACC,MAAM,CAAC,CAAC;AAEf,IAAMC,QAAQ,GAAG;EACbC,IAAI,EAAEC,OAAO,CAACC,GAAG,CAACC,OAAO;EACzBC,QAAQ,EAAEH,OAAO,CAACC,GAAG,CAACG,OAAO;EAC7BC,MAAM,EAAEL,OAAO,CAACC,GAAG,CAACK,SAAS;EAC7BC,QAAQ,EAAEP,OAAO,CAACC,GAAG,CAACO,OAAO;EAC7BC,OAAO,EAAE;IAACC,OAAO,EAAE,IAAI;IAAEC,sBAAsB,EAAE;EAAI;AACzD,CAAC;AAED,IAAIC,IAAI;AAER,IAAMC,SAAS;EAAA,IAAAC,IAAA,OAAAC,kBAAA,0BAAAC,YAAA,YAAAC,IAAA,CAAG,SAAAC,QAAA;IAAA,IAAAC,EAAA;IAAA,OAAAH,YAAA,YAAAI,IAAA,WAAAC,QAAA;MAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;QAAA;UAAAF,QAAA,CAAAC,IAAA;UAAAD,QAAA,CAAAE,IAAA;UAAA,OAEG7B,GAAG,CAAC8B,OAAO,CAAC1B,QAAQ,CAAC;QAAA;UAAlCc,IAAI,GAAAS,QAAA,CAAAI,IAAA;UAAA,OAAAJ,QAAA,CAAAK,MAAA,WACGd,IAAI;QAAA;UAAAS,QAAA,CAAAC,IAAA;UAAAH,EAAA,GAAAE,QAAA;UAEXM,OAAO,CAACC,KAAK,CAAC,8BAA8B,EAAAT,EAAO,CAAC;UAAC,MAAAA,EAAA;QAAA;QAAA;UAAA,OAAAE,QAAA,CAAAQ,IAAA;MAAA;IAAA,GAAAX,OAAA;EAAA,CAG5D;EAAA,gBARKL,SAASA,CAAA;IAAA,OAAAC,IAAA,CAAAgB,KAAA,OAAAC,SAAA;EAAA;AAAA,GAQd;AAEDC,MAAM,CAACC,OAAO,GAAG;EAACpB,SAAS,EAATA,SAAS;EAAEqB,OAAO,EAAE,SAATA,OAAOA,CAAA;IAAA,OAAQtB,IAAI;EAAA;EAAElB,GAAG,EAAHA;AAAG,CAAC","ignoreList":[]}},"mtime":1764435289429},"{\"assumptions\":{},\"sourceRoot\":\"/workspaces/FixAppliance-eCommerce/back-end/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/workspaces/FixAppliance-eCommerce/back-end\",\"filename\":\"/workspaces/FixAppliance-eCommerce/back-end/src/routes/userRoutes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/workspaces/FixAppliance-eCommerce/back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"_exploded\":true,\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"VoidPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/workspaces/FixAppliance-eCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$48\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/workspaces/FixAppliance-eCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$49\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"\"use strict\";\n\n/**\n * This express file sets up the routes of the user, which consist of:\n *      Non-validation required routes: register and login\n *      Validation required routes: logout, booking-related (requesting, paying, rating and getting bookings)\n * \n * Validation requirement is to have the cookie with the right credintials without being expired.\n * \n * The functionalities for the routes themselves can be found in 3 files:\n *      1. controllers/UserController.js for register, login, logout\n *      2. controllers/UserBookingController.js for booking-related functonalities\n *      3. middlewares/auth.js for authenticating the user's credentials that are either stored or not stored\n */\n\nvar express = require(\"express\");\nvar _require = require(\"../controllers/UserController\"),\n  registerUser = _require.registerUser,\n  loginUser = _require.loginUser,\n  logoutUser = _require.logoutUser;\nvar _require2 = require(\"../middlewares/auth\"),\n  userValidation = _require2.userValidation;\nvar _require3 = require(\"../controllers/UserBookingController\"),\n  userRequestBooking = _require3.userRequestBooking,\n  userPayBooking = _require3.userPayBooking,\n  userRateBooking = _require3.userRateBooking,\n  getPendingBookings = _require3.getPendingBookings,\n  getConfirmedBookings = _require3.getConfirmedBookings,\n  getInProgressBookings = _require3.getInProgressBookings,\n  getCompletedBookings = _require3.getCompletedBookings,\n  getCancelledBookings = _require3.getCancelledBookings;\nvar router = express.Router();\nrouter.post(\"/register\", registerUser);\nrouter.post(\"/login\", loginUser);\nrouter.post(\"/logout\", userValidation, logoutUser);\nrouter.post(\"/booking/request\", userValidation, userRequestBooking);\nrouter.post(\"/booking/pay\", userValidation, userPayBooking);\nrouter.post(\"/booking/rate\", userValidation, userRateBooking);\nrouter.get(\"/booking/pending\", userValidation, getPendingBookings);\nrouter.get(\"/booking/confirmed\", userValidation, getConfirmedBookings);\nrouter.get(\"/booking/in-progress\", userValidation, getInProgressBookings);\nrouter.get(\"/booking/completed\", userValidation, getCompletedBookings);\nrouter.get(\"/booking/cancelled\", userValidation, getCancelledBookings);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsIl9yZXF1aXJlIiwicmVnaXN0ZXJVc2VyIiwibG9naW5Vc2VyIiwibG9nb3V0VXNlciIsIl9yZXF1aXJlMiIsInVzZXJWYWxpZGF0aW9uIiwiX3JlcXVpcmUzIiwidXNlclJlcXVlc3RCb29raW5nIiwidXNlclBheUJvb2tpbmciLCJ1c2VyUmF0ZUJvb2tpbmciLCJnZXRQZW5kaW5nQm9va2luZ3MiLCJnZXRDb25maXJtZWRCb29raW5ncyIsImdldEluUHJvZ3Jlc3NCb29raW5ncyIsImdldENvbXBsZXRlZEJvb2tpbmdzIiwiZ2V0Q2FuY2VsbGVkQm9va2luZ3MiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJwb3N0IiwiZ2V0IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL3dvcmtzcGFjZXMvRml4QXBwbGlhbmNlLWVDb21tZXJjZS9iYWNrLWVuZC9zcmMvcm91dGVzLyIsInNvdXJjZXMiOlsidXNlclJvdXRlcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFRoaXMgZXhwcmVzcyBmaWxlIHNldHMgdXAgdGhlIHJvdXRlcyBvZiB0aGUgdXNlciwgd2hpY2ggY29uc2lzdCBvZjpcbiAqICAgICAgTm9uLXZhbGlkYXRpb24gcmVxdWlyZWQgcm91dGVzOiByZWdpc3RlciBhbmQgbG9naW5cbiAqICAgICAgVmFsaWRhdGlvbiByZXF1aXJlZCByb3V0ZXM6IGxvZ291dCwgYm9va2luZy1yZWxhdGVkIChyZXF1ZXN0aW5nLCBwYXlpbmcsIHJhdGluZyBhbmQgZ2V0dGluZyBib29raW5ncylcbiAqIFxuICogVmFsaWRhdGlvbiByZXF1aXJlbWVudCBpcyB0byBoYXZlIHRoZSBjb29raWUgd2l0aCB0aGUgcmlnaHQgY3JlZGludGlhbHMgd2l0aG91dCBiZWluZyBleHBpcmVkLlxuICogXG4gKiBUaGUgZnVuY3Rpb25hbGl0aWVzIGZvciB0aGUgcm91dGVzIHRoZW1zZWx2ZXMgY2FuIGJlIGZvdW5kIGluIDMgZmlsZXM6XG4gKiAgICAgIDEuIGNvbnRyb2xsZXJzL1VzZXJDb250cm9sbGVyLmpzIGZvciByZWdpc3RlciwgbG9naW4sIGxvZ291dFxuICogICAgICAyLiBjb250cm9sbGVycy9Vc2VyQm9va2luZ0NvbnRyb2xsZXIuanMgZm9yIGJvb2tpbmctcmVsYXRlZCBmdW5jdG9uYWxpdGllc1xuICogICAgICAzLiBtaWRkbGV3YXJlcy9hdXRoLmpzIGZvciBhdXRoZW50aWNhdGluZyB0aGUgdXNlcidzIGNyZWRlbnRpYWxzIHRoYXQgYXJlIGVpdGhlciBzdG9yZWQgb3Igbm90IHN0b3JlZFxuICovXG5cbmNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKFwiZXhwcmVzc1wiKTtcbmNvbnN0IHtyZWdpc3RlclVzZXIsIGxvZ2luVXNlciwgbG9nb3V0VXNlcn0gPSByZXF1aXJlKFwiLi4vY29udHJvbGxlcnMvVXNlckNvbnRyb2xsZXJcIik7XG5jb25zdCB7dXNlclZhbGlkYXRpb259ID0gcmVxdWlyZShcIi4uL21pZGRsZXdhcmVzL2F1dGhcIik7XG5jb25zdCB7dXNlclJlcXVlc3RCb29raW5nLCB1c2VyUGF5Qm9va2luZywgdXNlclJhdGVCb29raW5nLCBnZXRQZW5kaW5nQm9va2luZ3MsIGdldENvbmZpcm1lZEJvb2tpbmdzLCBnZXRJblByb2dyZXNzQm9va2luZ3MsIGdldENvbXBsZXRlZEJvb2tpbmdzLCBnZXRDYW5jZWxsZWRCb29raW5nc30gPSByZXF1aXJlKFwiLi4vY29udHJvbGxlcnMvVXNlckJvb2tpbmdDb250cm9sbGVyXCIpO1xuXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG5yb3V0ZXIucG9zdChcIi9yZWdpc3RlclwiLCByZWdpc3RlclVzZXIpO1xucm91dGVyLnBvc3QoXCIvbG9naW5cIiwgbG9naW5Vc2VyKTtcbnJvdXRlci5wb3N0KFwiL2xvZ291dFwiLCB1c2VyVmFsaWRhdGlvbiwgbG9nb3V0VXNlcik7XG5cblxucm91dGVyLnBvc3QoXCIvYm9va2luZy9yZXF1ZXN0XCIsIHVzZXJWYWxpZGF0aW9uLCB1c2VyUmVxdWVzdEJvb2tpbmcpO1xucm91dGVyLnBvc3QoXCIvYm9va2luZy9wYXlcIiwgdXNlclZhbGlkYXRpb24sIHVzZXJQYXlCb29raW5nKTtcbnJvdXRlci5wb3N0KFwiL2Jvb2tpbmcvcmF0ZVwiLCB1c2VyVmFsaWRhdGlvbiwgdXNlclJhdGVCb29raW5nKTtcblxucm91dGVyLmdldChcIi9ib29raW5nL3BlbmRpbmdcIiwgdXNlclZhbGlkYXRpb24sIGdldFBlbmRpbmdCb29raW5ncyk7XG5yb3V0ZXIuZ2V0KFwiL2Jvb2tpbmcvY29uZmlybWVkXCIsIHVzZXJWYWxpZGF0aW9uLCBnZXRDb25maXJtZWRCb29raW5ncyk7XG5yb3V0ZXIuZ2V0KFwiL2Jvb2tpbmcvaW4tcHJvZ3Jlc3NcIiwgdXNlclZhbGlkYXRpb24sIGdldEluUHJvZ3Jlc3NCb29raW5ncyk7XG5yb3V0ZXIuZ2V0KFwiL2Jvb2tpbmcvY29tcGxldGVkXCIsIHVzZXJWYWxpZGF0aW9uLCBnZXRDb21wbGV0ZWRCb29raW5ncyk7XG5yb3V0ZXIuZ2V0KFwiL2Jvb2tpbmcvY2FuY2VsbGVkXCIsIHVzZXJWYWxpZGF0aW9uLCBnZXRDYW5jZWxsZWRCb29raW5ncyk7XG5cbm1vZHVsZS5leHBvcnRzID0gcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsSUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBUyxDQUFDO0FBQ2xDLElBQUFDLFFBQUEsR0FBOENELE9BQU8sQ0FBQywrQkFBK0IsQ0FBQztFQUEvRUUsWUFBWSxHQUFBRCxRQUFBLENBQVpDLFlBQVk7RUFBRUMsU0FBUyxHQUFBRixRQUFBLENBQVRFLFNBQVM7RUFBRUMsVUFBVSxHQUFBSCxRQUFBLENBQVZHLFVBQVU7QUFDMUMsSUFBQUMsU0FBQSxHQUF5QkwsT0FBTyxDQUFDLHFCQUFxQixDQUFDO0VBQWhETSxjQUFjLEdBQUFELFNBQUEsQ0FBZEMsY0FBYztBQUNyQixJQUFBQyxTQUFBLEdBQTJLUCxPQUFPLENBQUMsc0NBQXNDLENBQUM7RUFBbk5RLGtCQUFrQixHQUFBRCxTQUFBLENBQWxCQyxrQkFBa0I7RUFBRUMsY0FBYyxHQUFBRixTQUFBLENBQWRFLGNBQWM7RUFBRUMsZUFBZSxHQUFBSCxTQUFBLENBQWZHLGVBQWU7RUFBRUMsa0JBQWtCLEdBQUFKLFNBQUEsQ0FBbEJJLGtCQUFrQjtFQUFFQyxvQkFBb0IsR0FBQUwsU0FBQSxDQUFwQkssb0JBQW9CO0VBQUVDLHFCQUFxQixHQUFBTixTQUFBLENBQXJCTSxxQkFBcUI7RUFBRUMsb0JBQW9CLEdBQUFQLFNBQUEsQ0FBcEJPLG9CQUFvQjtFQUFFQyxvQkFBb0IsR0FBQVIsU0FBQSxDQUFwQlEsb0JBQW9CO0FBRXZLLElBQU1DLE1BQU0sR0FBR2pCLE9BQU8sQ0FBQ2tCLE1BQU0sQ0FBQyxDQUFDO0FBRS9CRCxNQUFNLENBQUNFLElBQUksQ0FBQyxXQUFXLEVBQUVoQixZQUFZLENBQUM7QUFDdENjLE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLFFBQVEsRUFBRWYsU0FBUyxDQUFDO0FBQ2hDYSxNQUFNLENBQUNFLElBQUksQ0FBQyxTQUFTLEVBQUVaLGNBQWMsRUFBRUYsVUFBVSxDQUFDO0FBR2xEWSxNQUFNLENBQUNFLElBQUksQ0FBQyxrQkFBa0IsRUFBRVosY0FBYyxFQUFFRSxrQkFBa0IsQ0FBQztBQUNuRVEsTUFBTSxDQUFDRSxJQUFJLENBQUMsY0FBYyxFQUFFWixjQUFjLEVBQUVHLGNBQWMsQ0FBQztBQUMzRE8sTUFBTSxDQUFDRSxJQUFJLENBQUMsZUFBZSxFQUFFWixjQUFjLEVBQUVJLGVBQWUsQ0FBQztBQUU3RE0sTUFBTSxDQUFDRyxHQUFHLENBQUMsa0JBQWtCLEVBQUViLGNBQWMsRUFBRUssa0JBQWtCLENBQUM7QUFDbEVLLE1BQU0sQ0FBQ0csR0FBRyxDQUFDLG9CQUFvQixFQUFFYixjQUFjLEVBQUVNLG9CQUFvQixDQUFDO0FBQ3RFSSxNQUFNLENBQUNHLEdBQUcsQ0FBQyxzQkFBc0IsRUFBRWIsY0FBYyxFQUFFTyxxQkFBcUIsQ0FBQztBQUN6RUcsTUFBTSxDQUFDRyxHQUFHLENBQUMsb0JBQW9CLEVBQUViLGNBQWMsRUFBRVEsb0JBQW9CLENBQUM7QUFDdEVFLE1BQU0sQ0FBQ0csR0FBRyxDQUFDLG9CQUFvQixFQUFFYixjQUFjLEVBQUVTLG9CQUFvQixDQUFDO0FBRXRFSyxNQUFNLENBQUNDLE9BQU8sR0FBR0wsTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["express","require","_require","registerUser","loginUser","logoutUser","_require2","userValidation","_require3","userRequestBooking","userPayBooking","userRateBooking","getPendingBookings","getConfirmedBookings","getInProgressBookings","getCompletedBookings","getCancelledBookings","router","Router","post","get","module","exports"],"sourceRoot":"/workspaces/FixAppliance-eCommerce/back-end/src/routes/","sources":["userRoutes.js"],"sourcesContent":["/**\n * This express file sets up the routes of the user, which consist of:\n *      Non-validation required routes: register and login\n *      Validation required routes: logout, booking-related (requesting, paying, rating and getting bookings)\n * \n * Validation requirement is to have the cookie with the right credintials without being expired.\n * \n * The functionalities for the routes themselves can be found in 3 files:\n *      1. controllers/UserController.js for register, login, logout\n *      2. controllers/UserBookingController.js for booking-related functonalities\n *      3. middlewares/auth.js for authenticating the user's credentials that are either stored or not stored\n */\n\nconst express = require(\"express\");\nconst {registerUser, loginUser, logoutUser} = require(\"../controllers/UserController\");\nconst {userValidation} = require(\"../middlewares/auth\");\nconst {userRequestBooking, userPayBooking, userRateBooking, getPendingBookings, getConfirmedBookings, getInProgressBookings, getCompletedBookings, getCancelledBookings} = require(\"../controllers/UserBookingController\");\n\nconst router = express.Router();\n\nrouter.post(\"/register\", registerUser);\nrouter.post(\"/login\", loginUser);\nrouter.post(\"/logout\", userValidation, logoutUser);\n\n\nrouter.post(\"/booking/request\", userValidation, userRequestBooking);\nrouter.post(\"/booking/pay\", userValidation, userPayBooking);\nrouter.post(\"/booking/rate\", userValidation, userRateBooking);\n\nrouter.get(\"/booking/pending\", userValidation, getPendingBookings);\nrouter.get(\"/booking/confirmed\", userValidation, getConfirmedBookings);\nrouter.get(\"/booking/in-progress\", userValidation, getInProgressBookings);\nrouter.get(\"/booking/completed\", userValidation, getCompletedBookings);\nrouter.get(\"/booking/cancelled\", userValidation, getCancelledBookings);\n\nmodule.exports = router;"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAMA,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAClC,IAAAC,QAAA,GAA8CD,OAAO,CAAC,+BAA+B,CAAC;EAA/EE,YAAY,GAAAD,QAAA,CAAZC,YAAY;EAAEC,SAAS,GAAAF,QAAA,CAATE,SAAS;EAAEC,UAAU,GAAAH,QAAA,CAAVG,UAAU;AAC1C,IAAAC,SAAA,GAAyBL,OAAO,CAAC,qBAAqB,CAAC;EAAhDM,cAAc,GAAAD,SAAA,CAAdC,cAAc;AACrB,IAAAC,SAAA,GAA2KP,OAAO,CAAC,sCAAsC,CAAC;EAAnNQ,kBAAkB,GAAAD,SAAA,CAAlBC,kBAAkB;EAAEC,cAAc,GAAAF,SAAA,CAAdE,cAAc;EAAEC,eAAe,GAAAH,SAAA,CAAfG,eAAe;EAAEC,kBAAkB,GAAAJ,SAAA,CAAlBI,kBAAkB;EAAEC,oBAAoB,GAAAL,SAAA,CAApBK,oBAAoB;EAAEC,qBAAqB,GAAAN,SAAA,CAArBM,qBAAqB;EAAEC,oBAAoB,GAAAP,SAAA,CAApBO,oBAAoB;EAAEC,oBAAoB,GAAAR,SAAA,CAApBQ,oBAAoB;AAEvK,IAAMC,MAAM,GAAGjB,OAAO,CAACkB,MAAM,CAAC,CAAC;AAE/BD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAEhB,YAAY,CAAC;AACtCc,MAAM,CAACE,IAAI,CAAC,QAAQ,EAAEf,SAAS,CAAC;AAChCa,MAAM,CAACE,IAAI,CAAC,SAAS,EAAEZ,cAAc,EAAEF,UAAU,CAAC;AAGlDY,MAAM,CAACE,IAAI,CAAC,kBAAkB,EAAEZ,cAAc,EAAEE,kBAAkB,CAAC;AACnEQ,MAAM,CAACE,IAAI,CAAC,cAAc,EAAEZ,cAAc,EAAEG,cAAc,CAAC;AAC3DO,MAAM,CAACE,IAAI,CAAC,eAAe,EAAEZ,cAAc,EAAEI,eAAe,CAAC;AAE7DM,MAAM,CAACG,GAAG,CAAC,kBAAkB,EAAEb,cAAc,EAAEK,kBAAkB,CAAC;AAClEK,MAAM,CAACG,GAAG,CAAC,oBAAoB,EAAEb,cAAc,EAAEM,oBAAoB,CAAC;AACtEI,MAAM,CAACG,GAAG,CAAC,sBAAsB,EAAEb,cAAc,EAAEO,qBAAqB,CAAC;AACzEG,MAAM,CAACG,GAAG,CAAC,oBAAoB,EAAEb,cAAc,EAAEQ,oBAAoB,CAAC;AACtEE,MAAM,CAACG,GAAG,CAAC,oBAAoB,EAAEb,cAAc,EAAES,oBAAoB,CAAC;AAEtEK,MAAM,CAACC,OAAO,GAAGL,MAAM","ignoreList":[]}},"mtime":1764435289430},"{\"assumptions\":{},\"sourceRoot\":\"/workspaces/FixAppliance-eCommerce/back-end/src/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/workspaces/FixAppliance-eCommerce/back-end\",\"filename\":\"/workspaces/FixAppliance-eCommerce/back-end/src/controllers/UserController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/workspaces/FixAppliance-eCommerce/back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"_exploded\":true,\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"VoidPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/workspaces/FixAppliance-eCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$48\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/workspaces/FixAppliance-eCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$49\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n/**\n * The below controller provides the following functionalities for a user: registering, logging in and logging out.\n * \n * For storing the password, bcrypt is used to hash and jwt (jsonwebtoken) is used to sign a token and store it as cookie.\n */\n\nvar asyncHandler = require(\"express-async-handler\");\nvar bcrypt = require(\"bcrypt\");\nvar jwt = require(\"jsonwebtoken\");\n\n// sql needed for the type definitions in .input\n// getPool is to do queries\nvar _require = require(\"../config/database\"),\n  getPool = _require.getPool,\n  sql = _require.sql;\n\n// Import validation utilities\nvar _require2 = require(\"../utils/validators\"),\n  isValidEmail = _require2.isValidEmail,\n  isValidPhone = _require2.isValidPhone,\n  isValidPassword = _require2.isValidPassword,\n  isValidName = _require2.isValidName,\n  sanitizeString = _require2.sanitizeString;\n\n// Handles the registering functionality\nvar registerUser = asyncHandler(/*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee(req, res) {\n    var _req$body, firstName, lastName, email, phone, password, streetAddress, buildingName, floor, city, postalCode, passwordValidation, pool, hashedPassword, result, _t;\n    return _regenerator[\"default\"].wrap(function (_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          // Getting the needed data from the request body\n          _req$body = req.body, firstName = _req$body.firstName, lastName = _req$body.lastName, email = _req$body.email, phone = _req$body.phone, password = _req$body.password, streetAddress = _req$body.streetAddress, buildingName = _req$body.buildingName, floor = _req$body.floor, city = _req$body.city, postalCode = _req$body.postalCode; // Checking if any of them is empty, if yes then we throw a 400 \n          if (!(!firstName || !lastName || !email || !phone || !password || !streetAddress || !buildingName || !floor || !city || !postalCode)) {\n            _context.next = 1;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"You have to insert all data to register.\"\n          }));\n        case 1:\n          if (isValidName(firstName)) {\n            _context.next = 2;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"First name must be 2-30 characters and contain only letters.\"\n          }));\n        case 2:\n          if (isValidName(lastName)) {\n            _context.next = 3;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"Last name must be 2-30 characters and contain only letters.\"\n          }));\n        case 3:\n          if (isValidEmail(email)) {\n            _context.next = 4;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"Please enter a valid email address.\"\n          }));\n        case 4:\n          if (isValidPhone(phone)) {\n            _context.next = 5;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"Please enter a valid phone number.\"\n          }));\n        case 5:\n          // Validate password strength\n          passwordValidation = isValidPassword(password);\n          if (passwordValidation.valid) {\n            _context.next = 6;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: passwordValidation.message\n          }));\n        case 6:\n          if (!(streetAddress.length > 200)) {\n            _context.next = 7;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"Street address cannot exceed 200 characters.\"\n          }));\n        case 7:\n          if (!(buildingName && buildingName.length > 100)) {\n            _context.next = 8;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"Building name cannot exceed 100 characters.\"\n          }));\n        case 8:\n          if (!(city.length > 50)) {\n            _context.next = 9;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"City name cannot exceed 50 characters.\"\n          }));\n        case 9:\n          _context.prev = 9;\n          pool = getPool(); // Hashing the password before storing\n          _context.next = 10;\n          return bcrypt.hash(password, 11);\n        case 10:\n          hashedPassword = _context.sent;\n          _context.next = 11;\n          return pool.request().input(\"firstName\", sql.VarChar, sanitizeString(firstName)).input(\"lastName\", sql.VarChar, sanitizeString(lastName)).input(\"email\", sql.VarChar, sanitizeString(email).toLowerCase()).input(\"phone\", sql.VarChar, sanitizeString(phone)).input(\"hashedPassword\", sql.VarChar, hashedPassword).input(\"streetAddress\", sql.VarChar, sanitizeString(streetAddress)).input(\"buildingName\", sql.VarChar, sanitizeString(buildingName)).input(\"floor\", sql.VarChar, sanitizeString(floor)).input(\"city\", sql.VarChar, sanitizeString(city)).input(\"postalCode\", sql.VarChar, sanitizeString(postalCode)).query(\"\\n            INSERT INTO [User] (First_Name, Last_Name, Email, Phone, Password_Hash, Street_Address, Building_Name, Floor, City, Postal_Code)\\n            VALUES(@firstName, @lastName, @email, @phone, @hashedPassword, @streetAddress, @buildingName, @floor, @city, @postalCode)\\n            \");\n        case 11:\n          result = _context.sent;\n          // Sending success message\n          res.status(201).json({\n            message: \"User registered successfully!\"\n          });\n          _context.next = 14;\n          break;\n        case 12:\n          _context.prev = 12;\n          _t = _context[\"catch\"](9);\n          if (!(_t.number === 2627 || _t.number === 2601)) {\n            _context.next = 13;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(409).json({\n            message: \"Another account exists already either with this email address or phone number. If you have another account, please use that one instead.\"\n          }));\n        case 13:\n          // Throwing the console error and 500 status in case something goes wrong.\n          console.error(\"Unexpected error registering a new user account: \", _t);\n          res.status(500).json({\n            message: \"An unexpected error occurred while registering the user.\"\n          });\n        case 14:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[9, 12]]);\n  }));\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}());\n\n// Handling the logging in functionality\nvar loginUser = asyncHandler(/*#__PURE__*/function () {\n  var _ref2 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(req, res) {\n    var _req$body2, email, password, pool, result, user, isPasswordValid, userToken, _t2;\n    return _regenerator[\"default\"].wrap(function (_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          // Getting the email and password that the user is trying to login with.\n          _req$body2 = req.body, email = _req$body2.email, password = _req$body2.password; // Input validation, if either empty then send 400 error\n          if (!(!email || !password)) {\n            _context2.next = 1;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(400).json({\n            message: \"You have to enter both your email and your password\"\n          }));\n        case 1:\n          if (isValidEmail(email)) {\n            _context2.next = 2;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(400).json({\n            message: \"Please enter a valid email address.\"\n          }));\n        case 2:\n          _context2.prev = 2;\n          pool = getPool(); // Searching in the database for a user with the same email passed to check if exists\n          _context2.next = 3;\n          return pool.request().input(\"email\", sql.VarChar, sanitizeString(email).toLowerCase()).query(\"\\n                SELECT User_ID, First_Name, Last_Name, Email, Password_Hash, isActive\\n                FROM [User]\\n                WHERE Email = @email\\n                \");\n        case 3:\n          result = _context2.sent;\n          if (!(result.recordset.length === 0)) {\n            _context2.next = 4;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(401).json({\n            message: \"Invalid email address or password.\"\n          }));\n        case 4:\n          // Now we are getting the first user that we got having the same email address\n          user = result.recordset[0];\n          if (user.isActive) {\n            _context2.next = 5;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(403).json({\n            message: \"Your account is deactivated. Please contact us to resolve this issue.\"\n          }));\n        case 5:\n          _context2.next = 6;\n          return bcrypt.compare(password, user.Password_Hash);\n        case 6:\n          isPasswordValid = _context2.sent;\n          if (isPasswordValid) {\n            _context2.next = 7;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(401).json({\n            message: \"Invalid email address or password.\"\n          }));\n        case 7:\n          // If the password matches, then create a user token using jwt by signing it with the USER_ACCESS_TOKEN\n          // stored in the .env file. The token expires in 1 day.\n          userToken = jwt.sign({\n            id: user.User_ID,\n            firstName: user.First_Name,\n            lastName: user.Last_Name,\n            email: user.Email\n          }, process.env.USER_ACCESS_TOKEN, {\n            expiresIn: \"1d\"\n          }); // If a cookie exists already for the user, clear it.\n          if (req.cookies.user_access_token) {\n            res.clearCookie('user_access_token');\n          }\n\n          // Store the new cookie such that it lasts 1 day, and throw a 200 success message with some data about the user\n          // (id, firstName, lastName, email)\n          res.cookie('user_access_token', userToken, {\n            httpOnly: true,\n            secure: process.env.NODE_ENV === \"production\",\n            sameSite: 'strict',\n            maxAge: 24 * 60 * 60 * 1000\n          });\n          res.status(200).json({\n            message: \"Successfully logged in.\",\n            user: {\n              id: user.User_ID,\n              firstName: user.First_Name,\n              lastName: user.Last_Name,\n              email: user.Email\n            }\n          });\n\n          // If anything goes wrong, ex duplicate email, then throw an error.\n          _context2.next = 9;\n          break;\n        case 8:\n          _context2.prev = 8;\n          _t2 = _context2[\"catch\"](2);\n          console.error(\"Login error:\", _t2);\n          res.status(500).json({\n            message: \"An error occurred during login.\"\n          });\n        case 9:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[2, 8]]);\n  }));\n  return function (_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}());\n\n// Logging out functionality by clearing the user's cooking and sending a success message\nvar logoutUser = asyncHandler(/*#__PURE__*/function () {\n  var _ref3 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee3(req, res) {\n    return _regenerator[\"default\"].wrap(function (_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          res.clearCookie('user_access_token');\n          res.status(200).json({\n            message: \"Successfully logged out.\"\n          });\n        case 1:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3);\n  }));\n  return function (_x5, _x6) {\n    return _ref3.apply(this, arguments);\n  };\n}());\nmodule.exports = {\n  registerUser: registerUser,\n  loginUser: loginUser,\n  logoutUser: logoutUser\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhc3luY0hhbmRsZXIiLCJyZXF1aXJlIiwiYmNyeXB0Iiwiand0IiwiX3JlcXVpcmUiLCJnZXRQb29sIiwic3FsIiwiX3JlcXVpcmUyIiwiaXNWYWxpZEVtYWlsIiwiaXNWYWxpZFBob25lIiwiaXNWYWxpZFBhc3N3b3JkIiwiaXNWYWxpZE5hbWUiLCJzYW5pdGl6ZVN0cmluZyIsInJlZ2lzdGVyVXNlciIsIl9yZWYiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJfcmVnZW5lcmF0b3IiLCJtYXJrIiwiX2NhbGxlZSIsInJlcSIsInJlcyIsIl9yZXEkYm9keSIsImZpcnN0TmFtZSIsImxhc3ROYW1lIiwiZW1haWwiLCJwaG9uZSIsInBhc3N3b3JkIiwic3RyZWV0QWRkcmVzcyIsImJ1aWxkaW5nTmFtZSIsImZsb29yIiwiY2l0eSIsInBvc3RhbENvZGUiLCJwYXNzd29yZFZhbGlkYXRpb24iLCJwb29sIiwiaGFzaGVkUGFzc3dvcmQiLCJyZXN1bHQiLCJfdCIsIndyYXAiLCJfY29udGV4dCIsInByZXYiLCJuZXh0IiwiYm9keSIsImFicnVwdCIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwidmFsaWQiLCJsZW5ndGgiLCJoYXNoIiwic2VudCIsInJlcXVlc3QiLCJpbnB1dCIsIlZhckNoYXIiLCJ0b0xvd2VyQ2FzZSIsInF1ZXJ5IiwibnVtYmVyIiwiY29uc29sZSIsImVycm9yIiwic3RvcCIsIl94IiwiX3gyIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJsb2dpblVzZXIiLCJfcmVmMiIsIl9jYWxsZWUyIiwiX3JlcSRib2R5MiIsInVzZXIiLCJpc1Bhc3N3b3JkVmFsaWQiLCJ1c2VyVG9rZW4iLCJfdDIiLCJfY29udGV4dDIiLCJyZWNvcmRzZXQiLCJpc0FjdGl2ZSIsImNvbXBhcmUiLCJQYXNzd29yZF9IYXNoIiwic2lnbiIsImlkIiwiVXNlcl9JRCIsIkZpcnN0X05hbWUiLCJMYXN0X05hbWUiLCJFbWFpbCIsInByb2Nlc3MiLCJlbnYiLCJVU0VSX0FDQ0VTU19UT0tFTiIsImV4cGlyZXNJbiIsImNvb2tpZXMiLCJ1c2VyX2FjY2Vzc190b2tlbiIsImNsZWFyQ29va2llIiwiY29va2llIiwiaHR0cE9ubHkiLCJzZWN1cmUiLCJOT0RFX0VOViIsInNhbWVTaXRlIiwibWF4QWdlIiwiX3gzIiwiX3g0IiwibG9nb3V0VXNlciIsIl9yZWYzIiwiX2NhbGxlZTMiLCJfY29udGV4dDMiLCJfeDUiLCJfeDYiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvd29ya3NwYWNlcy9GaXhBcHBsaWFuY2UtZUNvbW1lcmNlL2JhY2stZW5kL3NyYy9jb250cm9sbGVycy8iLCJzb3VyY2VzIjpbIlVzZXJDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGhlIGJlbG93IGNvbnRyb2xsZXIgcHJvdmlkZXMgdGhlIGZvbGxvd2luZyBmdW5jdGlvbmFsaXRpZXMgZm9yIGEgdXNlcjogcmVnaXN0ZXJpbmcsIGxvZ2dpbmcgaW4gYW5kIGxvZ2dpbmcgb3V0LlxuICogXG4gKiBGb3Igc3RvcmluZyB0aGUgcGFzc3dvcmQsIGJjcnlwdCBpcyB1c2VkIHRvIGhhc2ggYW5kIGp3dCAoanNvbndlYnRva2VuKSBpcyB1c2VkIHRvIHNpZ24gYSB0b2tlbiBhbmQgc3RvcmUgaXQgYXMgY29va2llLlxuICovXG5cbmNvbnN0IGFzeW5jSGFuZGxlciA9IHJlcXVpcmUoXCJleHByZXNzLWFzeW5jLWhhbmRsZXJcIik7XG5jb25zdCBiY3J5cHQgPSByZXF1aXJlKFwiYmNyeXB0XCIpO1xuY29uc3Qgand0ID0gcmVxdWlyZShcImpzb253ZWJ0b2tlblwiKTtcblxuLy8gc3FsIG5lZWRlZCBmb3IgdGhlIHR5cGUgZGVmaW5pdGlvbnMgaW4gLmlucHV0XG4vLyBnZXRQb29sIGlzIHRvIGRvIHF1ZXJpZXNcbmNvbnN0IHsgZ2V0UG9vbCwgc3FsIH0gPSByZXF1aXJlKFwiLi4vY29uZmlnL2RhdGFiYXNlXCIpO1xuXG4vLyBJbXBvcnQgdmFsaWRhdGlvbiB1dGlsaXRpZXNcbmNvbnN0IHsgaXNWYWxpZEVtYWlsLCBpc1ZhbGlkUGhvbmUsIGlzVmFsaWRQYXNzd29yZCwgaXNWYWxpZE5hbWUsIHNhbml0aXplU3RyaW5nIH0gPSByZXF1aXJlKFwiLi4vdXRpbHMvdmFsaWRhdG9yc1wiKTtcblxuXG4vLyBIYW5kbGVzIHRoZSByZWdpc3RlcmluZyBmdW5jdGlvbmFsaXR5XG5jb25zdCByZWdpc3RlclVzZXIgPSBhc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgLy8gR2V0dGluZyB0aGUgbmVlZGVkIGRhdGEgZnJvbSB0aGUgcmVxdWVzdCBib2R5XG4gICAgY29uc3QgeyBmaXJzdE5hbWUsIGxhc3ROYW1lLCBlbWFpbCwgcGhvbmUsIHBhc3N3b3JkLCBzdHJlZXRBZGRyZXNzLCBidWlsZGluZ05hbWUsIGZsb29yLCBjaXR5LCBwb3N0YWxDb2RlIH0gPSByZXEuYm9keTtcblxuICAgIC8vIENoZWNraW5nIGlmIGFueSBvZiB0aGVtIGlzIGVtcHR5LCBpZiB5ZXMgdGhlbiB3ZSB0aHJvdyBhIDQwMCBcbiAgICBpZiAoIWZpcnN0TmFtZSB8fCAhbGFzdE5hbWUgfHwgIWVtYWlsIHx8ICFwaG9uZSB8fCAhcGFzc3dvcmQgfHwgIXN0cmVldEFkZHJlc3MgfHwgIWJ1aWxkaW5nTmFtZSB8fCAhZmxvb3IgfHwgIWNpdHkgfHwgIXBvc3RhbENvZGUpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttZXNzYWdlOiBcIllvdSBoYXZlIHRvIGluc2VydCBhbGwgZGF0YSB0byByZWdpc3Rlci5cIn0pO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRlIGZpcnN0IG5hbWUgZm9ybWF0XG4gICAgaWYgKCFpc1ZhbGlkTmFtZShmaXJzdE5hbWUpKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJGaXJzdCBuYW1lIG11c3QgYmUgMi0zMCBjaGFyYWN0ZXJzIGFuZCBjb250YWluIG9ubHkgbGV0dGVycy5cIn0pO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRlIGxhc3QgbmFtZSBmb3JtYXRcbiAgICBpZiAoIWlzVmFsaWROYW1lKGxhc3ROYW1lKSkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiTGFzdCBuYW1lIG11c3QgYmUgMi0zMCBjaGFyYWN0ZXJzIGFuZCBjb250YWluIG9ubHkgbGV0dGVycy5cIn0pO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRlIGVtYWlsIGZvcm1hdFxuICAgIGlmICghaXNWYWxpZEVtYWlsKGVtYWlsKSkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiUGxlYXNlIGVudGVyIGEgdmFsaWQgZW1haWwgYWRkcmVzcy5cIn0pO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRlIHBob25lIGZvcm1hdFxuICAgIGlmICghaXNWYWxpZFBob25lKHBob25lKSkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiUGxlYXNlIGVudGVyIGEgdmFsaWQgcGhvbmUgbnVtYmVyLlwifSk7XG4gICAgfVxuXG4gICAgLy8gVmFsaWRhdGUgcGFzc3dvcmQgc3RyZW5ndGhcbiAgICBjb25zdCBwYXNzd29yZFZhbGlkYXRpb24gPSBpc1ZhbGlkUGFzc3dvcmQocGFzc3dvcmQpO1xuICAgIGlmICghcGFzc3dvcmRWYWxpZGF0aW9uLnZhbGlkKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogcGFzc3dvcmRWYWxpZGF0aW9uLm1lc3NhZ2V9KTtcbiAgICB9XG5cbiAgICAvLyBWYWxpZGF0ZSBhZGRyZXNzIGZpZWxkcyBsZW5ndGhcbiAgICBpZiAoc3RyZWV0QWRkcmVzcy5sZW5ndGggPiAyMDApIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttZXNzYWdlOiBcIlN0cmVldCBhZGRyZXNzIGNhbm5vdCBleGNlZWQgMjAwIGNoYXJhY3RlcnMuXCJ9KTtcbiAgICB9XG5cbiAgICBpZiAoYnVpbGRpbmdOYW1lICYmIGJ1aWxkaW5nTmFtZS5sZW5ndGggPiAxMDApIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttZXNzYWdlOiBcIkJ1aWxkaW5nIG5hbWUgY2Fubm90IGV4Y2VlZCAxMDAgY2hhcmFjdGVycy5cIn0pO1xuICAgIH1cblxuICAgIGlmIChjaXR5Lmxlbmd0aCA+IDUwKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJDaXR5IG5hbWUgY2Fubm90IGV4Y2VlZCA1MCBjaGFyYWN0ZXJzLlwifSk7XG4gICAgfVxuXG4gICAgLy8gV2Ugbm93IHRyeSB0byBhY2Nlc3MgdGhlIGRhdGFiYXNlIHRvIGluc2VydCB0aGUgdXNlclxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHBvb2wgPSBnZXRQb29sKCk7XG5cbiAgICAgICAgLy8gSGFzaGluZyB0aGUgcGFzc3dvcmQgYmVmb3JlIHN0b3JpbmdcbiAgICAgICAgY29uc3QgaGFzaGVkUGFzc3dvcmQgPSBhd2FpdCBiY3J5cHQuaGFzaChwYXNzd29yZCwgMTEpO1xuXG4gICAgICAgIC8vIEluc2VydGluZyB0aGUgdXNlciBpbnRvIHRoZSBkYXRhYmFzZSBVc2VyIHRhYmxlIChzYW5pdGl6ZSBpbnB1dHMpXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBvb2wucmVxdWVzdCgpXG4gICAgICAgICAgICAuaW5wdXQoXCJmaXJzdE5hbWVcIiwgc3FsLlZhckNoYXIsIHNhbml0aXplU3RyaW5nKGZpcnN0TmFtZSkpXG4gICAgICAgICAgICAuaW5wdXQoXCJsYXN0TmFtZVwiLCBzcWwuVmFyQ2hhciwgc2FuaXRpemVTdHJpbmcobGFzdE5hbWUpKVxuICAgICAgICAgICAgLmlucHV0KFwiZW1haWxcIiwgc3FsLlZhckNoYXIsIHNhbml0aXplU3RyaW5nKGVtYWlsKS50b0xvd2VyQ2FzZSgpKVxuICAgICAgICAgICAgLmlucHV0KFwicGhvbmVcIiwgc3FsLlZhckNoYXIsIHNhbml0aXplU3RyaW5nKHBob25lKSlcbiAgICAgICAgICAgIC5pbnB1dChcImhhc2hlZFBhc3N3b3JkXCIsIHNxbC5WYXJDaGFyLCBoYXNoZWRQYXNzd29yZClcbiAgICAgICAgICAgIC5pbnB1dChcInN0cmVldEFkZHJlc3NcIiwgc3FsLlZhckNoYXIsIHNhbml0aXplU3RyaW5nKHN0cmVldEFkZHJlc3MpKVxuICAgICAgICAgICAgLmlucHV0KFwiYnVpbGRpbmdOYW1lXCIsIHNxbC5WYXJDaGFyLCBzYW5pdGl6ZVN0cmluZyhidWlsZGluZ05hbWUpKVxuICAgICAgICAgICAgLmlucHV0KFwiZmxvb3JcIiwgc3FsLlZhckNoYXIsIHNhbml0aXplU3RyaW5nKGZsb29yKSlcbiAgICAgICAgICAgIC5pbnB1dChcImNpdHlcIiwgc3FsLlZhckNoYXIsIHNhbml0aXplU3RyaW5nKGNpdHkpKVxuICAgICAgICAgICAgLmlucHV0KFwicG9zdGFsQ29kZVwiLCBzcWwuVmFyQ2hhciwgc2FuaXRpemVTdHJpbmcocG9zdGFsQ29kZSkpXG4gICAgICAgICAgICAucXVlcnkoYFxuICAgICAgICAgICAgSU5TRVJUIElOVE8gW1VzZXJdIChGaXJzdF9OYW1lLCBMYXN0X05hbWUsIEVtYWlsLCBQaG9uZSwgUGFzc3dvcmRfSGFzaCwgU3RyZWV0X0FkZHJlc3MsIEJ1aWxkaW5nX05hbWUsIEZsb29yLCBDaXR5LCBQb3N0YWxfQ29kZSlcbiAgICAgICAgICAgIFZBTFVFUyhAZmlyc3ROYW1lLCBAbGFzdE5hbWUsIEBlbWFpbCwgQHBob25lLCBAaGFzaGVkUGFzc3dvcmQsIEBzdHJlZXRBZGRyZXNzLCBAYnVpbGRpbmdOYW1lLCBAZmxvb3IsIEBjaXR5LCBAcG9zdGFsQ29kZSlcbiAgICAgICAgICAgIGApO1xuXG4gICAgICAgIC8vIFNlbmRpbmcgc3VjY2VzcyBtZXNzYWdlXG4gICAgICAgIHJlcy5zdGF0dXMoMjAxKS5qc29uKHttZXNzYWdlOiBcIlVzZXIgcmVnaXN0ZXJlZCBzdWNjZXNzZnVsbHkhXCJ9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAvLyBIYW5kbGluZyB0aGUgdW5pcXVlIGNvbnN0cmFpbnRzIGZvciBlbWFpbCBhbmQgcGhvbmUgbnVtYmVyc1xuICAgICAgICAvLyAyNjI3IGlzIGZvciB2aW9sYXRpb24gb2YgdGhlIHVuaXF1ZSBrZXkgY29uc3RyYWludCwgYW5kIDI2MDEgaXMgZm9yIHVuaXF1ZSBpbmRleCB2aW9sYXRpb25cbiAgICAgICAgaWYgKGVycm9yLm51bWJlciA9PT0gMjYyNyB8fCBlcnJvci5udW1iZXIgPT09IDI2MDEpIHsgICAgICAgICAgICBcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwOSkuanNvbih7bWVzc2FnZTogXCJBbm90aGVyIGFjY291bnQgZXhpc3RzIGFscmVhZHkgZWl0aGVyIHdpdGggdGhpcyBlbWFpbCBhZGRyZXNzIG9yIHBob25lIG51bWJlci4gSWYgeW91IGhhdmUgYW5vdGhlciBhY2NvdW50LCBwbGVhc2UgdXNlIHRoYXQgb25lIGluc3RlYWQuXCJ9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRocm93aW5nIHRoZSBjb25zb2xlIGVycm9yIGFuZCA1MDAgc3RhdHVzIGluIGNhc2Ugc29tZXRoaW5nIGdvZXMgd3JvbmcuXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJVbmV4cGVjdGVkIGVycm9yIHJlZ2lzdGVyaW5nIGEgbmV3IHVzZXIgYWNjb3VudDogXCIsIGVycm9yKTtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe21lc3NhZ2U6IFwiQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZCB3aGlsZSByZWdpc3RlcmluZyB0aGUgdXNlci5cIn0pO1xuICAgIH1cbn0pO1xuXG5cbi8vIEhhbmRsaW5nIHRoZSBsb2dnaW5nIGluIGZ1bmN0aW9uYWxpdHlcbmNvbnN0IGxvZ2luVXNlciA9IGFzeW5jSGFuZGxlcihhc3luYyAocmVxLHJlcykgPT4ge1xuICAgIC8vIEdldHRpbmcgdGhlIGVtYWlsIGFuZCBwYXNzd29yZCB0aGF0IHRoZSB1c2VyIGlzIHRyeWluZyB0byBsb2dpbiB3aXRoLlxuICAgIGNvbnN0IHtlbWFpbCwgcGFzc3dvcmR9ID0gcmVxLmJvZHk7XG5cbiAgICAvLyBJbnB1dCB2YWxpZGF0aW9uLCBpZiBlaXRoZXIgZW1wdHkgdGhlbiBzZW5kIDQwMCBlcnJvclxuICAgIGlmICghZW1haWwgfHwgIXBhc3N3b3JkKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJZb3UgaGF2ZSB0byBlbnRlciBib3RoIHlvdXIgZW1haWwgYW5kIHlvdXIgcGFzc3dvcmRcIn0pO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRlIGVtYWlsIGZvcm1hdFxuICAgIGlmICghaXNWYWxpZEVtYWlsKGVtYWlsKSkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiUGxlYXNlIGVudGVyIGEgdmFsaWQgZW1haWwgYWRkcmVzcy5cIn0pO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHBvb2wgPSBnZXRQb29sKCk7XG5cbiAgICAgICAgLy8gU2VhcmNoaW5nIGluIHRoZSBkYXRhYmFzZSBmb3IgYSB1c2VyIHdpdGggdGhlIHNhbWUgZW1haWwgcGFzc2VkIHRvIGNoZWNrIGlmIGV4aXN0c1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwb29sLnJlcXVlc3QoKVxuICAgICAgICAgICAgLmlucHV0KFwiZW1haWxcIiwgc3FsLlZhckNoYXIsIHNhbml0aXplU3RyaW5nKGVtYWlsKS50b0xvd2VyQ2FzZSgpKVxuICAgICAgICAgICAgLnF1ZXJ5KGBcbiAgICAgICAgICAgICAgICBTRUxFQ1QgVXNlcl9JRCwgRmlyc3RfTmFtZSwgTGFzdF9OYW1lLCBFbWFpbCwgUGFzc3dvcmRfSGFzaCwgaXNBY3RpdmVcbiAgICAgICAgICAgICAgICBGUk9NIFtVc2VyXVxuICAgICAgICAgICAgICAgIFdIRVJFIEVtYWlsID0gQGVtYWlsXG4gICAgICAgICAgICAgICAgYCk7XG5cbiAgICAgICAgLy8gSWYgbm8gcmVzdWx0cyByZXR1cm5lZCBmcm9tIHRoZSBxdWVyeSwgdGhlbiB0aGUgZW1haWwgZW50ZXJlZCBpcyBpbnZhbGlkXG4gICAgICAgIGlmIChyZXN1bHQucmVjb3Jkc2V0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHttZXNzYWdlOiBcIkludmFsaWQgZW1haWwgYWRkcmVzcyBvciBwYXNzd29yZC5cIn0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTm93IHdlIGFyZSBnZXR0aW5nIHRoZSBmaXJzdCB1c2VyIHRoYXQgd2UgZ290IGhhdmluZyB0aGUgc2FtZSBlbWFpbCBhZGRyZXNzXG4gICAgICAgIGNvbnN0IHVzZXIgPSByZXN1bHQucmVjb3Jkc2V0WzBdO1xuICAgICAgICBpZiAoIXVzZXIuaXNBY3RpdmUpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMykuanNvbih7bWVzc2FnZTogXCJZb3VyIGFjY291bnQgaXMgZGVhY3RpdmF0ZWQuIFBsZWFzZSBjb250YWN0IHVzIHRvIHJlc29sdmUgdGhpcyBpc3N1ZS5cIn0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVXNpbmcgYmNyeXB0IHRvIGNoZWNrIGlmIHRoZSBlbWFpbCBwYXNzZWQgaXMgdGhlIHNhbWUgYXMgdGhlIGhhc2hlZCBvbmUgc3RvcmVkIGluIHRoZSBkYXRhYmFzZVxuICAgICAgICAvLyBJZiBubywgdGhyb3cgYSA0MDEgZXJyb3JcbiAgICAgICAgY29uc3QgaXNQYXNzd29yZFZhbGlkID0gYXdhaXQgYmNyeXB0LmNvbXBhcmUocGFzc3dvcmQsIHVzZXIuUGFzc3dvcmRfSGFzaCk7XG4gICAgICAgIGlmICghaXNQYXNzd29yZFZhbGlkKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oe21lc3NhZ2U6IFwiSW52YWxpZCBlbWFpbCBhZGRyZXNzIG9yIHBhc3N3b3JkLlwifSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiB0aGUgcGFzc3dvcmQgbWF0Y2hlcywgdGhlbiBjcmVhdGUgYSB1c2VyIHRva2VuIHVzaW5nIGp3dCBieSBzaWduaW5nIGl0IHdpdGggdGhlIFVTRVJfQUNDRVNTX1RPS0VOXG4gICAgICAgIC8vIHN0b3JlZCBpbiB0aGUgLmVudiBmaWxlLiBUaGUgdG9rZW4gZXhwaXJlcyBpbiAxIGRheS5cbiAgICAgICAgY29uc3QgdXNlclRva2VuID0gand0LnNpZ24oe1xuICAgICAgICAgICAgaWQ6IHVzZXIuVXNlcl9JRCxcbiAgICAgICAgICAgIGZpcnN0TmFtZTogdXNlci5GaXJzdF9OYW1lLFxuICAgICAgICAgICAgbGFzdE5hbWU6IHVzZXIuTGFzdF9OYW1lLFxuICAgICAgICAgICAgZW1haWw6IHVzZXIuRW1haWxcbiAgICAgICAgfSxcbiAgICAgICAgICAgIHByb2Nlc3MuZW52LlVTRVJfQUNDRVNTX1RPS0VOLFxuICAgICAgICAgICAge2V4cGlyZXNJbjogXCIxZFwifVxuICAgICAgICApO1xuXG4gICAgICAgIC8vIElmIGEgY29va2llIGV4aXN0cyBhbHJlYWR5IGZvciB0aGUgdXNlciwgY2xlYXIgaXQuXG4gICAgICAgIGlmIChyZXEuY29va2llcy51c2VyX2FjY2Vzc190b2tlbikge1xuICAgICAgICAgICAgcmVzLmNsZWFyQ29va2llKCd1c2VyX2FjY2Vzc190b2tlbicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU3RvcmUgdGhlIG5ldyBjb29raWUgc3VjaCB0aGF0IGl0IGxhc3RzIDEgZGF5LCBhbmQgdGhyb3cgYSAyMDAgc3VjY2VzcyBtZXNzYWdlIHdpdGggc29tZSBkYXRhIGFib3V0IHRoZSB1c2VyXG4gICAgICAgIC8vIChpZCwgZmlyc3ROYW1lLCBsYXN0TmFtZSwgZW1haWwpXG4gICAgICAgIHJlcy5jb29raWUoJ3VzZXJfYWNjZXNzX3Rva2VuJywgdXNlclRva2VuLCBcbiAgICAgICAgICAgIHtodHRwT25seTogdHJ1ZSwgXG4gICAgICAgICAgICBzZWN1cmU6IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIixcbiAgICAgICAgICAgIHNhbWVTaXRlOiAnc3RyaWN0JyxcbiAgICAgICAgICAgIG1heEFnZTogMjQgKiA2MCAqIDYwICogMTAwMH0pO1xuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIlN1Y2Nlc3NmdWxseSBsb2dnZWQgaW4uXCIsXG4gICAgICAgICAgICB1c2VyOiB7XG4gICAgICAgICAgICAgICAgaWQ6IHVzZXIuVXNlcl9JRCxcbiAgICAgICAgICAgICAgICBmaXJzdE5hbWU6IHVzZXIuRmlyc3RfTmFtZSxcbiAgICAgICAgICAgICAgICBsYXN0TmFtZTogdXNlci5MYXN0X05hbWUsXG4gICAgICAgICAgICAgICAgZW1haWw6IHVzZXIuRW1haWxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcblxuICAgICAgICAvLyBJZiBhbnl0aGluZyBnb2VzIHdyb25nLCBleCBkdXBsaWNhdGUgZW1haWwsIHRoZW4gdGhyb3cgYW4gZXJyb3IuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkxvZ2luIGVycm9yOlwiLCBlcnJvcik7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHttZXNzYWdlOiBcIkFuIGVycm9yIG9jY3VycmVkIGR1cmluZyBsb2dpbi5cIn0pO1xuICAgIH1cbn0pO1xuXG4vLyBMb2dnaW5nIG91dCBmdW5jdGlvbmFsaXR5IGJ5IGNsZWFyaW5nIHRoZSB1c2VyJ3MgY29va2luZyBhbmQgc2VuZGluZyBhIHN1Y2Nlc3MgbWVzc2FnZVxuY29uc3QgbG9nb3V0VXNlciA9IGFzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICByZXMuY2xlYXJDb29raWUoJ3VzZXJfYWNjZXNzX3Rva2VuJyk7XG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24oe21lc3NhZ2U6IFwiU3VjY2Vzc2Z1bGx5IGxvZ2dlZCBvdXQuXCJ9KTtcbn0pXG5cbm1vZHVsZS5leHBvcnRzID0ge3JlZ2lzdGVyVXNlciwgbG9naW5Vc2VyLCBsb2dvdXRVc2VyfTsiXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxJQUFNQSxZQUFZLEdBQUdDLE9BQU8sQ0FBQyx1QkFBdUIsQ0FBQztBQUNyRCxJQUFNQyxNQUFNLEdBQUdELE9BQU8sQ0FBQyxRQUFRLENBQUM7QUFDaEMsSUFBTUUsR0FBRyxHQUFHRixPQUFPLENBQUMsY0FBYyxDQUFDOztBQUVuQztBQUNBO0FBQ0EsSUFBQUcsUUFBQSxHQUF5QkgsT0FBTyxDQUFDLG9CQUFvQixDQUFDO0VBQTlDSSxPQUFPLEdBQUFELFFBQUEsQ0FBUEMsT0FBTztFQUFFQyxHQUFHLEdBQUFGLFFBQUEsQ0FBSEUsR0FBRzs7QUFFcEI7QUFDQSxJQUFBQyxTQUFBLEdBQXFGTixPQUFPLENBQUMscUJBQXFCLENBQUM7RUFBM0dPLFlBQVksR0FBQUQsU0FBQSxDQUFaQyxZQUFZO0VBQUVDLFlBQVksR0FBQUYsU0FBQSxDQUFaRSxZQUFZO0VBQUVDLGVBQWUsR0FBQUgsU0FBQSxDQUFmRyxlQUFlO0VBQUVDLFdBQVcsR0FBQUosU0FBQSxDQUFYSSxXQUFXO0VBQUVDLGNBQWMsR0FBQUwsU0FBQSxDQUFkSyxjQUFjOztBQUdoRjtBQUNBLElBQU1DLFlBQVksR0FBR2IsWUFBWTtFQUFBLElBQUFjLElBQUEsT0FBQUMsa0JBQUEsMEJBQUFDLFlBQUEsWUFBQUMsSUFBQSxDQUFDLFNBQUFDLFFBQU9DLEdBQUcsRUFBRUMsR0FBRztJQUFBLElBQUFDLFNBQUEsRUFBQUMsU0FBQSxFQUFBQyxRQUFBLEVBQUFDLEtBQUEsRUFBQUMsS0FBQSxFQUFBQyxRQUFBLEVBQUFDLGFBQUEsRUFBQUMsWUFBQSxFQUFBQyxLQUFBLEVBQUFDLElBQUEsRUFB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","map":{"version":3,"names":["asyncHandler","require","bcrypt","jwt","_require","getPool","sql","_require2","isValidEmail","isValidPhone","isValidPassword","isValidName","sanitizeString","registerUser","_ref","_asyncToGenerator2","_regenerator","mark","_callee","req","res","_req$body","firstName","lastName","email","phone","password","streetAddress","buildingName","floor","city","postalCode","passwordValidation","pool","hashedPassword","result","_t","wrap","_context","prev","next","body","abrupt","status","json","message","valid","length","hash","sent","request","input","VarChar","toLowerCase","query","number","console","error","stop","_x","_x2","apply","arguments","loginUser","_ref2","_callee2","_req$body2","user","isPasswordValid","userToken","_t2","_context2","recordset","isActive","compare","Password_Hash","sign","id","User_ID","First_Name","Last_Name","Email","process","env","USER_ACCESS_TOKEN","expiresIn","cookies","user_access_token","clearCookie","cookie","httpOnly","secure","NODE_ENV","sameSite","maxAge","_x3","_x4","logoutUser","_ref3","_callee3","_context3","_x5","_x6","module","exports"],"sourceRoot":"/workspaces/FixAppliance-eCommerce/back-end/src/controllers/","sources":["UserController.js"],"sourcesContent":["/**\n * The below controller provides the following functionalities for a user: registering, logging in and logging out.\n * \n * For storing the password, bcrypt is used to hash and jwt (jsonwebtoken) is used to sign a token and store it as cookie.\n */\n\nconst asyncHandler = require(\"express-async-handler\");\nconst bcrypt = require(\"bcrypt\");\nconst jwt = require(\"jsonwebtoken\");\n\n// sql needed for the type definitions in .input\n// getPool is to do queries\nconst { getPool, sql } = require(\"../config/database\");\n\n// Import validation utilities\nconst { isValidEmail, isValidPhone, isValidPassword, isValidName, sanitizeString } = require(\"../utils/validators\");\n\n\n// Handles the registering functionality\nconst registerUser = asyncHandler(async (req, res) => {\n    // Getting the needed data from the request body\n    const { firstName, lastName, email, phone, password, streetAddress, buildingName, floor, city, postalCode } = req.body;\n\n    // Checking if any of them is empty, if yes then we throw a 400 \n    if (!firstName || !lastName || !email || !phone || !password || !streetAddress || !buildingName || !floor || !city || !postalCode) {\n        return res.status(400).json({message: \"You have to insert all data to register.\"});\n    }\n\n    // Validate first name format\n    if (!isValidName(firstName)) {\n        return res.status(400).json({message: \"First name must be 2-30 characters and contain only letters.\"});\n    }\n\n    // Validate last name format\n    if (!isValidName(lastName)) {\n        return res.status(400).json({message: \"Last name must be 2-30 characters and contain only letters.\"});\n    }\n\n    // Validate email format\n    if (!isValidEmail(email)) {\n        return res.status(400).json({message: \"Please enter a valid email address.\"});\n    }\n\n    // Validate phone format\n    if (!isValidPhone(phone)) {\n        return res.status(400).json({message: \"Please enter a valid phone number.\"});\n    }\n\n    // Validate password strength\n    const passwordValidation = isValidPassword(password);\n    if (!passwordValidation.valid) {\n        return res.status(400).json({message: passwordValidation.message});\n    }\n\n    // Validate address fields length\n    if (streetAddress.length > 200) {\n        return res.status(400).json({message: \"Street address cannot exceed 200 characters.\"});\n    }\n\n    if (buildingName && buildingName.length > 100) {\n        return res.status(400).json({message: \"Building name cannot exceed 100 characters.\"});\n    }\n\n    if (city.length > 50) {\n        return res.status(400).json({message: \"City name cannot exceed 50 characters.\"});\n    }\n\n    // We now try to access the database to insert the user\n    try {\n        const pool = getPool();\n\n        // Hashing the password before storing\n        const hashedPassword = await bcrypt.hash(password, 11);\n\n        // Inserting the user into the database User table (sanitize inputs)\n        const result = await pool.request()\n            .input(\"firstName\", sql.VarChar, sanitizeString(firstName))\n            .input(\"lastName\", sql.VarChar, sanitizeString(lastName))\n            .input(\"email\", sql.VarChar, sanitizeString(email).toLowerCase())\n            .input(\"phone\", sql.VarChar, sanitizeString(phone))\n            .input(\"hashedPassword\", sql.VarChar, hashedPassword)\n            .input(\"streetAddress\", sql.VarChar, sanitizeString(streetAddress))\n            .input(\"buildingName\", sql.VarChar, sanitizeString(buildingName))\n            .input(\"floor\", sql.VarChar, sanitizeString(floor))\n            .input(\"city\", sql.VarChar, sanitizeString(city))\n            .input(\"postalCode\", sql.VarChar, sanitizeString(postalCode))\n            .query(`\n            INSERT INTO [User] (First_Name, Last_Name, Email, Phone, Password_Hash, Street_Address, Building_Name, Floor, City, Postal_Code)\n            VALUES(@firstName, @lastName, @email, @phone, @hashedPassword, @streetAddress, @buildingName, @floor, @city, @postalCode)\n            `);\n\n        // Sending success message\n        res.status(201).json({message: \"User registered successfully!\"});\n    } catch (error) {\n        // Handling the unique constraints for email and phone numbers\n        // 2627 is for violation of the unique key constraint, and 2601 is for unique index violation\n        if (error.number === 2627 || error.number === 2601) {            \n            return res.status(409).json({message: \"Another account exists already either with this email address or phone number. If you have another account, please use that one instead.\"});\n        }\n\n        // Throwing the console error and 500 status in case something goes wrong.\n        console.error(\"Unexpected error registering a new user account: \", error);\n        res.status(500).json({message: \"An unexpected error occurred while registering the user.\"});\n    }\n});\n\n\n// Handling the logging in functionality\nconst loginUser = asyncHandler(async (req,res) => {\n    // Getting the email and password that the user is trying to login with.\n    const {email, password} = req.body;\n\n    // Input validation, if either empty then send 400 error\n    if (!email || !password) {\n        return res.status(400).json({message: \"You have to enter both your email and your password\"});\n    }\n\n    // Validate email format\n    if (!isValidEmail(email)) {\n        return res.status(400).json({message: \"Please enter a valid email address.\"});\n    }\n\n    try {\n        const pool = getPool();\n\n        // Searching in the database for a user with the same email passed to check if exists\n        const result = await pool.request()\n            .input(\"email\", sql.VarChar, sanitizeString(email).toLowerCase())\n            .query(`\n                SELECT User_ID, First_Name, Last_Name, Email, Password_Hash, isActive\n                FROM [User]\n                WHERE Email = @email\n                `);\n\n        // If no results returned from the query, then the email entered is invalid\n        if (result.recordset.length === 0) {\n            return res.status(401).json({message: \"Invalid email address or password.\"});\n        }\n\n        // Now we are getting the first user that we got having the same email address\n        const user = result.recordset[0];\n        if (!user.isActive) {\n            return res.status(403).json({message: \"Your account is deactivated. Please contact us to resolve this issue.\"});\n        }\n\n        // Using bcrypt to check if the email passed is the same as the hashed one stored in the database\n        // If no, throw a 401 error\n        const isPasswordValid = await bcrypt.compare(password, user.Password_Hash);\n        if (!isPasswordValid) {\n            return res.status(401).json({message: \"Invalid email address or password.\"});\n        }\n\n        // If the password matches, then create a user token using jwt by signing it with the USER_ACCESS_TOKEN\n        // stored in the .env file. The token expires in 1 day.\n        const userToken = jwt.sign({\n            id: user.User_ID,\n            firstName: user.First_Name,\n            lastName: user.Last_Name,\n            email: user.Email\n        },\n            process.env.USER_ACCESS_TOKEN,\n            {expiresIn: \"1d\"}\n        );\n\n        // If a cookie exists already for the user, clear it.\n        if (req.cookies.user_access_token) {\n            res.clearCookie('user_access_token');\n        }\n\n        // Store the new cookie such that it lasts 1 day, and throw a 200 success message with some data about the user\n        // (id, firstName, lastName, email)\n        res.cookie('user_access_token', userToken, \n            {httpOnly: true, \n            secure: process.env.NODE_ENV === \"production\",\n            sameSite: 'strict',\n            maxAge: 24 * 60 * 60 * 1000});\n        res.status(200).json({\n            message: \"Successfully logged in.\",\n            user: {\n                id: user.User_ID,\n                firstName: user.First_Name,\n                lastName: user.Last_Name,\n                email: user.Email\n            }\n        })\n\n        // If anything goes wrong, ex duplicate email, then throw an error.\n    } catch (error) {\n        console.error(\"Login error:\", error);\n        res.status(500).json({message: \"An error occurred during login.\"});\n    }\n});\n\n// Logging out functionality by clearing the user's cooking and sending a success message\nconst logoutUser = asyncHandler(async (req, res) => {\n    res.clearCookie('user_access_token');\n    res.status(200).json({message: \"Successfully logged out.\"});\n})\n\nmodule.exports = {registerUser, loginUser, logoutUser};"],"mappings":"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","ignoreList":[]}},"mtime":1764435289430},"{\"assumptions\":{},\"sourceRoot\":\"/workspaces/FixAppliance-eCommerce/back-end/src/utils/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/workspaces/FixAppliance-eCommerce/back-end\",\"filename\":\"/workspaces/FixAppliance-eCommerce/back-end/src/utils/validators.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/workspaces/FixAppliance-eCommerce/back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"_exploded\":true,\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"VoidPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/workspaces/FixAppliance-eCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$48\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/workspaces/FixAppliance-eCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$49\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"\"use strict\";\n\n/**\n * Input validation utility functions for the FixAppliance API.\n * \n * Provides validation for:\n *  - Email format\n *  - Phone number format (Lebanese format)\n *  - Password strength\n *  - Name format\n */\n\n/**\n * Validates email format using regex\n * @param {string} email - The email to validate\n * @returns {boolean} - True if valid, false otherwise\n */\nvar isValidEmail = function isValidEmail(email) {\n  if (!email || typeof email !== 'string') return false;\n\n  // Email regex that requires at least one dot in domain with proper TLD (2-10 chars)\n  var emailRegex = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*\\.[a-zA-Z]{2,10}$/;\n  return emailRegex.test(email.trim()) && email.length <= 100;\n};\n\n/**\n * Validates phone number format (Lebanese format)\n * \n * Landlines (8 digits total, with leading 0):\n *   - 01 XXX XXX (Beirut)\n *   - 04, 05, 09 XXX XXX (Mount Lebanon)\n *   - 06 XXX XXX (North)\n *   - 07 XXX XXX (South)\n *   - 08 XXX XXX (Bekaa)\n * \n * Mobile with leading 0 (8 digits total):\n *   - 03 XXX XXX (Alfa/Touch)\n * \n * Mobile without leading 0 (8 digits total):\n *   - 70, 71, 76, 78, 79, 81 XXX XXX (Alfa/Touch)\n * \n * With country code: +961 or 961 followed by number without leading 0\n * \n * @param {string} phone - The phone number to validate\n * @returns {boolean} - True if valid, false otherwise\n */\nvar isValidPhone = function isValidPhone(phone) {\n  if (!phone || typeof phone !== 'string') return false;\n\n  // Remove spaces and dashes for validation\n  var cleanPhone = phone.replace(/[\\s-]/g, '');\n\n  // Landline with leading 0: 01, 04, 05, 06, 07, 08, 09 + 6 digits = 8 total\n  var landlineRegex = /^0[1456789][0-9]{6}$/;\n\n  // Mobile 03 with leading 0: 03 + 6 digits = 8 total\n  var mobile03Regex = /^03[0-9]{6}$/;\n\n  // Mobile without leading 0: 70, 71, 76, 78, 79, 81 + 6 digits = 8 total\n  var mobileRegex = /^(70|71|76|78|79|81)[0-9]{6}$/;\n\n  // With country code +961 or 961: followed by number without leading 0\n  // Landline: 961 + 1/4/5/6/7/8/9 + 6 digits\n  var intlLandlineRegex = /^(\\+?961)[1456789][0-9]{6}$/;\n\n  // Mobile with intl code: 961 + 3 + 6 digits OR 961 + 70/71/76/78/79/81 + 6 digits\n  var intlMobileRegex = /^(\\+?961)(3[0-9]{6}|(70|71|76|78|79|81)[0-9]{6})$/;\n  return landlineRegex.test(cleanPhone) || mobile03Regex.test(cleanPhone) || mobileRegex.test(cleanPhone) || intlLandlineRegex.test(cleanPhone) || intlMobileRegex.test(cleanPhone);\n};\n\n/**\n * Validates password strength\n * Requirements: minimum 8 characters, at least one uppercase, one lowercase, one number\n * @param {string} password - The password to validate\n * @returns {{valid: boolean, message: string}} - Validation result with message\n */\nvar isValidPassword = function isValidPassword(password) {\n  if (!password || typeof password !== 'string') {\n    return {\n      valid: false,\n      message: \"Password is required.\"\n    };\n  }\n  if (password.length < 8) {\n    return {\n      valid: false,\n      message: \"Password must be at least 8 characters long.\"\n    };\n  }\n  if (password.length > 100) {\n    return {\n      valid: false,\n      message: \"Password cannot exceed 100 characters.\"\n    };\n  }\n  if (!/[a-z]/.test(password)) {\n    return {\n      valid: false,\n      message: \"Password must contain at least one lowercase letter.\"\n    };\n  }\n  if (!/[A-Z]/.test(password)) {\n    return {\n      valid: false,\n      message: \"Password must contain at least one uppercase letter.\"\n    };\n  }\n  if (!/[0-9]/.test(password)) {\n    return {\n      valid: false,\n      message: \"Password must contain at least one number.\"\n    };\n  }\n  return {\n    valid: true,\n    message: \"Password is valid.\"\n  };\n};\n\n/**\n * Validates name format (first name, last name)\n * Only allows letters, spaces, hyphens, and apostrophes\n * @param {string} name - The name to validate\n * @param {number} maxLength - Maximum allowed length (default: 30)\n * @returns {boolean} - True if valid, false otherwise\n */\nvar isValidName = function isValidName(name) {\n  var maxLength = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 30;\n  if (!name || typeof name !== 'string') return false;\n  var trimmedName = name.trim();\n\n  // Must be between 2 and maxLength characters, only letters, spaces, hyphens, apostrophes\n  var nameRegex = /^[a-zA-Z\\u0600-\\u06FF\\s'-]{2,}$/;\n  return nameRegex.test(trimmedName) && trimmedName.length <= maxLength;\n};\n\n/**\n * Sanitizes string input by trimming whitespace\n * @param {string} input - The input to sanitize\n * @returns {string} - Sanitized string or empty string if invalid\n */\nvar sanitizeString = function sanitizeString(input) {\n  if (!input || typeof input !== 'string') return '';\n  return input.trim();\n};\n\n/**\n * Validates that a string doesn't exceed a maximum length\n * @param {string} str - The string to validate\n * @param {number} maxLength - Maximum allowed length\n * @returns {boolean} - True if valid, false otherwise\n */\nvar isValidLength = function isValidLength(str, maxLength) {\n  if (!str || typeof str !== 'string') return false;\n  return str.trim().length <= maxLength;\n};\nmodule.exports = {\n  isValidEmail: isValidEmail,\n  isValidPhone: isValidPhone,\n  isValidPassword: isValidPassword,\n  isValidName: isValidName,\n  sanitizeString: sanitizeString,\n  isValidLength: isValidLength\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJpc1ZhbGlkRW1haWwiLCJlbWFpbCIsImVtYWlsUmVnZXgiLCJ0ZXN0IiwidHJpbSIsImxlbmd0aCIsImlzVmFsaWRQaG9uZSIsInBob25lIiwiY2xlYW5QaG9uZSIsInJlcGxhY2UiLCJsYW5kbGluZVJlZ2V4IiwibW9iaWxlMDNSZWdleCIsIm1vYmlsZVJlZ2V4IiwiaW50bExhbmRsaW5lUmVnZXgiLCJpbnRsTW9iaWxlUmVnZXgiLCJpc1ZhbGlkUGFzc3dvcmQiLCJwYXNzd29yZCIsInZhbGlkIiwibWVzc2FnZSIsImlzVmFsaWROYW1lIiwibmFtZSIsIm1heExlbmd0aCIsImFyZ3VtZW50cyIsInVuZGVmaW5lZCIsInRyaW1tZWROYW1lIiwibmFtZVJlZ2V4Iiwic2FuaXRpemVTdHJpbmciLCJpbnB1dCIsImlzVmFsaWRMZW5ndGgiLCJzdHIiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvd29ya3NwYWNlcy9GaXhBcHBsaWFuY2UtZUNvbW1lcmNlL2JhY2stZW5kL3NyYy91dGlscy8iLCJzb3VyY2VzIjpbInZhbGlkYXRvcnMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBJbnB1dCB2YWxpZGF0aW9uIHV0aWxpdHkgZnVuY3Rpb25zIGZvciB0aGUgRml4QXBwbGlhbmNlIEFQSS5cbiAqIFxuICogUHJvdmlkZXMgdmFsaWRhdGlvbiBmb3I6XG4gKiAgLSBFbWFpbCBmb3JtYXRcbiAqICAtIFBob25lIG51bWJlciBmb3JtYXQgKExlYmFuZXNlIGZvcm1hdClcbiAqICAtIFBhc3N3b3JkIHN0cmVuZ3RoXG4gKiAgLSBOYW1lIGZvcm1hdFxuICovXG5cbi8qKlxuICogVmFsaWRhdGVzIGVtYWlsIGZvcm1hdCB1c2luZyByZWdleFxuICogQHBhcmFtIHtzdHJpbmd9IGVtYWlsIC0gVGhlIGVtYWlsIHRvIHZhbGlkYXRlXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gLSBUcnVlIGlmIHZhbGlkLCBmYWxzZSBvdGhlcndpc2VcbiAqL1xuY29uc3QgaXNWYWxpZEVtYWlsID0gKGVtYWlsKSA9PiB7XG4gICAgaWYgKCFlbWFpbCB8fCB0eXBlb2YgZW1haWwgIT09ICdzdHJpbmcnKSByZXR1cm4gZmFsc2U7XG4gICAgXG4gICAgLy8gRW1haWwgcmVnZXggdGhhdCByZXF1aXJlcyBhdCBsZWFzdCBvbmUgZG90IGluIGRvbWFpbiB3aXRoIHByb3BlciBUTEQgKDItMTAgY2hhcnMpXG4gICAgY29uc3QgZW1haWxSZWdleCA9IC9eW2EtekEtWjAtOS4hIyQlJicqKy89P15fYHt8fX4tXStAW2EtekEtWjAtOV0oPzpbYS16QS1aMC05LV17MCw2MX1bYS16QS1aMC05XSk/KD86XFwuW2EtekEtWjAtOV0oPzpbYS16QS1aMC05LV17MCw2MX1bYS16QS1aMC05XSk/KSpcXC5bYS16QS1aXXsyLDEwfSQvO1xuICAgIFxuICAgIHJldHVybiBlbWFpbFJlZ2V4LnRlc3QoZW1haWwudHJpbSgpKSAmJiBlbWFpbC5sZW5ndGggPD0gMTAwO1xufTtcblxuLyoqXG4gKiBWYWxpZGF0ZXMgcGhvbmUgbnVtYmVyIGZvcm1hdCAoTGViYW5lc2UgZm9ybWF0KVxuICogXG4gKiBMYW5kbGluZXMgKDggZGlnaXRzIHRvdGFsLCB3aXRoIGxlYWRpbmcgMCk6XG4gKiAgIC0gMDEgWFhYIFhYWCAoQmVpcnV0KVxuICogICAtIDA0LCAwNSwgMDkgWFhYIFhYWCAoTW91bnQgTGViYW5vbilcbiAqICAgLSAwNiBYWFggWFhYIChOb3J0aClcbiAqICAgLSAwNyBYWFggWFhYIChTb3V0aClcbiAqICAgLSAwOCBYWFggWFhYIChCZWthYSlcbiAqIFxuICogTW9iaWxlIHdpdGggbGVhZGluZyAwICg4IGRpZ2l0cyB0b3RhbCk6XG4gKiAgIC0gMDMgWFhYIFhYWCAoQWxmYS9Ub3VjaClcbiAqIFxuICogTW9iaWxlIHdpdGhvdXQgbGVhZGluZyAwICg4IGRpZ2l0cyB0b3RhbCk6XG4gKiAgIC0gNzAsIDcxLCA3NiwgNzgsIDc5LCA4MSBYWFggWFhYIChBbGZhL1RvdWNoKVxuICogXG4gKiBXaXRoIGNvdW50cnkgY29kZTogKzk2MSBvciA5NjEgZm9sbG93ZWQgYnkgbnVtYmVyIHdpdGhvdXQgbGVhZGluZyAwXG4gKiBcbiAqIEBwYXJhbSB7c3RyaW5nfSBwaG9uZSAtIFRoZSBwaG9uZSBudW1iZXIgdG8gdmFsaWRhdGVcbiAqIEByZXR1cm5zIHtib29sZWFufSAtIFRydWUgaWYgdmFsaWQsIGZhbHNlIG90aGVyd2lzZVxuICovXG5jb25zdCBpc1ZhbGlkUGhvbmUgPSAocGhvbmUpID0+IHtcbiAgICBpZiAoIXBob25lIHx8IHR5cGVvZiBwaG9uZSAhPT0gJ3N0cmluZycpIHJldHVybiBmYWxzZTtcbiAgICBcbiAgICAvLyBSZW1vdmUgc3BhY2VzIGFuZCBkYXNoZXMgZm9yIHZhbGlkYXRpb25cbiAgICBjb25zdCBjbGVhblBob25lID0gcGhvbmUucmVwbGFjZSgvW1xccy1dL2csICcnKTtcbiAgICBcbiAgICAvLyBMYW5kbGluZSB3aXRoIGxlYWRpbmcgMDogMDEsIDA0LCAwNSwgMDYsIDA3LCAwOCwgMDkgKyA2IGRpZ2l0cyA9IDggdG90YWxcbiAgICBjb25zdCBsYW5kbGluZVJlZ2V4ID0gL14wWzE0NTY3ODldWzAtOV17Nn0kLztcbiAgICBcbiAgICAvLyBNb2JpbGUgMDMgd2l0aCBsZWFkaW5nIDA6IDAzICsgNiBkaWdpdHMgPSA4IHRvdGFsXG4gICAgY29uc3QgbW9iaWxlMDNSZWdleCA9IC9eMDNbMC05XXs2fSQvO1xuICAgIFxuICAgIC8vIE1vYmlsZSB3aXRob3V0IGxlYWRpbmcgMDogNzAsIDcxLCA3NiwgNzgsIDc5LCA4MSArIDYgZGlnaXRzID0gOCB0b3RhbFxuICAgIGNvbnN0IG1vYmlsZVJlZ2V4ID0gL14oNzB8NzF8NzZ8Nzh8Nzl8ODEpWzAtOV17Nn0kLztcbiAgICBcbiAgICAvLyBXaXRoIGNvdW50cnkgY29kZSArOTYxIG9yIDk2MTogZm9sbG93ZWQgYnkgbnVtYmVyIHdpdGhvdXQgbGVhZGluZyAwXG4gICAgLy8gTGFuZGxpbmU6IDk2MSArIDEvNC81LzYvNy84LzkgKyA2IGRpZ2l0c1xuICAgIGNvbnN0IGludGxMYW5kbGluZVJlZ2V4ID0gL14oXFwrPzk2MSlbMTQ1Njc4OV1bMC05XXs2fSQvO1xuICAgIFxuICAgIC8vIE1vYmlsZSB3aXRoIGludGwgY29kZTogOTYxICsgMyArIDYgZGlnaXRzIE9SIDk2MSArIDcwLzcxLzc2Lzc4Lzc5LzgxICsgNiBkaWdpdHNcbiAgICBjb25zdCBpbnRsTW9iaWxlUmVnZXggPSAvXihcXCs/OTYxKSgzWzAtOV17Nn18KDcwfDcxfDc2fDc4fDc5fDgxKVswLTldezZ9KSQvO1xuICAgIFxuICAgIHJldHVybiBsYW5kbGluZVJlZ2V4LnRlc3QoY2xlYW5QaG9uZSkgfHwgXG4gICAgICAgICAgIG1vYmlsZTAzUmVnZXgudGVzdChjbGVhblBob25lKSB8fFxuICAgICAgICAgICBtb2JpbGVSZWdleC50ZXN0KGNsZWFuUGhvbmUpIHx8IFxuICAgICAgICAgICBpbnRsTGFuZGxpbmVSZWdleC50ZXN0KGNsZWFuUGhvbmUpIHx8IFxuICAgICAgICAgICBpbnRsTW9iaWxlUmVnZXgudGVzdChjbGVhblBob25lKTtcbn07XG5cbi8qKlxuICogVmFsaWRhdGVzIHBhc3N3b3JkIHN0cmVuZ3RoXG4gKiBSZXF1aXJlbWVudHM6IG1pbmltdW0gOCBjaGFyYWN0ZXJzLCBhdCBsZWFzdCBvbmUgdXBwZXJjYXNlLCBvbmUgbG93ZXJjYXNlLCBvbmUgbnVtYmVyXG4gKiBAcGFyYW0ge3N0cmluZ30gcGFzc3dvcmQgLSBUaGUgcGFzc3dvcmQgdG8gdmFsaWRhdGVcbiAqIEByZXR1cm5zIHt7dmFsaWQ6IGJvb2xlYW4sIG1lc3NhZ2U6IHN0cmluZ319IC0gVmFsaWRhdGlvbiByZXN1bHQgd2l0aCBtZXNzYWdlXG4gKi9cbmNvbnN0IGlzVmFsaWRQYXNzd29yZCA9IChwYXNzd29yZCkgPT4ge1xuICAgIGlmICghcGFzc3dvcmQgfHwgdHlwZW9mIHBhc3N3b3JkICE9PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4geyB2YWxpZDogZmFsc2UsIG1lc3NhZ2U6IFwiUGFzc3dvcmQgaXMgcmVxdWlyZWQuXCIgfTtcbiAgICB9XG5cbiAgICBpZiAocGFzc3dvcmQubGVuZ3RoIDwgOCkge1xuICAgICAgICByZXR1cm4geyB2YWxpZDogZmFsc2UsIG1lc3NhZ2U6IFwiUGFzc3dvcmQgbXVzdCBiZSBhdCBsZWFzdCA4IGNoYXJhY3RlcnMgbG9uZy5cIiB9O1xuICAgIH1cblxuICAgIGlmIChwYXNzd29yZC5sZW5ndGggPiAxMDApIHtcbiAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlLCBtZXNzYWdlOiBcIlBhc3N3b3JkIGNhbm5vdCBleGNlZWQgMTAwIGNoYXJhY3RlcnMuXCIgfTtcbiAgICB9XG5cbiAgICBpZiAoIS9bYS16XS8udGVzdChwYXNzd29yZCkpIHtcbiAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlLCBtZXNzYWdlOiBcIlBhc3N3b3JkIG11c3QgY29udGFpbiBhdCBsZWFzdCBvbmUgbG93ZXJjYXNlIGxldHRlci5cIiB9O1xuICAgIH1cblxuICAgIGlmICghL1tBLVpdLy50ZXN0KHBhc3N3b3JkKSkge1xuICAgICAgICByZXR1cm4geyB2YWxpZDogZmFsc2UsIG1lc3NhZ2U6IFwiUGFzc3dvcmQgbXVzdCBjb250YWluIGF0IGxlYXN0IG9uZSB1cHBlcmNhc2UgbGV0dGVyLlwiIH07XG4gICAgfVxuXG4gICAgaWYgKCEvWzAtOV0vLnRlc3QocGFzc3dvcmQpKSB7XG4gICAgICAgIHJldHVybiB7IHZhbGlkOiBmYWxzZSwgbWVzc2FnZTogXCJQYXNzd29yZCBtdXN0IGNvbnRhaW4gYXQgbGVhc3Qgb25lIG51bWJlci5cIiB9O1xuICAgIH1cblxuICAgIHJldHVybiB7IHZhbGlkOiB0cnVlLCBtZXNzYWdlOiBcIlBhc3N3b3JkIGlzIHZhbGlkLlwiIH07XG59O1xuXG4vKipcbiAqIFZhbGlkYXRlcyBuYW1lIGZvcm1hdCAoZmlyc3QgbmFtZSwgbGFzdCBuYW1lKVxuICogT25seSBhbGxvd3MgbGV0dGVycywgc3BhY2VzLCBoeXBoZW5zLCBhbmQgYXBvc3Ryb3BoZXNcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gVGhlIG5hbWUgdG8gdmFsaWRhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhMZW5ndGggLSBNYXhpbXVtIGFsbG93ZWQgbGVuZ3RoIChkZWZhdWx0OiAzMClcbiAqIEByZXR1cm5zIHtib29sZWFufSAtIFRydWUgaWYgdmFsaWQsIGZhbHNlIG90aGVyd2lzZVxuICovXG5jb25zdCBpc1ZhbGlkTmFtZSA9IChuYW1lLCBtYXhMZW5ndGggPSAzMCkgPT4ge1xuICAgIGlmICghbmFtZSB8fCB0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycpIHJldHVybiBmYWxzZTtcbiAgICBcbiAgICBjb25zdCB0cmltbWVkTmFtZSA9IG5hbWUudHJpbSgpO1xuICAgIFxuICAgIC8vIE11c3QgYmUgYmV0d2VlbiAyIGFuZCBtYXhMZW5ndGggY2hhcmFjdGVycywgb25seSBsZXR0ZXJzLCBzcGFjZXMsIGh5cGhlbnMsIGFwb3N0cm9waGVzXG4gICAgY29uc3QgbmFtZVJlZ2V4ID0gL15bYS16QS1aXFx1MDYwMC1cXHUwNkZGXFxzJy1dezIsfSQvO1xuICAgIFxuICAgIHJldHVybiBuYW1lUmVnZXgudGVzdCh0cmltbWVkTmFtZSkgJiYgdHJpbW1lZE5hbWUubGVuZ3RoIDw9IG1heExlbmd0aDtcbn07XG5cbi8qKlxuICogU2FuaXRpemVzIHN0cmluZyBpbnB1dCBieSB0cmltbWluZyB3aGl0ZXNwYWNlXG4gKiBAcGFyYW0ge3N0cmluZ30gaW5wdXQgLSBUaGUgaW5wdXQgdG8gc2FuaXRpemVcbiAqIEByZXR1cm5zIHtzdHJpbmd9IC0gU2FuaXRpemVkIHN0cmluZyBvciBlbXB0eSBzdHJpbmcgaWYgaW52YWxpZFxuICovXG5jb25zdCBzYW5pdGl6ZVN0cmluZyA9IChpbnB1dCkgPT4ge1xuICAgIGlmICghaW5wdXQgfHwgdHlwZW9mIGlucHV0ICE9PSAnc3RyaW5nJykgcmV0dXJuICcnO1xuICAgIHJldHVybiBpbnB1dC50cmltKCk7XG59O1xuXG4vKipcbiAqIFZhbGlkYXRlcyB0aGF0IGEgc3RyaW5nIGRvZXNuJ3QgZXhjZWVkIGEgbWF4aW11bSBsZW5ndGhcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgLSBUaGUgc3RyaW5nIHRvIHZhbGlkYXRlXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4TGVuZ3RoIC0gTWF4aW11bSBhbGxvd2VkIGxlbmd0aFxuICogQHJldHVybnMge2Jvb2xlYW59IC0gVHJ1ZSBpZiB2YWxpZCwgZmFsc2Ugb3RoZXJ3aXNlXG4gKi9cbmNvbnN0IGlzVmFsaWRMZW5ndGggPSAoc3RyLCBtYXhMZW5ndGgpID0+IHtcbiAgICBpZiAoIXN0ciB8fCB0eXBlb2Ygc3RyICE9PSAnc3RyaW5nJykgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiBzdHIudHJpbSgpLmxlbmd0aCA8PSBtYXhMZW5ndGg7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBpc1ZhbGlkRW1haWwsXG4gICAgaXNWYWxpZFBob25lLFxuICAgIGlzVmFsaWRQYXNzd29yZCxcbiAgICBpc1ZhbGlkTmFtZSxcbiAgICBzYW5pdGl6ZVN0cmluZyxcbiAgICBpc1ZhbGlkTGVuZ3RoXG59O1xuIl0sIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBTUEsWUFBWSxHQUFHLFNBQWZBLFlBQVlBLENBQUlDLEtBQUssRUFBSztFQUM1QixJQUFJLENBQUNBLEtBQUssSUFBSSxPQUFPQSxLQUFLLEtBQUssUUFBUSxFQUFFLE9BQU8sS0FBSzs7RUFFckQ7RUFDQSxJQUFNQyxVQUFVLEdBQUcsc0pBQXNKO0VBRXpLLE9BQU9BLFVBQVUsQ0FBQ0MsSUFBSSxDQUFDRixLQUFLLENBQUNHLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSUgsS0FBSyxDQUFDSSxNQUFNLElBQUksR0FBRztBQUMvRCxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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","map":{"version":3,"names":["isValidEmail","email","emailRegex","test","trim","length","isValidPhone","phone","cleanPhone","replace","landlineRegex","mobile03Regex","mobileRegex","intlLandlineRegex","intlMobileRegex","isValidPassword","password","valid","message","isValidName","name","maxLength","arguments","undefined","trimmedName","nameRegex","sanitizeString","input","isValidLength","str","module","exports"],"sourceRoot":"/workspaces/FixAppliance-eCommerce/back-end/src/utils/","sources":["validators.js"],"sourcesContent":["/**\n * Input validation utility functions for the FixAppliance API.\n * \n * Provides validation for:\n *  - Email format\n *  - Phone number format (Lebanese format)\n *  - Password strength\n *  - Name format\n */\n\n/**\n * Validates email format using regex\n * @param {string} email - The email to validate\n * @returns {boolean} - True if valid, false otherwise\n */\nconst isValidEmail = (email) => {\n    if (!email || typeof email !== 'string') return false;\n    \n    // Email regex that requires at least one dot in domain with proper TLD (2-10 chars)\n    const emailRegex = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*\\.[a-zA-Z]{2,10}$/;\n    \n    return emailRegex.test(email.trim()) && email.length <= 100;\n};\n\n/**\n * Validates phone number format (Lebanese format)\n * \n * Landlines (8 digits total, with leading 0):\n *   - 01 XXX XXX (Beirut)\n *   - 04, 05, 09 XXX XXX (Mount Lebanon)\n *   - 06 XXX XXX (North)\n *   - 07 XXX XXX (South)\n *   - 08 XXX XXX (Bekaa)\n * \n * Mobile with leading 0 (8 digits total):\n *   - 03 XXX XXX (Alfa/Touch)\n * \n * Mobile without leading 0 (8 digits total):\n *   - 70, 71, 76, 78, 79, 81 XXX XXX (Alfa/Touch)\n * \n * With country code: +961 or 961 followed by number without leading 0\n * \n * @param {string} phone - The phone number to validate\n * @returns {boolean} - True if valid, false otherwise\n */\nconst isValidPhone = (phone) => {\n    if (!phone || typeof phone !== 'string') return false;\n    \n    // Remove spaces and dashes for validation\n    const cleanPhone = phone.replace(/[\\s-]/g, '');\n    \n    // Landline with leading 0: 01, 04, 05, 06, 07, 08, 09 + 6 digits = 8 total\n    const landlineRegex = /^0[1456789][0-9]{6}$/;\n    \n    // Mobile 03 with leading 0: 03 + 6 digits = 8 total\n    const mobile03Regex = /^03[0-9]{6}$/;\n    \n    // Mobile without leading 0: 70, 71, 76, 78, 79, 81 + 6 digits = 8 total\n    const mobileRegex = /^(70|71|76|78|79|81)[0-9]{6}$/;\n    \n    // With country code +961 or 961: followed by number without leading 0\n    // Landline: 961 + 1/4/5/6/7/8/9 + 6 digits\n    const intlLandlineRegex = /^(\\+?961)[1456789][0-9]{6}$/;\n    \n    // Mobile with intl code: 961 + 3 + 6 digits OR 961 + 70/71/76/78/79/81 + 6 digits\n    const intlMobileRegex = /^(\\+?961)(3[0-9]{6}|(70|71|76|78|79|81)[0-9]{6})$/;\n    \n    return landlineRegex.test(cleanPhone) || \n           mobile03Regex.test(cleanPhone) ||\n           mobileRegex.test(cleanPhone) || \n           intlLandlineRegex.test(cleanPhone) || \n           intlMobileRegex.test(cleanPhone);\n};\n\n/**\n * Validates password strength\n * Requirements: minimum 8 characters, at least one uppercase, one lowercase, one number\n * @param {string} password - The password to validate\n * @returns {{valid: boolean, message: string}} - Validation result with message\n */\nconst isValidPassword = (password) => {\n    if (!password || typeof password !== 'string') {\n        return { valid: false, message: \"Password is required.\" };\n    }\n\n    if (password.length < 8) {\n        return { valid: false, message: \"Password must be at least 8 characters long.\" };\n    }\n\n    if (password.length > 100) {\n        return { valid: false, message: \"Password cannot exceed 100 characters.\" };\n    }\n\n    if (!/[a-z]/.test(password)) {\n        return { valid: false, message: \"Password must contain at least one lowercase letter.\" };\n    }\n\n    if (!/[A-Z]/.test(password)) {\n        return { valid: false, message: \"Password must contain at least one uppercase letter.\" };\n    }\n\n    if (!/[0-9]/.test(password)) {\n        return { valid: false, message: \"Password must contain at least one number.\" };\n    }\n\n    return { valid: true, message: \"Password is valid.\" };\n};\n\n/**\n * Validates name format (first name, last name)\n * Only allows letters, spaces, hyphens, and apostrophes\n * @param {string} name - The name to validate\n * @param {number} maxLength - Maximum allowed length (default: 30)\n * @returns {boolean} - True if valid, false otherwise\n */\nconst isValidName = (name, maxLength = 30) => {\n    if (!name || typeof name !== 'string') return false;\n    \n    const trimmedName = name.trim();\n    \n    // Must be between 2 and maxLength characters, only letters, spaces, hyphens, apostrophes\n    const nameRegex = /^[a-zA-Z\\u0600-\\u06FF\\s'-]{2,}$/;\n    \n    return nameRegex.test(trimmedName) && trimmedName.length <= maxLength;\n};\n\n/**\n * Sanitizes string input by trimming whitespace\n * @param {string} input - The input to sanitize\n * @returns {string} - Sanitized string or empty string if invalid\n */\nconst sanitizeString = (input) => {\n    if (!input || typeof input !== 'string') return '';\n    return input.trim();\n};\n\n/**\n * Validates that a string doesn't exceed a maximum length\n * @param {string} str - The string to validate\n * @param {number} maxLength - Maximum allowed length\n * @returns {boolean} - True if valid, false otherwise\n */\nconst isValidLength = (str, maxLength) => {\n    if (!str || typeof str !== 'string') return false;\n    return str.trim().length <= maxLength;\n};\n\nmodule.exports = {\n    isValidEmail,\n    isValidPhone,\n    isValidPassword,\n    isValidName,\n    sanitizeString,\n    isValidLength\n};\n"],"mappings":"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","ignoreList":[]}},"mtime":1764435289431},"{\"assumptions\":{},\"sourceRoot\":\"/workspaces/FixAppliance-eCommerce/back-end/src/middlewares/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/workspaces/FixAppliance-eCommerce/back-end\",\"filename\":\"/workspaces/FixAppliance-eCommerce/back-end/src/middlewares/auth.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/workspaces/FixAppliance-eCommerce/back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"_exploded\":true,\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"VoidPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/workspaces/FixAppliance-eCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$48\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/workspaces/FixAppliance-eCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$49\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n/**\n * The following middleware is responsible for authenticating the user before a route is called.\n * \n * There's a middleware for 3 entities: user, technician and freelancer.\n * \n * All of them have a similar structure:\n *      1. Get the entity's access token that's stored in the request cookies.\n *      2. Check if a token exists, if not, send a 401 with a please login message.\n *      3. If the token exists, try to decode the token by using JWT and verify it with the ENTITY_ACCESS_TOKEN from the .env file\n *      4. If the decode is successful, it adds the data stored in it in the request and uses next() to send it forward to the route's functionality\n *         If the decode is NOT successful, it clears the entity's token and sends a 401 with a please login message.\n * \n */\n\nvar asyncHandler = require(\"express-async-handler\");\nvar jwt = require(\"jsonwebtoken\");\n\n// Validation for the user \nvar userValidation = asyncHandler(/*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee(req, res, next) {\n    var token, decoded, _t;\n    return _regenerator[\"default\"].wrap(function (_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          // Gets token from the cookies passed in req\n          token = req.cookies.user_access_token; // Check if token exists, if not send a 401 with a please login message\n          if (token) {\n            _context.next = 1;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(401).json({\n            message: \"Please login to your account.\"\n          }));\n        case 1:\n          _context.prev = 1;\n          decoded = jwt.verify(token, process.env.USER_ACCESS_TOKEN);\n          req.userID = decoded.id;\n          req.userFirstName = decoded.firstName;\n          req.userLastName = decoded.lastName;\n          req.userEmail = decoded.email;\n          next();\n          _context.next = 3;\n          break;\n        case 2:\n          _context.prev = 2;\n          _t = _context[\"catch\"](1);\n          res.clearCookie('user_access_token');\n          return _context.abrupt(\"return\", res.status(401).json({\n            message: \"Please login to your account.\"\n          }));\n        case 3:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[1, 2]]);\n  }));\n  return function (_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}());\n\n// Validation for technician\nvar technicianValidation = asyncHandler(/*#__PURE__*/function () {\n  var _ref2 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(req, res, next) {\n    var token, decoded, _t2;\n    return _regenerator[\"default\"].wrap(function (_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          token = req.cookies.technician_access_token;\n          if (token) {\n            _context2.next = 1;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(401).json({\n            message: \"Please login to your account.\"\n          }));\n        case 1:\n          _context2.prev = 1;\n          decoded = jwt.verify(token, process.env.TECHNICIAN_ACCESS_TOKEN);\n          req.technicianID = decoded.id;\n          req.technicianFirstName = decoded.firstName;\n          req.technicianLastName = decoded.lastName;\n          req.technicianEmail = decoded.email;\n          next();\n          _context2.next = 3;\n          break;\n        case 2:\n          _context2.prev = 2;\n          _t2 = _context2[\"catch\"](1);\n          res.clearCookie('technician_access_token');\n          return _context2.abrupt(\"return\", res.status(401).json({\n            message: \"Please login to your account.\"\n          }));\n        case 3:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[1, 2]]);\n  }));\n  return function (_x4, _x5, _x6) {\n    return _ref2.apply(this, arguments);\n  };\n}());\n\n// Validation for freelancer\nvar freelancerValidation = asyncHandler(/*#__PURE__*/function () {\n  var _ref3 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee3(req, res, next) {\n    var token, decoded, _t3;\n    return _regenerator[\"default\"].wrap(function (_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          token = req.cookies.freelancer_access_token;\n          if (token) {\n            _context3.next = 1;\n            break;\n          }\n          return _context3.abrupt(\"return\", res.status(401).json({\n            message: \"Please login to your account.\"\n          }));\n        case 1:\n          _context3.prev = 1;\n          decoded = jwt.verify(token, process.env.FREELANCER_ACCESS_TOKEN);\n          req.freelancerID = decoded.id;\n          req.freelancerFirstName = decoded.firstName;\n          req.freelancerLastName = decoded.lastName;\n          req.freelancerEmail = decoded.email;\n          next();\n          _context3.next = 3;\n          break;\n        case 2:\n          _context3.prev = 2;\n          _t3 = _context3[\"catch\"](1);\n          res.clearCookie('freelancer_access_token');\n          return _context3.abrupt(\"return\", res.status(401).json({\n            message: \"Please login to your account.\"\n          }));\n        case 3:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3, null, [[1, 2]]);\n  }));\n  return function (_x7, _x8, _x9) {\n    return _ref3.apply(this, arguments);\n  };\n}());\nmodule.exports = {\n  userValidation: userValidation,\n  technicianValidation: technicianValidation,\n  freelancerValidation: freelancerValidation\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhc3luY0hhbmRsZXIiLCJyZXF1aXJlIiwiand0IiwidXNlclZhbGlkYXRpb24iLCJfcmVmIiwiX2FzeW5jVG9HZW5lcmF0b3IyIiwiX3JlZ2VuZXJhdG9yIiwibWFyayIsIl9jYWxsZWUiLCJyZXEiLCJyZXMiLCJuZXh0IiwidG9rZW4iLCJkZWNvZGVkIiwiX3QiLCJ3cmFwIiwiX2NvbnRleHQiLCJwcmV2IiwiY29va2llcyIsInVzZXJfYWNjZXNzX3Rva2VuIiwiYWJydXB0Iiwic3RhdHVzIiwianNvbiIsIm1lc3NhZ2UiLCJ2ZXJpZnkiLCJwcm9jZXNzIiwiZW52IiwiVVNFUl9BQ0NFU1NfVE9LRU4iLCJ1c2VySUQiLCJpZCIsInVzZXJGaXJzdE5hbWUiLCJmaXJzdE5hbWUiLCJ1c2VyTGFzdE5hbWUiLCJsYXN0TmFtZSIsInVzZXJFbWFpbCIsImVtYWlsIiwiY2xlYXJDb29raWUiLCJzdG9wIiwiX3giLCJfeDIiLCJfeDMiLCJhcHBseSIsImFyZ3VtZW50cyIsInRlY2huaWNpYW5WYWxpZGF0aW9uIiwiX3JlZjIiLCJfY2FsbGVlMiIsIl90MiIsIl9jb250ZXh0MiIsInRlY2huaWNpYW5fYWNjZXNzX3Rva2VuIiwiVEVDSE5JQ0lBTl9BQ0NFU1NfVE9LRU4iLCJ0ZWNobmljaWFuSUQiLCJ0ZWNobmljaWFuRmlyc3ROYW1lIiwidGVjaG5pY2lhbkxhc3ROYW1lIiwidGVjaG5pY2lhbkVtYWlsIiwiX3g0IiwiX3g1IiwiX3g2IiwiZnJlZWxhbmNlclZhbGlkYXRpb24iLCJfcmVmMyIsIl9jYWxsZWUzIiwiX3QzIiwiX2NvbnRleHQzIiwiZnJlZWxhbmNlcl9hY2Nlc3NfdG9rZW4iLCJGUkVFTEFOQ0VSX0FDQ0VTU19UT0tFTiIsImZyZWVsYW5jZXJJRCIsImZyZWVsYW5jZXJGaXJzdE5hbWUiLCJmcmVlbGFuY2VyTGFzdE5hbWUiLCJmcmVlbGFuY2VyRW1haWwiLCJfeDciLCJfeDgiLCJfeDkiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvd29ya3NwYWNlcy9GaXhBcHBsaWFuY2UtZUNvbW1lcmNlL2JhY2stZW5kL3NyYy9taWRkbGV3YXJlcy8iLCJzb3VyY2VzIjpbImF1dGguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBUaGUgZm9sbG93aW5nIG1pZGRsZXdhcmUgaXMgcmVzcG9uc2libGUgZm9yIGF1dGhlbnRpY2F0aW5nIHRoZSB1c2VyIGJlZm9yZSBhIHJvdXRlIGlzIGNhbGxlZC5cbiAqIFxuICogVGhlcmUncyBhIG1pZGRsZXdhcmUgZm9yIDMgZW50aXRpZXM6IHVzZXIsIHRlY2huaWNpYW4gYW5kIGZyZWVsYW5jZXIuXG4gKiBcbiAqIEFsbCBvZiB0aGVtIGhhdmUgYSBzaW1pbGFyIHN0cnVjdHVyZTpcbiAqICAgICAgMS4gR2V0IHRoZSBlbnRpdHkncyBhY2Nlc3MgdG9rZW4gdGhhdCdzIHN0b3JlZCBpbiB0aGUgcmVxdWVzdCBjb29raWVzLlxuICogICAgICAyLiBDaGVjayBpZiBhIHRva2VuIGV4aXN0cywgaWYgbm90LCBzZW5kIGEgNDAxIHdpdGggYSBwbGVhc2UgbG9naW4gbWVzc2FnZS5cbiAqICAgICAgMy4gSWYgdGhlIHRva2VuIGV4aXN0cywgdHJ5IHRvIGRlY29kZSB0aGUgdG9rZW4gYnkgdXNpbmcgSldUIGFuZCB2ZXJpZnkgaXQgd2l0aCB0aGUgRU5USVRZX0FDQ0VTU19UT0tFTiBmcm9tIHRoZSAuZW52IGZpbGVcbiAqICAgICAgNC4gSWYgdGhlIGRlY29kZSBpcyBzdWNjZXNzZnVsLCBpdCBhZGRzIHRoZSBkYXRhIHN0b3JlZCBpbiBpdCBpbiB0aGUgcmVxdWVzdCBhbmQgdXNlcyBuZXh0KCkgdG8gc2VuZCBpdCBmb3J3YXJkIHRvIHRoZSByb3V0ZSdzIGZ1bmN0aW9uYWxpdHlcbiAqICAgICAgICAgSWYgdGhlIGRlY29kZSBpcyBOT1Qgc3VjY2Vzc2Z1bCwgaXQgY2xlYXJzIHRoZSBlbnRpdHkncyB0b2tlbiBhbmQgc2VuZHMgYSA0MDEgd2l0aCBhIHBsZWFzZSBsb2dpbiBtZXNzYWdlLlxuICogXG4gKi9cblxuY29uc3QgYXN5bmNIYW5kbGVyID0gcmVxdWlyZShcImV4cHJlc3MtYXN5bmMtaGFuZGxlclwiKTtcbmNvbnN0IGp3dCA9IHJlcXVpcmUoXCJqc29ud2VidG9rZW5cIik7XG5cbi8vIFZhbGlkYXRpb24gZm9yIHRoZSB1c2VyIFxuY29uc3QgdXNlclZhbGlkYXRpb24gPSBhc3luY0hhbmRsZXIoYXN5bmMocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICAvLyBHZXRzIHRva2VuIGZyb20gdGhlIGNvb2tpZXMgcGFzc2VkIGluIHJlcVxuICAgIGNvbnN0IHRva2VuID0gcmVxLmNvb2tpZXMudXNlcl9hY2Nlc3NfdG9rZW47XG5cbiAgICAvLyBDaGVjayBpZiB0b2tlbiBleGlzdHMsIGlmIG5vdCBzZW5kIGEgNDAxIHdpdGggYSBwbGVhc2UgbG9naW4gbWVzc2FnZVxuICAgIGlmICghdG9rZW4pIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHttZXNzYWdlOiBcIlBsZWFzZSBsb2dpbiB0byB5b3VyIGFjY291bnQuXCJ9KTtcbiAgICB9XG5cbiAgICAvLyBJZiB0b2tlbiBleGlzdHMgdHJ5IHRvIGRlY29kZSBpdC5cbiAgICAvLyBJZiBkZWNvZGUgc3VjY2Vzc2Z1bCBnZXQgdGhlIGRhdGEgZnJvbSB0aGUgZGVjb2RlZCBhbmQgcGFzcyBpdCB0byB0aGUgcm91dGUncyBmdW5jdGlvbmFsaXR5J3MgcmVxLlxuICAgIC8vIElmIG5vdCBzdWNjZXNzZnVsLCBjbGVhciB0aGUgY29va2llLCB0aHJvdyBhIDQwMSBhbmQgc2VuZCBhIHBsZWFzZSBsb2dpbiBtZXNzYWdlLlxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGRlY29kZWQgPSBqd3QudmVyaWZ5KHRva2VuLCBwcm9jZXNzLmVudi5VU0VSX0FDQ0VTU19UT0tFTik7XG4gICAgICAgIHJlcS51c2VySUQgPSBkZWNvZGVkLmlkO1xuICAgICAgICByZXEudXNlckZpcnN0TmFtZSA9IGRlY29kZWQuZmlyc3ROYW1lO1xuICAgICAgICByZXEudXNlckxhc3ROYW1lID0gZGVjb2RlZC5sYXN0TmFtZTtcbiAgICAgICAgcmVxLnVzZXJFbWFpbCA9IGRlY29kZWQuZW1haWw7XG4gICAgICAgIG5leHQoKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgcmVzLmNsZWFyQ29va2llKCd1c2VyX2FjY2Vzc190b2tlbicpO1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oe21lc3NhZ2U6IFwiUGxlYXNlIGxvZ2luIHRvIHlvdXIgYWNjb3VudC5cIn0pO1xuICAgIH1cbn0pXG5cbi8vIFZhbGlkYXRpb24gZm9yIHRlY2huaWNpYW5cbmNvbnN0IHRlY2huaWNpYW5WYWxpZGF0aW9uID0gYXN5bmNIYW5kbGVyKGFzeW5jKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgY29uc3QgdG9rZW4gPSByZXEuY29va2llcy50ZWNobmljaWFuX2FjY2Vzc190b2tlbjtcblxuICAgIGlmICghdG9rZW4pIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHttZXNzYWdlOiBcIlBsZWFzZSBsb2dpbiB0byB5b3VyIGFjY291bnQuXCJ9KTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgICBjb25zdCBkZWNvZGVkID0gand0LnZlcmlmeSh0b2tlbiwgcHJvY2Vzcy5lbnYuVEVDSE5JQ0lBTl9BQ0NFU1NfVE9LRU4pO1xuICAgICAgICByZXEudGVjaG5pY2lhbklEID0gZGVjb2RlZC5pZDtcbiAgICAgICAgcmVxLnRlY2huaWNpYW5GaXJzdE5hbWUgPSBkZWNvZGVkLmZpcnN0TmFtZTtcbiAgICAgICAgcmVxLnRlY2huaWNpYW5MYXN0TmFtZSA9IGRlY29kZWQubGFzdE5hbWU7XG4gICAgICAgIHJlcS50ZWNobmljaWFuRW1haWwgPSBkZWNvZGVkLmVtYWlsO1xuICAgICAgICBuZXh0KCk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJlcy5jbGVhckNvb2tpZSgndGVjaG5pY2lhbl9hY2Nlc3NfdG9rZW4nKTtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHttZXNzYWdlOiBcIlBsZWFzZSBsb2dpbiB0byB5b3VyIGFjY291bnQuXCJ9KTtcbiAgICB9XG59KVxuXG4vLyBWYWxpZGF0aW9uIGZvciBmcmVlbGFuY2VyXG5jb25zdCBmcmVlbGFuY2VyVmFsaWRhdGlvbiA9IGFzeW5jSGFuZGxlcihhc3luYyhyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIGNvbnN0IHRva2VuID0gcmVxLmNvb2tpZXMuZnJlZWxhbmNlcl9hY2Nlc3NfdG9rZW47XG5cbiAgICBpZiAoIXRva2VuKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7bWVzc2FnZTogXCJQbGVhc2UgbG9naW4gdG8geW91ciBhY2NvdW50LlwifSk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZGVjb2RlZCA9IGp3dC52ZXJpZnkodG9rZW4sIHByb2Nlc3MuZW52LkZSRUVMQU5DRVJfQUNDRVNTX1RPS0VOKTtcbiAgICAgICAgcmVxLmZyZWVsYW5jZXJJRCA9IGRlY29kZWQuaWQ7XG4gICAgICAgIHJlcS5mcmVlbGFuY2VyRmlyc3ROYW1lID0gZGVjb2RlZC5maXJzdE5hbWU7XG4gICAgICAgIHJlcS5mcmVlbGFuY2VyTGFzdE5hbWUgPSBkZWNvZGVkLmxhc3ROYW1lO1xuICAgICAgICByZXEuZnJlZWxhbmNlckVtYWlsID0gZGVjb2RlZC5lbWFpbDtcbiAgICAgICAgbmV4dCgpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICByZXMuY2xlYXJDb29raWUoJ2ZyZWVsYW5jZXJfYWNjZXNzX3Rva2VuJyk7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7bWVzc2FnZTogXCJQbGVhc2UgbG9naW4gdG8geW91ciBhY2NvdW50LlwifSk7XG4gICAgfVxufSlcblxubW9kdWxlLmV4cG9ydHMgPSB7dXNlclZhbGlkYXRpb24sIHRlY2huaWNpYW5WYWxpZGF0aW9uLCBmcmVlbGFuY2VyVmFsaWRhdGlvbn07Il0sIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLElBQU1BLFlBQVksR0FBR0MsT0FBTyxDQUFDLHVCQUF1QixDQUFDO0FBQ3JELElBQU1DLEdBQUcsR0FBR0QsT0FBTyxDQUFDLGNBQWMsQ0FBQzs7QUFFbkM7QUFDQSxJQUFNRSxjQUFjLEdBQUdILFlBQVk7RUFBQSxJQUFBSSxJQUFBLE9BQUFDLGtCQUFBLDBCQUFBQyxZQUFBLFlBQUFDLElBQUEsQ0FBQyxTQUFBQyxRQUFNQyxHQUFHLEVBQUVDLEdBQUcsRUFBRUMsSUFBSTtJQUFBLElBQUFDLEtBQUEsRUFBQUMsT0FBQSxFQUFBQyxFQUFBO0lBQUEsT0FBQVIsWUFBQSxZQUFBUyxJQUFBLFdBQUFDLFFBQUE7TUFBQSxrQkFBQUEsUUFBQSxDQUFBQyxJQUFBLEdBQUFELFFBQUEsQ0FBQUwsSUFBQTtRQUFBO1VBQ3BEO1VBQ01DLEtBQUssR0FBR0gsR0FBRyxDQUFDUyxPQUFPLENBQUNDLGlCQUFpQixFQUUzQztVQUFBLElBQ0tQLEtBQUs7WUFBQUksUUFBQSxDQUFBTCxJQUFBO1lBQUE7VUFBQTtVQUFBLE9BQUFLLFFBQUEsQ0FBQUksTUFBQSxXQUNDVixHQUFHLENBQUNXLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1lBQUNDLE9BQU8sRUFBRTtVQUErQixDQUFDLENBQUM7UUFBQTtVQUFBUCxRQUFBLENBQUFDLElBQUE7VUFPakVKLE9BQU8sR0FBR1gsR0FBRyxDQUFDc0IsTUFBTSxDQUFDWixLQUFLLEVBQUVhLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxpQkFBaUIsQ0FBQztVQUNoRWxCLEdBQUcsQ0FBQ21CLE1BQU0sR0FBR2YsT0FBTyxDQUFDZ0IsRUFBRTtVQUN2QnBCLEdBQUcsQ0FBQ3FCLGFBQWEsR0FBR2pCLE9BQU8sQ0FBQ2tCLFNBQVM7VUFDckN0QixHQUFHLENBQUN1QixZQUFZLEdBQUduQixPQUFPLENBQUNvQixRQUFRO1VBQ25DeEIsR0FBRyxDQUFDeUIsU0FBUyxHQUFHckIsT0FBTyxDQUFDc0IsS0FBSztVQUM3QnhCLElBQUksQ0FBQyxDQUFDO1VBQUNLLFFBQUEsQ0FBQUwsSUFBQTtVQUFBO1FBQUE7VUFBQUssUUFBQSxDQUFBQyxJQUFBO1VBQUFILEVBQUEsR0FBQUUsUUFBQTtVQUVQTixHQUFHLENBQUMwQixXQUFXLENBQUMsbUJBQW1CLENBQUM7VUFBQyxPQUFBcEIsUUFBQSxDQUFBSSxNQUFBLFdBQzlCVixHQUFHLENBQUNXLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1lBQUNDLE9BQU8sRUFBRTtVQUErQixDQUFDLENBQUM7UUFBQTtRQUFBO1VBQUEsT0FBQVAsUUFBQSxDQUFBcUIsSUFBQTtNQUFBO0lBQUEsR0FBQTdCLE9BQUE7RUFBQSxDQUU5RTtFQUFBLGlCQUFBOEIsRUFBQSxFQUFBQyxHQUFBLEVBQUFDLEdBQUE7SUFBQSxPQUFBcEMsSUFBQSxDQUFBcUMsS0FBQSxPQUFBQyxTQUFBO0VBQUE7QUFBQSxJQUFDOztBQUVGO0FBQ0EsSUFBTUMsb0JBQW9CLEdBQUczQyxZQUFZO0VBQUEsSUFBQTRDLEtBQUEsT0FBQXZDLGtCQUFBLDBCQUFBQyxZQUFBLFlBQUFDLElBQUEsQ0FBQyxTQUFBc0MsU0FBTXBDLEdBQUcsRUFBRUMsR0FBRyxFQUFFQyxJQUFJO0lBQUEsSUFBQUMsS0FBQSxFQUFBQyxPQUFBLEVBQUFpQyxHQUFBO0lBQUEsT0FBQXhDLFlBQUEsWUFBQVMsSUFBQSxXQUFBZ0MsU0FBQTtNQUFBLGtCQUFBQSxTQUFBLENBQUE5QixJQUFBLEdBQUE4QixTQUFBLENBQUFwQyxJQUFBO1FBQUE7VUFDcERDLEtBQUssR0FBR0gsR0FBRyxDQUFDUyxPQUFPLENBQUM4Qix1QkFBdUI7VUFBQSxJQUU1Q3BDLEtBQUs7WUFBQW1DLFNBQUEsQ0FBQXBDLElBQUE7WUFBQTtVQUFBO1VBQUEsT0FBQW9DLFNBQUEsQ0FBQTNCLE1BQUEsV0FDQ1YsR0FBRyxDQUFDVyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztZQUFDQyxPQUFPLEVBQUU7VUFBK0IsQ0FBQyxDQUFDO1FBQUE7VUFBQXdCLFNBQUEsQ0FBQTlCLElBQUE7VUFJakVKLE9BQU8sR0FBR1gsR0FBRyxDQUFDc0IsTUFBTSxDQUFDWixLQUFLLEVBQUVhLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDdUIsdUJBQXVCLENBQUM7VUFDdEV4QyxHQUFHLENBQUN5QyxZQUFZLEdBQUdyQyxPQUFPLENBQUNnQixFQUFFO1VBQzdCcEIsR0FBRyxDQUFDMEMsbUJBQW1CLEdBQUd0QyxPQUFPLENBQUNrQixTQUFTO1VBQzNDdEIsR0FBRyxDQUFDMkMsa0JBQWtCLEdBQUd2QyxPQUFPLENBQUNvQixRQUFRO1VBQ3pDeEIsR0FBRyxDQUFDNEMsZUFBZSxHQUFHeEMsT0FBTyxDQUFDc0IsS0FBSztVQUNuQ3hCLElBQUksQ0FBQyxDQUFDO1VBQUNvQyxTQUFBLENBQUFwQyxJQUFBO1VBQUE7UUFBQTtVQUFBb0MsU0FBQSxDQUFBOUIsSUFBQTtVQUFBNkIsR0FBQSxHQUFBQyxTQUFBO1VBRVByQyxHQUFHLENBQUMwQixXQUFXLENBQUMseUJBQXlCLENBQUM7VUFBQyxPQUFBVyxTQUFBLENBQUEzQixNQUFBLFdBQ3BDVixHQUFHLENBQUNXLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1lBQUNDLE9BQU8sRUFBRTtVQUErQixDQUFDLENBQUM7UUFBQTtRQUFBO1VBQUEsT0FBQXdCLFNBQUEsQ0FBQVYsSUFBQTtNQUFBO0lBQUEsR0FBQVEsUUFBQTtFQUFBLENBRTlFO0VBQUEsaUJBQUFTLEdBQUEsRUFBQUMsR0FBQSxFQUFBQyxHQUFBO0lBQUEsT0FBQVosS0FBQSxDQUFBSCxLQUFBLE9BQUFDLFNBQUE7RUFBQTtBQUFBLElBQUM7O0FBRUY7QUFDQSxJQUFNZSxvQkFBb0IsR0FBR3pELFlBQVk7RUFBQSxJQUFBMEQsS0FBQSxPQUFBckQsa0JBQUEsMEJBQUFDLFlBQUEsWUFBQUMsSUFBQSxDQUFDLFNBQUFvRCxTQUFNbEQsR0FBRyxFQUFFQyxHQUFHLEVBQUVDLElBQUk7SUFBQSxJQUFBQyxLQUFBLEVBQUFDLE9BQUEsRUFBQStDLEdBQUE7SUFBQSxPQUFBdEQsWUFBQSxZQUFBUyxJQUFBLFdBQUE4QyxTQUFBO01BQUEsa0JBQUFBLFNBQUEsQ0FBQTVDLElBQUEsR0FBQTRDLFNBQUEsQ0FBQWxELElBQUE7UUFBQTtVQUNwREMsS0FBSyxHQUFHSCxHQUFHLENBQUNTLE9BQU8sQ0FBQzRDLHVCQUF1QjtVQUFBLElBRTVDbEQsS0FBSztZQUFBaUQsU0FBQSxDQUFBbEQsSUFBQTtZQUFBO1VBQUE7VUFBQSxPQUFBa0QsU0FBQSxDQUFBekMsTUFBQSxXQUNDVixHQUFHLENBQUNXLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1lBQUNDLE9BQU8sRUFBRTtVQUErQixDQUFDLENBQUM7UUFBQTtVQUFBc0MsU0FBQSxDQUFBNUMsSUFBQTtVQUlqRUosT0FBTyxHQUFHWCxHQUFHLENBQUNzQixNQUFNLENBQUNaLEtBQUssRUFBRWEsT0FBTyxDQUFDQyxHQUFHLENBQUNxQyx1QkFBdUIsQ0FBQztVQUN0RXRELEdBQUcsQ0FBQ3VELFlBQVksR0FBR25ELE9BQU8sQ0FBQ2dCLEVBQUU7VUFDN0JwQixHQUFHLENBQUN3RCxtQkFBbUIsR0FBR3BELE9BQU8sQ0FBQ2tCLFNBQVM7VUFDM0N0QixHQUFHLENBQUN5RCxrQkFBa0IsR0FBR3JELE9BQU8sQ0FBQ29CLFFBQVE7VUFDekN4QixHQUFHLENBQUMwRCxlQUFlLEdBQUd0RCxPQUFPLENBQUNzQixLQUFLO1VBQ25DeEIsSUFBSSxDQUFDLENBQUM7VUFBQ2tELFNBQUEsQ0FBQWxELElBQUE7VUFBQTtRQUFBO1VBQUFrRCxTQUFBLENBQUE1QyxJQUFBO1VBQUEyQyxHQUFBLEdBQUFDLFNBQUE7VUFFUG5ELEdBQUcsQ0FBQzBCLFdBQVcsQ0FBQyx5QkFBeUIsQ0FBQztVQUFDLE9BQUF5QixTQUFBLENBQUF6QyxNQUFBLFdBQ3BDVixHQUFHLENBQUNXLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1lBQUNDLE9BQU8sRUFBRTtVQUErQixDQUFDLENBQUM7UUFBQTtRQUFBO1VBQUEsT0FBQXNDLFNBQUEsQ0FBQXhCLElBQUE7TUFBQTtJQUFBLEdBQUFzQixRQUFBO0VBQUEsQ0FFOUU7RUFBQSxpQkFBQVMsR0FBQSxFQUFBQyxHQUFBLEVBQUFDLEdBQUE7SUFBQSxPQUFBWixLQUFBLENBQUFqQixLQUFBLE9BQUFDLFNBQUE7RUFBQTtBQUFBLElBQUM7QUFFRjZCLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHO0VBQUNyRSxjQUFjLEVBQWRBLGNBQWM7RUFBRXdDLG9CQUFvQixFQUFwQkEsb0JBQW9CO0VBQUVjLG9CQUFvQixFQUFwQkE7QUFBb0IsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["asyncHandler","require","jwt","userValidation","_ref","_asyncToGenerator2","_regenerator","mark","_callee","req","res","next","token","decoded","_t","wrap","_context","prev","cookies","user_access_token","abrupt","status","json","message","verify","process","env","USER_ACCESS_TOKEN","userID","id","userFirstName","firstName","userLastName","lastName","userEmail","email","clearCookie","stop","_x","_x2","_x3","apply","arguments","technicianValidation","_ref2","_callee2","_t2","_context2","technician_access_token","TECHNICIAN_ACCESS_TOKEN","technicianID","technicianFirstName","technicianLastName","technicianEmail","_x4","_x5","_x6","freelancerValidation","_ref3","_callee3","_t3","_context3","freelancer_access_token","FREELANCER_ACCESS_TOKEN","freelancerID","freelancerFirstName","freelancerLastName","freelancerEmail","_x7","_x8","_x9","module","exports"],"sourceRoot":"/workspaces/FixAppliance-eCommerce/back-end/src/middlewares/","sources":["auth.js"],"sourcesContent":["/**\n * The following middleware is responsible for authenticating the user before a route is called.\n * \n * There's a middleware for 3 entities: user, technician and freelancer.\n * \n * All of them have a similar structure:\n *      1. Get the entity's access token that's stored in the request cookies.\n *      2. Check if a token exists, if not, send a 401 with a please login message.\n *      3. If the token exists, try to decode the token by using JWT and verify it with the ENTITY_ACCESS_TOKEN from the .env file\n *      4. If the decode is successful, it adds the data stored in it in the request and uses next() to send it forward to the route's functionality\n *         If the decode is NOT successful, it clears the entity's token and sends a 401 with a please login message.\n * \n */\n\nconst asyncHandler = require(\"express-async-handler\");\nconst jwt = require(\"jsonwebtoken\");\n\n// Validation for the user \nconst userValidation = asyncHandler(async(req, res, next) => {\n    // Gets token from the cookies passed in req\n    const token = req.cookies.user_access_token;\n\n    // Check if token exists, if not send a 401 with a please login message\n    if (!token) {\n        return res.status(401).json({message: \"Please login to your account.\"});\n    }\n\n    // If token exists try to decode it.\n    // If decode successful get the data from the decoded and pass it to the route's functionality's req.\n    // If not successful, clear the cookie, throw a 401 and send a please login message.\n    try {\n        const decoded = jwt.verify(token, process.env.USER_ACCESS_TOKEN);\n        req.userID = decoded.id;\n        req.userFirstName = decoded.firstName;\n        req.userLastName = decoded.lastName;\n        req.userEmail = decoded.email;\n        next();\n    } catch (err) {\n        res.clearCookie('user_access_token');\n        return res.status(401).json({message: \"Please login to your account.\"});\n    }\n})\n\n// Validation for technician\nconst technicianValidation = asyncHandler(async(req, res, next) => {\n    const token = req.cookies.technician_access_token;\n\n    if (!token) {\n        return res.status(401).json({message: \"Please login to your account.\"});\n    }\n\n    try {\n        const decoded = jwt.verify(token, process.env.TECHNICIAN_ACCESS_TOKEN);\n        req.technicianID = decoded.id;\n        req.technicianFirstName = decoded.firstName;\n        req.technicianLastName = decoded.lastName;\n        req.technicianEmail = decoded.email;\n        next();\n    } catch (err) {\n        res.clearCookie('technician_access_token');\n        return res.status(401).json({message: \"Please login to your account.\"});\n    }\n})\n\n// Validation for freelancer\nconst freelancerValidation = asyncHandler(async(req, res, next) => {\n    const token = req.cookies.freelancer_access_token;\n\n    if (!token) {\n        return res.status(401).json({message: \"Please login to your account.\"});\n    }\n\n    try {\n        const decoded = jwt.verify(token, process.env.FREELANCER_ACCESS_TOKEN);\n        req.freelancerID = decoded.id;\n        req.freelancerFirstName = decoded.firstName;\n        req.freelancerLastName = decoded.lastName;\n        req.freelancerEmail = decoded.email;\n        next();\n    } catch (err) {\n        res.clearCookie('freelancer_access_token');\n        return res.status(401).json({message: \"Please login to your account.\"});\n    }\n})\n\nmodule.exports = {userValidation, technicianValidation, freelancerValidation};"],"mappings":"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","ignoreList":[]}},"mtime":1764435289430},"{\"assumptions\":{},\"sourceRoot\":\"/workspaces/FixAppliance-eCommerce/back-end/src/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/workspaces/FixAppliance-eCommerce/back-end\",\"filename\":\"/workspaces/FixAppliance-eCommerce/back-end/src/controllers/UserBookingController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/workspaces/FixAppliance-eCommerce/back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"_exploded\":true,\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"VoidPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/workspaces/FixAppliance-eCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$48\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/workspaces/FixAppliance-eCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$49\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n/**\n * This controller handles everything related to booking and the user:\n *  1. User requesting a booking\n *  2. User paying a booking\n *  3. User rating a booking\n *  4. user getting their bookings (pending/confirmed/in progress/completed/cancelled)\n */\n\nvar asyncHandler = require(\"express-async-handler\");\n\n// sql needed for the type definitions in .input\n// getPool is to do queries\nvar _require = require(\"../config/database\"),\n  getPool = _require.getPool,\n  sql = _require.sql;\n\n/**\n * Helper function to get bookings by status for a user\n * Reduces code duplication across the 5 getXBookings functions\n * @param {number} userID - The user's ID\n * @param {string} status - The booking status to filter by\n * @param {string} statusDisplayName - Human-readable status name for messages\n * @returns {Promise<{success: boolean, data?: object, error?: string, statusCode: number}>}\n */\nvar getBookingsByStatus = /*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee(userID, status, statusDisplayName) {\n    var pool, bookings, _t;\n    return _regenerator[\"default\"].wrap(function (_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          pool = getPool();\n          _context.next = 1;\n          return pool.request().input(\"userID\", sql.Int, userID).input(\"status\", sql.VarChar, status).query(\"\\n                SELECT \\n                    Booking.Booking_ID, \\n                    Booking.Booking_Date AS \\\"Scheduled Date\\\", \\n                    Booking.Booking_Time AS \\\"Scheduled Time\\\", \\n                    Booking.Total_Price AS \\\"Total Price\\\", \\n                    Appliance_Type.nameEN AS \\\"Appliance's Name (EN)\\\", \\n                    Appliance_Type.nameAR AS \\\"Appliance's Name (AR)\\\",\\n                    Booking.Issue_Description AS \\\"Issue Description\\\",\\n                    Technician.First_Name AS \\\"Technician's First Name\\\",\\n                    Technician.Last_Name AS \\\"Technician's Last Name\\\",\\n                    Technician.Phone AS \\\"Technician's Phone Number\\\",\\n                    Payment.[Status] AS \\\"Payment Status\\\",\\n                    Payment.Payment_Method AS \\\"Payment Method\\\"\\n                FROM Booking\\n                LEFT JOIN Technician ON Booking.Technician_ID = Technician.Technician_ID\\n                LEFT JOIN Payment ON Booking.Booking_ID = Payment.Booking_ID\\n                JOIN Appliance_Type ON Booking.Appliance_Type_ID = Appliance_Type.Appliance_Type_ID\\n                WHERE Booking.UserID = @userID AND Booking.[Status] = @status\\n                ORDER BY Booking.Booking_Date ASC, Booking.Booking_Time ASC\\n            \");\n        case 1:\n          bookings = _context.sent;\n          if (!(bookings.recordset.length === 0)) {\n            _context.next = 2;\n            break;\n          }\n          return _context.abrupt(\"return\", {\n            success: true,\n            statusCode: 200,\n            data: {\n              message: \"You don't have any \".concat(statusDisplayName, \" bookings.\"),\n              count: 0,\n              bookings: []\n            }\n          });\n        case 2:\n          return _context.abrupt(\"return\", {\n            success: true,\n            statusCode: 200,\n            data: {\n              message: \"You have \".concat(statusDisplayName, \" bookings!\"),\n              count: bookings.recordset.length,\n              bookings: bookings.recordset\n            }\n          });\n        case 3:\n          _context.prev = 3;\n          _t = _context[\"catch\"](0);\n          console.error(\"Unexpected error occurred when trying to fetch \".concat(statusDisplayName, \" bookings:\"), _t);\n          return _context.abrupt(\"return\", {\n            success: false,\n            statusCode: 500,\n            error: \"Unexpected error occurred when trying to fetch your \".concat(statusDisplayName, \" bookings.\")\n          });\n        case 4:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[0, 3]]);\n  }));\n  return function getBookingsByStatus(_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\n// User requesting a new booking\nvar userRequestBooking = asyncHandler(/*#__PURE__*/function () {\n  var _ref2 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(req, res) {\n    var _req$body, applianceTypeID, issueDescription, bookingDate, bookingTime, paymentMethod, userID, validPaymentMethods, timeRegex, cleanTime, pool, applianceType, basePrice, commissionRate, platformFee, transaction, bookingResult, bookingID, _t2, _t3;\n    return _regenerator[\"default\"].wrap(function (_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          // Getting all user input from the request's body and the userID as well passed by the middleware that validates user's login credentials\n          _req$body = req.body, applianceTypeID = _req$body.applianceTypeID, issueDescription = _req$body.issueDescription, bookingDate = _req$body.bookingDate, bookingTime = _req$body.bookingTime, paymentMethod = _req$body.paymentMethod;\n          userID = req.userID; // If any of the inputs arent provided then throw a 400 error\n          if (!(!applianceTypeID || !issueDescription || !bookingDate || !bookingTime || !paymentMethod)) {\n            _context2.next = 1;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(400).json({\n            message: \"All booking details are required: the appliance, a description for the issue, date and time.\"\n          }));\n        case 1:\n          // Validate the payment method such that it's one of the accepted ones\n          validPaymentMethods = ['cash', 'credit_card', 'debit_card', 'whish', 'omt'];\n          if (validPaymentMethods.includes(paymentMethod)) {\n            _context2.next = 2;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(400).json({\n            message: \"Invalid payment method. Choose either cash, credit_card, debit_card, whish or omt.\"\n          }));\n        case 2:\n          // Validating the time format passed using regex, if doesnt pass then throw a 400 of invalid time format\n          timeRegex = /^([0-1]?[0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]$/;\n          cleanTime = bookingTime.trim();\n          if (timeRegex.test(cleanTime)) {\n            _context2.next = 3;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(400).json({\n            message: \"Invalid time format. Use HH:MM:SS (e.g., 14:30:00)\"\n          }));\n        case 3:\n          _context2.prev = 3;\n          pool = getPool(); // Verifying the appliance type that was passed through the body\n          // Has to be active and has to match the appliance type ID passed by the user\n          _context2.next = 4;\n          return pool.request().input(\"applianceTypeID\", sql.Int, applianceTypeID).query(\"\\n                SELECT Base_Price \\n                FROM Appliance_Type\\n                WHERE Appliance_Type_ID = @applianceTypeID AND isActive = 1\\n                \");\n        case 4:\n          applianceType = _context2.sent;\n          if (!(applianceType.recordset.length === 0)) {\n            _context2.next = 5;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(404).json({\n            message: \"Invalid appliance type chosen.\"\n          }));\n        case 5:\n          // Getting the base price of the appliance type chosen to specify the price of the booking\n          basePrice = applianceType.recordset[0].Base_Price; // Calculating the platform fee for the payment table based on the base price\n          commissionRate = 15.00;\n          platformFee = basePrice * commissionRate / 100; // Starting a transaction so the booking and payment are created together\n          transaction = pool.transaction();\n          _context2.next = 6;\n          return transaction.begin();\n        case 6:\n          _context2.prev = 6;\n          _context2.next = 7;\n          return transaction.request().input(\"userID\", sql.Int, userID).input(\"applianceTypeID\", sql.Int, applianceTypeID).input(\"issueDescription\", sql.NVarChar, issueDescription).input(\"bookingDate\", sql.Date, bookingDate).input(\"bookingTime\", sql.VarChar(8), cleanTime).input(\"basePrice\", sql.Decimal(10, 2), basePrice).query(\"\\n            INSERT INTO Booking (UserID, Appliance_Type_ID, Issue_Description, Booking_Date, Booking_Time, [Status], Total_Price)\\n            OUTPUT INSERTED.Booking_ID -- just so we could use the bookingID later using the result of this query.\\n            VALUES(@userID, @applianceTypeID, @issueDescription, @bookingDate, CAST(@bookingTime AS TIME), 'pending', @basePrice)\\n            \");\n        case 7:\n          bookingResult = _context2.sent;\n          // Getting the booking id from the above query's result (it outputs the booking id)\n          bookingID = bookingResult.recordset[0].Booking_ID; // Insert the payment data and set it to pending status until the user confirms the payment\n          _context2.next = 8;\n          return transaction.request().input(\"bookingID\", sql.Int, bookingID).input(\"amount\", sql.Decimal(10, 2), basePrice).input(\"paymentMethod\", sql.VarChar, paymentMethod).input(\"commissionRate\", sql.Decimal(5, 2), commissionRate).input(\"platformFee\", sql.Decimal(10, 2), platformFee).query(\"\\n                        INSERT INTO Payment (Booking_ID, Amount, Payment_Method, [Status], Commission_Rate, Platform_Fee)\\n                        VALUES(@bookingID, @amount, @paymentMethod, 'pending', @commissionRate, @platformFee)\\n                        \");\n        case 8:\n          _context2.next = 9;\n          return transaction.commit();\n        case 9:\n          // Sending a 201 success message with some information passed\n          res.status(201).json({\n            message: \"Successfully booked! A technician will be assigned soon.\",\n            bookingID: bookingID,\n            totalPrice: basePrice,\n            paymentMethod: paymentMethod,\n            paymentStatus: \"pending\"\n          });\n          _context2.next = 12;\n          break;\n        case 10:\n          _context2.prev = 10;\n          _t2 = _context2[\"catch\"](6);\n          _context2.next = 11;\n          return transaction.rollback();\n        case 11:\n          throw _t2;\n        case 12:\n          _context2.next = 15;\n          break;\n        case 13:\n          _context2.prev = 13;\n          _t3 = _context2[\"catch\"](3);\n          console.error(\"Unexpected error occurred when booking:\", _t3);\n\n          // If any data is wrong then this error is thrown (wrong appliance type and wrong/invalid date)\n          if (!(_t3.number === 547)) {\n            _context2.next = 14;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(400).json({\n            message: \"Invalid booking data. Please check your appliance type, date, and ensure it's today or in the future.\"\n          }));\n        case 14:\n          res.status(500).json({\n            message: \"An unexpected error occurred while booking.\"\n          });\n        case 15:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[3, 13], [6, 10]]);\n  }));\n  return function (_x4, _x5) {\n    return _ref2.apply(this, arguments);\n  };\n}());\n\n// User paying a booking functionality\nvar userPayBooking = asyncHandler(/*#__PURE__*/function () {\n  var _ref3 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee3(req, res) {\n    var _req$body2, bookingID, transactionID, userID, pool, checkBooking, booking, transactionIdMethods, _t4;\n    return _regenerator[\"default\"].wrap(function (_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          // Getting the booking id and the transaction id (if non-cash method) from the body, and the user id passed by the authentication middleware\n          _req$body2 = req.body, bookingID = _req$body2.bookingID, transactionID = _req$body2.transactionID;\n          userID = req.userID; // If no bookingID is passed then throw a 400 error. Not passing the transactionID is fine if the method is cash.\n          if (bookingID) {\n            _context3.next = 1;\n            break;\n          }\n          return _context3.abrupt(\"return\", res.status(400).json({\n            message: \"Booking ID must be passed.\"\n          }));\n        case 1:\n          _context3.prev = 1;\n          pool = getPool(); // Checking if the bookingID passed is valid\n          _context3.next = 2;\n          return pool.request().input(\"bookingID\", sql.Int, bookingID).input(\"userID\", sql.Int, userID).query(\"\\n                SELECT b.Booking_ID, b.[Status], b.UserID, p.Payment_ID, p.[Status] AS Payment_Status, p.Payment_Method\\n                FROM Booking b\\n                JOIN Payment p ON b.Booking_ID = p.Booking_ID\\n                WHERE b.Booking_ID = @bookingID\\n                \");\n        case 2:\n          checkBooking = _context3.sent;\n          if (!(checkBooking.recordset.length === 0)) {\n            _context3.next = 3;\n            break;\n          }\n          return _context3.abrupt(\"return\", res.status(404).json({\n            message: \"Booking not found\"\n          }));\n        case 3:\n          // Getting the first row of the returned result\n          booking = checkBooking.recordset[0]; // Checking if the booking's userID matches the current logged in's userID, if it doesn't then throw a 403\n          // since the user isn't authorized to pay for this booking.\n          if (!(booking.UserID !== userID)) {\n            _context3.next = 4;\n            break;\n          }\n          return _context3.abrupt(\"return\", res.status(403).json({\n            message: \"You are not authorized to pay for this booking since it's not yours.\"\n          }));\n        case 4:\n          if (!(booking.Status === 'cancelled')) {\n            _context3.next = 5;\n            break;\n          }\n          return _context3.abrupt(\"return\", res.status(400).json({\n            message: \"Cannot pay for a cancelled booking!\"\n          }));\n        case 5:\n          if (!(booking.Status === 'completed')) {\n            _context3.next = 6;\n            break;\n          }\n          return _context3.abrupt(\"return\", res.status(400).json({\n            message: \"Cannot pay for a booking that's already paid for.\"\n          }));\n        case 6:\n          if (!(booking.Payment_Status === 'completed')) {\n            _context3.next = 7;\n            break;\n          }\n          return _context3.abrupt(\"return\", res.status(400).json({\n            message: \"This booking has already been paid.\"\n          }));\n        case 7:\n          // Ensuring that transactionID is passed when the payment method is anything but a cash method\n          // If there is no transactionID, and the payment method isnt cash, then throw a 400 error\n          transactionIdMethods = ['credit_card', 'debit_card', 'whish', 'omt'];\n          if (!(transactionIdMethods.includes(booking.Payment_Method) && !transactionID)) {\n            _context3.next = 8;\n            break;\n          }\n          return _context3.abrupt(\"return\", res.status(400).json({\n            message: \"Transaction ID is needed for this payment method!\"\n          }));\n        case 8:\n          _context3.next = 9;\n          return pool.request().input(\"bookingID\", sql.Int, bookingID).input(\"transactionID\", sql.VarChar, transactionID || null).query(\"\\n                UPDATE Payment\\n                SET [Status] = 'completed',\\n                    Transaction_ID = @transactionID,\\n                    paidAt = GETDATE()\\n                WHERE Booking_ID = @bookingID\\n                \");\n        case 9:\n          // Send a success message with the booking id and payment status as completed\n          res.status(200).json({\n            message: \"Payment completed.\",\n            bookingID: bookingID,\n            paymentStatus: \"completed\"\n          });\n          _context3.next = 12;\n          break;\n        case 10:\n          _context3.prev = 10;\n          _t4 = _context3[\"catch\"](1);\n          // Throws an error in case the booking id is invalid, or any other unexpected issue that occurred\n          console.error(\"Unexpected error occurred when processing payment:\", _t4);\n          if (!(_t4.number === 547)) {\n            _context3.next = 11;\n            break;\n          }\n          return _context3.abrupt(\"return\", res.status(400).json({\n            message: \"Invalid booking ID.\"\n          }));\n        case 11:\n          res.status(500).json({\n            message: \"An unexpected error occurred when processing the payment.\"\n          });\n        case 12:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3, null, [[1, 10]]);\n  }));\n  return function (_x6, _x7) {\n    return _ref3.apply(this, arguments);\n  };\n}());\n\n// User rating a booking functionality\nvar userRateBooking = asyncHandler(/*#__PURE__*/function () {\n  var _ref4 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee4(req, res) {\n    var _req$body3, bookingID, ratingScore, reviewText, userID, pool, checkBooking, booking, existingRating, _t5;\n    return _regenerator[\"default\"].wrap(function (_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          // Getting the needed input from the passed body and the userID passed from the middleware\n          _req$body3 = req.body, bookingID = _req$body3.bookingID, ratingScore = _req$body3.ratingScore, reviewText = _req$body3.reviewText;\n          userID = req.userID; // If the needed values are empty then throw a 400 error\n          if (!(!bookingID || !ratingScore || !reviewText)) {\n            _context4.next = 1;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(400).json({\n            message: \"You have to pass a booking ID, rating score and review text to rate a booking.\"\n          }));\n        case 1:\n          if (!(!Number.isInteger(ratingScore) || ratingScore < 1 || ratingScore > 5)) {\n            _context4.next = 2;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(400).json({\n            message: \"Rating score must be a number between 1 and 5!\"\n          }));\n        case 2:\n          if (!(reviewText.trim().length < 15)) {\n            _context4.next = 3;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(400).json({\n            message: \"Please write your review text longer, that's too short.\"\n          }));\n        case 3:\n          _context4.prev = 3;\n          pool = getPool(); // Check if the booking id passed exists\n          _context4.next = 4;\n          return pool.request().input(\"bookingID\", sql.Int, bookingID).input(\"userID\", sql.Int, userID).query(\"\\n                SELECT b.Booking_ID, b.UserID, b.Technician_ID, b.[Status]\\n                FROM Booking b\\n                WHERE b.Booking_ID = @bookingID\\n                \");\n        case 4:\n          checkBooking = _context4.sent;\n          if (!(checkBooking.recordset.length === 0)) {\n            _context4.next = 5;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(404).json({\n            message: \"Booking not found.\"\n          }));\n        case 5:\n          // Get the first booking row\n          booking = checkBooking.recordset[0]; // Check if the booking's user id matches the userid of the logged in user, if not then throw a 403 error\n          if (!(booking.UserID !== userID)) {\n            _context4.next = 6;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(403).json({\n            message: \"You are not authorized to review this booking since it's not yours!\"\n          }));\n        case 6:\n          if (booking.Technician_ID) {\n            _context4.next = 7;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(400).json({\n            message: \"Cannot rate a booking without an assigned technician.\"\n          }));\n        case 7:\n          if (!(booking.Status !== 'completed')) {\n            _context4.next = 8;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(400).json({\n            message: \"You can only rate completed bookings.\"\n          }));\n        case 8:\n          _context4.next = 9;\n          return pool.request().input(\"bookingID\", sql.Int, bookingID).query(\"SELECT Rating_ID \\n                    FROM Rating \\n                    WHERE Booking_ID = @bookingID\");\n        case 9:\n          existingRating = _context4.sent;\n          if (!(existingRating.recordset.length > 0)) {\n            _context4.next = 10;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(409).json({\n            message: \"This booking has already been rated before!\"\n          }));\n        case 10:\n          _context4.next = 11;\n          return pool.request().input(\"bookingID\", sql.Int, bookingID).input(\"userID\", sql.Int, userID).input(\"technicianID\", sql.Int, booking.Technician_ID).input(\"ratingScore\", sql.SmallInt, ratingScore).input(\"reviewText\", sql.NVarChar, reviewText.trim()).query(\"\\n                INSERT INTO Rating (Booking_ID, User_ID, Technician_ID, Rating_Score, Review_Text)\\n                VALUES(@bookingID, @userID, @technicianID, @ratingScore, @reviewText)\\n                \");\n        case 11:\n          // Send a 201 success message\n          res.status(201).json({\n            message: \"Successfully rated this booking!\",\n            bookingID: bookingID,\n            technicianID: booking.Technician_ID,\n            ratingScore: ratingScore\n          });\n          _context4.next = 15;\n          break;\n        case 12:\n          _context4.prev = 12;\n          _t5 = _context4[\"catch\"](3);\n          console.error(\"Unexpected error occurred when trying to rate a booking:\", _t5);\n\n          // Constraint violation handling\n          if (!(_t5.number === 547)) {\n            _context4.next = 13;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(400).json({\n            message: \"Invalid rating data, please check your inputs.\"\n          }));\n        case 13:\n          if (!(_t5.number === 2627)) {\n            _context4.next = 14;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(409).json({\n            message: \"This booking has already been rated.\"\n          }));\n        case 14:\n          res.status(500).json({\n            message: \"Unexpected error occurred when trying to rate a booking.\"\n          });\n        case 15:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4, null, [[3, 12]]);\n  }));\n  return function (_x8, _x9) {\n    return _ref4.apply(this, arguments);\n  };\n}());\n\n// The below methods get different types of bookings of the user: pending, confirmed, in progress, completed, cancelled\n// All use the helper function getBookingsByStatus to reduce code duplication\nvar getPendingBookings = asyncHandler(/*#__PURE__*/function () {\n  var _ref5 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee5(req, res) {\n    var userID, result;\n    return _regenerator[\"default\"].wrap(function (_context5) {\n      while (1) switch (_context5.prev = _context5.next) {\n        case 0:\n          userID = req.userID;\n          _context5.next = 1;\n          return getBookingsByStatus(userID, 'pending', 'pending');\n        case 1:\n          result = _context5.sent;\n          if (!result.success) {\n            _context5.next = 2;\n            break;\n          }\n          return _context5.abrupt(\"return\", res.status(result.statusCode).json(result.data));\n        case 2:\n          return _context5.abrupt(\"return\", res.status(result.statusCode).json({\n            message: result.error\n          }));\n        case 3:\n        case \"end\":\n          return _context5.stop();\n      }\n    }, _callee5);\n  }));\n  return function (_x0, _x1) {\n    return _ref5.apply(this, arguments);\n  };\n}());\nvar getConfirmedBookings = asyncHandler(/*#__PURE__*/function () {\n  var _ref6 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee6(req, res) {\n    var userID, result;\n    return _regenerator[\"default\"].wrap(function (_context6) {\n      while (1) switch (_context6.prev = _context6.next) {\n        case 0:\n          userID = req.userID;\n          _context6.next = 1;\n          return getBookingsByStatus(userID, 'confirmed', 'confirmed');\n        case 1:\n          result = _context6.sent;\n          if (!result.success) {\n            _context6.next = 2;\n            break;\n          }\n          return _context6.abrupt(\"return\", res.status(result.statusCode).json(result.data));\n        case 2:\n          return _context6.abrupt(\"return\", res.status(result.statusCode).json({\n            message: result.error\n          }));\n        case 3:\n        case \"end\":\n          return _context6.stop();\n      }\n    }, _callee6);\n  }));\n  return function (_x10, _x11) {\n    return _ref6.apply(this, arguments);\n  };\n}());\nvar getInProgressBookings = asyncHandler(/*#__PURE__*/function () {\n  var _ref7 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee7(req, res) {\n    var userID, result;\n    return _regenerator[\"default\"].wrap(function (_context7) {\n      while (1) switch (_context7.prev = _context7.next) {\n        case 0:\n          userID = req.userID;\n          _context7.next = 1;\n          return getBookingsByStatus(userID, 'in_progress', 'in progress');\n        case 1:\n          result = _context7.sent;\n          if (!result.success) {\n            _context7.next = 2;\n            break;\n          }\n          return _context7.abrupt(\"return\", res.status(result.statusCode).json(result.data));\n        case 2:\n          return _context7.abrupt(\"return\", res.status(result.statusCode).json({\n            message: result.error\n          }));\n        case 3:\n        case \"end\":\n          return _context7.stop();\n      }\n    }, _callee7);\n  }));\n  return function (_x12, _x13) {\n    return _ref7.apply(this, arguments);\n  };\n}());\nvar getCompletedBookings = asyncHandler(/*#__PURE__*/function () {\n  var _ref8 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee8(req, res) {\n    var userID, result;\n    return _regenerator[\"default\"].wrap(function (_context8) {\n      while (1) switch (_context8.prev = _context8.next) {\n        case 0:\n          userID = req.userID;\n          _context8.next = 1;\n          return getBookingsByStatus(userID, 'completed', 'completed');\n        case 1:\n          result = _context8.sent;\n          if (!result.success) {\n            _context8.next = 2;\n            break;\n          }\n          return _context8.abrupt(\"return\", res.status(result.statusCode).json(result.data));\n        case 2:\n          return _context8.abrupt(\"return\", res.status(result.statusCode).json({\n            message: result.error\n          }));\n        case 3:\n        case \"end\":\n          return _context8.stop();\n      }\n    }, _callee8);\n  }));\n  return function (_x14, _x15) {\n    return _ref8.apply(this, arguments);\n  };\n}());\nvar getCancelledBookings = asyncHandler(/*#__PURE__*/function () {\n  var _ref9 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee9(req, res) {\n    var userID, result;\n    return _regenerator[\"default\"].wrap(function (_context9) {\n      while (1) switch (_context9.prev = _context9.next) {\n        case 0:\n          userID = req.userID;\n          _context9.next = 1;\n          return getBookingsByStatus(userID, 'cancelled', 'cancelled');\n        case 1:\n          result = _context9.sent;\n          if (!result.success) {\n            _context9.next = 2;\n            break;\n          }\n          return _context9.abrupt(\"return\", res.status(result.statusCode).json(result.data));\n        case 2:\n          return _context9.abrupt(\"return\", res.status(result.statusCode).json({\n            message: result.error\n          }));\n        case 3:\n        case \"end\":\n          return _context9.stop();\n      }\n    }, _callee9);\n  }));\n  return function (_x16, _x17) {\n    return _ref9.apply(this, arguments);\n  };\n}());\nmodule.exports = {\n  userRequestBooking: userRequestBooking,\n  userPayBooking: userPayBooking,\n  userRateBooking: userRateBooking,\n  getPendingBookings: getPendingBookings,\n  getConfirmedBookings: getConfirmedBookings,\n  getInProgressBookings: getInProgressBookings,\n  getCompletedBookings: getCompletedBookings,\n  getCancelledBookings: getCancelledBookings\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhc3luY0hhbmRsZXIiLCJyZXF1aXJlIiwiX3JlcXVpcmUiLCJnZXRQb29sIiwic3FsIiwiZ2V0Qm9va2luZ3NCeVN0YXR1cyIsIl9yZWYiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJfcmVnZW5lcmF0b3IiLCJtYXJrIiwiX2NhbGxlZSIsInVzZXJJRCIsInN0YXR1cyIsInN0YXR1c0Rpc3BsYXlOYW1lIiwicG9vbCIsImJvb2tpbmdzIiwiX3QiLCJ3cmFwIiwiX2NvbnRleHQiLCJwcmV2IiwibmV4dCIsInJlcXVlc3QiLCJpbnB1dCIsIkludCIsIlZhckNoYXIiLCJxdWVyeSIsInNlbnQiLCJyZWNvcmRzZXQiLCJsZW5ndGgiLCJhYnJ1cHQiLCJzdWNjZXNzIiwic3RhdHVzQ29kZSIsImRhdGEiLCJtZXNzYWdlIiwiY29uY2F0IiwiY291bnQiLCJjb25zb2xlIiwiZXJyb3IiLCJzdG9wIiwiX3giLCJfeDIiLCJfeDMiLCJhcHBseSIsImFyZ3VtZW50cyIsInVzZXJSZXF1ZXN0Qm9va2luZyIsIl9yZWYyIiwiX2NhbGxlZTIiLCJyZXEiLCJyZXMiLCJfcmVxJGJvZHkiLCJhcHBsaWFuY2VUeXBlSUQiLCJpc3N1ZURlc2NyaXB0aW9uIiwiYm9va2luZ0RhdGUiLCJib29raW5nVGltZSIsInBheW1lbnRNZXRob2QiLCJ2YWxpZFBheW1lbnRNZXRob2RzIiwidGltZVJlZ2V4IiwiY2xlYW5UaW1lIiwiYXBwbGlhbmNlVHlwZSIsImJhc2VQcmljZSIsImNvbW1pc3Npb25SYXRlIiwicGxhdGZvcm1GZWUiLCJ0cmFuc2FjdGlvbiIsImJvb2tpbmdSZXN1bHQiLCJib29raW5nSUQiLCJfdDIiLCJfdDMiLCJfY29udGV4dDIiLCJib2R5IiwianNvbiIsImluY2x1ZGVzIiwidHJpbSIsInRlc3QiLCJCYXNlX1ByaWNlIiwiYmVnaW4iLCJOVmFyQ2hhciIsIkRhdGUiLCJEZWNpbWFsIiwiQm9va2luZ19JRCIsImNvbW1pdCIsInRvdGFsUHJpY2UiLCJwYXltZW50U3RhdHVzIiwicm9sbGJhY2siLCJudW1iZXIiLCJfeDQiLCJfeDUiLCJ1c2VyUGF5Qm9va2luZyIsIl9yZWYzIiwiX2NhbGxlZTMiLCJfcmVxJGJvZHkyIiwidHJhbnNhY3Rpb25JRCIsImNoZWNrQm9va2luZyIsImJvb2tpbmciLCJ0cmFuc2FjdGlvbklkTWV0aG9kcyIsIl90NCIsIl9jb250ZXh0MyIsIlVzZXJJRCIsIlN0YXR1cyIsIlBheW1lbnRfU3RhdHVzIiwiUGF5bWVudF9NZXRob2QiLCJfeDYiLCJfeDciLCJ1c2VyUmF0ZUJvb2tpbmciLCJfcmVmNCIsIl9jYWxsZWU0IiwiX3JlcSRib2R5MyIsInJhdGluZ1Njb3JlIiwicmV2aWV3VGV4dCIsImV4aXN0aW5nUmF0aW5nIiwiX3Q1IiwiX2NvbnRleHQ0IiwiTnVtYmVyIiwiaXNJbnRlZ2VyIiwiVGVjaG5pY2lhbl9JRCIsIlNtYWxsSW50IiwidGVjaG5pY2lhbklEIiwiX3g4IiwiX3g5IiwiZ2V0UGVuZGluZ0Jvb2tpbmdzIiwiX3JlZjUiLCJfY2FsbGVlNSIsInJlc3VsdCIsIl9jb250ZXh0NSIsIl94MCIsIl94MSIsImdldENvbmZpcm1lZEJvb2tpbmdzIiwiX3JlZjYiLCJfY2FsbGVlNiIsIl9jb250ZXh0NiIsIl94MTAiLCJfeDExIiwiZ2V0SW5Qcm9ncmVzc0Jvb2tpbmdzIiwiX3JlZjciLCJfY2FsbGVlNyIsIl9jb250ZXh0NyIsIl94MTIiLCJfeDEzIiwiZ2V0Q29tcGxldGVkQm9va2luZ3MiLCJfcmVmOCIsIl9jYWxsZWU4IiwiX2NvbnRleHQ4IiwiX3gxNCIsIl94MTUiLCJnZXRDYW5jZWxsZWRCb29raW5ncyIsIl9yZWY5IiwiX2NhbGxlZTkiLCJfY29udGV4dDkiLCJfeDE2IiwiX3gxNyIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii93b3Jrc3BhY2VzL0ZpeEFwcGxpYW5jZS1lQ29tbWVyY2UvYmFjay1lbmQvc3JjL2NvbnRyb2xsZXJzLyIsInNvdXJjZXMiOlsiVXNlckJvb2tpbmdDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGhpcyBjb250cm9sbGVyIGhhbmRsZXMgZXZlcnl0aGluZyByZWxhdGVkIHRvIGJvb2tpbmcgYW5kIHRoZSB1c2VyOlxuICogIDEuIFVzZXIgcmVxdWVzdGluZyBhIGJvb2tpbmdcbiAqICAyLiBVc2VyIHBheWluZyBhIGJvb2tpbmdcbiAqICAzLiBVc2VyIHJhdGluZyBhIGJvb2tpbmdcbiAqICA0LiB1c2VyIGdldHRpbmcgdGhlaXIgYm9va2luZ3MgKHBlbmRpbmcvY29uZmlybWVkL2luIHByb2dyZXNzL2NvbXBsZXRlZC9jYW5jZWxsZWQpXG4gKi9cblxuY29uc3QgYXN5bmNIYW5kbGVyID0gcmVxdWlyZShcImV4cHJlc3MtYXN5bmMtaGFuZGxlclwiKTtcblxuXG4vLyBzcWwgbmVlZGVkIGZvciB0aGUgdHlwZSBkZWZpbml0aW9ucyBpbiAuaW5wdXRcbi8vIGdldFBvb2wgaXMgdG8gZG8gcXVlcmllc1xuY29uc3QgeyBnZXRQb29sLCBzcWwgfSA9IHJlcXVpcmUoXCIuLi9jb25maWcvZGF0YWJhc2VcIik7XG5cblxuLyoqXG4gKiBIZWxwZXIgZnVuY3Rpb24gdG8gZ2V0IGJvb2tpbmdzIGJ5IHN0YXR1cyBmb3IgYSB1c2VyXG4gKiBSZWR1Y2VzIGNvZGUgZHVwbGljYXRpb24gYWNyb3NzIHRoZSA1IGdldFhCb29raW5ncyBmdW5jdGlvbnNcbiAqIEBwYXJhbSB7bnVtYmVyfSB1c2VySUQgLSBUaGUgdXNlcidzIElEXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RhdHVzIC0gVGhlIGJvb2tpbmcgc3RhdHVzIHRvIGZpbHRlciBieVxuICogQHBhcmFtIHtzdHJpbmd9IHN0YXR1c0Rpc3BsYXlOYW1lIC0gSHVtYW4tcmVhZGFibGUgc3RhdHVzIG5hbWUgZm9yIG1lc3NhZ2VzXG4gKiBAcmV0dXJucyB7UHJvbWlzZTx7c3VjY2VzczogYm9vbGVhbiwgZGF0YT86IG9iamVjdCwgZXJyb3I/OiBzdHJpbmcsIHN0YXR1c0NvZGU6IG51bWJlcn0+fVxuICovXG5jb25zdCBnZXRCb29raW5nc0J5U3RhdHVzID0gYXN5bmMgKHVzZXJJRCwgc3RhdHVzLCBzdGF0dXNEaXNwbGF5TmFtZSkgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHBvb2wgPSBnZXRQb29sKCk7XG5cbiAgICAgICAgY29uc3QgYm9va2luZ3MgPSBhd2FpdCBwb29sLnJlcXVlc3QoKVxuICAgICAgICAgICAgLmlucHV0KFwidXNlcklEXCIsIHNxbC5JbnQsIHVzZXJJRClcbiAgICAgICAgICAgIC5pbnB1dChcInN0YXR1c1wiLCBzcWwuVmFyQ2hhciwgc3RhdHVzKVxuICAgICAgICAgICAgLnF1ZXJ5KGBcbiAgICAgICAgICAgICAgICBTRUxFQ1QgXG4gICAgICAgICAgICAgICAgICAgIEJvb2tpbmcuQm9va2luZ19JRCwgXG4gICAgICAgICAgICAgICAgICAgIEJvb2tpbmcuQm9va2luZ19EYXRlIEFTIFwiU2NoZWR1bGVkIERhdGVcIiwgXG4gICAgICAgICAgICAgICAgICAgIEJvb2tpbmcuQm9va2luZ19UaW1lIEFTIFwiU2NoZWR1bGVkIFRpbWVcIiwgXG4gICAgICAgICAgICAgICAgICAgIEJvb2tpbmcuVG90YWxfUHJpY2UgQVMgXCJUb3RhbCBQcmljZVwiLCBcbiAgICAgICAgICAgICAgICAgICAgQXBwbGlhbmNlX1R5cGUubmFtZUVOIEFTIFwiQXBwbGlhbmNlJ3MgTmFtZSAoRU4pXCIsIFxuICAgICAgICAgICAgICAgICAgICBBcHBsaWFuY2VfVHlwZS5uYW1lQVIgQVMgXCJBcHBsaWFuY2UncyBOYW1lIChBUilcIixcbiAgICAgICAgICAgICAgICAgICAgQm9va2luZy5Jc3N1ZV9EZXNjcmlwdGlvbiBBUyBcIklzc3VlIERlc2NyaXB0aW9uXCIsXG4gICAgICAgICAgICAgICAgICAgIFRlY2huaWNpYW4uRmlyc3RfTmFtZSBBUyBcIlRlY2huaWNpYW4ncyBGaXJzdCBOYW1lXCIsXG4gICAgICAgICAgICAgICAgICAgIFRlY2huaWNpYW4uTGFzdF9OYW1lIEFTIFwiVGVjaG5pY2lhbidzIExhc3QgTmFtZVwiLFxuICAgICAgICAgICAgICAgICAgICBUZWNobmljaWFuLlBob25lIEFTIFwiVGVjaG5pY2lhbidzIFBob25lIE51bWJlclwiLFxuICAgICAgICAgICAgICAgICAgICBQYXltZW50LltTdGF0dXNdIEFTIFwiUGF5bWVudCBTdGF0dXNcIixcbiAgICAgICAgICAgICAgICAgICAgUGF5bWVudC5QYXltZW50X01ldGhvZCBBUyBcIlBheW1lbnQgTWV0aG9kXCJcbiAgICAgICAgICAgICAgICBGUk9NIEJvb2tpbmdcbiAgICAgICAgICAgICAgICBMRUZUIEpPSU4gVGVjaG5pY2lhbiBPTiBCb29raW5nLlRlY2huaWNpYW5fSUQgPSBUZWNobmljaWFuLlRlY2huaWNpYW5fSURcbiAgICAgICAgICAgICAgICBMRUZUIEpPSU4gUGF5bWVudCBPTiBCb29raW5nLkJvb2tpbmdfSUQgPSBQYXltZW50LkJvb2tpbmdfSURcbiAgICAgICAgICAgICAgICBKT0lOIEFwcGxpYW5jZV9UeXBlIE9OIEJvb2tpbmcuQXBwbGlhbmNlX1R5cGVfSUQgPSBBcHBsaWFuY2VfVHlwZS5BcHBsaWFuY2VfVHlwZV9JRFxuICAgICAgICAgICAgICAgIFdIRVJFIEJvb2tpbmcuVXNlcklEID0gQHVzZXJJRCBBTkQgQm9va2luZy5bU3RhdHVzXSA9IEBzdGF0dXNcbiAgICAgICAgICAgICAgICBPUkRFUiBCWSBCb29raW5nLkJvb2tpbmdfRGF0ZSBBU0MsIEJvb2tpbmcuQm9va2luZ19UaW1lIEFTQ1xuICAgICAgICAgICAgYCk7XG5cbiAgICAgICAgaWYgKGJvb2tpbmdzLnJlY29yZHNldC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICBzdGF0dXNDb2RlOiAyMDAsXG4gICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBgWW91IGRvbid0IGhhdmUgYW55ICR7c3RhdHVzRGlzcGxheU5hbWV9IGJvb2tpbmdzLmAsXG4gICAgICAgICAgICAgICAgICAgIGNvdW50OiAwLFxuICAgICAgICAgICAgICAgICAgICBib29raW5nczogW11cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICBzdGF0dXNDb2RlOiAyMDAsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogYFlvdSBoYXZlICR7c3RhdHVzRGlzcGxheU5hbWV9IGJvb2tpbmdzIWAsXG4gICAgICAgICAgICAgICAgY291bnQ6IGJvb2tpbmdzLnJlY29yZHNldC5sZW5ndGgsXG4gICAgICAgICAgICAgICAgYm9va2luZ3M6IGJvb2tpbmdzLnJlY29yZHNldFxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYFVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQgd2hlbiB0cnlpbmcgdG8gZmV0Y2ggJHtzdGF0dXNEaXNwbGF5TmFtZX0gYm9va2luZ3M6YCwgZXJyb3IpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICBzdGF0dXNDb2RlOiA1MDAsXG4gICAgICAgICAgICBlcnJvcjogYFVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQgd2hlbiB0cnlpbmcgdG8gZmV0Y2ggeW91ciAke3N0YXR1c0Rpc3BsYXlOYW1lfSBib29raW5ncy5gXG4gICAgICAgIH07XG4gICAgfVxufTtcblxuXG4vLyBVc2VyIHJlcXVlc3RpbmcgYSBuZXcgYm9va2luZ1xuY29uc3QgdXNlclJlcXVlc3RCb29raW5nID0gYXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIC8vIEdldHRpbmcgYWxsIHVzZXIgaW5wdXQgZnJvbSB0aGUgcmVxdWVzdCdzIGJvZHkgYW5kIHRoZSB1c2VySUQgYXMgd2VsbCBwYXNzZWQgYnkgdGhlIG1pZGRsZXdhcmUgdGhhdCB2YWxpZGF0ZXMgdXNlcidzIGxvZ2luIGNyZWRlbnRpYWxzXG4gICAgY29uc3QgeyBhcHBsaWFuY2VUeXBlSUQsIGlzc3VlRGVzY3JpcHRpb24sIGJvb2tpbmdEYXRlLCBib29raW5nVGltZSwgcGF5bWVudE1ldGhvZCB9ID0gcmVxLmJvZHk7XG4gICAgY29uc3QgdXNlcklEID0gcmVxLnVzZXJJRDtcblxuICAgIC8vIElmIGFueSBvZiB0aGUgaW5wdXRzIGFyZW50IHByb3ZpZGVkIHRoZW4gdGhyb3cgYSA0MDAgZXJyb3JcbiAgICBpZiAoIWFwcGxpYW5jZVR5cGVJRCB8fCAhaXNzdWVEZXNjcmlwdGlvbiB8fCAhYm9va2luZ0RhdGUgfHwgIWJvb2tpbmdUaW1lIHx8ICFwYXltZW50TWV0aG9kKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJBbGwgYm9va2luZyBkZXRhaWxzIGFyZSByZXF1aXJlZDogdGhlIGFwcGxpYW5jZSwgYSBkZXNjcmlwdGlvbiBmb3IgdGhlIGlzc3VlLCBkYXRlIGFuZCB0aW1lLlwifSk7XG4gICAgfVxuXG4gICAgLy8gVmFsaWRhdGUgdGhlIHBheW1lbnQgbWV0aG9kIHN1Y2ggdGhhdCBpdCdzIG9uZSBvZiB0aGUgYWNjZXB0ZWQgb25lc1xuICAgIGNvbnN0IHZhbGlkUGF5bWVudE1ldGhvZHMgPSBbJ2Nhc2gnLCAnY3JlZGl0X2NhcmQnLCAnZGViaXRfY2FyZCcsICd3aGlzaCcsICdvbXQnXTtcbiAgICBpZiAoIXZhbGlkUGF5bWVudE1ldGhvZHMuaW5jbHVkZXMocGF5bWVudE1ldGhvZCkpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttZXNzYWdlOiBcIkludmFsaWQgcGF5bWVudCBtZXRob2QuIENob29zZSBlaXRoZXIgY2FzaCwgY3JlZGl0X2NhcmQsIGRlYml0X2NhcmQsIHdoaXNoIG9yIG9tdC5cIn0pO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRpbmcgdGhlIHRpbWUgZm9ybWF0IHBhc3NlZCB1c2luZyByZWdleCwgaWYgZG9lc250IHBhc3MgdGhlbiB0aHJvdyBhIDQwMCBvZiBpbnZhbGlkIHRpbWUgZm9ybWF0XG4gICAgY29uc3QgdGltZVJlZ2V4ID0gL14oWzAtMV0/WzAtOV18MlswLTNdKTpbMC01XVswLTldOlswLTVdWzAtOV0kLztcbiAgICBjb25zdCBjbGVhblRpbWUgPSBib29raW5nVGltZS50cmltKCk7XG5cbiAgICBpZiAoIXRpbWVSZWdleC50ZXN0KGNsZWFuVGltZSkpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttZXNzYWdlOiBcIkludmFsaWQgdGltZSBmb3JtYXQuIFVzZSBISDpNTTpTUyAoZS5nLiwgMTQ6MzA6MDApXCJ9KTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgICBjb25zdCBwb29sID0gZ2V0UG9vbCgpO1xuXG4gICAgICAgIC8vIFZlcmlmeWluZyB0aGUgYXBwbGlhbmNlIHR5cGUgdGhhdCB3YXMgcGFzc2VkIHRocm91Z2ggdGhlIGJvZHlcbiAgICAgICAgLy8gSGFzIHRvIGJlIGFjdGl2ZSBhbmQgaGFzIHRvIG1hdGNoIHRoZSBhcHBsaWFuY2UgdHlwZSBJRCBwYXNzZWQgYnkgdGhlIHVzZXJcbiAgICAgICAgY29uc3QgYXBwbGlhbmNlVHlwZSA9IGF3YWl0IHBvb2wucmVxdWVzdCgpXG4gICAgICAgICAgICAuaW5wdXQoXCJhcHBsaWFuY2VUeXBlSURcIiwgc3FsLkludCwgYXBwbGlhbmNlVHlwZUlEKVxuICAgICAgICAgICAgLnF1ZXJ5KGBcbiAgICAgICAgICAgICAgICBTRUxFQ1QgQmFzZV9QcmljZSBcbiAgICAgICAgICAgICAgICBGUk9NIEFwcGxpYW5jZV9UeXBlXG4gICAgICAgICAgICAgICAgV0hFUkUgQXBwbGlhbmNlX1R5cGVfSUQgPSBAYXBwbGlhbmNlVHlwZUlEIEFORCBpc0FjdGl2ZSA9IDFcbiAgICAgICAgICAgICAgICBgKTtcblxuICAgICAgICAvLyBJZiBubyByZXN1bHQgcmV0dXJuZWQgZnJvbSB0aGUgYXBwbGlhbmNlIHR5cGUgY2hlY2sgcXVlcnkgdGhlbiB0aGF0IG1lYW5zIHRoZSBhcHBsaWFuY2UgdHlwZSBpZCBwYXNzZWRcbiAgICAgICAgLy8gaXMgaW52YWxpZCwgdGhyb3cgYSA0MDQgZXJyb3JcbiAgICAgICAgaWYgKGFwcGxpYW5jZVR5cGUucmVjb3Jkc2V0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHttZXNzYWdlOiBcIkludmFsaWQgYXBwbGlhbmNlIHR5cGUgY2hvc2VuLlwifSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBHZXR0aW5nIHRoZSBiYXNlIHByaWNlIG9mIHRoZSBhcHBsaWFuY2UgdHlwZSBjaG9zZW4gdG8gc3BlY2lmeSB0aGUgcHJpY2Ugb2YgdGhlIGJvb2tpbmdcbiAgICAgICAgY29uc3QgYmFzZVByaWNlID0gYXBwbGlhbmNlVHlwZS5yZWNvcmRzZXRbMF0uQmFzZV9QcmljZTtcblxuICAgICAgICAvLyBDYWxjdWxhdGluZyB0aGUgcGxhdGZvcm0gZmVlIGZvciB0aGUgcGF5bWVudCB0YWJsZSBiYXNlZCBvbiB0aGUgYmFzZSBwcmljZVxuICAgICAgICBjb25zdCBjb21taXNzaW9uUmF0ZSA9IDE1LjAwO1xuICAgICAgICBjb25zdCBwbGF0Zm9ybUZlZSA9IChiYXNlUHJpY2UgKiBjb21taXNzaW9uUmF0ZSkgLyAxMDA7XG5cbiAgICAgICAgLy8gU3RhcnRpbmcgYSB0cmFuc2FjdGlvbiBzbyB0aGUgYm9va2luZyBhbmQgcGF5bWVudCBhcmUgY3JlYXRlZCB0b2dldGhlclxuICAgICAgICBjb25zdCB0cmFuc2FjdGlvbiA9IHBvb2wudHJhbnNhY3Rpb24oKTtcbiAgICAgICAgYXdhaXQgdHJhbnNhY3Rpb24uYmVnaW4oKTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gQ3JlYXRpbmcgYm9va2luZyBkYXRhIGJ5IHBhZGRpbmcgdGhlIG5lZWRlZCBjb2x1bW4gZGF0YVxuICAgICAgICAgICAgY29uc3QgYm9va2luZ1Jlc3VsdCA9IGF3YWl0IHRyYW5zYWN0aW9uLnJlcXVlc3QoKVxuICAgICAgICAgICAgICAgIC5pbnB1dChcInVzZXJJRFwiLCBzcWwuSW50LCB1c2VySUQpXG4gICAgICAgICAgICAgICAgLmlucHV0KFwiYXBwbGlhbmNlVHlwZUlEXCIsIHNxbC5JbnQsIGFwcGxpYW5jZVR5cGVJRClcbiAgICAgICAgICAgICAgICAuaW5wdXQoXCJpc3N1ZURlc2NyaXB0aW9uXCIsIHNxbC5OVmFyQ2hhciwgaXNzdWVEZXNjcmlwdGlvbilcbiAgICAgICAgICAgICAgICAuaW5wdXQoXCJib29raW5nRGF0ZVwiLCBzcWwuRGF0ZSwgYm9va2luZ0RhdGUpXG4gICAgICAgICAgICAgICAgLmlucHV0KFwiYm9va2luZ1RpbWVcIiwgc3FsLlZhckNoYXIoOCksIGNsZWFuVGltZSlcbiAgICAgICAgICAgICAgICAuaW5wdXQoXCJiYXNlUHJpY2VcIiwgc3FsLkRlY2ltYWwoMTAsIDIpLCBiYXNlUHJpY2UpXG4gICAgICAgICAgICAgICAgLnF1ZXJ5KGBcbiAgICAgICAgICAgIElOU0VSVCBJTlRPIEJvb2tpbmcgKFVzZXJJRCwgQXBwbGlhbmNlX1R5cGVfSUQsIElzc3VlX0Rlc2NyaXB0aW9uLCBCb29raW5nX0RhdGUsIEJvb2tpbmdfVGltZSwgW1N0YXR1c10sIFRvdGFsX1ByaWNlKVxuICAgICAgICAgICAgT1VUUFVUIElOU0VSVEVELkJvb2tpbmdfSUQgLS0ganVzdCBzbyB3ZSBjb3VsZCB1c2UgdGhlIGJvb2tpbmdJRCBsYXRlciB1c2luZyB0aGUgcmVzdWx0IG9mIHRoaXMgcXVlcnkuXG4gICAgICAgICAgICBWQUxVRVMoQHVzZXJJRCwgQGFwcGxpYW5jZVR5cGVJRCwgQGlzc3VlRGVzY3JpcHRpb24sIEBib29raW5nRGF0ZSwgQ0FTVChAYm9va2luZ1RpbWUgQVMgVElNRSksICdwZW5kaW5nJywgQGJhc2VQcmljZSlcbiAgICAgICAgICAgIGApO1xuXG4gICAgICAgICAgICAvLyBHZXR0aW5nIHRoZSBib29raW5nIGlkIGZyb20gdGhlIGFib3ZlIHF1ZXJ5J3MgcmVzdWx0IChpdCBvdXRwdXRzIHRoZSBib29raW5nIGlkKVxuICAgICAgICAgICAgY29uc3QgYm9va2luZ0lEID0gYm9va2luZ1Jlc3VsdC5yZWNvcmRzZXRbMF0uQm9va2luZ19JRDtcblxuICAgICAgICAgICAgLy8gSW5zZXJ0IHRoZSBwYXltZW50IGRhdGEgYW5kIHNldCBpdCB0byBwZW5kaW5nIHN0YXR1cyB1bnRpbCB0aGUgdXNlciBjb25maXJtcyB0aGUgcGF5bWVudFxuICAgICAgICAgICAgYXdhaXQgdHJhbnNhY3Rpb24ucmVxdWVzdCgpXG4gICAgICAgICAgICAgICAgLmlucHV0KFwiYm9va2luZ0lEXCIsIHNxbC5JbnQsIGJvb2tpbmdJRClcbiAgICAgICAgICAgICAgICAuaW5wdXQoXCJhbW91bnRcIiwgc3FsLkRlY2ltYWwoMTAsIDIpLCBiYXNlUHJpY2UpXG4gICAgICAgICAgICAgICAgLmlucHV0KFwicGF5bWVudE1ldGhvZFwiLCBzcWwuVmFyQ2hhciwgcGF5bWVudE1ldGhvZClcbiAgICAgICAgICAgICAgICAuaW5wdXQoXCJjb21taXNzaW9uUmF0ZVwiLCBzcWwuRGVjaW1hbCg1LCAyKSwgY29tbWlzc2lvblJhdGUpXG4gICAgICAgICAgICAgICAgLmlucHV0KFwicGxhdGZvcm1GZWVcIiwgc3FsLkRlY2ltYWwoMTAsIDIpLCBwbGF0Zm9ybUZlZSlcbiAgICAgICAgICAgICAgICAucXVlcnkoYFxuICAgICAgICAgICAgICAgICAgICAgICAgSU5TRVJUIElOVE8gUGF5bWVudCAoQm9va2luZ19JRCwgQW1vdW50LCBQYXltZW50X01ldGhvZCwgW1N0YXR1c10sIENvbW1pc3Npb25fUmF0ZSwgUGxhdGZvcm1fRmVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgVkFMVUVTKEBib29raW5nSUQsIEBhbW91bnQsIEBwYXltZW50TWV0aG9kLCAncGVuZGluZycsIEBjb21taXNzaW9uUmF0ZSwgQHBsYXRmb3JtRmVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgYCk7XG5cbiAgICAgICAgICAgIC8vIENvbWl0cyB0aGUgY2hhbmdlcywgd2hpY2ggaW5zZXJ0cyB0aGUgYm9va2luZyBhbmQgdGhlIHBheW1lbnQgZGF0YSBvZiB0aGlzIHVzZXIncyByZXF1ZXN0ZWQgYm9va2luZ1xuICAgICAgICAgICAgYXdhaXQgdHJhbnNhY3Rpb24uY29tbWl0KCk7XG5cbiAgICAgICAgICAgIC8vIFNlbmRpbmcgYSAyMDEgc3VjY2VzcyBtZXNzYWdlIHdpdGggc29tZSBpbmZvcm1hdGlvbiBwYXNzZWRcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAxKS5qc29uKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlN1Y2Nlc3NmdWxseSBib29rZWQhIEEgdGVjaG5pY2lhbiB3aWxsIGJlIGFzc2lnbmVkIHNvb24uXCIsXG4gICAgICAgICAgICAgICAgYm9va2luZ0lEOiBib29raW5nSUQsXG4gICAgICAgICAgICAgICAgdG90YWxQcmljZTogYmFzZVByaWNlLFxuICAgICAgICAgICAgICAgIHBheW1lbnRNZXRob2Q6IHBheW1lbnRNZXRob2QsXG4gICAgICAgICAgICAgICAgcGF5bWVudFN0YXR1czogXCJwZW5kaW5nXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgLy8gcm9sbGJhY2sgaWYgc29tZXRoaW5nIGdvZXMgd3JvbmdcbiAgICAgICAgICAgIGF3YWl0IHRyYW5zYWN0aW9uLnJvbGxiYWNrKCk7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIlVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQgd2hlbiBib29raW5nOlwiLCBlcnJvcik7XG5cbiAgICAgICAgLy8gSWYgYW55IGRhdGEgaXMgd3JvbmcgdGhlbiB0aGlzIGVycm9yIGlzIHRocm93biAod3JvbmcgYXBwbGlhbmNlIHR5cGUgYW5kIHdyb25nL2ludmFsaWQgZGF0ZSlcbiAgICAgICAgaWYgKGVycm9yLm51bWJlciA9PT0gNTQ3KSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiSW52YWxpZCBib29raW5nIGRhdGEuIFBsZWFzZSBjaGVjayB5b3VyIGFwcGxpYW5jZSB0eXBlLCBkYXRlLCBhbmQgZW5zdXJlIGl0J3MgdG9kYXkgb3IgaW4gdGhlIGZ1dHVyZS5cIn0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe21lc3NhZ2U6IFwiQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZCB3aGlsZSBib29raW5nLlwifSk7XG4gICAgfVxufSk7XG5cbi8vIFVzZXIgcGF5aW5nIGEgYm9va2luZyBmdW5jdGlvbmFsaXR5XG5jb25zdCB1c2VyUGF5Qm9va2luZyA9IGFzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICAvLyBHZXR0aW5nIHRoZSBib29raW5nIGlkIGFuZCB0aGUgdHJhbnNhY3Rpb24gaWQgKGlmIG5vbi1jYXNoIG1ldGhvZCkgZnJvbSB0aGUgYm9keSwgYW5kIHRoZSB1c2VyIGlkIHBhc3NlZCBieSB0aGUgYXV0aGVudGljYXRpb24gbWlkZGxld2FyZVxuICAgIGNvbnN0IHsgYm9va2luZ0lELCB0cmFuc2FjdGlvbklEIH0gPSByZXEuYm9keTtcbiAgICBjb25zdCB1c2VySUQgPSByZXEudXNlcklEO1xuXG4gICAgLy8gSWYgbm8gYm9va2luZ0lEIGlzIHBhc3NlZCB0aGVuIHRocm93IGEgNDAwIGVycm9yLiBOb3QgcGFzc2luZyB0aGUgdHJhbnNhY3Rpb25JRCBpcyBmaW5lIGlmIHRoZSBtZXRob2QgaXMgY2FzaC5cbiAgICBpZiAoIWJvb2tpbmdJRCkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiQm9va2luZyBJRCBtdXN0IGJlIHBhc3NlZC5cIn0pO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHBvb2wgPSBnZXRQb29sKCk7XG5cbiAgICAgICAgLy8gQ2hlY2tpbmcgaWYgdGhlIGJvb2tpbmdJRCBwYXNzZWQgaXMgdmFsaWRcbiAgICAgICAgY29uc3QgY2hlY2tCb29raW5nID0gYXdhaXQgcG9vbC5yZXF1ZXN0KClcbiAgICAgICAgICAgIC5pbnB1dChcImJvb2tpbmdJRFwiLCBzcWwuSW50LCBib29raW5nSUQpXG4gICAgICAgICAgICAuaW5wdXQoXCJ1c2VySURcIiwgc3FsLkludCwgdXNlcklEKVxuICAgICAgICAgICAgLnF1ZXJ5KGBcbiAgICAgICAgICAgICAgICBTRUxFQ1QgYi5Cb29raW5nX0lELCBiLltTdGF0dXNdLCBiLlVzZXJJRCwgcC5QYXltZW50X0lELCBwLltTdGF0dXNdIEFTIFBheW1lbnRfU3RhdHVzLCBwLlBheW1lbnRfTWV0aG9kXG4gICAgICAgICAgICAgICAgRlJPTSBCb29raW5nIGJcbiAgICAgICAgICAgICAgICBKT0lOIFBheW1lbnQgcCBPTiBiLkJvb2tpbmdfSUQgPSBwLkJvb2tpbmdfSURcbiAgICAgICAgICAgICAgICBXSEVSRSBiLkJvb2tpbmdfSUQgPSBAYm9va2luZ0lEXG4gICAgICAgICAgICAgICAgYCk7XG5cbiAgICAgICAgLy8gSWYgdGhlIGFib3ZlIHNlbGVjdCBxdWVyeSBnb3Qgbm8gcmVzdWx0IHRoZW4gdGhlIGJvb2tpbmcgaXMgbm90IGZvdW5kLCB0aHJvd3MgYSA0MDRcbiAgICAgICAgaWYgKGNoZWNrQm9va2luZy5yZWNvcmRzZXQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe21lc3NhZ2U6IFwiQm9va2luZyBub3QgZm91bmRcIn0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gR2V0dGluZyB0aGUgZmlyc3Qgcm93IG9mIHRoZSByZXR1cm5lZCByZXN1bHRcbiAgICAgICAgY29uc3QgYm9va2luZyA9IGNoZWNrQm9va2luZy5yZWNvcmRzZXRbMF07XG5cbiAgICAgICAgLy8gQ2hlY2tpbmcgaWYgdGhlIGJvb2tpbmcncyB1c2VySUQgbWF0Y2hlcyB0aGUgY3VycmVudCBsb2dnZWQgaW4ncyB1c2VySUQsIGlmIGl0IGRvZXNuJ3QgdGhlbiB0aHJvdyBhIDQwM1xuICAgICAgICAvLyBzaW5jZSB0aGUgdXNlciBpc24ndCBhdXRob3JpemVkIHRvIHBheSBmb3IgdGhpcyBib29raW5nLlxuICAgICAgICBpZiAoYm9va2luZy5Vc2VySUQgIT09IHVzZXJJRCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAzKS5qc29uKHttZXNzYWdlOiBcIllvdSBhcmUgbm90IGF1dGhvcml6ZWQgdG8gcGF5IGZvciB0aGlzIGJvb2tpbmcgc2luY2UgaXQncyBub3QgeW91cnMuXCJ9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFN0YXR1cyBjaGVja2luZzogY2Fubm90IHBheSBhIGJvb2tpbmcgdGhhdCdzIGNhbmNlbGxlZC9jb21wbGV0ZWRcbiAgICAgICAgaWYgKGJvb2tpbmcuU3RhdHVzID09PSAnY2FuY2VsbGVkJykge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttZXNzYWdlOiBcIkNhbm5vdCBwYXkgZm9yIGEgY2FuY2VsbGVkIGJvb2tpbmchXCJ9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChib29raW5nLlN0YXR1cyA9PT0gJ2NvbXBsZXRlZCcpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJDYW5ub3QgcGF5IGZvciBhIGJvb2tpbmcgdGhhdCdzIGFscmVhZHkgcGFpZCBmb3IuXCJ9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIHRoZSBib29raW5nIGlzIGFscmVhZHkgcGFpZCB0aGVuIHRoZSB1c2VyIGNhbnQgcGF5IGl0IGFnYWluIVxuICAgICAgICBpZiAoYm9va2luZy5QYXltZW50X1N0YXR1cyA9PT0gJ2NvbXBsZXRlZCcpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJUaGlzIGJvb2tpbmcgaGFzIGFscmVhZHkgYmVlbiBwYWlkLlwifSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBFbnN1cmluZyB0aGF0IHRyYW5zYWN0aW9uSUQgaXMgcGFzc2VkIHdoZW4gdGhlIHBheW1lbnQgbWV0aG9kIGlzIGFueXRoaW5nIGJ1dCBhIGNhc2ggbWV0aG9kXG4gICAgICAgIC8vIElmIHRoZXJlIGlzIG5vIHRyYW5zYWN0aW9uSUQsIGFuZCB0aGUgcGF5bWVudCBtZXRob2QgaXNudCBjYXNoLCB0aGVuIHRocm93IGEgNDAwIGVycm9yXG4gICAgICAgIGNvbnN0IHRyYW5zYWN0aW9uSWRNZXRob2RzID0gWydjcmVkaXRfY2FyZCcsICdkZWJpdF9jYXJkJywgJ3doaXNoJywgJ29tdCddO1xuICAgICAgICBpZiAodHJhbnNhY3Rpb25JZE1ldGhvZHMuaW5jbHVkZXMoYm9va2luZy5QYXltZW50X01ldGhvZCkgJiYgIXRyYW5zYWN0aW9uSUQpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJUcmFuc2FjdGlvbiBJRCBpcyBuZWVkZWQgZm9yIHRoaXMgcGF5bWVudCBtZXRob2QhXCJ9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIGFsbCdzIGdvb2QgdGhlbiB1cGRhdGUgdGhlIFBheW1lbnQgcm93IG9mIHRoZSBib29raW5nSUQgY29uY2VybmVkIGFuZCBjaGFuZ2UgdGhlIHN0YXR1cyB0byBcbiAgICAgICAgLy8gY29tcGxldGVkLCB3aXRoIHNldHRpbmcgdGhlIHRyYW5zYWN0aW9uSUQgKGlmIGF2YWlsYWJsZSkgYW5kIHNldHRpbmcgdGhlIHBhaWRBdCB0byB0aGUgY3VycmVudCBkYXRlLlxuICAgICAgICBhd2FpdCBwb29sLnJlcXVlc3QoKVxuICAgICAgICAgICAgLmlucHV0KFwiYm9va2luZ0lEXCIsIHNxbC5JbnQsIGJvb2tpbmdJRClcbiAgICAgICAgICAgIC5pbnB1dChcInRyYW5zYWN0aW9uSURcIiwgc3FsLlZhckNoYXIsIHRyYW5zYWN0aW9uSUQgfHwgbnVsbClcbiAgICAgICAgICAgIC5xdWVyeShgXG4gICAgICAgICAgICAgICAgVVBEQVRFIFBheW1lbnRcbiAgICAgICAgICAgICAgICBTRVQgW1N0YXR1c10gPSAnY29tcGxldGVkJyxcbiAgICAgICAgICAgICAgICAgICAgVHJhbnNhY3Rpb25fSUQgPSBAdHJhbnNhY3Rpb25JRCxcbiAgICAgICAgICAgICAgICAgICAgcGFpZEF0ID0gR0VUREFURSgpXG4gICAgICAgICAgICAgICAgV0hFUkUgQm9va2luZ19JRCA9IEBib29raW5nSURcbiAgICAgICAgICAgICAgICBgKTtcblxuICAgICAgICAvLyBTZW5kIGEgc3VjY2VzcyBtZXNzYWdlIHdpdGggdGhlIGJvb2tpbmcgaWQgYW5kIHBheW1lbnQgc3RhdHVzIGFzIGNvbXBsZXRlZFxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIlBheW1lbnQgY29tcGxldGVkLlwiLFxuICAgICAgICAgICAgYm9va2luZ0lEOiBib29raW5nSUQsXG4gICAgICAgICAgICBwYXltZW50U3RhdHVzOiBcImNvbXBsZXRlZFwiXG4gICAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIC8vIFRocm93cyBhbiBlcnJvciBpbiBjYXNlIHRoZSBib29raW5nIGlkIGlzIGludmFsaWQsIG9yIGFueSBvdGhlciB1bmV4cGVjdGVkIGlzc3VlIHRoYXQgb2NjdXJyZWRcbiAgICAgICAgY29uc29sZS5lcnJvcihcIlVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQgd2hlbiBwcm9jZXNzaW5nIHBheW1lbnQ6XCIsIGVycm9yKTtcblxuICAgICAgICBpZiAoZXJyb3IubnVtYmVyID09PSA1NDcpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJJbnZhbGlkIGJvb2tpbmcgSUQuXCJ9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHttZXNzYWdlOiBcIkFuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQgd2hlbiBwcm9jZXNzaW5nIHRoZSBwYXltZW50LlwifSk7XG4gICAgfVxufSlcblxuLy8gVXNlciByYXRpbmcgYSBib29raW5nIGZ1bmN0aW9uYWxpdHlcbmNvbnN0IHVzZXJSYXRlQm9va2luZyA9IGFzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICAvLyBHZXR0aW5nIHRoZSBuZWVkZWQgaW5wdXQgZnJvbSB0aGUgcGFzc2VkIGJvZHkgYW5kIHRoZSB1c2VySUQgcGFzc2VkIGZyb20gdGhlIG1pZGRsZXdhcmVcbiAgICBjb25zdCB7IGJvb2tpbmdJRCwgcmF0aW5nU2NvcmUsIHJldmlld1RleHQgfSA9IHJlcS5ib2R5O1xuICAgIGNvbnN0IHVzZXJJRCA9IHJlcS51c2VySUQ7XG5cbiAgICAvLyBJZiB0aGUgbmVlZGVkIHZhbHVlcyBhcmUgZW1wdHkgdGhlbiB0aHJvdyBhIDQwMCBlcnJvclxuICAgIGlmICghYm9va2luZ0lEIHx8ICFyYXRpbmdTY29yZSB8fCAhcmV2aWV3VGV4dCkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiWW91IGhhdmUgdG8gcGFzcyBhIGJvb2tpbmcgSUQsIHJhdGluZyBzY29yZSBhbmQgcmV2aWV3IHRleHQgdG8gcmF0ZSBhIGJvb2tpbmcuXCJ9KTtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgcmF0aW5nIHNjb3JlIGlzbid0IGEgbnVtYmVyLCBvciBpc24ndCBiZXR3ZWVuIDEgYW5kIDUsIHRoZW4gdGhyb3cgYW4gZXJyb3IgNDAwXG4gICAgaWYgKCFOdW1iZXIuaXNJbnRlZ2VyKHJhdGluZ1Njb3JlKSB8fCByYXRpbmdTY29yZSA8IDEgfHwgcmF0aW5nU2NvcmUgPiA1KSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJSYXRpbmcgc2NvcmUgbXVzdCBiZSBhIG51bWJlciBiZXR3ZWVuIDEgYW5kIDUhXCJ9KTtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgcmV2aWV3IHRleHQgaXMgdG9vIHNob3J0IHRoZW4gdGhyb3cgYSA0MDAgZXJyb3JcbiAgICBpZiAocmV2aWV3VGV4dC50cmltKCkubGVuZ3RoIDwgMTUpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttZXNzYWdlOiBcIlBsZWFzZSB3cml0ZSB5b3VyIHJldmlldyB0ZXh0IGxvbmdlciwgdGhhdCdzIHRvbyBzaG9ydC5cIn0pO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHBvb2wgPSBnZXRQb29sKCk7XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGJvb2tpbmcgaWQgcGFzc2VkIGV4aXN0c1xuICAgICAgICBjb25zdCBjaGVja0Jvb2tpbmcgPSBhd2FpdCBwb29sLnJlcXVlc3QoKVxuICAgICAgICAgICAgLmlucHV0KFwiYm9va2luZ0lEXCIsIHNxbC5JbnQsIGJvb2tpbmdJRClcbiAgICAgICAgICAgIC5pbnB1dChcInVzZXJJRFwiLCBzcWwuSW50LCB1c2VySUQpXG4gICAgICAgICAgICAucXVlcnkoYFxuICAgICAgICAgICAgICAgIFNFTEVDVCBiLkJvb2tpbmdfSUQsIGIuVXNlcklELCBiLlRlY2huaWNpYW5fSUQsIGIuW1N0YXR1c11cbiAgICAgICAgICAgICAgICBGUk9NIEJvb2tpbmcgYlxuICAgICAgICAgICAgICAgIFdIRVJFIGIuQm9va2luZ19JRCA9IEBib29raW5nSURcbiAgICAgICAgICAgICAgICBgKTtcblxuICAgICAgICAvLyBJZiBub3RoaW5nIHdhcyByZXR1cm5lZCBmcm9tIHRoZSBhYm92ZSBxdWVyeSB0aGVuIHRocm93IGEgNDA0IGJlY2F1c2UgdGhlIGJvb2tpbmcgaXNuJ3QgZm91bmRcbiAgICAgICAgaWYgKGNoZWNrQm9va2luZy5yZWNvcmRzZXQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe21lc3NhZ2U6IFwiQm9va2luZyBub3QgZm91bmQuXCJ9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEdldCB0aGUgZmlyc3QgYm9va2luZyByb3dcbiAgICAgICAgY29uc3QgYm9va2luZyA9IGNoZWNrQm9va2luZy5yZWNvcmRzZXRbMF07XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGJvb2tpbmcncyB1c2VyIGlkIG1hdGNoZXMgdGhlIHVzZXJpZCBvZiB0aGUgbG9nZ2VkIGluIHVzZXIsIGlmIG5vdCB0aGVuIHRocm93IGEgNDAzIGVycm9yXG4gICAgICAgIGlmIChib29raW5nLlVzZXJJRCAhPT0gdXNlcklEKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDMpLmpzb24oe21lc3NhZ2U6IFwiWW91IGFyZSBub3QgYXV0aG9yaXplZCB0byByZXZpZXcgdGhpcyBib29raW5nIHNpbmNlIGl0J3Mgbm90IHlvdXJzIVwifSk7XG4gICAgICAgIH1cblxuICAgICAgICAvL0lmIHRoZSBib29raW5nIGRvZXNuJ3QgaGF2ZSBhIHRlY2huaWNpYW4gdGhlbiB0aGUgdXNlciBjYW50IHJhdGUgaXRcbiAgICAgICAgaWYgKCFib29raW5nLlRlY2huaWNpYW5fSUQpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJDYW5ub3QgcmF0ZSBhIGJvb2tpbmcgd2l0aG91dCBhbiBhc3NpZ25lZCB0ZWNobmljaWFuLlwifSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiB0aGUgYm9va2luZyBpc24ndCBjb21wbGV0ZWQgdGhlbiB0aGUgdXNlciBjYW50IHJhdGUgaXRcbiAgICAgICAgaWYgKGJvb2tpbmcuU3RhdHVzICE9PSAnY29tcGxldGVkJykge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttZXNzYWdlOiBcIllvdSBjYW4gb25seSByYXRlIGNvbXBsZXRlZCBib29raW5ncy5cIn0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2tpbmcgaWYgYSByYXRpbmcgYWxyZWFkeSBleGlzdHMgZm9yIHRoZSBjb25jZXJuZWQgYm9va2luZ1xuICAgICAgICBjb25zdCBleGlzdGluZ1JhdGluZyA9IGF3YWl0IHBvb2wucmVxdWVzdCgpXG4gICAgICAgICAgICAuaW5wdXQoXCJib29raW5nSURcIiwgc3FsLkludCwgYm9va2luZ0lEKVxuICAgICAgICAgICAgLnF1ZXJ5KGBTRUxFQ1QgUmF0aW5nX0lEIFxuICAgICAgICAgICAgICAgICAgICBGUk9NIFJhdGluZyBcbiAgICAgICAgICAgICAgICAgICAgV0hFUkUgQm9va2luZ19JRCA9IEBib29raW5nSURgKTtcblxuICAgICAgICAvLyBJZiB5ZXMgdGhlbiB0aHJvdyBhIDQwOSBlcnJvclxuICAgICAgICBpZiAoZXhpc3RpbmdSYXRpbmcucmVjb3Jkc2V0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwOSkuanNvbih7bWVzc2FnZTogXCJUaGlzIGJvb2tpbmcgaGFzIGFscmVhZHkgYmVlbiByYXRlZCBiZWZvcmUhXCJ9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIGFsbCdzIGdvb2QgdGhlbiBpbnNlcnQgdGhlIHJhdGluZyBkYXRhIHdpdGggdGhlIGluZm9ybWF0aW9uIHRha2VuIGZyb20gdGhlIGJvZHlcbiAgICAgICAgYXdhaXQgcG9vbC5yZXF1ZXN0KClcbiAgICAgICAgICAgIC5pbnB1dChcImJvb2tpbmdJRFwiLCBzcWwuSW50LCBib29raW5nSUQpXG4gICAgICAgICAgICAuaW5wdXQoXCJ1c2VySURcIiwgc3FsLkludCwgdXNlcklEKVxuICAgICAgICAgICAgLmlucHV0KFwidGVjaG5pY2lhbklEXCIsIHNxbC5JbnQsIGJvb2tpbmcuVGVjaG5pY2lhbl9JRClcbiAgICAgICAgICAgIC5pbnB1dChcInJhdGluZ1Njb3JlXCIsIHNxbC5TbWFsbEludCwgcmF0aW5nU2NvcmUpXG4gICAgICAgICAgICAuaW5wdXQoXCJyZXZpZXdUZXh0XCIsIHNxbC5OVmFyQ2hhciwgcmV2aWV3VGV4dC50cmltKCkpXG4gICAgICAgICAgICAucXVlcnkoYFxuICAgICAgICAgICAgICAgIElOU0VSVCBJTlRPIFJhdGluZyAoQm9va2luZ19JRCwgVXNlcl9JRCwgVGVjaG5pY2lhbl9JRCwgUmF0aW5nX1Njb3JlLCBSZXZpZXdfVGV4dClcbiAgICAgICAgICAgICAgICBWQUxVRVMoQGJvb2tpbmdJRCwgQHVzZXJJRCwgQHRlY2huaWNpYW5JRCwgQHJhdGluZ1Njb3JlLCBAcmV2aWV3VGV4dClcbiAgICAgICAgICAgICAgICBgKTtcblxuICAgICAgICAvLyBTZW5kIGEgMjAxIHN1Y2Nlc3MgbWVzc2FnZVxuICAgICAgICByZXMuc3RhdHVzKDIwMSkuanNvbih7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIlN1Y2Nlc3NmdWxseSByYXRlZCB0aGlzIGJvb2tpbmchXCIsXG4gICAgICAgICAgICBib29raW5nSUQ6IGJvb2tpbmdJRCxcbiAgICAgICAgICAgIHRlY2huaWNpYW5JRDogYm9va2luZy5UZWNobmljaWFuX0lELFxuICAgICAgICAgICAgcmF0aW5nU2NvcmU6IHJhdGluZ1Njb3JlXG4gICAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJVbmV4cGVjdGVkIGVycm9yIG9jY3VycmVkIHdoZW4gdHJ5aW5nIHRvIHJhdGUgYSBib29raW5nOlwiLCBlcnJvcik7XG5cbiAgICAgICAgLy8gQ29uc3RyYWludCB2aW9sYXRpb24gaGFuZGxpbmdcbiAgICAgICAgaWYgKGVycm9yLm51bWJlciA9PT0gNTQ3KSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiSW52YWxpZCByYXRpbmcgZGF0YSwgcGxlYXNlIGNoZWNrIHlvdXIgaW5wdXRzLlwifSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB1bmlxdWUgY29uc3RyYWludCB2aW9sYXRpb24gKGZvciBkdXBsaWNhdGUgcmF0aW5ncylcbiAgICAgICAgaWYgKGVycm9yLm51bWJlciA9PT0gMjYyNykge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA5KS5qc29uKHttZXNzYWdlOiBcIlRoaXMgYm9va2luZyBoYXMgYWxyZWFkeSBiZWVuIHJhdGVkLlwifSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7bWVzc2FnZTogXCJVbmV4cGVjdGVkIGVycm9yIG9jY3VycmVkIHdoZW4gdHJ5aW5nIHRvIHJhdGUgYSBib29raW5nLlwifSk7XG4gICAgfVxufSlcblxuLy8gVGhlIGJlbG93IG1ldGhvZHMgZ2V0IGRpZmZlcmVudCB0eXBlcyBvZiBib29raW5ncyBvZiB0aGUgdXNlcjogcGVuZGluZywgY29uZmlybWVkLCBpbiBwcm9ncmVzcywgY29tcGxldGVkLCBjYW5jZWxsZWRcbi8vIEFsbCB1c2UgdGhlIGhlbHBlciBmdW5jdGlvbiBnZXRCb29raW5nc0J5U3RhdHVzIHRvIHJlZHVjZSBjb2RlIGR1cGxpY2F0aW9uXG5jb25zdCBnZXRQZW5kaW5nQm9va2luZ3MgPSBhc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3QgdXNlcklEID0gcmVxLnVzZXJJRDtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBnZXRCb29raW5nc0J5U3RhdHVzKHVzZXJJRCwgJ3BlbmRpbmcnLCAncGVuZGluZycpO1xuICAgIFxuICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyhyZXN1bHQuc3RhdHVzQ29kZSkuanNvbihyZXN1bHQuZGF0YSk7XG4gICAgfVxuICAgIHJldHVybiByZXMuc3RhdHVzKHJlc3VsdC5zdGF0dXNDb2RlKS5qc29uKHsgbWVzc2FnZTogcmVzdWx0LmVycm9yIH0pO1xufSk7XG5cbmNvbnN0IGdldENvbmZpcm1lZEJvb2tpbmdzID0gYXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHVzZXJJRCA9IHJlcS51c2VySUQ7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZ2V0Qm9va2luZ3NCeVN0YXR1cyh1c2VySUQsICdjb25maXJtZWQnLCAnY29uZmlybWVkJyk7XG4gICAgXG4gICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKHJlc3VsdC5zdGF0dXNDb2RlKS5qc29uKHJlc3VsdC5kYXRhKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMocmVzdWx0LnN0YXR1c0NvZGUpLmpzb24oeyBtZXNzYWdlOiByZXN1bHQuZXJyb3IgfSk7XG59KTtcblxuY29uc3QgZ2V0SW5Qcm9ncmVzc0Jvb2tpbmdzID0gYXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHVzZXJJRCA9IHJlcS51c2VySUQ7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZ2V0Qm9va2luZ3NCeVN0YXR1cyh1c2VySUQsICdpbl9wcm9ncmVzcycsICdpbiBwcm9ncmVzcycpO1xuICAgIFxuICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyhyZXN1bHQuc3RhdHVzQ29kZSkuanNvbihyZXN1bHQuZGF0YSk7XG4gICAgfVxuICAgIHJldHVybiByZXMuc3RhdHVzKHJlc3VsdC5zdGF0dXNDb2RlKS5qc29uKHsgbWVzc2FnZTogcmVzdWx0LmVycm9yIH0pO1xufSk7XG5cbmNvbnN0IGdldENvbXBsZXRlZEJvb2tpbmdzID0gYXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHVzZXJJRCA9IHJlcS51c2VySUQ7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZ2V0Qm9va2luZ3NCeVN0YXR1cyh1c2VySUQsICdjb21wbGV0ZWQnLCAnY29tcGxldGVkJyk7XG4gICAgXG4gICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKHJlc3VsdC5zdGF0dXNDb2RlKS5qc29uKHJlc3VsdC5kYXRhKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMocmVzdWx0LnN0YXR1c0NvZGUpLmpzb24oeyBtZXNzYWdlOiByZXN1bHQuZXJyb3IgfSk7XG59KTtcblxuY29uc3QgZ2V0Q2FuY2VsbGVkQm9va2luZ3MgPSBhc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3QgdXNlcklEID0gcmVxLnVzZXJJRDtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBnZXRCb29raW5nc0J5U3RhdHVzKHVzZXJJRCwgJ2NhbmNlbGxlZCcsICdjYW5jZWxsZWQnKTtcbiAgICBcbiAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMocmVzdWx0LnN0YXR1c0NvZGUpLmpzb24ocmVzdWx0LmRhdGEpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzLnN0YXR1cyhyZXN1bHQuc3RhdHVzQ29kZSkuanNvbih7IG1lc3NhZ2U6IHJlc3VsdC5lcnJvciB9KTtcbn0pO1xuXG5cbm1vZHVsZS5leHBvcnRzID0geyB1c2VyUmVxdWVzdEJvb2tpbmcsIHVzZXJQYXlCb29raW5nLCB1c2VyUmF0ZUJvb2tpbmcsIGdldFBlbmRpbmdCb29raW5ncywgZ2V0Q29uZmlybWVkQm9va2luZ3MsIGdldEluUHJvZ3Jlc3NCb29raW5ncywgZ2V0Q29tcGxldGVkQm9va2luZ3MsIGdldENhbmNlbGxlZEJvb2tp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","map":{"version":3,"names":["asyncHandler","require","_require","getPool","sql","getBookingsByStatus","_ref","_asyncToGenerator2","_regenerator","mark","_callee","userID","status","statusDisplayName","pool","bookings","_t","wrap","_context","prev","next","request","input","Int","VarChar","query","sent","recordset","length","abrupt","success","statusCode","data","message","concat","count","console","error","stop","_x","_x2","_x3","apply","arguments","userRequestBooking","_ref2","_callee2","req","res","_req$body","applianceTypeID","issueDescription","bookingDate","bookingTime","paymentMethod","validPaymentMethods","timeRegex","cleanTime","applianceType","basePrice","commissionRate","platformFee","transaction","bookingResult","bookingID","_t2","_t3","_context2","body","json","includes","trim","test","Base_Price","begin","NVarChar","Date","Decimal","Booking_ID","commit","totalPrice","paymentStatus","rollback","number","_x4","_x5","userPayBooking","_ref3","_callee3","_req$body2","transactionID","checkBooking","booking","transactionIdMethods","_t4","_context3","UserID","Status","Payment_Status","Payment_Method","_x6","_x7","userRateBooking","_ref4","_callee4","_req$body3","ratingScore","reviewText","existingRating","_t5","_context4","Number","isInteger","Technician_ID","SmallInt","technicianID","_x8","_x9","getPendingBookings","_ref5","_callee5","result","_context5","_x0","_x1","getConfirmedBookings","_ref6","_callee6","_context6","_x10","_x11","getInProgressBookings","_ref7","_callee7","_context7","_x12","_x13","getCompletedBookings","_ref8","_callee8","_context8","_x14","_x15","getCancelledBookings","_ref9","_callee9","_context9","_x16","_x17","module","exports"],"sourceRoot":"/workspaces/FixAppliance-eCommerce/back-end/src/controllers/","sources":["UserBookingController.js"],"sourcesContent":["/**\n * This controller handles everything related to booking and the user:\n *  1. User requesting a booking\n *  2. User paying a booking\n *  3. User rating a booking\n *  4. user getting their bookings (pending/confirmed/in progress/completed/cancelled)\n */\n\nconst asyncHandler = require(\"express-async-handler\");\n\n\n// sql needed for the type definitions in .input\n// getPool is to do queries\nconst { getPool, sql } = require(\"../config/database\");\n\n\n/**\n * Helper function to get bookings by status for a user\n * Reduces code duplication across the 5 getXBookings functions\n * @param {number} userID - The user's ID\n * @param {string} status - The booking status to filter by\n * @param {string} statusDisplayName - Human-readable status name for messages\n * @returns {Promise<{success: boolean, data?: object, error?: string, statusCode: number}>}\n */\nconst getBookingsByStatus = async (userID, status, statusDisplayName) => {\n    try {\n        const pool = getPool();\n\n        const bookings = await pool.request()\n            .input(\"userID\", sql.Int, userID)\n            .input(\"status\", sql.VarChar, status)\n            .query(`\n                SELECT \n                    Booking.Booking_ID, \n                    Booking.Booking_Date AS \"Scheduled Date\", \n                    Booking.Booking_Time AS \"Scheduled Time\", \n                    Booking.Total_Price AS \"Total Price\", \n                    Appliance_Type.nameEN AS \"Appliance's Name (EN)\", \n                    Appliance_Type.nameAR AS \"Appliance's Name (AR)\",\n                    Booking.Issue_Description AS \"Issue Description\",\n                    Technician.First_Name AS \"Technician's First Name\",\n                    Technician.Last_Name AS \"Technician's Last Name\",\n                    Technician.Phone AS \"Technician's Phone Number\",\n                    Payment.[Status] AS \"Payment Status\",\n                    Payment.Payment_Method AS \"Payment Method\"\n                FROM Booking\n                LEFT JOIN Technician ON Booking.Technician_ID = Technician.Technician_ID\n                LEFT JOIN Payment ON Booking.Booking_ID = Payment.Booking_ID\n                JOIN Appliance_Type ON Booking.Appliance_Type_ID = Appliance_Type.Appliance_Type_ID\n                WHERE Booking.UserID = @userID AND Booking.[Status] = @status\n                ORDER BY Booking.Booking_Date ASC, Booking.Booking_Time ASC\n            `);\n\n        if (bookings.recordset.length === 0) {\n            return {\n                success: true,\n                statusCode: 200,\n                data: {\n                    message: `You don't have any ${statusDisplayName} bookings.`,\n                    count: 0,\n                    bookings: []\n                }\n            };\n        }\n\n        return {\n            success: true,\n            statusCode: 200,\n            data: {\n                message: `You have ${statusDisplayName} bookings!`,\n                count: bookings.recordset.length,\n                bookings: bookings.recordset\n            }\n        };\n    } catch (error) {\n        console.error(`Unexpected error occurred when trying to fetch ${statusDisplayName} bookings:`, error);\n        return {\n            success: false,\n            statusCode: 500,\n            error: `Unexpected error occurred when trying to fetch your ${statusDisplayName} bookings.`\n        };\n    }\n};\n\n\n// User requesting a new booking\nconst userRequestBooking = asyncHandler(async (req, res) => {\n    // Getting all user input from the request's body and the userID as well passed by the middleware that validates user's login credentials\n    const { applianceTypeID, issueDescription, bookingDate, bookingTime, paymentMethod } = req.body;\n    const userID = req.userID;\n\n    // If any of the inputs arent provided then throw a 400 error\n    if (!applianceTypeID || !issueDescription || !bookingDate || !bookingTime || !paymentMethod) {\n        return res.status(400).json({message: \"All booking details are required: the appliance, a description for the issue, date and time.\"});\n    }\n\n    // Validate the payment method such that it's one of the accepted ones\n    const validPaymentMethods = ['cash', 'credit_card', 'debit_card', 'whish', 'omt'];\n    if (!validPaymentMethods.includes(paymentMethod)) {\n        return res.status(400).json({message: \"Invalid payment method. Choose either cash, credit_card, debit_card, whish or omt.\"});\n    }\n\n    // Validating the time format passed using regex, if doesnt pass then throw a 400 of invalid time format\n    const timeRegex = /^([0-1]?[0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]$/;\n    const cleanTime = bookingTime.trim();\n\n    if (!timeRegex.test(cleanTime)) {\n        return res.status(400).json({message: \"Invalid time format. Use HH:MM:SS (e.g., 14:30:00)\"});\n    }\n\n    try {\n        const pool = getPool();\n\n        // Verifying the appliance type that was passed through the body\n        // Has to be active and has to match the appliance type ID passed by the user\n        const applianceType = await pool.request()\n            .input(\"applianceTypeID\", sql.Int, applianceTypeID)\n            .query(`\n                SELECT Base_Price \n                FROM Appliance_Type\n                WHERE Appliance_Type_ID = @applianceTypeID AND isActive = 1\n                `);\n\n        // If no result returned from the appliance type check query then that means the appliance type id passed\n        // is invalid, throw a 404 error\n        if (applianceType.recordset.length === 0) {\n            return res.status(404).json({message: \"Invalid appliance type chosen.\"});\n        }\n\n        // Getting the base price of the appliance type chosen to specify the price of the booking\n        const basePrice = applianceType.recordset[0].Base_Price;\n\n        // Calculating the platform fee for the payment table based on the base price\n        const commissionRate = 15.00;\n        const platformFee = (basePrice * commissionRate) / 100;\n\n        // Starting a transaction so the booking and payment are created together\n        const transaction = pool.transaction();\n        await transaction.begin();\n\n        try {\n            // Creating booking data by padding the needed column data\n            const bookingResult = await transaction.request()\n                .input(\"userID\", sql.Int, userID)\n                .input(\"applianceTypeID\", sql.Int, applianceTypeID)\n                .input(\"issueDescription\", sql.NVarChar, issueDescription)\n                .input(\"bookingDate\", sql.Date, bookingDate)\n                .input(\"bookingTime\", sql.VarChar(8), cleanTime)\n                .input(\"basePrice\", sql.Decimal(10, 2), basePrice)\n                .query(`\n            INSERT INTO Booking (UserID, Appliance_Type_ID, Issue_Description, Booking_Date, Booking_Time, [Status], Total_Price)\n            OUTPUT INSERTED.Booking_ID -- just so we could use the bookingID later using the result of this query.\n            VALUES(@userID, @applianceTypeID, @issueDescription, @bookingDate, CAST(@bookingTime AS TIME), 'pending', @basePrice)\n            `);\n\n            // Getting the booking id from the above query's result (it outputs the booking id)\n            const bookingID = bookingResult.recordset[0].Booking_ID;\n\n            // Insert the payment data and set it to pending status until the user confirms the payment\n            await transaction.request()\n                .input(\"bookingID\", sql.Int, bookingID)\n                .input(\"amount\", sql.Decimal(10, 2), basePrice)\n                .input(\"paymentMethod\", sql.VarChar, paymentMethod)\n                .input(\"commissionRate\", sql.Decimal(5, 2), commissionRate)\n                .input(\"platformFee\", sql.Decimal(10, 2), platformFee)\n                .query(`\n                        INSERT INTO Payment (Booking_ID, Amount, Payment_Method, [Status], Commission_Rate, Platform_Fee)\n                        VALUES(@bookingID, @amount, @paymentMethod, 'pending', @commissionRate, @platformFee)\n                        `);\n\n            // Comits the changes, which inserts the booking and the payment data of this user's requested booking\n            await transaction.commit();\n\n            // Sending a 201 success message with some information passed\n            res.status(201).json({\n                message: \"Successfully booked! A technician will be assigned soon.\",\n                bookingID: bookingID,\n                totalPrice: basePrice,\n                paymentMethod: paymentMethod,\n                paymentStatus: \"pending\"\n            });\n        } catch (error) {\n            // rollback if something goes wrong\n            await transaction.rollback();\n            throw error;\n        }\n\n    } catch (error) {\n        console.error(\"Unexpected error occurred when booking:\", error);\n\n        // If any data is wrong then this error is thrown (wrong appliance type and wrong/invalid date)\n        if (error.number === 547) {\n            return res.status(400).json({message: \"Invalid booking data. Please check your appliance type, date, and ensure it's today or in the future.\"});\n        }\n\n        res.status(500).json({message: \"An unexpected error occurred while booking.\"});\n    }\n});\n\n// User paying a booking functionality\nconst userPayBooking = asyncHandler(async (req, res) => {\n    // Getting the booking id and the transaction id (if non-cash method) from the body, and the user id passed by the authentication middleware\n    const { bookingID, transactionID } = req.body;\n    const userID = req.userID;\n\n    // If no bookingID is passed then throw a 400 error. Not passing the transactionID is fine if the method is cash.\n    if (!bookingID) {\n        return res.status(400).json({message: \"Booking ID must be passed.\"});\n    }\n\n    try {\n        const pool = getPool();\n\n        // Checking if the bookingID passed is valid\n        const checkBooking = await pool.request()\n            .input(\"bookingID\", sql.Int, bookingID)\n            .input(\"userID\", sql.Int, userID)\n            .query(`\n                SELECT b.Booking_ID, b.[Status], b.UserID, p.Payment_ID, p.[Status] AS Payment_Status, p.Payment_Method\n                FROM Booking b\n                JOIN Payment p ON b.Booking_ID = p.Booking_ID\n                WHERE b.Booking_ID = @bookingID\n                `);\n\n        // If the above select query got no result then the booking is not found, throws a 404\n        if (checkBooking.recordset.length === 0) {\n            return res.status(404).json({message: \"Booking not found\"});\n        }\n\n        // Getting the first row of the returned result\n        const booking = checkBooking.recordset[0];\n\n        // Checking if the booking's userID matches the current logged in's userID, if it doesn't then throw a 403\n        // since the user isn't authorized to pay for this booking.\n        if (booking.UserID !== userID) {\n            return res.status(403).json({message: \"You are not authorized to pay for this booking since it's not yours.\"});\n        }\n\n        // Status checking: cannot pay a booking that's cancelled/completed\n        if (booking.Status === 'cancelled') {\n            return res.status(400).json({message: \"Cannot pay for a cancelled booking!\"});\n        }\n\n        if (booking.Status === 'completed') {\n            return res.status(400).json({message: \"Cannot pay for a booking that's already paid for.\"});\n        }\n\n        // If the booking is already paid then the user cant pay it again!\n        if (booking.Payment_Status === 'completed') {\n            return res.status(400).json({message: \"This booking has already been paid.\"});\n        }\n\n        // Ensuring that transactionID is passed when the payment method is anything but a cash method\n        // If there is no transactionID, and the payment method isnt cash, then throw a 400 error\n        const transactionIdMethods = ['credit_card', 'debit_card', 'whish', 'omt'];\n        if (transactionIdMethods.includes(booking.Payment_Method) && !transactionID) {\n            return res.status(400).json({message: \"Transaction ID is needed for this payment method!\"});\n        }\n\n        // If all's good then update the Payment row of the bookingID concerned and change the status to \n        // completed, with setting the transactionID (if available) and setting the paidAt to the current date.\n        await pool.request()\n            .input(\"bookingID\", sql.Int, bookingID)\n            .input(\"transactionID\", sql.VarChar, transactionID || null)\n            .query(`\n                UPDATE Payment\n                SET [Status] = 'completed',\n                    Transaction_ID = @transactionID,\n                    paidAt = GETDATE()\n                WHERE Booking_ID = @bookingID\n                `);\n\n        // Send a success message with the booking id and payment status as completed\n        res.status(200).json({\n            message: \"Payment completed.\",\n            bookingID: bookingID,\n            paymentStatus: \"completed\"\n        });\n    } catch (error) {\n        // Throws an error in case the booking id is invalid, or any other unexpected issue that occurred\n        console.error(\"Unexpected error occurred when processing payment:\", error);\n\n        if (error.number === 547) {\n            return res.status(400).json({message: \"Invalid booking ID.\"});\n        }\n\n        res.status(500).json({message: \"An unexpected error occurred when processing the payment.\"});\n    }\n})\n\n// User rating a booking functionality\nconst userRateBooking = asyncHandler(async (req, res) => {\n    // Getting the needed input from the passed body and the userID passed from the middleware\n    const { bookingID, ratingScore, reviewText } = req.body;\n    const userID = req.userID;\n\n    // If the needed values are empty then throw a 400 error\n    if (!bookingID || !ratingScore || !reviewText) {\n        return res.status(400).json({message: \"You have to pass a booking ID, rating score and review text to rate a booking.\"});\n    }\n\n    // If the rating score isn't a number, or isn't between 1 and 5, then throw an error 400\n    if (!Number.isInteger(ratingScore) || ratingScore < 1 || ratingScore > 5) {\n        return res.status(400).json({message: \"Rating score must be a number between 1 and 5!\"});\n    }\n\n    // If the review text is too short then throw a 400 error\n    if (reviewText.trim().length < 15) {\n        return res.status(400).json({message: \"Please write your review text longer, that's too short.\"});\n    }\n\n    try {\n        const pool = getPool();\n\n        // Check if the booking id passed exists\n        const checkBooking = await pool.request()\n            .input(\"bookingID\", sql.Int, bookingID)\n            .input(\"userID\", sql.Int, userID)\n            .query(`\n                SELECT b.Booking_ID, b.UserID, b.Technician_ID, b.[Status]\n                FROM Booking b\n                WHERE b.Booking_ID = @bookingID\n                `);\n\n        // If nothing was returned from the above query then throw a 404 because the booking isn't found\n        if (checkBooking.recordset.length === 0) {\n            return res.status(404).json({message: \"Booking not found.\"});\n        }\n\n        // Get the first booking row\n        const booking = checkBooking.recordset[0];\n\n        // Check if the booking's user id matches the userid of the logged in user, if not then throw a 403 error\n        if (booking.UserID !== userID) {\n            return res.status(403).json({message: \"You are not authorized to review this booking since it's not yours!\"});\n        }\n\n        //If the booking doesn't have a technician then the user cant rate it\n        if (!booking.Technician_ID) {\n            return res.status(400).json({message: \"Cannot rate a booking without an assigned technician.\"});\n        }\n\n        // If the booking isn't completed then the user cant rate it\n        if (booking.Status !== 'completed') {\n            return res.status(400).json({message: \"You can only rate completed bookings.\"});\n        }\n\n        // Checking if a rating already exists for the concerned booking\n        const existingRating = await pool.request()\n            .input(\"bookingID\", sql.Int, bookingID)\n            .query(`SELECT Rating_ID \n                    FROM Rating \n                    WHERE Booking_ID = @bookingID`);\n\n        // If yes then throw a 409 error\n        if (existingRating.recordset.length > 0) {\n            return res.status(409).json({message: \"This booking has already been rated before!\"});\n        }\n\n        // If all's good then insert the rating data with the information taken from the body\n        await pool.request()\n            .input(\"bookingID\", sql.Int, bookingID)\n            .input(\"userID\", sql.Int, userID)\n            .input(\"technicianID\", sql.Int, booking.Technician_ID)\n            .input(\"ratingScore\", sql.SmallInt, ratingScore)\n            .input(\"reviewText\", sql.NVarChar, reviewText.trim())\n            .query(`\n                INSERT INTO Rating (Booking_ID, User_ID, Technician_ID, Rating_Score, Review_Text)\n                VALUES(@bookingID, @userID, @technicianID, @ratingScore, @reviewText)\n                `);\n\n        // Send a 201 success message\n        res.status(201).json({\n            message: \"Successfully rated this booking!\",\n            bookingID: bookingID,\n            technicianID: booking.Technician_ID,\n            ratingScore: ratingScore\n        });\n    } catch (error) {\n        console.error(\"Unexpected error occurred when trying to rate a booking:\", error);\n\n        // Constraint violation handling\n        if (error.number === 547) {\n            return res.status(400).json({message: \"Invalid rating data, please check your inputs.\"});\n        }\n\n        // unique constraint violation (for duplicate ratings)\n        if (error.number === 2627) {\n            return res.status(409).json({message: \"This booking has already been rated.\"});\n        }\n\n        res.status(500).json({message: \"Unexpected error occurred when trying to rate a booking.\"});\n    }\n})\n\n// The below methods get different types of bookings of the user: pending, confirmed, in progress, completed, cancelled\n// All use the helper function getBookingsByStatus to reduce code duplication\nconst getPendingBookings = asyncHandler(async (req, res) => {\n    const userID = req.userID;\n    const result = await getBookingsByStatus(userID, 'pending', 'pending');\n    \n    if (result.success) {\n        return res.status(result.statusCode).json(result.data);\n    }\n    return res.status(result.statusCode).json({ message: result.error });\n});\n\nconst getConfirmedBookings = asyncHandler(async (req, res) => {\n    const userID = req.userID;\n    const result = await getBookingsByStatus(userID, 'confirmed', 'confirmed');\n    \n    if (result.success) {\n        return res.status(result.statusCode).json(result.data);\n    }\n    return res.status(result.statusCode).json({ message: result.error });\n});\n\nconst getInProgressBookings = asyncHandler(async (req, res) => {\n    const userID = req.userID;\n    const result = await getBookingsByStatus(userID, 'in_progress', 'in progress');\n    \n    if (result.success) {\n        return res.status(result.statusCode).json(result.data);\n    }\n    return res.status(result.statusCode).json({ message: result.error });\n});\n\nconst getCompletedBookings = asyncHandler(async (req, res) => {\n    const userID = req.userID;\n    const result = await getBookingsByStatus(userID, 'completed', 'completed');\n    \n    if (result.success) {\n        return res.status(result.statusCode).json(result.data);\n    }\n    return res.status(result.statusCode).json({ message: result.error });\n});\n\nconst getCancelledBookings = asyncHandler(async (req, res) => {\n    const userID = req.userID;\n    const result = await getBookingsByStatus(userID, 'cancelled', 'cancelled');\n    \n    if (result.success) {\n        return res.status(result.statusCode).json(result.data);\n    }\n    return res.status(result.statusCode).json({ message: result.error });\n});\n\n\nmodule.exports = { userRequestBooking, userPayBooking, userRateBooking, getPendingBookings, getConfirmedBookings, getInProgressBookings, getCompletedBookings, getCancelledBookings };"],"mappings":"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","ignoreList":[]}},"mtime":1764435289430},"{\"assumptions\":{},\"sourceRoot\":\"/workspaces/FixAppliance-eCommerce/back-end/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/workspaces/FixAppliance-eCommerce/back-end\",\"filename\":\"/workspaces/FixAppliance-eCommerce/back-end/src/routes/technicianRoutes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/workspaces/FixAppliance-eCommerce/back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"_exploded\":true,\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"VoidPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/workspaces/FixAppliance-eCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$48\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/workspaces/FixAppliance-eCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$49\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"\"use strict\";\n\n/**\n * This express file sets up the routes of the technician, which consist of:\n *      Non-validation required routes: register and login\n *      Validation required routes: logout, setting specialty and service area, and booking-related (seeing pending bookings, accepting a booking,...)\n * \n * Validation requirement is to have the cookie with the right credintials without being expired.\n * \n * The functionalities for the routes themselves can be found in 3 files:\n *      1. controllers/TechnicianController.js for register, login, logout\n *      2. controllers/TechnicianBookingController.js for booking-related functonalities\n *      3. middlewares/auth.js for authenticating the technician's credentials that are either stored or not stored\n */\n\nvar express = require(\"express\");\nvar _require = require(\"../controllers/TechnicianController\"),\n  registerTechnician = _require.registerTechnician,\n  loginTechnician = _require.loginTechnician,\n  logoutTechnician = _require.logoutTechnician,\n  settingTechnicianSpecialty = _require.settingTechnicianSpecialty,\n  settingTechnicianServiceArea = _require.settingTechnicianServiceArea;\nvar _require2 = require(\"../middlewares/auth\"),\n  technicianValidation = _require2.technicianValidation;\nvar _require3 = require(\"../controllers/TechnicianBookingController\"),\n  getPendingBookings = _require3.getPendingBookings,\n  acceptPendingBooking = _require3.acceptPendingBooking;\nvar router = express.Router();\nrouter.post(\"/register\", registerTechnician);\nrouter.post(\"/login\", loginTechnician);\nrouter.post(\"/logout\", technicianValidation, logoutTechnician);\nrouter.post(\"/set-specialty\", technicianValidation, settingTechnicianSpecialty);\nrouter.post(\"/set-service-area\", technicianValidation, settingTechnicianServiceArea);\nrouter.get(\"/booking/get-pendings\", technicianValidation, getPendingBookings);\nrouter.post(\"/booking/accept\", technicianValidation, acceptPendingBooking);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsIl9yZXF1aXJlIiwicmVnaXN0ZXJUZWNobmljaWFuIiwibG9naW5UZWNobmljaWFuIiwibG9nb3V0VGVjaG5pY2lhbiIsInNldHRpbmdUZWNobmljaWFuU3BlY2lhbHR5Iiwic2V0dGluZ1RlY2huaWNpYW5TZXJ2aWNlQXJlYSIsIl9yZXF1aXJlMiIsInRlY2huaWNpYW5WYWxpZGF0aW9uIiwiX3JlcXVpcmUzIiwiZ2V0UGVuZGluZ0Jvb2tpbmdzIiwiYWNjZXB0UGVuZGluZ0Jvb2tpbmciLCJyb3V0ZXIiLCJSb3V0ZXIiLCJwb3N0IiwiZ2V0IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL3dvcmtzcGFjZXMvRml4QXBwbGlhbmNlLWVDb21tZXJjZS9iYWNrLWVuZC9zcmMvcm91dGVzLyIsInNvdXJjZXMiOlsidGVjaG5pY2lhblJvdXRlcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFRoaXMgZXhwcmVzcyBmaWxlIHNldHMgdXAgdGhlIHJvdXRlcyBvZiB0aGUgdGVjaG5pY2lhbiwgd2hpY2ggY29uc2lzdCBvZjpcbiAqICAgICAgTm9uLXZhbGlkYXRpb24gcmVxdWlyZWQgcm91dGVzOiByZWdpc3RlciBhbmQgbG9naW5cbiAqICAgICAgVmFsaWRhdGlvbiByZXF1aXJlZCByb3V0ZXM6IGxvZ291dCwgc2V0dGluZyBzcGVjaWFsdHkgYW5kIHNlcnZpY2UgYXJlYSwgYW5kIGJvb2tpbmctcmVsYXRlZCAoc2VlaW5nIHBlbmRpbmcgYm9va2luZ3MsIGFjY2VwdGluZyBhIGJvb2tpbmcsLi4uKVxuICogXG4gKiBWYWxpZGF0aW9uIHJlcXVpcmVtZW50IGlzIHRvIGhhdmUgdGhlIGNvb2tpZSB3aXRoIHRoZSByaWdodCBjcmVkaW50aWFscyB3aXRob3V0IGJlaW5nIGV4cGlyZWQuXG4gKiBcbiAqIFRoZSBmdW5jdGlvbmFsaXRpZXMgZm9yIHRoZSByb3V0ZXMgdGhlbXNlbHZlcyBjYW4gYmUgZm91bmQgaW4gMyBmaWxlczpcbiAqICAgICAgMS4gY29udHJvbGxlcnMvVGVjaG5pY2lhbkNvbnRyb2xsZXIuanMgZm9yIHJlZ2lzdGVyLCBsb2dpbiwgbG9nb3V0XG4gKiAgICAgIDIuIGNvbnRyb2xsZXJzL1RlY2huaWNpYW5Cb29raW5nQ29udHJvbGxlci5qcyBmb3IgYm9va2luZy1yZWxhdGVkIGZ1bmN0b25hbGl0aWVzXG4gKiAgICAgIDMuIG1pZGRsZXdhcmVzL2F1dGguanMgZm9yIGF1dGhlbnRpY2F0aW5nIHRoZSB0ZWNobmljaWFuJ3MgY3JlZGVudGlhbHMgdGhhdCBhcmUgZWl0aGVyIHN0b3JlZCBvciBub3Qgc3RvcmVkXG4gKi9cblxuY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoXCJleHByZXNzXCIpO1xuY29uc3Qge3JlZ2lzdGVyVGVjaG5pY2lhbiwgbG9naW5UZWNobmljaWFuLCBsb2dvdXRUZWNobmljaWFuLCBzZXR0aW5nVGVjaG5pY2lhblNwZWNpYWx0eSwgc2V0dGluZ1RlY2huaWNpYW5TZXJ2aWNlQXJlYX0gPSByZXF1aXJlKFwiLi4vY29udHJvbGxlcnMvVGVjaG5pY2lhbkNvbnRyb2xsZXJcIik7XG5jb25zdCB7dGVjaG5pY2lhblZhbGlkYXRpb259ID0gcmVxdWlyZShcIi4uL21pZGRsZXdhcmVzL2F1dGhcIik7XG5jb25zdCB7Z2V0UGVuZGluZ0Jvb2tpbmdzLCBhY2NlcHRQZW5kaW5nQm9va2luZ30gPSByZXF1aXJlKFwiLi4vY29udHJvbGxlcnMvVGVjaG5pY2lhbkJvb2tpbmdDb250cm9sbGVyXCIpO1xuXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG5yb3V0ZXIucG9zdChcIi9yZWdpc3RlclwiLCByZWdpc3RlclRlY2huaWNpYW4pO1xucm91dGVyLnBvc3QoXCIvbG9naW5cIiwgbG9naW5UZWNobmljaWFuKTtcbnJvdXRlci5wb3N0KFwiL2xvZ291dFwiLCB0ZWNobmljaWFuVmFsaWRhdGlvbiwgbG9nb3V0VGVjaG5pY2lhbik7XG5cbnJvdXRlci5wb3N0KFwiL3NldC1zcGVjaWFsdHlcIiwgdGVjaG5pY2lhblZhbGlkYXRpb24sIHNldHRpbmdUZWNobmljaWFuU3BlY2lhbHR5KTtcbnJvdXRlci5wb3N0KFwiL3NldC1zZXJ2aWNlLWFyZWFcIiwgdGVjaG5pY2lhblZhbGlkYXRpb24sIHNldHRpbmdUZWNobmljaWFuU2VydmljZUFyZWEpO1xuXG5yb3V0ZXIuZ2V0KFwiL2Jvb2tpbmcvZ2V0LXBlbmRpbmdzXCIsIHRlY2huaWNpYW5WYWxpZGF0aW9uLCBnZXRQZW5kaW5nQm9va2luZ3MpO1xucm91dGVyLnBvc3QoXCIvYm9va2luZy9hY2NlcHRcIiwgdGVjaG5pY2lhblZhbGlkYXRpb24sIGFjY2VwdFBlbmRpbmdCb29raW5nKTtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLElBQU1BLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFNBQVMsQ0FBQztBQUNsQyxJQUFBQyxRQUFBLEdBQTBIRCxPQUFPLENBQUMscUNBQXFDLENBQUM7RUFBaktFLGtCQUFrQixHQUFBRCxRQUFBLENBQWxCQyxrQkFBa0I7RUFBRUMsZUFBZSxHQUFBRixRQUFBLENBQWZFLGVBQWU7RUFBRUMsZ0JBQWdCLEdBQUFILFFBQUEsQ0FBaEJHLGdCQUFnQjtFQUFFQywwQkFBMEIsR0FBQUosUUFBQSxDQUExQkksMEJBQTBCO0VBQUVDLDRCQUE0QixHQUFBTCxRQUFBLENBQTVCSyw0QkFBNEI7QUFDdEgsSUFBQUMsU0FBQSxHQUErQlAsT0FBTyxDQUFDLHFCQUFxQixDQUFDO0VBQXREUSxvQkFBb0IsR0FBQUQsU0FBQSxDQUFwQkMsb0JBQW9CO0FBQzNCLElBQUFDLFNBQUEsR0FBbURULE9BQU8sQ0FBQyw0Q0FBNEMsQ0FBQztFQUFqR1Usa0JBQWtCLEdBQUFELFNBQUEsQ0FBbEJDLGtCQUFrQjtFQUFFQyxvQkFBb0IsR0FBQUYsU0FBQSxDQUFwQkUsb0JBQW9CO0FBRS9DLElBQU1DLE1BQU0sR0FBR2IsT0FBTyxDQUFDYyxNQUFNLENBQUMsQ0FBQztBQUUvQkQsTUFBTSxDQUFDRSxJQUFJLENBQUMsV0FBVyxFQUFFWixrQkFBa0IsQ0FBQztBQUM1Q1UsTUFBTSxDQUFDRSxJQUFJLENBQUMsUUFBUSxFQUFFWCxlQUFlLENBQUM7QUFDdENTLE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLFNBQVMsRUFBRU4sb0JBQW9CLEVBQUVKLGdCQUFnQixDQUFDO0FBRTlEUSxNQUFNLENBQUNFLElBQUksQ0FBQyxnQkFBZ0IsRUFBRU4sb0JBQW9CLEVBQUVILDBCQUEwQixDQUFDO0FBQy9FTyxNQUFNLENBQUNFLElBQUksQ0FBQyxtQkFBbUIsRUFBRU4sb0JBQW9CLEVBQUVGLDRCQUE0QixDQUFDO0FBRXBGTSxNQUFNLENBQUNHLEdBQUcsQ0FBQyx1QkFBdUIsRUFBRVAsb0JBQW9CLEVBQUVFLGtCQUFrQixDQUFDO0FBQzdFRSxNQUFNLENBQUNFLElBQUksQ0FBQyxpQkFBaUIsRUFBRU4sb0JBQW9CLEVBQUVHLG9CQUFvQixDQUFDO0FBRzFFSyxNQUFNLENBQUNDLE9BQU8sR0FBR0wsTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["express","require","_require","registerTechnician","loginTechnician","logoutTechnician","settingTechnicianSpecialty","settingTechnicianServiceArea","_require2","technicianValidation","_require3","getPendingBookings","acceptPendingBooking","router","Router","post","get","module","exports"],"sourceRoot":"/workspaces/FixAppliance-eCommerce/back-end/src/routes/","sources":["technicianRoutes.js"],"sourcesContent":["/**\n * This express file sets up the routes of the technician, which consist of:\n *      Non-validation required routes: register and login\n *      Validation required routes: logout, setting specialty and service area, and booking-related (seeing pending bookings, accepting a booking,...)\n * \n * Validation requirement is to have the cookie with the right credintials without being expired.\n * \n * The functionalities for the routes themselves can be found in 3 files:\n *      1. controllers/TechnicianController.js for register, login, logout\n *      2. controllers/TechnicianBookingController.js for booking-related functonalities\n *      3. middlewares/auth.js for authenticating the technician's credentials that are either stored or not stored\n */\n\nconst express = require(\"express\");\nconst {registerTechnician, loginTechnician, logoutTechnician, settingTechnicianSpecialty, settingTechnicianServiceArea} = require(\"../controllers/TechnicianController\");\nconst {technicianValidation} = require(\"../middlewares/auth\");\nconst {getPendingBookings, acceptPendingBooking} = require(\"../controllers/TechnicianBookingController\");\n\nconst router = express.Router();\n\nrouter.post(\"/register\", registerTechnician);\nrouter.post(\"/login\", loginTechnician);\nrouter.post(\"/logout\", technicianValidation, logoutTechnician);\n\nrouter.post(\"/set-specialty\", technicianValidation, settingTechnicianSpecialty);\nrouter.post(\"/set-service-area\", technicianValidation, settingTechnicianServiceArea);\n\nrouter.get(\"/booking/get-pendings\", technicianValidation, getPendingBookings);\nrouter.post(\"/booking/accept\", technicianValidation, acceptPendingBooking);\n\n\nmodule.exports = router;"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAMA,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAClC,IAAAC,QAAA,GAA0HD,OAAO,CAAC,qCAAqC,CAAC;EAAjKE,kBAAkB,GAAAD,QAAA,CAAlBC,kBAAkB;EAAEC,eAAe,GAAAF,QAAA,CAAfE,eAAe;EAAEC,gBAAgB,GAAAH,QAAA,CAAhBG,gBAAgB;EAAEC,0BAA0B,GAAAJ,QAAA,CAA1BI,0BAA0B;EAAEC,4BAA4B,GAAAL,QAAA,CAA5BK,4BAA4B;AACtH,IAAAC,SAAA,GAA+BP,OAAO,CAAC,qBAAqB,CAAC;EAAtDQ,oBAAoB,GAAAD,SAAA,CAApBC,oBAAoB;AAC3B,IAAAC,SAAA,GAAmDT,OAAO,CAAC,4CAA4C,CAAC;EAAjGU,kBAAkB,GAAAD,SAAA,CAAlBC,kBAAkB;EAAEC,oBAAoB,GAAAF,SAAA,CAApBE,oBAAoB;AAE/C,IAAMC,MAAM,GAAGb,OAAO,CAACc,MAAM,CAAC,CAAC;AAE/BD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAEZ,kBAAkB,CAAC;AAC5CU,MAAM,CAACE,IAAI,CAAC,QAAQ,EAAEX,eAAe,CAAC;AACtCS,MAAM,CAACE,IAAI,CAAC,SAAS,EAAEN,oBAAoB,EAAEJ,gBAAgB,CAAC;AAE9DQ,MAAM,CAACE,IAAI,CAAC,gBAAgB,EAAEN,oBAAoB,EAAEH,0BAA0B,CAAC;AAC/EO,MAAM,CAACE,IAAI,CAAC,mBAAmB,EAAEN,oBAAoB,EAAEF,4BAA4B,CAAC;AAEpFM,MAAM,CAACG,GAAG,CAAC,uBAAuB,EAAEP,oBAAoB,EAAEE,kBAAkB,CAAC;AAC7EE,MAAM,CAACE,IAAI,CAAC,iBAAiB,EAAEN,oBAAoB,EAAEG,oBAAoB,CAAC;AAG1EK,MAAM,CAACC,OAAO,GAAGL,MAAM","ignoreList":[]}},"mtime":1764435289430},"{\"assumptions\":{},\"sourceRoot\":\"/workspaces/FixAppliance-eCommerce/back-end/src/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/workspaces/FixAppliance-eCommerce/back-end\",\"filename\":\"/workspaces/FixAppliance-eCommerce/back-end/src/controllers/TechnicianController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/workspaces/FixAppliance-eCommerce/back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"_exploded\":true,\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"VoidPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/workspaces/FixAppliance-eCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$48\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/workspaces/FixAppliance-eCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$49\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n/**\n * This controller provides the following functionalities for a technician: registering, logging in, logging out,\n * setting specialty (appliance categories they work with), and setting service areas.\n * \n * For storing the password, bcrypt is used to hash and jwt (jsonwebtoken) is used to sign a token and store it as cookie.\n */\n\nvar asyncHandler = require(\"express-async-handler\");\nvar bcrypt = require(\"bcrypt\");\nvar jwt = require(\"jsonwebtoken\");\n\n// sql needed for the type definitions in .input\n// getPool is to do queries\nvar _require = require(\"../config/database\"),\n  getPool = _require.getPool,\n  sql = _require.sql;\n\n// Import validation utilities\nvar _require2 = require(\"../utils/validators\"),\n  isValidEmail = _require2.isValidEmail,\n  isValidPhone = _require2.isValidPhone,\n  isValidPassword = _require2.isValidPassword,\n  isValidName = _require2.isValidName,\n  sanitizeString = _require2.sanitizeString;\n\n// Handles the technician registering functionality\nvar registerTechnician = asyncHandler(/*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee(req, res) {\n    var _req$body, firstName, lastName, email, phone, password, passwordValidation, pool, hashedPassword, result, _t;\n    return _regenerator[\"default\"].wrap(function (_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          // Getting the needed data from the request body\n          _req$body = req.body, firstName = _req$body.firstName, lastName = _req$body.lastName, email = _req$body.email, phone = _req$body.phone, password = _req$body.password; // Checking if any of them is empty, if yes then we throw a 400\n          if (!(!firstName || !lastName || !email || !phone || !password)) {\n            _context.next = 1;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"You have to insert all data to register.\"\n          }));\n        case 1:\n          if (isValidName(firstName)) {\n            _context.next = 2;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"First name must be 2-30 characters and contain only letters.\"\n          }));\n        case 2:\n          if (isValidName(lastName)) {\n            _context.next = 3;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"Last name must be 2-30 characters and contain only letters.\"\n          }));\n        case 3:\n          if (isValidEmail(email)) {\n            _context.next = 4;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"Please enter a valid email address.\"\n          }));\n        case 4:\n          if (isValidPhone(phone)) {\n            _context.next = 5;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"Please enter a valid phone number.\"\n          }));\n        case 5:\n          // Validate password strength\n          passwordValidation = isValidPassword(password);\n          if (passwordValidation.valid) {\n            _context.next = 6;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: passwordValidation.message\n          }));\n        case 6:\n          _context.prev = 6;\n          pool = getPool(); // Hashing the password before storing\n          _context.next = 7;\n          return bcrypt.hash(password, 11);\n        case 7:\n          hashedPassword = _context.sent;\n          _context.next = 8;\n          return pool.request().input(\"firstName\", sql.VarChar, sanitizeString(firstName)).input(\"lastName\", sql.VarChar, sanitizeString(lastName)).input(\"email\", sql.VarChar, sanitizeString(email).toLowerCase()).input(\"phone\", sql.VarChar, sanitizeString(phone)).input(\"hashedPassword\", sql.VarChar, hashedPassword).query(\"\\n            INSERT INTO Technician (First_Name, Last_Name, Email, Phone, Password_Hash)\\n            VALUES(@firstName, @lastName, @email, @phone, @hashedPassword)\\n            \");\n        case 8:\n          result = _context.sent;\n          // Sending success message\n          res.status(201).json({\n            message: \"Technician registered successfully!\"\n          });\n          _context.next = 11;\n          break;\n        case 9:\n          _context.prev = 9;\n          _t = _context[\"catch\"](6);\n          if (!(_t.number === 2627 || _t.number === 2601)) {\n            _context.next = 10;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(409).json({\n            message: \"Another account exists already either with this email address or phone number. If you have another account, please use that one instead.\"\n          }));\n        case 10:\n          // Throwing the console error and 500 status in case something goes wrong\n          console.error(\"Unexpected error registering a new technician account: \", _t);\n          res.status(500).json({\n            message: \"An unexpected error occurred while registering the technician.\"\n          });\n        case 11:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[6, 9]]);\n  }));\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}());\n\n// Handling the logging in functionality for technicians\nvar loginTechnician = asyncHandler(/*#__PURE__*/function () {\n  var _ref2 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(req, res) {\n    var _req$body2, email, password, pool, result, technician, isPasswordValid, technicianToken, _t2;\n    return _regenerator[\"default\"].wrap(function (_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          // Getting the email and password that the technician is trying to login with\n          _req$body2 = req.body, email = _req$body2.email, password = _req$body2.password; // Input validation, if either empty then send 400 error\n          if (!(!email || !password)) {\n            _context2.next = 1;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(400).json({\n            message: \"You have to enter both your email and your password\"\n          }));\n        case 1:\n          if (isValidEmail(email)) {\n            _context2.next = 2;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(400).json({\n            message: \"Please enter a valid email address.\"\n          }));\n        case 2:\n          _context2.prev = 2;\n          pool = getPool(); // Searching in the database for a technician with the same email passed to check if exists\n          _context2.next = 3;\n          return pool.request().input(\"email\", sql.VarChar, sanitizeString(email).toLowerCase()).query(\"\\n                SELECT Technician_ID, First_Name, Last_Name, Email, Password_Hash, isActive, Verified\\n                FROM Technician\\n                WHERE Email = @email\\n                \");\n        case 3:\n          result = _context2.sent;\n          if (!(result.recordset.length === 0)) {\n            _context2.next = 4;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(401).json({\n            message: \"Invalid email address or password.\"\n          }));\n        case 4:\n          // Now we are getting the first technician that we got having the same email address\n          technician = result.recordset[0]; // Check if the technician account is active\n          if (technician.isActive) {\n            _context2.next = 5;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(403).json({\n            message: \"Your account is deactivated. Please contact us to resolve this issue.\"\n          }));\n        case 5:\n          if (technician.Verified) {\n            _context2.next = 6;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(403).json({\n            message: \"Your account is not verified yet. Please wait for admin approval.\"\n          }));\n        case 6:\n          _context2.next = 7;\n          return bcrypt.compare(password, technician.Password_Hash);\n        case 7:\n          isPasswordValid = _context2.sent;\n          if (isPasswordValid) {\n            _context2.next = 8;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(401).json({\n            message: \"Invalid email address or password.\"\n          }));\n        case 8:\n          // If the password matches, then create a technician token using jwt by signing it with the TECHNICIAN_ACCESS_TOKEN\n          // stored in the .env file. The token expires in 1 day.\n          technicianToken = jwt.sign({\n            id: technician.Technician_ID,\n            firstName: technician.First_Name,\n            lastName: technician.Last_Name,\n            email: technician.Email\n          }, process.env.TECHNICIAN_ACCESS_TOKEN, {\n            expiresIn: \"1d\"\n          }); // If a cookie exists already for the technician, clear it\n          if (req.cookies.technician_access_token) {\n            res.clearCookie('technician_access_token');\n          }\n\n          // Store the new cookie such that it lasts 1 day, and throw a 200 success message with some data about the technician\n          // (id, firstName, lastName, email)\n          res.cookie('technician_access_token', technicianToken, {\n            httpOnly: true,\n            secure: process.env.NODE_ENV === \"production\",\n            sameSite: 'strict',\n            maxAge: 24 * 60 * 60 * 1000\n          });\n          res.status(200).json({\n            message: \"Successfully logged in.\",\n            technician: {\n              id: technician.Technician_ID,\n              firstName: technician.First_Name,\n              lastName: technician.Last_Name,\n              email: technician.Email\n            }\n          });\n\n          // If anything goes wrong, throw an error\n          _context2.next = 10;\n          break;\n        case 9:\n          _context2.prev = 9;\n          _t2 = _context2[\"catch\"](2);\n          console.error(\"Login error:\", _t2);\n          res.status(500).json({\n            message: \"An error occurred during login.\"\n          });\n        case 10:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[2, 9]]);\n  }));\n  return function (_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}());\n\n// Logging out functionality by clearing the technician's cookie and sending a success message\nvar logoutTechnician = asyncHandler(/*#__PURE__*/function () {\n  var _ref3 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee3(req, res) {\n    return _regenerator[\"default\"].wrap(function (_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          res.clearCookie('technician_access_token');\n          res.status(200).json({\n            message: \"Successfully logged out.\"\n          });\n        case 1:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3);\n  }));\n  return function (_x5, _x6) {\n    return _ref3.apply(this, arguments);\n  };\n}());\n\n// Setting technician specialty - allows technicians to add appliance categories they specialize in\nvar settingTechnicianSpecialty = asyncHandler(/*#__PURE__*/function () {\n  var _ref4 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee4(req, res) {\n    var _req$body3, applianceCategoryID, yearsOfExperience, certificateDate, technicianID, certDate, today, fiftyYearsAgo, pool, checkCategory, category, checkDuplicate, _t3;\n    return _regenerator[\"default\"].wrap(function (_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          // Getting the specialty data from the body and the technicianID passed from the middleware\n          _req$body3 = req.body, applianceCategoryID = _req$body3.applianceCategoryID, yearsOfExperience = _req$body3.yearsOfExperience, certificateDate = _req$body3.certificateDate;\n          technicianID = req.technicianID; // If required fields are missing, throw a 400 error\n          // Note: yearsOfExperience uses !== undefined to allow 0 as a valid value\n          if (!(!applianceCategoryID || yearsOfExperience === undefined || yearsOfExperience === null)) {\n            _context4.next = 1;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(400).json({\n            message: \"Category ID and years of experience are required for you to pass!\"\n          }));\n        case 1:\n          if (!(!Number.isInteger(yearsOfExperience) || yearsOfExperience < 0 || yearsOfExperience > 50)) {\n            _context4.next = 2;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(400).json({\n            message: \"Your years of experience should be between 0 and 50.\"\n          }));\n        case 2:\n          if (!certificateDate) {\n            _context4.next = 4;\n            break;\n          }\n          certDate = new Date(certificateDate);\n          today = new Date();\n          today.setHours(0, 0, 0, 0);\n\n          // Certificate date cannot be in the future\n          if (!(certDate > today)) {\n            _context4.next = 3;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(400).json({\n            message: \"Certification date cannot be in the future!\"\n          }));\n        case 3:\n          // Certificate date cannot be more than 50 years ago\n          fiftyYearsAgo = new Date();\n          fiftyYearsAgo.setFullYear(fiftyYearsAgo.getFullYear() - 50);\n          if (!(certDate < fiftyYearsAgo)) {\n            _context4.next = 4;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(400).json({\n            message: \"Certification date cannot be more than 50 years ago!\"\n          }));\n        case 4:\n          _context4.prev = 4;\n          pool = getPool(); // Check if the appliance category exists and is active\n          _context4.next = 5;\n          return pool.request().input(\"applianceCategoryID\", sql.Int, applianceCategoryID).query(\"\\n                SELECT Category_ID, NameEN, NameAR, isActive\\n                FROM Appliance_Category\\n                WHERE Category_ID = @applianceCategoryID\\n                \");\n        case 5:\n          checkCategory = _context4.sent;\n          if (!(checkCategory.recordset.length === 0)) {\n            _context4.next = 6;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(404).json({\n            message: \"Invalid category passed! You should pick one of the available category IDs only.\"\n          }));\n        case 6:\n          category = checkCategory.recordset[0]; // Check if the category is active\n          if (category.isActive) {\n            _context4.next = 7;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(400).json({\n            message: \"The category chosen is currently not active!\"\n          }));\n        case 7:\n          _context4.next = 8;\n          return pool.request().input(\"technicianID\", sql.Int, technicianID).input(\"applianceCategoryID\", sql.Int, applianceCategoryID).query(\"\\n                SELECT Technician_ID\\n                FROM Technician_Category\\n                WHERE Technician_ID = @technicianID AND Category_ID = @applianceCategoryID\\n                \");\n        case 8:\n          checkDuplicate = _context4.sent;\n          if (!(checkDuplicate.recordset.length > 0)) {\n            _context4.next = 9;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(409).json({\n            message: \"You already have this specialty added.\"\n          }));\n        case 9:\n          _context4.next = 10;\n          return pool.request().input(\"technicianID\", sql.Int, technicianID).input(\"applianceCategoryID\", sql.Int, applianceCategoryID).input(\"yearsOfExperience\", sql.SmallInt, yearsOfExperience).input(\"certificateDate\", sql.Date, certificateDate || null).query(\"\\n                INSERT INTO Technician_Category (Technician_ID, Category_ID, Years_of_Experience, Certification_Date)\\n                VALUES (@technicianID, @applianceCategoryID, @yearsOfExperience, @certificateDate)\\n                \");\n        case 10:\n          // Return success response with specialty details\n          res.status(201).json({\n            message: \"Successfully set your specialty.\",\n            categoryID: category.Category_ID,\n            categoryNameEN: category.NameEN,\n            categoryNameAR: category.NameAR,\n            yearsOfExperience: yearsOfExperience,\n            certificateDate: certificateDate || null\n          });\n          _context4.next = 14;\n          break;\n        case 11:\n          _context4.prev = 11;\n          _t3 = _context4[\"catch\"](4);\n          console.error(\"An unexpected error occurred when trying to set your specialty:\", _t3);\n\n          // Foreign key constraint violation\n          if (!(_t3.number === 547)) {\n            _context4.next = 12;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(400).json({\n            message: \"Invalid technician or category ID.\"\n          }));\n        case 12:\n          if (!(_t3.number === 2627)) {\n            _context4.next = 13;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(409).json({\n            message: \"You already have this specialty added!\"\n          }));\n        case 13:\n          res.status(500).json({\n            message: \"An unexpected error occurred when trying to set your specialty.\"\n          });\n        case 14:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4, null, [[4, 11]]);\n  }));\n  return function (_x7, _x8) {\n    return _ref4.apply(this, arguments);\n  };\n}());\n\n// Setting technician service area - allows technicians to add areas they work in with priority\nvar settingTechnicianServiceArea = asyncHandler(/*#__PURE__*/function () {\n  var _ref5 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee5(req, res) {\n    var _req$body4, serviceAreaID, priority, technicianID, pool, checkArea, serviceArea, checkDuplicate, _t4;\n    return _regenerator[\"default\"].wrap(function (_context5) {\n      while (1) switch (_context5.prev = _context5.next) {\n        case 0:\n          // Getting the service area data from the body and the technicianID passed from the middleware\n          _req$body4 = req.body, serviceAreaID = _req$body4.serviceAreaID, priority = _req$body4.priority;\n          technicianID = req.technicianID; // If required fields are missing, throw a 400 error\n          if (!(!serviceAreaID || !priority)) {\n            _context5.next = 1;\n            break;\n          }\n          return _context5.abrupt(\"return\", res.status(400).json({\n            message: \"You have to specify from which service area you are and the priority of it.\"\n          }));\n        case 1:\n          if (!(!Number.isInteger(priority) || priority < 1 || priority > 100)) {\n            _context5.next = 2;\n            break;\n          }\n          return _context5.abrupt(\"return\", res.status(400).json({\n            message: \"Priority must be an integer between 1 and 100.\"\n          }));\n        case 2:\n          _context5.prev = 2;\n          pool = getPool(); // Check if the service area exists\n          _context5.next = 3;\n          return pool.request().input(\"serviceAreaID\", sql.Int, serviceAreaID).query(\"\\n                SELECT Area_ID, NameEN, NameAR, Region, isActive\\n                FROM Service_Area\\n                WHERE Area_ID = @serviceAreaID\\n                \");\n        case 3:\n          checkArea = _context5.sent;\n          if (!(checkArea.recordset.length === 0)) {\n            _context5.next = 4;\n            break;\n          }\n          return _context5.abrupt(\"return\", res.status(404).json({\n            message: \"Invalid service area chosen! You have to choose one of the available ones.\"\n          }));\n        case 4:\n          serviceArea = checkArea.recordset[0]; // Check if the service area is active\n          if (serviceArea.isActive) {\n            _context5.next = 5;\n            break;\n          }\n          return _context5.abrupt(\"return\", res.status(400).json({\n            message: \"Currently this service area is not active.\"\n          }));\n        case 5:\n          _context5.next = 6;\n          return pool.request().input(\"technicianID\", sql.Int, technicianID).input(\"serviceAreaID\", sql.Int, serviceAreaID).query(\"\\n                SELECT Technician_ID\\n                FROM Technician_Service_Area\\n                WHERE Technician_ID = @technicianID AND Area_ID = @serviceAreaID\\n                \");\n        case 6:\n          checkDuplicate = _context5.sent;\n          if (!(checkDuplicate.recordset.length > 0)) {\n            _context5.next = 7;\n            break;\n          }\n          return _context5.abrupt(\"return\", res.status(409).json({\n            message: \"You already have set this service area!\"\n          }));\n        case 7:\n          _context5.next = 8;\n          return pool.request().input(\"technicianID\", sql.Int, technicianID).input(\"serviceAreaID\", sql.Int, serviceAreaID).input(\"priority\", sql.Int, priority).query(\"\\n                INSERT INTO Technician_Service_Area (Technician_ID, Area_ID, Priority_Order)\\n                VALUES (@technicianID, @serviceAreaID, @priority)\\n                \");\n        case 8:\n          // Return success response with service area details\n          res.status(201).json({\n            message: \"Successfully set your service area.\",\n            areaID: serviceArea.Area_ID,\n            areaNameEN: serviceArea.NameEN,\n            areaNameAR: serviceArea.NameAR,\n            areaRegion: serviceArea.Region,\n            priority: priority\n          });\n          _context5.next = 12;\n          break;\n        case 9:\n          _context5.prev = 9;\n          _t4 = _context5[\"catch\"](2);\n          console.error(\"An unexpected error occurred when trying to set your service area:\", _t4);\n\n          // Foreign key constraint violation\n          if (!(_t4.number === 547)) {\n            _context5.next = 10;\n            break;\n          }\n          return _context5.abrupt(\"return\", res.status(400).json({\n            message: \"Invalid technician or service area ID.\"\n          }));\n        case 10:\n          if (!(_t4.number === 2627)) {\n            _context5.next = 11;\n            break;\n          }\n          return _context5.abrupt(\"return\", res.status(409).json({\n            message: \"You already have this service area set!\"\n          }));\n        case 11:\n          res.status(500).json({\n            message: \"An unexpected error occurred when trying to set your service area.\"\n          });\n        case 12:\n        case \"end\":\n          return _context5.stop();\n      }\n    }, _callee5, null, [[2, 9]]);\n  }));\n  return function (_x9, _x0) {\n    return _ref5.apply(this, arguments);\n  };\n}());\nmodule.exports = {\n  registerTechnician: registerTechnician,\n  loginTechnician: loginTechnician,\n  logoutTechnician: logoutTechnician,\n  settingTechnicianSpecialty: settingTechnicianSpecialty,\n  settingTechnicianServiceArea: settingTechnicianServiceArea\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhc3luY0hhbmRsZXIiLCJyZXF1aXJlIiwiYmNyeXB0Iiwiand0IiwiX3JlcXVpcmUiLCJnZXRQb29sIiwic3FsIiwiX3JlcXVpcmUyIiwiaXNWYWxpZEVtYWlsIiwiaXNWYWxpZFBob25lIiwiaXNWYWxpZFBhc3N3b3JkIiwiaXNWYWxpZE5hbWUiLCJzYW5pdGl6ZVN0cmluZyIsInJlZ2lzdGVyVGVjaG5pY2lhbiIsIl9yZWYiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJfcmVnZW5lcmF0b3IiLCJtYXJrIiwiX2NhbGxlZSIsInJlcSIsInJlcyIsIl9yZXEkYm9keSIsImZpcnN0TmFtZSIsImxhc3ROYW1lIiwiZW1haWwiLCJwaG9uZSIsInBhc3N3b3JkIiwicGFzc3dvcmRWYWxpZGF0aW9uIiwicG9vbCIsImhhc2hlZFBhc3N3b3JkIiwicmVzdWx0IiwiX3QiLCJ3cmFwIiwiX2NvbnRleHQiLCJwcmV2IiwibmV4dCIsImJvZHkiLCJhYnJ1cHQiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsInZhbGlkIiwiaGFzaCIsInNlbnQiLCJyZXF1ZXN0IiwiaW5wdXQiLCJWYXJDaGFyIiwidG9Mb3dlckNhc2UiLCJxdWVyeSIsIm51bWJlciIsImNvbnNvbGUiLCJlcnJvciIsInN0b3AiLCJfeCIsIl94MiIsImFwcGx5IiwiYXJndW1lbnRzIiwibG9naW5UZWNobmljaWFuIiwiX3JlZjIiLCJfY2FsbGVlMiIsIl9yZXEkYm9keTIiLCJ0ZWNobmljaWFuIiwiaXNQYXNzd29yZFZhbGlkIiwidGVjaG5pY2lhblRva2VuIiwiX3QyIiwiX2NvbnRleHQyIiwicmVjb3Jkc2V0IiwibGVuZ3RoIiwiaXNBY3RpdmUiLCJWZXJpZmllZCIsImNvbXBhcmUiLCJQYXNzd29yZF9IYXNoIiwic2lnbiIsImlkIiwiVGVjaG5pY2lhbl9JRCIsIkZpcnN0X05hbWUiLCJMYXN0X05hbWUiLCJFbWFpbCIsInByb2Nlc3MiLCJlbnYiLCJURUNITklDSUFOX0FDQ0VTU19UT0tFTiIsImV4cGlyZXNJbiIsImNvb2tpZXMiLCJ0ZWNobmljaWFuX2FjY2Vzc190b2tlbiIsImNsZWFyQ29va2llIiwiY29va2llIiwiaHR0cE9ubHkiLCJzZWN1cmUiLCJOT0RFX0VOViIsInNhbWVTaXRlIiwibWF4QWdlIiwiX3gzIiwiX3g0IiwibG9nb3V0VGVjaG5pY2lhbiIsIl9yZWYzIiwiX2NhbGxlZTMiLCJfY29udGV4dDMiLCJfeDUiLCJfeDYiLCJzZXR0aW5nVGVjaG5pY2lhblNwZWNpYWx0eSIsIl9yZWY0IiwiX2NhbGxlZTQiLCJfcmVxJGJvZHkzIiwiYXBwbGlhbmNlQ2F0ZWdvcnlJRCIsInllYXJzT2ZFeHBlcmllbmNlIiwiY2VydGlmaWNhdGVEYXRlIiwidGVjaG5pY2lhbklEIiwiY2VydERhdGUiLCJ0b2RheSIsImZpZnR5WWVhcnNBZ28iLCJjaGVja0NhdGVnb3J5IiwiY2F0ZWdvcnkiLCJjaGVja0R1cGxpY2F0ZSIsIl90MyIsIl9jb250ZXh0NCIsInVuZGVmaW5lZCIsIk51bWJlciIsImlzSW50ZWdlciIsIkRhdGUiLCJzZXRIb3VycyIsInNldEZ1bGxZZWFyIiwiZ2V0RnVsbFllYXIiLCJJbnQiLCJTbWFsbEludCIsImNhdGVnb3J5SUQiLCJDYXRlZ29yeV9JRCIsImNhdGVnb3J5TmFtZUVOIiwiTmFtZUVOIiwiY2F0ZWdvcnlOYW1lQVIiLCJOYW1lQVIiLCJfeDciLCJfeDgiLCJzZXR0aW5nVGVjaG5pY2lhblNlcnZpY2VBcmVhIiwiX3JlZjUiLCJfY2FsbGVlNSIsIl9yZXEkYm9keTQiLCJzZXJ2aWNlQXJlYUlEIiwicHJpb3JpdHkiLCJjaGVja0FyZWEiLCJzZXJ2aWNlQXJlYSIsIl90NCIsIl9jb250ZXh0NSIsImFyZWFJRCIsIkFyZWFfSUQiLCJhcmVhTmFtZUVOIiwiYXJlYU5hbWVBUiIsImFyZWFSZWdpb24iLCJSZWdpb24iLCJfeDkiLCJfeDAiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvd29ya3NwYWNlcy9GaXhBcHBsaWFuY2UtZUNvbW1lcmNlL2JhY2stZW5kL3NyYy9jb250cm9sbGVycy8iLCJzb3VyY2VzIjpbIlRlY2huaWNpYW5Db250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGhpcyBjb250cm9sbGVyIHByb3ZpZGVzIHRoZSBmb2xsb3dpbmcgZnVuY3Rpb25hbGl0aWVzIGZvciBhIHRlY2huaWNpYW46IHJlZ2lzdGVyaW5nLCBsb2dnaW5nIGluLCBsb2dnaW5nIG91dCxcbiAqIHNldHRpbmcgc3BlY2lhbHR5IChhcHBsaWFuY2UgY2F0ZWdvcmllcyB0aGV5IHdvcmsgd2l0aCksIGFuZCBzZXR0aW5nIHNlcnZpY2UgYXJlYXMuXG4gKiBcbiAqIEZvciBzdG9yaW5nIHRoZSBwYXNzd29yZCwgYmNyeXB0IGlzIHVzZWQgdG8gaGFzaCBhbmQgand0IChqc29ud2VidG9rZW4pIGlzIHVzZWQgdG8gc2lnbiBhIHRva2VuIGFuZCBzdG9yZSBpdCBhcyBjb29raWUuXG4gKi9cblxuY29uc3QgYXN5bmNIYW5kbGVyID0gcmVxdWlyZShcImV4cHJlc3MtYXN5bmMtaGFuZGxlclwiKTtcbmNvbnN0IGJjcnlwdCA9IHJlcXVpcmUoXCJiY3J5cHRcIik7XG5jb25zdCBqd3QgPSByZXF1aXJlKFwianNvbndlYnRva2VuXCIpO1xuXG4vLyBzcWwgbmVlZGVkIGZvciB0aGUgdHlwZSBkZWZpbml0aW9ucyBpbiAuaW5wdXRcbi8vIGdldFBvb2wgaXMgdG8gZG8gcXVlcmllc1xuY29uc3QgeyBnZXRQb29sLCBzcWwgfSA9IHJlcXVpcmUoXCIuLi9jb25maWcvZGF0YWJhc2VcIik7XG5cbi8vIEltcG9ydCB2YWxpZGF0aW9uIHV0aWxpdGllc1xuY29uc3QgeyBpc1ZhbGlkRW1haWwsIGlzVmFsaWRQaG9uZSwgaXNWYWxpZFBhc3N3b3JkLCBpc1ZhbGlkTmFtZSwgc2FuaXRpemVTdHJpbmcgfSA9IHJlcXVpcmUoXCIuLi91dGlscy92YWxpZGF0b3JzXCIpO1xuXG5cbi8vIEhhbmRsZXMgdGhlIHRlY2huaWNpYW4gcmVnaXN0ZXJpbmcgZnVuY3Rpb25hbGl0eVxuY29uc3QgcmVnaXN0ZXJUZWNobmljaWFuID0gYXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIC8vIEdldHRpbmcgdGhlIG5lZWRlZCBkYXRhIGZyb20gdGhlIHJlcXVlc3QgYm9keVxuICAgIGNvbnN0IHsgZmlyc3ROYW1lLCBsYXN0TmFtZSwgZW1haWwsIHBob25lLCBwYXNzd29yZH0gPSByZXEuYm9keTtcblxuICAgIC8vIENoZWNraW5nIGlmIGFueSBvZiB0aGVtIGlzIGVtcHR5LCBpZiB5ZXMgdGhlbiB3ZSB0aHJvdyBhIDQwMFxuICAgIGlmICghZmlyc3ROYW1lIHx8ICFsYXN0TmFtZSB8fCAhZW1haWwgfHwgIXBob25lIHx8ICFwYXNzd29yZCkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiWW91IGhhdmUgdG8gaW5zZXJ0IGFsbCBkYXRhIHRvIHJlZ2lzdGVyLlwifSk7XG4gICAgfVxuXG4gICAgLy8gVmFsaWRhdGUgZmlyc3QgbmFtZSBmb3JtYXRcbiAgICBpZiAoIWlzVmFsaWROYW1lKGZpcnN0TmFtZSkpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttZXNzYWdlOiBcIkZpcnN0IG5hbWUgbXVzdCBiZSAyLTMwIGNoYXJhY3RlcnMgYW5kIGNvbnRhaW4gb25seSBsZXR0ZXJzLlwifSk7XG4gICAgfVxuXG4gICAgLy8gVmFsaWRhdGUgbGFzdCBuYW1lIGZvcm1hdFxuICAgIGlmICghaXNWYWxpZE5hbWUobGFzdE5hbWUpKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJMYXN0IG5hbWUgbXVzdCBiZSAyLTMwIGNoYXJhY3RlcnMgYW5kIGNvbnRhaW4gb25seSBsZXR0ZXJzLlwifSk7XG4gICAgfVxuXG4gICAgLy8gVmFsaWRhdGUgZW1haWwgZm9ybWF0XG4gICAgaWYgKCFpc1ZhbGlkRW1haWwoZW1haWwpKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJQbGVhc2UgZW50ZXIgYSB2YWxpZCBlbWFpbCBhZGRyZXNzLlwifSk7XG4gICAgfVxuXG4gICAgLy8gVmFsaWRhdGUgcGhvbmUgZm9ybWF0XG4gICAgaWYgKCFpc1ZhbGlkUGhvbmUocGhvbmUpKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJQbGVhc2UgZW50ZXIgYSB2YWxpZCBwaG9uZSBudW1iZXIuXCJ9KTtcbiAgICB9XG5cbiAgICAvLyBWYWxpZGF0ZSBwYXNzd29yZCBzdHJlbmd0aFxuICAgIGNvbnN0IHBhc3N3b3JkVmFsaWRhdGlvbiA9IGlzVmFsaWRQYXNzd29yZChwYXNzd29yZCk7XG4gICAgaWYgKCFwYXNzd29yZFZhbGlkYXRpb24udmFsaWQpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttZXNzYWdlOiBwYXNzd29yZFZhbGlkYXRpb24ubWVzc2FnZX0pO1xuICAgIH1cblxuICAgIC8vIFdlIG5vdyB0cnkgdG8gYWNjZXNzIHRoZSBkYXRhYmFzZSB0byBpbnNlcnQgdGhlIHRlY2huaWNpYW5cbiAgICB0cnkge1xuICAgICAgICBjb25zdCBwb29sID0gZ2V0UG9vbCgpO1xuXG4gICAgICAgIC8vIEhhc2hpbmcgdGhlIHBhc3N3b3JkIGJlZm9yZSBzdG9yaW5nXG4gICAgICAgIGNvbnN0IGhhc2hlZFBhc3N3b3JkID0gYXdhaXQgYmNyeXB0Lmhhc2gocGFzc3dvcmQsIDExKTtcblxuICAgICAgICAvLyBJbnNlcnRpbmcgdGhlIHRlY2huaWNpYW4gaW50byB0aGUgZGF0YWJhc2UgVGVjaG5pY2lhbiB0YWJsZVxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwb29sLnJlcXVlc3QoKVxuICAgICAgICAgICAgLmlucHV0KFwiZmlyc3ROYW1lXCIsIHNxbC5WYXJDaGFyLCBzYW5pdGl6ZVN0cmluZyhmaXJzdE5hbWUpKVxuICAgICAgICAgICAgLmlucHV0KFwibGFzdE5hbWVcIiwgc3FsLlZhckNoYXIsIHNhbml0aXplU3RyaW5nKGxhc3ROYW1lKSlcbiAgICAgICAgICAgIC5pbnB1dChcImVtYWlsXCIsIHNxbC5WYXJDaGFyLCBzYW5pdGl6ZVN0cmluZyhlbWFpbCkudG9Mb3dlckNhc2UoKSlcbiAgICAgICAgICAgIC5pbnB1dChcInBob25lXCIsIHNxbC5WYXJDaGFyLCBzYW5pdGl6ZVN0cmluZyhwaG9uZSkpXG4gICAgICAgICAgICAuaW5wdXQoXCJoYXNoZWRQYXNzd29yZFwiLCBzcWwuVmFyQ2hhciwgaGFzaGVkUGFzc3dvcmQpXG4gICAgICAgICAgICAucXVlcnkoYFxuICAgICAgICAgICAgSU5TRVJUIElOVE8gVGVjaG5pY2lhbiAoRmlyc3RfTmFtZSwgTGFzdF9OYW1lLCBFbWFpbCwgUGhvbmUsIFBhc3N3b3JkX0hhc2gpXG4gICAgICAgICAgICBWQUxVRVMoQGZpcnN0TmFtZSwgQGxhc3ROYW1lLCBAZW1haWwsIEBwaG9uZSwgQGhhc2hlZFBhc3N3b3JkKVxuICAgICAgICAgICAgYCk7XG5cbiAgICAgICAgLy8gU2VuZGluZyBzdWNjZXNzIG1lc3NhZ2VcbiAgICAgICAgcmVzLnN0YXR1cygyMDEpLmpzb24oe21lc3NhZ2U6IFwiVGVjaG5pY2lhbiByZWdpc3RlcmVkIHN1Y2Nlc3NmdWxseSFcIn0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIC8vIEhhbmRsaW5nIHRoZSB1bmlxdWUgY29uc3RyYWludHMgZm9yIGVtYWlsIGFuZCBwaG9uZSBudW1iZXJzXG4gICAgICAgIC8vIDI2MjcgaXMgZm9yIHZpb2xhdGlvbiBvZiB0aGUgdW5pcXVlIGtleSBjb25zdHJhaW50LCBhbmQgMjYwMSBpcyBmb3IgdW5pcXVlIGluZGV4IHZpb2xhdGlvblxuICAgICAgICBpZiAoZXJyb3IubnVtYmVyID09PSAyNjI3IHx8IGVycm9yLm51bWJlciA9PT0gMjYwMSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA5KS5qc29uKHttZXNzYWdlOiBcIkFub3RoZXIgYWNjb3VudCBleGlzdHMgYWxyZWFkeSBlaXRoZXIgd2l0aCB0aGlzIGVtYWlsIGFkZHJlc3Mgb3IgcGhvbmUgbnVtYmVyLiBJZiB5b3UgaGF2ZSBhbm90aGVyIGFjY291bnQsIHBsZWFzZSB1c2UgdGhhdCBvbmUgaW5zdGVhZC5cIn0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVGhyb3dpbmcgdGhlIGNvbnNvbGUgZXJyb3IgYW5kIDUwMCBzdGF0dXMgaW4gY2FzZSBzb21ldGhpbmcgZ29lcyB3cm9uZ1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiVW5leHBlY3RlZCBlcnJvciByZWdpc3RlcmluZyBhIG5ldyB0ZWNobmljaWFuIGFjY291bnQ6IFwiLCBlcnJvcik7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHttZXNzYWdlOiBcIkFuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQgd2hpbGUgcmVnaXN0ZXJpbmcgdGhlIHRlY2huaWNpYW4uXCJ9KTtcbiAgICB9XG59KTtcblxuLy8gSGFuZGxpbmcgdGhlIGxvZ2dpbmcgaW4gZnVuY3Rpb25hbGl0eSBmb3IgdGVjaG5pY2lhbnNcbmNvbnN0IGxvZ2luVGVjaG5pY2lhbiA9IGFzeW5jSGFuZGxlcihhc3luYyAocmVxLHJlcykgPT4ge1xuICAgIC8vIEdldHRpbmcgdGhlIGVtYWlsIGFuZCBwYXNzd29yZCB0aGF0IHRoZSB0ZWNobmljaWFuIGlzIHRyeWluZyB0byBsb2dpbiB3aXRoXG4gICAgY29uc3Qge2VtYWlsLCBwYXNzd29yZH0gPSByZXEuYm9keTtcblxuICAgIC8vIElucHV0IHZhbGlkYXRpb24sIGlmIGVpdGhlciBlbXB0eSB0aGVuIHNlbmQgNDAwIGVycm9yXG4gICAgaWYgKCFlbWFpbCB8fCAhcGFzc3dvcmQpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttZXNzYWdlOiBcIllvdSBoYXZlIHRvIGVudGVyIGJvdGggeW91ciBlbWFpbCBhbmQgeW91ciBwYXNzd29yZFwifSk7XG4gICAgfVxuXG4gICAgLy8gVmFsaWRhdGUgZW1haWwgZm9ybWF0XG4gICAgaWYgKCFpc1ZhbGlkRW1haWwoZW1haWwpKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJQbGVhc2UgZW50ZXIgYSB2YWxpZCBlbWFpbCBhZGRyZXNzLlwifSk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcG9vbCA9IGdldFBvb2woKTtcblxuICAgICAgICAvLyBTZWFyY2hpbmcgaW4gdGhlIGRhdGFiYXNlIGZvciBhIHRlY2huaWNpYW4gd2l0aCB0aGUgc2FtZSBlbWFpbCBwYXNzZWQgdG8gY2hlY2sgaWYgZXhpc3RzXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBvb2wucmVxdWVzdCgpXG4gICAgICAgICAgICAuaW5wdXQoXCJlbWFpbFwiLCBzcWwuVmFyQ2hhciwgc2FuaXRpemVTdHJpbmcoZW1haWwpLnRvTG93ZXJDYXNlKCkpXG4gICAgICAgICAgICAucXVlcnkoYFxuICAgICAgICAgICAgICAgIFNFTEVDVCBUZWNobmljaWFuX0lELCBGaXJzdF9OYW1lLCBMYXN0X05hbWUsIEVtYWlsLCBQYXNzd29yZF9IYXNoLCBpc0FjdGl2ZSwgVmVyaWZpZWRcbiAgICAgICAgICAgICAgICBGUk9NIFRlY2huaWNpYW5cbiAgICAgICAgICAgICAgICBXSEVSRSBFbWFpbCA9IEBlbWFpbFxuICAgICAgICAgICAgICAgIGApO1xuXG4gICAgICAgIC8vIElmIG5vIHJlc3VsdHMgcmV0dXJuZWQgZnJvbSB0aGUgcXVlcnksIHRoZW4gdGhlIGVtYWlsIGVudGVyZWQgaXMgaW52YWxpZFxuICAgICAgICBpZiAocmVzdWx0LnJlY29yZHNldC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7bWVzc2FnZTogXCJJbnZhbGlkIGVtYWlsIGFkZHJlc3Mgb3IgcGFzc3dvcmQuXCJ9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE5vdyB3ZSBhcmUgZ2V0dGluZyB0aGUgZmlyc3QgdGVjaG5pY2lhbiB0aGF0IHdlIGdvdCBoYXZpbmcgdGhlIHNhbWUgZW1haWwgYWRkcmVzc1xuICAgICAgICBjb25zdCB0ZWNobmljaWFuID0gcmVzdWx0LnJlY29yZHNldFswXTtcblxuICAgICAgICAvLyBDaGVjayBpZiB0aGUgdGVjaG5pY2lhbiBhY2NvdW50IGlzIGFjdGl2ZVxuICAgICAgICBpZiAoIXRlY2huaWNpYW4uaXNBY3RpdmUpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMykuanNvbih7bWVzc2FnZTogXCJZb3VyIGFjY291bnQgaXMgZGVhY3RpdmF0ZWQuIFBsZWFzZSBjb250YWN0IHVzIHRvIHJlc29sdmUgdGhpcyBpc3N1ZS5cIn0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHRlY2huaWNpYW4gYWNjb3VudCBpcyB2ZXJpZmllZCBieSBhZG1pblxuICAgICAgICBpZiAoIXRlY2huaWNpYW4uVmVyaWZpZWQpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMykuanNvbih7bWVzc2FnZTogXCJZb3VyIGFjY291bnQgaXMgbm90IHZlcmlmaWVkIHlldC4gUGxlYXNlIHdhaXQgZm9yIGFkbWluIGFwcHJvdmFsLlwifSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBVc2luZyBiY3J5cHQgdG8gY2hlY2sgaWYgdGhlIHBhc3N3b3JkIHBhc3NlZCBpcyB0aGUgc2FtZSBhcyB0aGUgaGFzaGVkIG9uZSBzdG9yZWQgaW4gdGhlIGRhdGFiYXNlXG4gICAgICAgIC8vIElmIG5vLCB0aHJvdyBhIDQwMSBlcnJvclxuICAgICAgICBjb25zdCBpc1Bhc3N3b3JkVmFsaWQgPSBhd2FpdCBiY3J5cHQuY29tcGFyZShwYXNzd29yZCwgdGVjaG5pY2lhbi5QYXNzd29yZF9IYXNoKTtcbiAgICAgICAgaWYgKCFpc1Bhc3N3b3JkVmFsaWQpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7bWVzc2FnZTogXCJJbnZhbGlkIGVtYWlsIGFkZHJlc3Mgb3IgcGFzc3dvcmQuXCJ9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIHRoZSBwYXNzd29yZCBtYXRjaGVzLCB0aGVuIGNyZWF0ZSBhIHRlY2huaWNpYW4gdG9rZW4gdXNpbmcgand0IGJ5IHNpZ25pbmcgaXQgd2l0aCB0aGUgVEVDSE5JQ0lBTl9BQ0NFU1NfVE9LRU5cbiAgICAgICAgLy8gc3RvcmVkIGluIHRoZSAuZW52IGZpbGUuIFRoZSB0b2tlbiBleHBpcmVzIGluIDEgZGF5LlxuICAgICAgICBjb25zdCB0ZWNobmljaWFuVG9rZW4gPSBqd3Quc2lnbih7XG4gICAgICAgICAgICBpZDogdGVjaG5pY2lhbi5UZWNobmljaWFuX0lELFxuICAgICAgICAgICAgZmlyc3ROYW1lOiB0ZWNobmljaWFuLkZpcnN0X05hbWUsXG4gICAgICAgICAgICBsYXN0TmFtZTogdGVjaG5pY2lhbi5MYXN0X05hbWUsXG4gICAgICAgICAgICBlbWFpbDogdGVjaG5pY2lhbi5FbWFpbFxuICAgICAgICB9LFxuICAgICAgICAgICAgcHJvY2Vzcy5lbnYuVEVDSE5JQ0lBTl9BQ0NFU1NfVE9LRU4sXG4gICAgICAgICAgICB7ZXhwaXJlc0luOiBcIjFkXCJ9XG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gSWYgYSBjb29raWUgZXhpc3RzIGFscmVhZHkgZm9yIHRoZSB0ZWNobmljaWFuLCBjbGVhciBpdFxuICAgICAgICBpZiAocmVxLmNvb2tpZXMudGVjaG5pY2lhbl9hY2Nlc3NfdG9rZW4pIHtcbiAgICAgICAgICAgIHJlcy5jbGVhckNvb2tpZSgndGVjaG5pY2lhbl9hY2Nlc3NfdG9rZW4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFN0b3JlIHRoZSBuZXcgY29va2llIHN1Y2ggdGhhdCBpdCBsYXN0cyAxIGRheSwgYW5kIHRocm93IGEgMjAwIHN1Y2Nlc3MgbWVzc2FnZSB3aXRoIHNvbWUgZGF0YSBhYm91dCB0aGUgdGVjaG5pY2lhblxuICAgICAgICAvLyAoaWQsIGZpcnN0TmFtZSwgbGFzdE5hbWUsIGVtYWlsKVxuICAgICAgICByZXMuY29va2llKCd0ZWNobmljaWFuX2FjY2Vzc190b2tlbicsIHRlY2huaWNpYW5Ub2tlbiwgXG4gICAgICAgICAgICB7aHR0cE9ubHk6IHRydWUsIFxuICAgICAgICAgICAgc2VjdXJlOiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCIsXG4gICAgICAgICAgICBzYW1lU2l0ZTogJ3N0cmljdCcsXG4gICAgICAgICAgICBtYXhBZ2U6IDI0ICogNjAgKiA2MCAqIDEwMDB9KTtcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgbWVzc2FnZTogXCJTdWNjZXNzZnVsbHkgbG9nZ2VkIGluLlwiLFxuICAgICAgICAgICAgdGVjaG5pY2lhbjoge1xuICAgICAgICAgICAgICAgIGlkOiB0ZWNobmljaWFuLlRlY2huaWNpYW5fSUQsXG4gICAgICAgICAgICAgICAgZmlyc3ROYW1lOiB0ZWNobmljaWFuLkZpcnN0X05hbWUsXG4gICAgICAgICAgICAgICAgbGFzdE5hbWU6IHRlY2huaWNpYW4uTGFzdF9OYW1lLFxuICAgICAgICAgICAgICAgIGVtYWlsOiB0ZWNobmljaWFuLkVtYWlsXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG5cbiAgICAgICAgLy8gSWYgYW55dGhpbmcgZ29lcyB3cm9uZywgdGhyb3cgYW4gZXJyb3JcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiTG9naW4gZXJyb3I6XCIsIGVycm9yKTtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe21lc3NhZ2U6IFwiQW4gZXJyb3Igb2NjdXJyZWQgZHVyaW5nIGxvZ2luLlwifSk7XG4gICAgfVxufSk7XG5cbi8vIExvZ2dpbmcgb3V0IGZ1bmN0aW9uYWxpdHkgYnkgY2xlYXJpbmcgdGhlIHRlY2huaWNpYW4ncyBjb29raWUgYW5kIHNlbmRpbmcgYSBzdWNjZXNzIG1lc3NhZ2VcbmNvbnN0IGxvZ291dFRlY2huaWNpYW4gPSBhc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgcmVzLmNsZWFyQ29va2llKCd0ZWNobmljaWFuX2FjY2Vzc190b2tlbicpO1xuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHttZXNzYWdlOiBcIlN1Y2Nlc3NmdWxseSBsb2dnZWQgb3V0LlwifSk7XG59KVxuXG5cbi8vIFNldHRpbmcgdGVjaG5pY2lhbiBzcGVjaWFsdHkgLSBhbGxvd3MgdGVjaG5pY2lhbnMgdG8gYWRkIGFwcGxpYW5jZSBjYXRlZ29yaWVzIHRoZXkgc3BlY2lhbGl6ZSBpblxuY29uc3Qgc2V0dGluZ1RlY2huaWNpYW5TcGVjaWFsdHkgPSBhc3luY0hhbmRsZXIoYXN5bmMgKHJlcSxyZXMpID0+IHtcbiAgICAvLyBHZXR0aW5nIHRoZSBzcGVjaWFsdHkgZGF0YSBmcm9tIHRoZSBib2R5IGFuZCB0aGUgdGVjaG5pY2lhbklEIHBhc3NlZCBmcm9tIHRoZSBtaWRkbGV3YXJlXG4gICAgY29uc3Qge2FwcGxpYW5jZUNhdGVnb3J5SUQsIHllYXJzT2ZFeHBlcmllbmNlLCBjZXJ0aWZpY2F0ZURhdGV9ID0gcmVxLmJvZHk7XG4gICAgY29uc3QgdGVjaG5pY2lhbklEID0gcmVxLnRlY2huaWNpYW5JRDtcblxuICAgIC8vIElmIHJlcXVpcmVkIGZpZWxkcyBhcmUgbWlzc2luZywgdGhyb3cgYSA0MDAgZXJyb3JcbiAgICAvLyBOb3RlOiB5ZWFyc09mRXhwZXJpZW5jZSB1c2VzICE9PSB1bmRlZmluZWQgdG8gYWxsb3cgMCBhcyBhIHZhbGlkIHZhbHVlXG4gICAgaWYgKCFhcHBsaWFuY2VDYXRlZ29yeUlEIHx8IHllYXJzT2ZFeHBlcmllbmNlID09PSB1bmRlZmluZWQgfHwgeWVhcnNPZkV4cGVyaWVuY2UgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttZXNzYWdlOiBcIkNhdGVnb3J5IElEIGFuZCB5ZWFycyBvZiBleHBlcmllbmNlIGFyZSByZXF1aXJlZCBmb3IgeW91IHRvIHBhc3MhXCJ9KTtcbiAgICB9XG5cbiAgICAvLyBWYWxpZGF0aW5nIHllYXJzIG9mIGV4cGVyaWVuY2UgLSBtdXN0IGJlIGFuIGludGVnZXIgYmV0d2VlbiAwIGFuZCA1MFxuICAgIGlmICghTnVtYmVyLmlzSW50ZWdlcih5ZWFyc09mRXhwZXJpZW5jZSkgfHwgeWVhcnNPZkV4cGVyaWVuY2UgPCAwIHx8IHllYXJzT2ZFeHBlcmllbmNlID4gNTApIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttZXNzYWdlOiBcIllvdXIgeWVhcnMgb2YgZXhwZXJpZW5jZSBzaG91bGQgYmUgYmV0d2VlbiAwIGFuZCA1MC5cIn0pO1xuICAgIH1cblxuICAgIC8vIElmIGNlcnRpZmljYXRlIGRhdGUgaXMgcHJvdmlkZWQsIHZhbGlkYXRlIGl0XG4gICAgaWYgKGNlcnRpZmljYXRlRGF0ZSkge1xuICAgICAgICBjb25zdCBjZXJ0RGF0ZSA9IG5ldyBEYXRlKGNlcnRpZmljYXRlRGF0ZSk7XG4gICAgICAgIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKTtcbiAgICAgICAgdG9kYXkuc2V0SG91cnMoMCwwLDAsMCk7XG5cbiAgICAgICAgLy8gQ2VydGlmaWNhdGUgZGF0ZSBjYW5ub3QgYmUgaW4gdGhlIGZ1dHVyZVxuICAgICAgICBpZiAoY2VydERhdGUgPiB0b2RheSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttZXNzYWdlOiBcIkNlcnRpZmljYXRpb24gZGF0ZSBjYW5ub3QgYmUgaW4gdGhlIGZ1dHVyZSFcIn0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2VydGlmaWNhdGUgZGF0ZSBjYW5ub3QgYmUgbW9yZSB0aGFuIDUwIHllYXJzIGFnb1xuICAgICAgICBjb25zdCBmaWZ0eVllYXJzQWdvID0gbmV3IERhdGUoKTtcbiAgICAgICAgZmlmdHlZZWFyc0Fnby5zZXRGdWxsWWVhcihmaWZ0eVllYXJzQWdvLmdldEZ1bGxZZWFyKCkgLSA1MCk7XG5cbiAgICAgICAgaWYgKGNlcnREYXRlIDwgZmlmdHlZZWFyc0Fnbykge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttZXNzYWdlOiBcIkNlcnRpZmljYXRpb24gZGF0ZSBjYW5ub3QgYmUgbW9yZSB0aGFuIDUwIHllYXJzIGFnbyFcIn0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcG9vbCA9IGdldFBvb2woKTtcblxuICAgICAgICAvLyBDaGVjayBpZiB0aGUgYXBwbGlhbmNlIGNhdGVnb3J5IGV4aXN0cyBhbmQgaXMgYWN0aXZlXG4gICAgICAgIGNvbnN0IGNoZWNrQ2F0ZWdvcnkgPSBhd2FpdCBwb29sLnJlcXVlc3QoKVxuICAgICAgICAgICAgLmlucHV0KFwiYXBwbGlhbmNlQ2F0ZWdvcnlJRFwiLCBzcWwuSW50LCBhcHBsaWFuY2VDYXRlZ29yeUlEKVxuICAgICAgICAgICAgLnF1ZXJ5KGBcbiAgICAgICAgICAgICAgICBTRUxFQ1QgQ2F0ZWdvcnlfSUQsIE5hbWVFTiwgTmFtZUFSLCBpc0FjdGl2ZVxuICAgICAgICAgICAgICAgIEZST00gQXBwbGlhbmNlX0NhdGVnb3J5XG4gICAgICAgICAgICAgICAgV0hFUkUgQ2F0ZWdvcnlfSUQgPSBAYXBwbGlhbmNlQ2F0ZWdvcnlJRFxuICAgICAgICAgICAgICAgIGApO1xuXG4gICAgICAgIC8vIElmIG5vIHJlc3VsdCByZXR1cm5lZCwgdGhlIGNhdGVnb3J5IElEIGlzIGludmFsaWRcbiAgICAgICAgaWYgKGNoZWNrQ2F0ZWdvcnkucmVjb3Jkc2V0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHttZXNzYWdlOiBcIkludmFsaWQgY2F0ZWdvcnkgcGFzc2VkISBZb3Ugc2hvdWxkIHBpY2sgb25lIG9mIHRoZSBhdmFpbGFibGUgY2F0ZWdvcnkgSURzIG9ubHkuXCJ9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNhdGVnb3J5ID0gY2hlY2tDYXRlZ29yeS5yZWNvcmRzZXRbMF07XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGNhdGVnb3J5IGlzIGFjdGl2ZVxuICAgICAgICBpZiAoIWNhdGVnb3J5LmlzQWN0aXZlKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiVGhlIGNhdGVnb3J5IGNob3NlbiBpcyBjdXJyZW50bHkgbm90IGFjdGl2ZSFcIn0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2tpbmcgZm9yIGR1cGxpY2F0ZSBzcGVjaWFsdHkgLSB0ZWNobmljaWFuIGNhbm5vdCBhZGQgc2FtZSBjYXRlZ29yeSB0d2ljZVxuICAgICAgICBjb25zdCBjaGVja0R1cGxpY2F0ZSA9IGF3YWl0IHBvb2wucmVxdWVzdCgpXG4gICAgICAgICAgICAuaW5wdXQoXCJ0ZWNobmljaWFuSURcIiwgc3FsLkludCwgdGVjaG5pY2lhbklEKVxuICAgICAgICAgICAgLmlucHV0KFwiYXBwbGlhbmNlQ2F0ZWdvcnlJRFwiLCBzcWwuSW50LCBhcHBsaWFuY2VDYXRlZ29yeUlEKVxuICAgICAgICAgICAgLnF1ZXJ5KGBcbiAgICAgICAgICAgICAgICBTRUxFQ1QgVGVjaG5pY2lhbl9JRFxuICAgICAgICAgICAgICAgIEZST00gVGVjaG5pY2lhbl9DYXRlZ29yeVxuICAgICAgICAgICAgICAgIFdIRVJFIFRlY2huaWNpYW5fSUQgPSBAdGVjaG5pY2lhbklEIEFORCBDYXRlZ29yeV9JRCA9IEBhcHBsaWFuY2VDYXRlZ29yeUlEXG4gICAgICAgICAgICAgICAgYCk7XG5cbiAgICAgICAgLy8gSWYgZHVwbGljYXRlIGZvdW5kLCB0aHJvdyBhIDQwOSBjb25mbGljdCBlcnJvclxuICAgICAgICBpZiAoY2hlY2tEdXBsaWNhdGUucmVjb3Jkc2V0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwOSkuanNvbih7bWVzc2FnZTogXCJZb3UgYWxyZWFkeSBoYXZlIHRoaXMgc3BlY2lhbHR5IGFkZGVkLlwifSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJbnNlcnQgdGhlIG5ldyBzcGVjaWFsdHkgaW50byBUZWNobmljaWFuX0NhdGVnb3J5IHRhYmxlXG4gICAgICAgIGF3YWl0IHBvb2wucmVxdWVzdCgpXG4gICAgICAgICAgICAuaW5wdXQoXCJ0ZWNobmljaWFuSURcIiwgc3FsLkludCwgdGVjaG5pY2lhbklEKVxuICAgICAgICAgICAgLmlucHV0KFwiYXBwbGlhbmNlQ2F0ZWdvcnlJRFwiLCBzcWwuSW50LCBhcHBsaWFuY2VDYXRlZ29yeUlEKVxuICAgICAgICAgICAgLmlucHV0KFwieWVhcnNPZkV4cGVyaWVuY2VcIiwgc3FsLlNtYWxsSW50LCB5ZWFyc09mRXhwZXJpZW5jZSlcbiAgICAgICAgICAgIC5pbnB1dChcImNlcnRpZmljYXRlRGF0ZVwiLCBzcWwuRGF0ZSwgY2VydGlmaWNhdGVEYXRlIHx8IG51bGwpXG4gICAgICAgICAgICAucXVlcnkoYFxuICAgICAgICAgICAgICAgIElOU0VSVCBJTlRPIFRlY2huaWNpYW5fQ2F0ZWdvcnkgKFRlY2huaWNpYW5fSUQsIENhdGVnb3J5X0lELCBZZWFyc19vZl9FeHBlcmllbmNlLCBDZXJ0aWZpY2F0aW9uX0RhdGUpXG4gICAgICAgICAgICAgICAgVkFMVUVTIChAdGVjaG5pY2lhbklELCBAYXBwbGlhbmNlQ2F0ZWdvcnlJRCwgQHllYXJzT2ZFeHBlcmllbmNlLCBAY2VydGlmaWNhdGVEYXRlKVxuICAgICAgICAgICAgICAgIGApO1xuXG4gICAgICAgIC8vIFJldHVybiBzdWNjZXNzIHJlc3BvbnNlIHdpdGggc3BlY2lhbHR5IGRldGFpbHNcbiAgICAgICAgcmVzLnN0YXR1cygyMDEpLmpzb24oe1xuICAgICAgICAgICAgbWVzc2FnZTogXCJTdWNjZXNzZnVsbHkgc2V0IHlvdXIgc3BlY2lhbHR5LlwiLFxuICAgICAgICAgICAgY2F0ZWdvcnlJRDogY2F0ZWdvcnkuQ2F0ZWdvcnlfSUQsXG4gICAgICAgICAgICBjYXRlZ29yeU5hbWVFTjogY2F0ZWdvcnkuTmFtZUVOLFxuICAgICAgICAgICAgY2F0ZWdvcnlOYW1lQVI6IGNhdGVnb3J5Lk5hbWVBUixcbiAgICAgICAgICAgIHllYXJzT2ZFeHBlcmllbmNlOiB5ZWFyc09mRXhwZXJpZW5jZSxcbiAgICAgICAgICAgIGNlcnRpZmljYXRlRGF0ZTogY2VydGlmaWNhdGVEYXRlIHx8IG51bGxcbiAgICAgICAgfSk7XG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZCB3aGVuIHRyeWluZyB0byBzZXQgeW91ciBzcGVjaWFsdHk6XCIsIGVycm9yKTtcblxuICAgICAgICAvLyBGb3JlaWduIGtleSBjb25zdHJhaW50IHZpb2xhdGlvblxuICAgICAgICBpZiAoZXJyb3IubnVtYmVyID09PSA1NDcpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJJbnZhbGlkIHRlY2huaWNpYW4gb3IgY2F0ZWdvcnkgSUQuXCJ9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFVuaXF1ZSBjb25zdHJhaW50IHZpb2xhdGlvbiAoZHVwbGljYXRlIGVudHJ5KVxuICAgICAgICBpZiAoZXJyb3IubnVtYmVyID09PSAyNjI3KSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDkpLmpzb24oe21lc3NhZ2U6IFwiWW91IGFscmVhZHkgaGF2ZSB0aGlzIHNwZWNpYWx0eSBhZGRlZCFcIn0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe21lc3NhZ2U6IFwiQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZCB3aGVuIHRyeWluZyB0byBzZXQgeW91ciBzcGVjaWFsdHkuXCJ9KTtcbiAgICB9XG59KVxuXG4vLyBTZXR0aW5nIHRlY2huaWNpYW4gc2VydmljZSBhcmVhIC0gYWxsb3dzIHRlY2huaWNpYW5zIHRvIGFkZCBhcmVhcyB0aGV5IHdvcmsgaW4gd2l0aCBwcmlvcml0eVxuY29uc3Qgc2V0dGluZ1RlY2huaWNpYW5TZXJ2aWNlQXJlYSA9IGFzeW5jSGFuZGxlcihhc3luYyAocmVxLHJlcykgPT4ge1xuICAgIC8vIEdldHRpbmcgdGhlIHNlcnZpY2UgYXJlYSBkYXRhIGZyb20gdGhlIGJvZHkgYW5kIHRoZSB0ZWNobmljaWFuSUQgcGFzc2VkIGZyb20gdGhlIG1pZGRsZXdhcmVcbiAgICBjb25zdCB7c2VydmljZUFyZWFJRCwgcHJpb3JpdHl9ID0gcmVxLmJvZHk7XG4gICAgY29uc3QgdGVjaG5pY2lhbklEID0gcmVxLnRlY2huaWNpYW5JRDtcblxuICAgIC8vIElmIHJlcXVpcmVkIGZpZWxkcyBhcmUgbWlzc2luZywgdGhyb3cgYSA0MDAgZXJyb3JcbiAgICBpZiAoIXNlcnZpY2VBcmVhSUQgfHwgIXByaW9yaXR5KSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJZb3UgaGF2ZSB0byBzcGVjaWZ5IGZyb20gd2hpY2ggc2VydmljZSBhcmVhIHlvdSBhcmUgYW5kIHRoZSBwcmlvcml0eSBvZiBpdC5cIn0pO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRpbmcgcHJpb3JpdHkgLSBtdXN0IGJlIGFuIGludGVnZXIgYmV0d2VlbiAxIGFuZCAxMDBcbiAgICBpZiAoIU51bWJlci5pc0ludGVnZXIocHJpb3JpdHkpIHx8IHByaW9yaXR5IDwgMSB8fCBwcmlvcml0eSA+IDEwMCkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiUHJpb3JpdHkgbXVzdCBiZSBhbiBpbnRlZ2VyIGJldHdlZW4gMSBhbmQgMTAwLlwifSk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcG9vbCA9IGdldFBvb2woKTtcblxuICAgICAgICAvLyBDaGVjayBpZiB0aGUgc2VydmljZSBhcmVhIGV4aXN0c1xuICAgICAgICBjb25zdCBjaGVja0FyZWEgPSBhd2FpdCBwb29sLnJlcXVlc3QoKVxuICAgICAgICAgICAgLmlucHV0KFwic2VydmljZUFyZWFJRFwiLCBzcWwuSW50LCBzZXJ2aWNlQXJlYUlEKVxuICAgICAgICAgICAgLnF1ZXJ5KGBcbiAgICAgICAgICAgICAgICBTRUxFQ1QgQXJlYV9JRCwgTmFtZUVOLCBOYW1lQVIsIFJlZ2lvbiwgaXNBY3RpdmVcbiAgICAgICAgICAgICAgICBGUk9NIFNlcnZpY2VfQXJlYVxuICAgICAgICAgICAgICAgIFdIRVJFIEFyZWFfSUQgPSBAc2VydmljZUFyZWFJRFxuICAgICAgICAgICAgICAgIGApO1xuXG4gICAgICAgIC8vIElmIG5vIHJlc3VsdCByZXR1cm5lZCwgdGhlIHNlcnZpY2UgYXJlYSBJRCBpcyBpbnZhbGlkXG4gICAgICAgIGlmIChjaGVja0FyZWEucmVjb3Jkc2V0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHttZXNzYWdlOiBcIkludmFsaWQgc2VydmljZSBhcmVhIGNob3NlbiEgWW91IGhhdmUgdG8gY2hvb3NlIG9uZSBvZiB0aGUgYXZhaWxhYmxlIG9uZXMuXCJ9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNlcnZpY2VBcmVhID0gY2hlY2tBcmVhLnJlY29yZHNldFswXTtcblxuICAgICAgICAvLyBDaGVjayBpZiB0aGUgc2VydmljZSBhcmVhIGlzIGFjdGl2ZVxuICAgICAgICBpZiAoIXNlcnZpY2VBcmVhLmlzQWN0aXZlKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiQ3VycmVudGx5IHRoaXMgc2VydmljZSBhcmVhIGlzIG5vdCBhY3RpdmUuXCJ9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENoZWNraW5nIGZvciBkdXBsaWNhdGUgc2VydmljZSBhcmVhIC0gdGVjaG5pY2lhbiBjYW5ub3QgYWRkIHNhbWUgYXJlYSB0d2ljZVxuICAgICAgICBjb25zdCBjaGVja0R1cGxpY2F0ZSA9IGF3YWl0IHBvb2wucmVxdWVzdCgpXG4gICAgICAgICAgICAuaW5wdXQoXCJ0ZWNobmljaWFuSURcIiwgc3FsLkludCwgdGVjaG5pY2lhbklEKVxuICAgICAgICAgICAgLmlucHV0KFwic2VydmljZUFyZWFJRFwiLCBzcWwuSW50LCBzZXJ2aWNlQXJlYUlEKVxuICAgICAgICAgICAgLnF1ZXJ5KGBcbiAgICAgICAgICAgICAgICBTRUxFQ1QgVGVjaG5pY2lhbl9JRFxuICAgICAgICAgICAgICAgIEZST00gVGVjaG5pY2lhbl9TZXJ2aWNlX0FyZWFcbiAgICAgICAgICAgICAgICBXSEVSRSBUZWNobmljaWFuX0lEID0gQHRlY2huaWNpYW5JRCBBTkQgQXJlYV9JRCA9IEBzZXJ2aWNlQXJlYUlEXG4gICAgICAgICAgICAgICAgYCk7XG5cbiAgICAgICAgLy8gSWYgZHVwbGljYXRlIGZvdW5kLCB0aHJvdyBhIDQwOSBjb25mbGljdCBlcnJvclxuICAgICAgICBpZiAoY2hlY2tEdXBsaWNhdGUucmVjb3Jkc2V0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwOSkuanNvbih7bWVzc2FnZTogXCJZb3UgYWxyZWFkeSBoYXZlIHNldCB0aGlzIHNlcnZpY2UgYXJlYSFcIn0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSW5zZXJ0IHRoZSBuZXcgc2VydmljZSBhcmVhIGludG8gVGVjaG5pY2lhbl9TZXJ2aWNlX0FyZWEgdGFibGVcbiAgICAgICAgYXdhaXQgcG9vbC5yZXF1ZXN0KClcbiAgICAgICAgICAgIC5pbnB1dChcInRlY2huaWNpYW5JRFwiLCBzcWwuSW50LCB0ZWNobmljaWFuSUQpXG4gICAgICAgICAgICAuaW5wdXQoXCJzZXJ2aWNlQXJlYUlEXCIsIHNxbC5JbnQsIHNlcnZpY2VBcmVhSUQpXG4gICAgICAgICAgICAuaW5wdXQoXCJwcmlvcml0eVwiLCBzcWwuSW50LCBwcmlvcml0eSlcbiAgICAgICAgICAgIC5xdWVyeShgXG4gICAgICAgICAgICAgICAgSU5TRVJUIElOVE8gVGVjaG5pY2lhbl9TZXJ2aWNlX0FyZWEgKFRlY2huaWNpYW5fSUQsIEFyZWFfSUQsIFByaW9yaXR5X09yZGVyKVxuICAgICAgICAgICAgICAgIFZBTFVFUyAoQHRlY2huaWNpYW5JRCwgQHNlcnZpY2VBcmVhSUQsIEBwcmlvcml0eSlcbiAgICAgICAgICAgICAgICBgKTtcblxuICAgICAgICAvLyBSZXR1cm4gc3VjY2VzcyByZXNwb25zZSB3aXRoIHNlcnZpY2UgYXJlYSBkZXRhaWxzXG4gICAgICAgIHJlcy5zdGF0dXMoMjAxKS5qc29uKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiU3VjY2Vzc2Z1bGx5IHNldCB5b3VyIHNlcnZpY2UgYXJlYS5cIixcbiAgICAgICAgICAgIGFyZWFJRDogc2VydmljZUFyZWEuQXJlYV9JRCxcbiAgICAgICAgICAgIGFyZWFOYW1lRU46IHNlcnZpY2VBcmVhLk5hbWVFTixcbiAgICAgICAgICAgIGFyZWFOYW1lQVI6IHNlcnZpY2VBcmVhLk5hbWVBUixcbiAgICAgICAgICAgIGFyZWFSZWdpb246IHNlcnZpY2VBcmVhLlJlZ2lvbixcbiAgICAgICAgICAgIHByaW9yaXR5OiBwcmlvcml0eVxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkFuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQgd2hlbiB0cnlpbmcgdG8gc2V0IHlvdXIgc2VydmljZSBhcmVhOlwiLCBlcnJvcik7XG5cbiAgICAgICAgLy8gRm9yZWlnbiBrZXkgY29uc3RyYWludCB2aW9sYXRpb25cbiAgICAgICAgaWYgKGVycm9yLm51bWJlciA9PT0gNTQ3KSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiSW52YWxpZCB0ZWNobmljaWFuIG9yIHNlcnZpY2UgYXJlYSBJRC5cIn0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVW5pcXVlIGNvbnN0cmFpbnQgdmlvbGF0aW9uIChkdXBsaWNhdGUgZW50cnkpXG4gICAgICAgIGlmIChlcnJvci5udW1iZXIgPT09IDI2MjcpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwOSkuanNvbih7bWVzc2FnZTogXCJZb3UgYWxyZWFkeSBoYXZlIHRoaXMgc2VydmljZSBhcmVhIHNldCFcIn0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe21lc3NhZ2U6IFwiQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZCB3aGVuIHRyeWluZyB0byBzZXQgeW91ciBzZXJ2aWNlIGFyZWEuXCJ9KTtcbiAgICB9XG59KVxuXG5cbm1vZHVsZS5leHBvcnRzID0ge3JlZ2lzdGVyVGVjaG5pY2lhbiwgbG9naW5UZWNobmljaWFuLCBsb2dvdXRUZWNobmljaWFuLCBzZXR0aW5nVGVjaG5pY2lhblNwZWNpYWx0eSwgc2V0dGluZ1RlY2huaWNpYW5TZXJ2aWNlQXJlYX07ICJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsSUFBTUEsWUFBWSxHQUFHQyxPQUFPLENBQUMsdUJBQXVCLENBQUM7QUFDckQsSUFBTUMsTUFBTSxHQUFHRCxPQUFPLENBQUMsUUFBUSxDQUFDO0FBQ2hDLElBQU1FLEdBQUcsR0FBR0YsT0FBTyxDQUFDLGNBQWMsQ0FBQzs7QUFFbkM7QUFDQTtBQUNBLElBQUFHLFFBQUEsR0FBeUJILE9BQU8sQ0FBQyxvQkFBb0IsQ0FBQztFQUE5Q0ksT0FBTyxHQUFBRCxRQUFBLENBQVBDLE9BQU87RUFBRUMsR0FBRyxHQUFBRixRQUFBLENBQUhFLEdBQUc7O0FBRXBCO0FBQ0EsSUFBQUMsU0FBQSxHQUFxRk4sT0FBTyxDQUFD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","map":{"version":3,"names":["asyncHandler","require","bcrypt","jwt","_require","getPool","sql","_require2","isValidEmail","isValidPhone","isValidPassword","isValidName","sanitizeString","registerTechnician","_ref","_asyncToGenerator2","_regenerator","mark","_callee","req","res","_req$body","firstName","lastName","email","phone","password","passwordValidation","pool","hashedPassword","result","_t","wrap","_context","prev","next","body","abrupt","status","json","message","valid","hash","sent","request","input","VarChar","toLowerCase","query","number","console","error","stop","_x","_x2","apply","arguments","loginTechnician","_ref2","_callee2","_req$body2","technician","isPasswordValid","technicianToken","_t2","_context2","recordset","length","isActive","Verified","compare","Password_Hash","sign","id","Technician_ID","First_Name","Last_Name","Email","process","env","TECHNICIAN_ACCESS_TOKEN","expiresIn","cookies","technician_access_token","clearCookie","cookie","httpOnly","secure","NODE_ENV","sameSite","maxAge","_x3","_x4","logoutTechnician","_ref3","_callee3","_context3","_x5","_x6","settingTechnicianSpecialty","_ref4","_callee4","_req$body3","applianceCategoryID","yearsOfExperience","certificateDate","technicianID","certDate","today","fiftyYearsAgo","checkCategory","category","checkDuplicate","_t3","_context4","undefined","Number","isInteger","Date","setHours","setFullYear","getFullYear","Int","SmallInt","categoryID","Category_ID","categoryNameEN","NameEN","categoryNameAR","NameAR","_x7","_x8","settingTechnicianServiceArea","_ref5","_callee5","_req$body4","serviceAreaID","priority","checkArea","serviceArea","_t4","_context5","areaID","Area_ID","areaNameEN","areaNameAR","areaRegion","Region","_x9","_x0","module","exports"],"sourceRoot":"/workspaces/FixAppliance-eCommerce/back-end/src/controllers/","sources":["TechnicianController.js"],"sourcesContent":["/**\n * This controller provides the following functionalities for a technician: registering, logging in, logging out,\n * setting specialty (appliance categories they work with), and setting service areas.\n * \n * For storing the password, bcrypt is used to hash and jwt (jsonwebtoken) is used to sign a token and store it as cookie.\n */\n\nconst asyncHandler = require(\"express-async-handler\");\nconst bcrypt = require(\"bcrypt\");\nconst jwt = require(\"jsonwebtoken\");\n\n// sql needed for the type definitions in .input\n// getPool is to do queries\nconst { getPool, sql } = require(\"../config/database\");\n\n// Import validation utilities\nconst { isValidEmail, isValidPhone, isValidPassword, isValidName, sanitizeString } = require(\"../utils/validators\");\n\n\n// Handles the technician registering functionality\nconst registerTechnician = asyncHandler(async (req, res) => {\n    // Getting the needed data from the request body\n    const { firstName, lastName, email, phone, password} = req.body;\n\n    // Checking if any of them is empty, if yes then we throw a 400\n    if (!firstName || !lastName || !email || !phone || !password) {\n        return res.status(400).json({message: \"You have to insert all data to register.\"});\n    }\n\n    // Validate first name format\n    if (!isValidName(firstName)) {\n        return res.status(400).json({message: \"First name must be 2-30 characters and contain only letters.\"});\n    }\n\n    // Validate last name format\n    if (!isValidName(lastName)) {\n        return res.status(400).json({message: \"Last name must be 2-30 characters and contain only letters.\"});\n    }\n\n    // Validate email format\n    if (!isValidEmail(email)) {\n        return res.status(400).json({message: \"Please enter a valid email address.\"});\n    }\n\n    // Validate phone format\n    if (!isValidPhone(phone)) {\n        return res.status(400).json({message: \"Please enter a valid phone number.\"});\n    }\n\n    // Validate password strength\n    const passwordValidation = isValidPassword(password);\n    if (!passwordValidation.valid) {\n        return res.status(400).json({message: passwordValidation.message});\n    }\n\n    // We now try to access the database to insert the technician\n    try {\n        const pool = getPool();\n\n        // Hashing the password before storing\n        const hashedPassword = await bcrypt.hash(password, 11);\n\n        // Inserting the technician into the database Technician table\n        const result = await pool.request()\n            .input(\"firstName\", sql.VarChar, sanitizeString(firstName))\n            .input(\"lastName\", sql.VarChar, sanitizeString(lastName))\n            .input(\"email\", sql.VarChar, sanitizeString(email).toLowerCase())\n            .input(\"phone\", sql.VarChar, sanitizeString(phone))\n            .input(\"hashedPassword\", sql.VarChar, hashedPassword)\n            .query(`\n            INSERT INTO Technician (First_Name, Last_Name, Email, Phone, Password_Hash)\n            VALUES(@firstName, @lastName, @email, @phone, @hashedPassword)\n            `);\n\n        // Sending success message\n        res.status(201).json({message: \"Technician registered successfully!\"});\n    } catch (error) {\n        // Handling the unique constraints for email and phone numbers\n        // 2627 is for violation of the unique key constraint, and 2601 is for unique index violation\n        if (error.number === 2627 || error.number === 2601) {\n            return res.status(409).json({message: \"Another account exists already either with this email address or phone number. If you have another account, please use that one instead.\"});\n        }\n\n        // Throwing the console error and 500 status in case something goes wrong\n        console.error(\"Unexpected error registering a new technician account: \", error);\n        res.status(500).json({message: \"An unexpected error occurred while registering the technician.\"});\n    }\n});\n\n// Handling the logging in functionality for technicians\nconst loginTechnician = asyncHandler(async (req,res) => {\n    // Getting the email and password that the technician is trying to login with\n    const {email, password} = req.body;\n\n    // Input validation, if either empty then send 400 error\n    if (!email || !password) {\n        return res.status(400).json({message: \"You have to enter both your email and your password\"});\n    }\n\n    // Validate email format\n    if (!isValidEmail(email)) {\n        return res.status(400).json({message: \"Please enter a valid email address.\"});\n    }\n\n    try {\n        const pool = getPool();\n\n        // Searching in the database for a technician with the same email passed to check if exists\n        const result = await pool.request()\n            .input(\"email\", sql.VarChar, sanitizeString(email).toLowerCase())\n            .query(`\n                SELECT Technician_ID, First_Name, Last_Name, Email, Password_Hash, isActive, Verified\n                FROM Technician\n                WHERE Email = @email\n                `);\n\n        // If no results returned from the query, then the email entered is invalid\n        if (result.recordset.length === 0) {\n            return res.status(401).json({message: \"Invalid email address or password.\"});\n        }\n\n        // Now we are getting the first technician that we got having the same email address\n        const technician = result.recordset[0];\n\n        // Check if the technician account is active\n        if (!technician.isActive) {\n            return res.status(403).json({message: \"Your account is deactivated. Please contact us to resolve this issue.\"});\n        }\n\n        // Check if the technician account is verified by admin\n        if (!technician.Verified) {\n            return res.status(403).json({message: \"Your account is not verified yet. Please wait for admin approval.\"});\n        }\n\n        // Using bcrypt to check if the password passed is the same as the hashed one stored in the database\n        // If no, throw a 401 error\n        const isPasswordValid = await bcrypt.compare(password, technician.Password_Hash);\n        if (!isPasswordValid) {\n            return res.status(401).json({message: \"Invalid email address or password.\"});\n        }\n\n        // If the password matches, then create a technician token using jwt by signing it with the TECHNICIAN_ACCESS_TOKEN\n        // stored in the .env file. The token expires in 1 day.\n        const technicianToken = jwt.sign({\n            id: technician.Technician_ID,\n            firstName: technician.First_Name,\n            lastName: technician.Last_Name,\n            email: technician.Email\n        },\n            process.env.TECHNICIAN_ACCESS_TOKEN,\n            {expiresIn: \"1d\"}\n        );\n\n        // If a cookie exists already for the technician, clear it\n        if (req.cookies.technician_access_token) {\n            res.clearCookie('technician_access_token');\n        }\n\n        // Store the new cookie such that it lasts 1 day, and throw a 200 success message with some data about the technician\n        // (id, firstName, lastName, email)\n        res.cookie('technician_access_token', technicianToken, \n            {httpOnly: true, \n            secure: process.env.NODE_ENV === \"production\",\n            sameSite: 'strict',\n            maxAge: 24 * 60 * 60 * 1000});\n        res.status(200).json({\n            message: \"Successfully logged in.\",\n            technician: {\n                id: technician.Technician_ID,\n                firstName: technician.First_Name,\n                lastName: technician.Last_Name,\n                email: technician.Email\n            }\n        })\n\n        // If anything goes wrong, throw an error\n    } catch (error) {\n        console.error(\"Login error:\", error);\n        res.status(500).json({message: \"An error occurred during login.\"});\n    }\n});\n\n// Logging out functionality by clearing the technician's cookie and sending a success message\nconst logoutTechnician = asyncHandler(async (req, res) => {\n    res.clearCookie('technician_access_token');\n    res.status(200).json({message: \"Successfully logged out.\"});\n})\n\n\n// Setting technician specialty - allows technicians to add appliance categories they specialize in\nconst settingTechnicianSpecialty = asyncHandler(async (req,res) => {\n    // Getting the specialty data from the body and the technicianID passed from the middleware\n    const {applianceCategoryID, yearsOfExperience, certificateDate} = req.body;\n    const technicianID = req.technicianID;\n\n    // If required fields are missing, throw a 400 error\n    // Note: yearsOfExperience uses !== undefined to allow 0 as a valid value\n    if (!applianceCategoryID || yearsOfExperience === undefined || yearsOfExperience === null) {\n        return res.status(400).json({message: \"Category ID and years of experience are required for you to pass!\"});\n    }\n\n    // Validating years of experience - must be an integer between 0 and 50\n    if (!Number.isInteger(yearsOfExperience) || yearsOfExperience < 0 || yearsOfExperience > 50) {\n        return res.status(400).json({message: \"Your years of experience should be between 0 and 50.\"});\n    }\n\n    // If certificate date is provided, validate it\n    if (certificateDate) {\n        const certDate = new Date(certificateDate);\n        const today = new Date();\n        today.setHours(0,0,0,0);\n\n        // Certificate date cannot be in the future\n        if (certDate > today) {\n            return res.status(400).json({message: \"Certification date cannot be in the future!\"});\n        }\n\n        // Certificate date cannot be more than 50 years ago\n        const fiftyYearsAgo = new Date();\n        fiftyYearsAgo.setFullYear(fiftyYearsAgo.getFullYear() - 50);\n\n        if (certDate < fiftyYearsAgo) {\n            return res.status(400).json({message: \"Certification date cannot be more than 50 years ago!\"});\n        }\n    }\n\n    try {\n        const pool = getPool();\n\n        // Check if the appliance category exists and is active\n        const checkCategory = await pool.request()\n            .input(\"applianceCategoryID\", sql.Int, applianceCategoryID)\n            .query(`\n                SELECT Category_ID, NameEN, NameAR, isActive\n                FROM Appliance_Category\n                WHERE Category_ID = @applianceCategoryID\n                `);\n\n        // If no result returned, the category ID is invalid\n        if (checkCategory.recordset.length === 0) {\n            return res.status(404).json({message: \"Invalid category passed! You should pick one of the available category IDs only.\"});\n        }\n\n        const category = checkCategory.recordset[0];\n\n        // Check if the category is active\n        if (!category.isActive) {\n            return res.status(400).json({message: \"The category chosen is currently not active!\"});\n        }\n\n        // Checking for duplicate specialty - technician cannot add same category twice\n        const checkDuplicate = await pool.request()\n            .input(\"technicianID\", sql.Int, technicianID)\n            .input(\"applianceCategoryID\", sql.Int, applianceCategoryID)\n            .query(`\n                SELECT Technician_ID\n                FROM Technician_Category\n                WHERE Technician_ID = @technicianID AND Category_ID = @applianceCategoryID\n                `);\n\n        // If duplicate found, throw a 409 conflict error\n        if (checkDuplicate.recordset.length > 0) {\n            return res.status(409).json({message: \"You already have this specialty added.\"});\n        }\n\n        // Insert the new specialty into Technician_Category table\n        await pool.request()\n            .input(\"technicianID\", sql.Int, technicianID)\n            .input(\"applianceCategoryID\", sql.Int, applianceCategoryID)\n            .input(\"yearsOfExperience\", sql.SmallInt, yearsOfExperience)\n            .input(\"certificateDate\", sql.Date, certificateDate || null)\n            .query(`\n                INSERT INTO Technician_Category (Technician_ID, Category_ID, Years_of_Experience, Certification_Date)\n                VALUES (@technicianID, @applianceCategoryID, @yearsOfExperience, @certificateDate)\n                `);\n\n        // Return success response with specialty details\n        res.status(201).json({\n            message: \"Successfully set your specialty.\",\n            categoryID: category.Category_ID,\n            categoryNameEN: category.NameEN,\n            categoryNameAR: category.NameAR,\n            yearsOfExperience: yearsOfExperience,\n            certificateDate: certificateDate || null\n        });\n\n    } catch (error) {\n        console.error(\"An unexpected error occurred when trying to set your specialty:\", error);\n\n        // Foreign key constraint violation\n        if (error.number === 547) {\n            return res.status(400).json({message: \"Invalid technician or category ID.\"});\n        }\n\n        // Unique constraint violation (duplicate entry)\n        if (error.number === 2627) {\n            return res.status(409).json({message: \"You already have this specialty added!\"});\n        }\n\n        res.status(500).json({message: \"An unexpected error occurred when trying to set your specialty.\"});\n    }\n})\n\n// Setting technician service area - allows technicians to add areas they work in with priority\nconst settingTechnicianServiceArea = asyncHandler(async (req,res) => {\n    // Getting the service area data from the body and the technicianID passed from the middleware\n    const {serviceAreaID, priority} = req.body;\n    const technicianID = req.technicianID;\n\n    // If required fields are missing, throw a 400 error\n    if (!serviceAreaID || !priority) {\n        return res.status(400).json({message: \"You have to specify from which service area you are and the priority of it.\"});\n    }\n\n    // Validating priority - must be an integer between 1 and 100\n    if (!Number.isInteger(priority) || priority < 1 || priority > 100) {\n        return res.status(400).json({message: \"Priority must be an integer between 1 and 100.\"});\n    }\n\n    try {\n        const pool = getPool();\n\n        // Check if the service area exists\n        const checkArea = await pool.request()\n            .input(\"serviceAreaID\", sql.Int, serviceAreaID)\n            .query(`\n                SELECT Area_ID, NameEN, NameAR, Region, isActive\n                FROM Service_Area\n                WHERE Area_ID = @serviceAreaID\n                `);\n\n        // If no result returned, the service area ID is invalid\n        if (checkArea.recordset.length === 0) {\n            return res.status(404).json({message: \"Invalid service area chosen! You have to choose one of the available ones.\"});\n        }\n\n        const serviceArea = checkArea.recordset[0];\n\n        // Check if the service area is active\n        if (!serviceArea.isActive) {\n            return res.status(400).json({message: \"Currently this service area is not active.\"});\n        }\n\n        // Checking for duplicate service area - technician cannot add same area twice\n        const checkDuplicate = await pool.request()\n            .input(\"technicianID\", sql.Int, technicianID)\n            .input(\"serviceAreaID\", sql.Int, serviceAreaID)\n            .query(`\n                SELECT Technician_ID\n                FROM Technician_Service_Area\n                WHERE Technician_ID = @technicianID AND Area_ID = @serviceAreaID\n                `);\n\n        // If duplicate found, throw a 409 conflict error\n        if (checkDuplicate.recordset.length > 0) {\n            return res.status(409).json({message: \"You already have set this service area!\"});\n        }\n\n        // Insert the new service area into Technician_Service_Area table\n        await pool.request()\n            .input(\"technicianID\", sql.Int, technicianID)\n            .input(\"serviceAreaID\", sql.Int, serviceAreaID)\n            .input(\"priority\", sql.Int, priority)\n            .query(`\n                INSERT INTO Technician_Service_Area (Technician_ID, Area_ID, Priority_Order)\n                VALUES (@technicianID, @serviceAreaID, @priority)\n                `);\n\n        // Return success response with service area details\n        res.status(201).json({\n            message: \"Successfully set your service area.\",\n            areaID: serviceArea.Area_ID,\n            areaNameEN: serviceArea.NameEN,\n            areaNameAR: serviceArea.NameAR,\n            areaRegion: serviceArea.Region,\n            priority: priority\n        });\n        \n    } catch (error) {\n        console.error(\"An unexpected error occurred when trying to set your service area:\", error);\n\n        // Foreign key constraint violation\n        if (error.number === 547) {\n            return res.status(400).json({message: \"Invalid technician or service area ID.\"});\n        }\n\n        // Unique constraint violation (duplicate entry)\n        if (error.number === 2627) {\n            return res.status(409).json({message: \"You already have this service area set!\"});\n        }\n\n        res.status(500).json({message: \"An unexpected error occurred when trying to set your service area.\"});\n    }\n})\n\n\nmodule.exports = {registerTechnician, loginTechnician, logoutTechnician, settingTechnicianSpecialty, settingTechnicianServiceArea}; "],"mappings":"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","ignoreList":[]}},"mtime":1764435289429},"{\"assumptions\":{},\"sourceRoot\":\"/workspaces/FixAppliance-eCommerce/back-end/src/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/workspaces/FixAppliance-eCommerce/back-end\",\"filename\":\"/workspaces/FixAppliance-eCommerce/back-end/src/controllers/TechnicianBookingController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/workspaces/FixAppliance-eCommerce/back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"_exploded\":true,\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"VoidPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/workspaces/FixAppliance-eCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$48\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/workspaces/FixAppliance-eCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$49\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n/**\n * This controller handles everything related to booking and the technician:\n *  1. Technician accepting a pending booking\n *  2. Technician getting all pending bookings available to accept\n */\n\nvar asyncHandler = require(\"express-async-handler\");\n\n// sql needed for the type definitions in .input\n// getPool is to do queries\nvar _require = require(\"../config/database\"),\n  getPool = _require.getPool,\n  sql = _require.sql;\n\n// Technician accepting a pending booking\nvar acceptPendingBooking = asyncHandler(/*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee(req, res) {\n    var bookingID, technicianID, pool, checkBooking, booking, result, _t;\n    return _regenerator[\"default\"].wrap(function (_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          // Getting the booking ID from the body and the technician ID passed from the middleware\n          bookingID = req.body.bookingID;\n          technicianID = req.technicianID; // If no booking ID is passed, throw a 400 error\n          if (bookingID) {\n            _context.next = 1;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"You need to pass a booking ID.\"\n          }));\n        case 1:\n          _context.prev = 1;\n          pool = getPool(); // Check if the booking exists and get its current status and assigned technician\n          _context.next = 2;\n          return pool.request().input(\"bookingID\", sql.Int, bookingID).query(\"\\n                    SELECT Booking_ID, [Status], Technician_ID\\n                    FROM Booking\\n                    WHERE Booking_ID = @bookingID\\n                    \");\n        case 2:\n          checkBooking = _context.sent;\n          if (!(checkBooking.recordset.length === 0)) {\n            _context.next = 3;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(404).json({\n            message: \"Booking not found.\"\n          }));\n        case 3:\n          booking = checkBooking.recordset[0]; // Check if booking is already assigned to another technician\n          if (!(booking.Technician_ID !== null)) {\n            _context.next = 4;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(409).json({\n            message: \"This booking is already assigned to another technician.\"\n          }));\n        case 4:\n          if (!(booking.Status !== 'pending')) {\n            _context.next = 5;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"This booking is \".concat(booking.Status, \" and cannot be accepted.\")\n          }));\n        case 5:\n          _context.next = 6;\n          return pool.request().input(\"bookingID\", sql.Int, bookingID).input(\"technicianID\", sql.Int, technicianID).query(\"\\n                    UPDATE Booking\\n                    SET Technician_ID = @technicianID,\\n                        [Status] = 'confirmed',\\n                        modifiedAt = GETDATE()\\n                    WHERE Booking_ID = @bookingID\\n                    \");\n        case 6:\n          result = _context.sent;\n          // Return success response with booking and technician details\n          res.status(200).json({\n            message: \"Booking accepted successfully.\",\n            bookingID: bookingID,\n            technicianID: technicianID\n          });\n          _context.next = 9;\n          break;\n        case 7:\n          _context.prev = 7;\n          _t = _context[\"catch\"](1);\n          console.error(\"Unexpected error occurred when trying to apply booking to technician: \", _t);\n\n          // Foreign key constraint violation\n          if (!(_t.number === 547)) {\n            _context.next = 8;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"Invalid booking or technician ID.\"\n          }));\n        case 8:\n          res.status(500).json({\n            message: \"Unexpected error occurred when trying to set booking to technician.\"\n          });\n        case 9:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[1, 7]]);\n  }));\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}());\n\n// Get all pending bookings available for technicians to accept\nvar getPendingBookings = asyncHandler(/*#__PURE__*/function () {\n  var _ref2 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(req, res) {\n    var pool, result, _t2;\n    return _regenerator[\"default\"].wrap(function (_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          pool = getPool(); // Query all pending bookings with user and appliance details\n          // Ordered by date and time (earliest first)\n          _context2.next = 1;\n          return pool.request().query(\"\\n                SELECT \\n                    Booking.Booking_ID, \\n                    Booking.Booking_Date AS \\\"Scheduled Date\\\", \\n                    Booking.Booking_Time AS \\\"Scheduled Time\\\", \\n                    Booking.Total_Price AS \\\"Total Price\\\", \\n                    Appliance_Type.nameEN AS \\\"Appliance's Name (EN)\\\", \\n                    Appliance_Type.nameAR AS \\\"Appliance's Name (AR)\\\",\\n                    Booking.Issue_Description AS \\\"Issue Description\\\",\\n                    [User].First_Name AS \\\"First Name\\\",\\n                    [User].Last_Name AS \\\"Last Name\\\", \\n                    [User].Phone AS \\\"Phone Number\\\",\\n                    [User].City AS \\\"City\\\",\\n                    [User].Street_Address AS \\\"Street Address\\\", \\n                    [User].Building_Name AS \\\"Building Name\\\", \\n                    [User].Floor AS \\\"Building Floor\\\", \\n                    [User].Postal_Code AS \\\"Postal Code\\\"\\n                FROM Booking\\n                JOIN [User] ON Booking.UserID = [User].User_ID\\n                JOIN Appliance_Type ON Booking.Appliance_Type_ID = Appliance_Type.Appliance_Type_ID\\n                WHERE Booking.[Status] = 'pending'\\n                ORDER BY Booking.Booking_Date ASC, Booking.Booking_Time ASC\\n            \");\n        case 1:\n          result = _context2.sent;\n          if (!(result.recordset.length === 0)) {\n            _context2.next = 2;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(200).json({\n            message: \"No pending bookings found.\",\n            bookings: []\n          }));\n        case 2:\n          // Return pending bookings with count\n          res.status(200).json({\n            message: \"There are pending bookings.\",\n            count: result.recordset.length,\n            bookings: result.recordset\n          });\n          _context2.next = 4;\n          break;\n        case 3:\n          _context2.prev = 3;\n          _t2 = _context2[\"catch\"](0);\n          console.error(\"Unexpected error occurred while fetching pending bookings:\", _t2);\n          res.status(500).json({\n            message: \"An unexpected error occurred while fetching pending bookings.\"\n          });\n        case 4:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[0, 3]]);\n  }));\n  return function (_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}());\nmodule.exports = {\n  getPendingBookings: getPendingBookings,\n  acceptPendingBooking: acceptPendingBooking\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhc3luY0hhbmRsZXIiLCJyZXF1aXJlIiwiX3JlcXVpcmUiLCJnZXRQb29sIiwic3FsIiwiYWNjZXB0UGVuZGluZ0Jvb2tpbmciLCJfcmVmIiwiX2FzeW5jVG9HZW5lcmF0b3IyIiwiX3JlZ2VuZXJhdG9yIiwibWFyayIsIl9jYWxsZWUiLCJyZXEiLCJyZXMiLCJib29raW5nSUQiLCJ0ZWNobmljaWFuSUQiLCJwb29sIiwiY2hlY2tCb29raW5nIiwiYm9va2luZyIsInJlc3VsdCIsIl90Iiwid3JhcCIsIl9jb250ZXh0IiwicHJldiIsIm5leHQiLCJib2R5IiwiYWJydXB0Iiwic3RhdHVzIiwianNvbiIsIm1lc3NhZ2UiLCJyZXF1ZXN0IiwiaW5wdXQiLCJJbnQiLCJxdWVyeSIsInNlbnQiLCJyZWNvcmRzZXQiLCJsZW5ndGgiLCJUZWNobmljaWFuX0lEIiwiU3RhdHVzIiwiY29uY2F0IiwiY29uc29sZSIsImVycm9yIiwibnVtYmVyIiwic3RvcCIsIl94IiwiX3gyIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJnZXRQZW5kaW5nQm9va2luZ3MiLCJfcmVmMiIsIl9jYWxsZWUyIiwiX3QyIiwiX2NvbnRleHQyIiwiYm9va2luZ3MiLCJjb3VudCIsIl94MyIsIl94NCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii93b3Jrc3BhY2VzL0ZpeEFwcGxpYW5jZS1lQ29tbWVyY2UvYmFjay1lbmQvc3JjL2NvbnRyb2xsZXJzLyIsInNvdXJjZXMiOlsiVGVjaG5pY2lhbkJvb2tpbmdDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGhpcyBjb250cm9sbGVyIGhhbmRsZXMgZXZlcnl0aGluZyByZWxhdGVkIHRvIGJvb2tpbmcgYW5kIHRoZSB0ZWNobmljaWFuOlxuICogIDEuIFRlY2huaWNpYW4gYWNjZXB0aW5nIGEgcGVuZGluZyBib29raW5nXG4gKiAgMi4gVGVjaG5pY2lhbiBnZXR0aW5nIGFsbCBwZW5kaW5nIGJvb2tpbmdzIGF2YWlsYWJsZSB0byBhY2NlcHRcbiAqL1xuXG5jb25zdCBhc3luY0hhbmRsZXIgPSByZXF1aXJlKFwiZXhwcmVzcy1hc3luYy1oYW5kbGVyXCIpO1xuXG5cbi8vIHNxbCBuZWVkZWQgZm9yIHRoZSB0eXBlIGRlZmluaXRpb25zIGluIC5pbnB1dFxuLy8gZ2V0UG9vbCBpcyB0byBkbyBxdWVyaWVzXG5jb25zdCB7IGdldFBvb2wsIHNxbCB9ID0gcmVxdWlyZShcIi4uL2NvbmZpZy9kYXRhYmFzZVwiKTtcblxuXG4vLyBUZWNobmljaWFuIGFjY2VwdGluZyBhIHBlbmRpbmcgYm9va2luZ1xuY29uc3QgYWNjZXB0UGVuZGluZ0Jvb2tpbmcgPSBhc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgICAgIC8vIEdldHRpbmcgdGhlIGJvb2tpbmcgSUQgZnJvbSB0aGUgYm9keSBhbmQgdGhlIHRlY2huaWNpYW4gSUQgcGFzc2VkIGZyb20gdGhlIG1pZGRsZXdhcmVcbiAgICAgICAgY29uc3QgeyBib29raW5nSUQgfSA9IHJlcS5ib2R5O1xuICAgICAgICBjb25zdCB0ZWNobmljaWFuSUQgPSByZXEudGVjaG5pY2lhbklEO1xuXG4gICAgICAgIC8vIElmIG5vIGJvb2tpbmcgSUQgaXMgcGFzc2VkLCB0aHJvdyBhIDQwMCBlcnJvclxuICAgICAgICBpZiAoIWJvb2tpbmdJRCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttZXNzYWdlOiBcIllvdSBuZWVkIHRvIHBhc3MgYSBib29raW5nIElELlwifSk7XG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcG9vbCA9IGdldFBvb2woKTtcblxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGJvb2tpbmcgZXhpc3RzIGFuZCBnZXQgaXRzIGN1cnJlbnQgc3RhdHVzIGFuZCBhc3NpZ25lZCB0ZWNobmljaWFuXG4gICAgICAgICAgICBjb25zdCBjaGVja0Jvb2tpbmcgPSBhd2FpdCBwb29sLnJlcXVlc3QoKVxuICAgICAgICAgICAgICAgIC5pbnB1dChcImJvb2tpbmdJRFwiLCBzcWwuSW50LCBib29raW5nSUQpXG4gICAgICAgICAgICAgICAgLnF1ZXJ5KGBcbiAgICAgICAgICAgICAgICAgICAgU0VMRUNUIEJvb2tpbmdfSUQsIFtTdGF0dXNdLCBUZWNobmljaWFuX0lEXG4gICAgICAgICAgICAgICAgICAgIEZST00gQm9va2luZ1xuICAgICAgICAgICAgICAgICAgICBXSEVSRSBCb29raW5nX0lEID0gQGJvb2tpbmdJRFxuICAgICAgICAgICAgICAgICAgICBgKTtcblxuICAgICAgICAgICAgLy8gSWYgbm8gcmVzdWx0IHJldHVybmVkLCB0aGUgYm9va2luZyBkb2Vzbid0IGV4aXN0XG4gICAgICAgICAgICBpZiAoY2hlY2tCb29raW5nLnJlY29yZHNldC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe21lc3NhZ2U6IFwiQm9va2luZyBub3QgZm91bmQuXCJ9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgYm9va2luZyA9IGNoZWNrQm9va2luZy5yZWNvcmRzZXRbMF07XG5cbiAgICAgICAgICAgIC8vIENoZWNrIGlmIGJvb2tpbmcgaXMgYWxyZWFkeSBhc3NpZ25lZCB0byBhbm90aGVyIHRlY2huaWNpYW5cbiAgICAgICAgICAgIGlmIChib29raW5nLlRlY2huaWNpYW5fSUQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDkpLmpzb24oe21lc3NhZ2U6IFwiVGhpcyBib29raW5nIGlzIGFscmVhZHkgYXNzaWduZWQgdG8gYW5vdGhlciB0ZWNobmljaWFuLlwifSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENoZWNrIGlmIGJvb2tpbmcgc3RhdHVzIGlzIHBlbmRpbmcgLSBvbmx5IHBlbmRpbmcgYm9va2luZ3MgY2FuIGJlIGFjY2VwdGVkXG4gICAgICAgICAgICBpZiAoYm9va2luZy5TdGF0dXMgIT09ICdwZW5kaW5nJykge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogYFRoaXMgYm9va2luZyBpcyAke2Jvb2tpbmcuU3RhdHVzfSBhbmQgY2Fubm90IGJlIGFjY2VwdGVkLmB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBib29raW5nIC0gYXNzaWduIHRlY2huaWNpYW4gYW5kIGNoYW5nZSBzdGF0dXMgdG8gY29uZmlybWVkXG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwb29sLnJlcXVlc3QoKVxuICAgICAgICAgICAgICAgIC5pbnB1dChcImJvb2tpbmdJRFwiLCBzcWwuSW50LCBib29raW5nSUQpXG4gICAgICAgICAgICAgICAgLmlucHV0KFwidGVjaG5pY2lhbklEXCIsIHNxbC5JbnQsIHRlY2huaWNpYW5JRClcbiAgICAgICAgICAgICAgICAucXVlcnkoYFxuICAgICAgICAgICAgICAgICAgICBVUERBVEUgQm9va2luZ1xuICAgICAgICAgICAgICAgICAgICBTRVQgVGVjaG5pY2lhbl9JRCA9IEB0ZWNobmljaWFuSUQsXG4gICAgICAgICAgICAgICAgICAgICAgICBbU3RhdHVzXSA9ICdjb25maXJtZWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kaWZpZWRBdCA9IEdFVERBVEUoKVxuICAgICAgICAgICAgICAgICAgICBXSEVSRSBCb29raW5nX0lEID0gQGJvb2tpbmdJRFxuICAgICAgICAgICAgICAgICAgICBgKTtcblxuICAgICAgICAgICAgLy8gUmV0dXJuIHN1Y2Nlc3MgcmVzcG9uc2Ugd2l0aCBib29raW5nIGFuZCB0ZWNobmljaWFuIGRldGFpbHNcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkJvb2tpbmcgYWNjZXB0ZWQgc3VjY2Vzc2Z1bGx5LlwiLFxuICAgICAgICAgICAgICAgIGJvb2tpbmdJRDogYm9va2luZ0lELFxuICAgICAgICAgICAgICAgIHRlY2huaWNpYW5JRDogdGVjaG5pY2lhbklEXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiVW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZCB3aGVuIHRyeWluZyB0byBhcHBseSBib29raW5nIHRvIHRlY2huaWNpYW46IFwiLCBlcnJvcik7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEZvcmVpZ24ga2V5IGNvbnN0cmFpbnQgdmlvbGF0aW9uXG4gICAgICAgICAgICBpZiAoZXJyb3IubnVtYmVyID09PSA1NDcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiSW52YWxpZCBib29raW5nIG9yIHRlY2huaWNpYW4gSUQuXCJ9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe21lc3NhZ2U6IFwiVW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZCB3aGVuIHRyeWluZyB0byBzZXQgYm9va2luZyB0byB0ZWNobmljaWFuLlwifSk7XG4gICAgICAgIH1cbn0pXG5cblxuLy8gR2V0IGFsbCBwZW5kaW5nIGJvb2tpbmdzIGF2YWlsYWJsZSBmb3IgdGVjaG5pY2lhbnMgdG8gYWNjZXB0XG5jb25zdCBnZXRQZW5kaW5nQm9va2luZ3MgPSBhc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcG9vbCA9IGdldFBvb2woKTtcbiAgICAgICBcbiAgICAgICAgLy8gUXVlcnkgYWxsIHBlbmRpbmcgYm9va2luZ3Mgd2l0aCB1c2VyIGFuZCBhcHBsaWFuY2UgZGV0YWlsc1xuICAgICAgICAvLyBPcmRlcmVkIGJ5IGRhdGUgYW5kIHRpbWUgKGVhcmxpZXN0IGZpcnN0KVxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwb29sLnJlcXVlc3QoKVxuICAgICAgICAgICAgLnF1ZXJ5KGBcbiAgICAgICAgICAgICAgICBTRUxFQ1QgXG4gICAgICAgICAgICAgICAgICAgIEJvb2tpbmcuQm9va2luZ19JRCwgXG4gICAgICAgICAgICAgICAgICAgIEJvb2tpbmcuQm9va2luZ19EYXRlIEFTIFwiU2NoZWR1bGVkIERhdGVcIiwgXG4gICAgICAgICAgICAgICAgICAgIEJvb2tpbmcuQm9va2luZ19UaW1lIEFTIFwiU2NoZWR1bGVkIFRpbWVcIiwgXG4gICAgICAgICAgICAgICAgICAgIEJvb2tpbmcuVG90YWxfUHJpY2UgQVMgXCJUb3RhbCBQcmljZVwiLCBcbiAgICAgICAgICAgICAgICAgICAgQXBwbGlhbmNlX1R5cGUubmFtZUVOIEFTIFwiQXBwbGlhbmNlJ3MgTmFtZSAoRU4pXCIsIFxuICAgICAgICAgICAgICAgICAgICBBcHBsaWFuY2VfVHlwZS5uYW1lQVIgQVMgXCJBcHBsaWFuY2UncyBOYW1lIChBUilcIixcbiAgICAgICAgICAgICAgICAgICAgQm9va2luZy5Jc3N1ZV9EZXNjcmlwdGlvbiBBUyBcIklzc3VlIERlc2NyaXB0aW9uXCIsXG4gICAgICAgICAgICAgICAgICAgIFtVc2VyXS5GaXJzdF9OYW1lIEFTIFwiRmlyc3QgTmFtZVwiLFxuICAgICAgICAgICAgICAgICAgICBbVXNlcl0uTGFzdF9OYW1lIEFTIFwiTGFzdCBOYW1lXCIsIFxuICAgICAgICAgICAgICAgICAgICBbVXNlcl0uUGhvbmUgQVMgXCJQaG9uZSBOdW1iZXJcIixcbiAgICAgICAgICAgICAgICAgICAgW1VzZXJdLkNpdHkgQVMgXCJDaXR5XCIsXG4gICAgICAgICAgICAgICAgICAgIFtVc2VyXS5TdHJlZXRfQWRkcmVzcyBBUyBcIlN0cmVldCBBZGRyZXNzXCIsIFxuICAgICAgICAgICAgICAgICAgICBbVXNlcl0uQnVpbGRpbmdfTmFtZSBBUyBcIkJ1aWxkaW5nIE5hbWVcIiwgXG4gICAgICAgICAgICAgICAgICAgIFtVc2VyXS5GbG9vciBBUyBcIkJ1aWxkaW5nIEZsb29yXCIsIFxuICAgICAgICAgICAgICAgICAgICBbVXNlcl0uUG9zdGFsX0NvZGUgQVMgXCJQb3N0YWwgQ29kZVwiXG4gICAgICAgICAgICAgICAgRlJPTSBCb29raW5nXG4gICAgICAgICAgICAgICAgSk9JTiBbVXNlcl0gT04gQm9va2luZy5Vc2VySUQgPSBbVXNlcl0uVXNlcl9JRFxuICAgICAgICAgICAgICAgIEpPSU4gQXBwbGlhbmNlX1R5cGUgT04gQm9va2luZy5BcHBsaWFuY2VfVHlwZV9JRCA9IEFwcGxpYW5jZV9UeXBlLkFwcGxpYW5jZV9UeXBlX0lEXG4gICAgICAgICAgICAgICAgV0hFUkUgQm9va2luZy5bU3RhdHVzXSA9ICdwZW5kaW5nJ1xuICAgICAgICAgICAgICAgIE9SREVSIEJZIEJvb2tpbmcuQm9va2luZ19EYXRlIEFTQywgQm9va2luZy5Cb29raW5nX1RpbWUgQVNDXG4gICAgICAgICAgICBgKTtcblxuICAgICAgICAvLyBJZiBubyBwZW5kaW5nIGJvb2tpbmdzIGZvdW5kLCByZXR1cm4gZW1wdHkgYXJyYXkgd2l0aCBpbmZvcm1hdGl2ZSBtZXNzYWdlXG4gICAgICAgIGlmIChyZXN1bHQucmVjb3Jkc2V0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5vIHBlbmRpbmcgYm9va2luZ3MgZm91bmQuXCIsXG4gICAgICAgICAgICAgICAgYm9va2luZ3M6IFtdXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJldHVybiBwZW5kaW5nIGJvb2tpbmdzIHdpdGggY291bnRcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgbWVzc2FnZTogXCJUaGVyZSBhcmUgcGVuZGluZyBib29raW5ncy5cIixcbiAgICAgICAgICAgIGNvdW50OiByZXN1bHQucmVjb3Jkc2V0Lmxlbmd0aCxcbiAgICAgICAgICAgIGJvb2tpbmdzOiByZXN1bHQucmVjb3Jkc2V0XG4gICAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJVbmV4cGVjdGVkIGVycm9yIG9jY3VycmVkIHdoaWxlIGZldGNoaW5nIHBlbmRpbmcgYm9va2luZ3M6XCIsIGVycm9yKTtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe21lc3NhZ2U6IFwiQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZCB3aGlsZSBmZXRjaGluZyBwZW5kaW5nIGJvb2tpbmdzLlwifSk7XG4gICAgfVxufSlcblxuXG5tb2R1bGUuZXhwb3J0cyA9IHtnZXRQZW5kaW5nQm9va2luZ3MsIGFjY2VwdFBlbmRpbmdCb29raW5nfTsiXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxJQUFNQSxZQUFZLEdBQUdDLE9BQU8sQ0FBQyx1QkFBdUIsQ0FBQzs7QUFHckQ7QUFDQTtBQUNBLElBQUFDLFFBQUEsR0FBeUJELE9BQU8sQ0FBQyxvQkFBb0IsQ0FBQztFQUE5Q0UsT0FBTyxHQUFBRCxRQUFBLENBQVBDLE9BQU87RUFBRUMsR0FBRyxHQUFBRixRQUFBLENBQUhFLEdBQUc7O0FBR3BCO0FBQ0EsSUFBTUMsb0JBQW9CLEdBQUdMLFlBQVk7RUFBQSxJQUFBTSxJQUFBLE9BQUFDLGtCQUFBLDBCQUFBQyxZQUFBLFlBQUFDLElBQUEsQ0FBQyxTQUFBQyxRQUFPQyxHQUFHLEVBQUVDLEdBQUc7SUFBQSxJQUFBQyxTQUFBLEVBQUFDLFlBQUEsRUFBQUMsSUFBQSxFQUFBQyxZQUFBLEVBQUFDLE9BQUEsRUFBQUMsTUFBQSxFQUFBQyxFQUFBO0lBQUEsT0FBQVgsWUFBQSxZQUFBWSxJQUFBLFdBQUFDLFFBQUE7TUFBQSxrQkFBQUEsUUFBQSxDQUFBQyxJQUFB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","map":{"version":3,"names":["asyncHandler","require","_require","getPool","sql","acceptPendingBooking","_ref","_asyncToGenerator2","_regenerator","mark","_callee","req","res","bookingID","technicianID","pool","checkBooking","booking","result","_t","wrap","_context","prev","next","body","abrupt","status","json","message","request","input","Int","query","sent","recordset","length","Technician_ID","Status","concat","console","error","number","stop","_x","_x2","apply","arguments","getPendingBookings","_ref2","_callee2","_t2","_context2","bookings","count","_x3","_x4","module","exports"],"sourceRoot":"/workspaces/FixAppliance-eCommerce/back-end/src/controllers/","sources":["TechnicianBookingController.js"],"sourcesContent":["/**\n * This controller handles everything related to booking and the technician:\n *  1. Technician accepting a pending booking\n *  2. Technician getting all pending bookings available to accept\n */\n\nconst asyncHandler = require(\"express-async-handler\");\n\n\n// sql needed for the type definitions in .input\n// getPool is to do queries\nconst { getPool, sql } = require(\"../config/database\");\n\n\n// Technician accepting a pending booking\nconst acceptPendingBooking = asyncHandler(async (req, res) => {\n        // Getting the booking ID from the body and the technician ID passed from the middleware\n        const { bookingID } = req.body;\n        const technicianID = req.technicianID;\n\n        // If no booking ID is passed, throw a 400 error\n        if (!bookingID) {\n            return res.status(400).json({message: \"You need to pass a booking ID.\"});\n        }\n\n        try {\n            const pool = getPool();\n\n            // Check if the booking exists and get its current status and assigned technician\n            const checkBooking = await pool.request()\n                .input(\"bookingID\", sql.Int, bookingID)\n                .query(`\n                    SELECT Booking_ID, [Status], Technician_ID\n                    FROM Booking\n                    WHERE Booking_ID = @bookingID\n                    `);\n\n            // If no result returned, the booking doesn't exist\n            if (checkBooking.recordset.length === 0) {\n                return res.status(404).json({message: \"Booking not found.\"});\n            }\n\n            const booking = checkBooking.recordset[0];\n\n            // Check if booking is already assigned to another technician\n            if (booking.Technician_ID !== null) {\n                return res.status(409).json({message: \"This booking is already assigned to another technician.\"});\n            }\n\n            // Check if booking status is pending - only pending bookings can be accepted\n            if (booking.Status !== 'pending') {\n                return res.status(400).json({message: `This booking is ${booking.Status} and cannot be accepted.`});\n            }\n\n            // Update the booking - assign technician and change status to confirmed\n            const result = await pool.request()\n                .input(\"bookingID\", sql.Int, bookingID)\n                .input(\"technicianID\", sql.Int, technicianID)\n                .query(`\n                    UPDATE Booking\n                    SET Technician_ID = @technicianID,\n                        [Status] = 'confirmed',\n                        modifiedAt = GETDATE()\n                    WHERE Booking_ID = @bookingID\n                    `);\n\n            // Return success response with booking and technician details\n            res.status(200).json({\n                message: \"Booking accepted successfully.\",\n                bookingID: bookingID,\n                technicianID: technicianID\n            });\n\n            \n        } catch (error) {\n            console.error(\"Unexpected error occurred when trying to apply booking to technician: \", error);\n            \n            // Foreign key constraint violation\n            if (error.number === 547) {\n                return res.status(400).json({message: \"Invalid booking or technician ID.\"});\n            }\n\n            res.status(500).json({message: \"Unexpected error occurred when trying to set booking to technician.\"});\n        }\n})\n\n\n// Get all pending bookings available for technicians to accept\nconst getPendingBookings = asyncHandler(async (req, res) => {\n    try {\n        const pool = getPool();\n       \n        // Query all pending bookings with user and appliance details\n        // Ordered by date and time (earliest first)\n        const result = await pool.request()\n            .query(`\n                SELECT \n                    Booking.Booking_ID, \n                    Booking.Booking_Date AS \"Scheduled Date\", \n                    Booking.Booking_Time AS \"Scheduled Time\", \n                    Booking.Total_Price AS \"Total Price\", \n                    Appliance_Type.nameEN AS \"Appliance's Name (EN)\", \n                    Appliance_Type.nameAR AS \"Appliance's Name (AR)\",\n                    Booking.Issue_Description AS \"Issue Description\",\n                    [User].First_Name AS \"First Name\",\n                    [User].Last_Name AS \"Last Name\", \n                    [User].Phone AS \"Phone Number\",\n                    [User].City AS \"City\",\n                    [User].Street_Address AS \"Street Address\", \n                    [User].Building_Name AS \"Building Name\", \n                    [User].Floor AS \"Building Floor\", \n                    [User].Postal_Code AS \"Postal Code\"\n                FROM Booking\n                JOIN [User] ON Booking.UserID = [User].User_ID\n                JOIN Appliance_Type ON Booking.Appliance_Type_ID = Appliance_Type.Appliance_Type_ID\n                WHERE Booking.[Status] = 'pending'\n                ORDER BY Booking.Booking_Date ASC, Booking.Booking_Time ASC\n            `);\n\n        // If no pending bookings found, return empty array with informative message\n        if (result.recordset.length === 0) {\n            return res.status(200).json({\n                message: \"No pending bookings found.\",\n                bookings: []\n            });\n        }\n\n        // Return pending bookings with count\n        res.status(200).json({\n            message: \"There are pending bookings.\",\n            count: result.recordset.length,\n            bookings: result.recordset\n        });\n    } catch (error) {\n        console.error(\"Unexpected error occurred while fetching pending bookings:\", error);\n        res.status(500).json({message: \"An unexpected error occurred while fetching pending bookings.\"});\n    }\n})\n\n\nmodule.exports = {getPendingBookings, acceptPendingBooking};"],"mappings":"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","ignoreList":[]}},"mtime":1764435289429},"{\"assumptions\":{},\"sourceRoot\":\"/workspaces/FixAppliance-eCommerce/back-end/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/workspaces/FixAppliance-eCommerce/back-end\",\"filename\":\"/workspaces/FixAppliance-eCommerce/back-end/src/routes/freelancerRoutes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/workspaces/FixAppliance-eCommerce/back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"_exploded\":true,\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"VoidPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/workspaces/FixAppliance-eCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$48\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/workspaces/FixAppliance-eCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$49\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"\"use strict\";\n\n/**\n * This express file sets up the routes of the freelancer, which consist of:\n *      Non-validation required routes: register and login\n *      Validation required routes: logout\n * \n * Validation requirement is to have the cookie with the right credintials without being expired.\n * \n * The functionalities for the routes themselves can be found in:\n *      1. middlewares/auth.js for authenticating the freelancer's credentials that are either stored or not stored\n * \n * No full implementation for freelancers is added yet.\n */\n\nvar express = require(\"express\");\nvar _require = require(\"../controllers/FreelancerController\"),\n  registerFreelancer = _require.registerFreelancer,\n  loginFreelancer = _require.loginFreelancer,\n  logoutFreelancer = _require.logoutFreelancer;\nvar _require2 = require(\"../middlewares/auth\"),\n  freelancerValidation = _require2.freelancerValidation;\nvar router = express.Router();\nrouter.post(\"/register\", registerFreelancer);\nrouter.post(\"/login\", loginFreelancer);\nrouter.post(\"/logout\", freelancerValidation, logoutFreelancer);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsIl9yZXF1aXJlIiwicmVnaXN0ZXJGcmVlbGFuY2VyIiwibG9naW5GcmVlbGFuY2VyIiwibG9nb3V0RnJlZWxhbmNlciIsIl9yZXF1aXJlMiIsImZyZWVsYW5jZXJWYWxpZGF0aW9uIiwicm91dGVyIiwiUm91dGVyIiwicG9zdCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii93b3Jrc3BhY2VzL0ZpeEFwcGxpYW5jZS1lQ29tbWVyY2UvYmFjay1lbmQvc3JjL3JvdXRlcy8iLCJzb3VyY2VzIjpbImZyZWVsYW5jZXJSb3V0ZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBUaGlzIGV4cHJlc3MgZmlsZSBzZXRzIHVwIHRoZSByb3V0ZXMgb2YgdGhlIGZyZWVsYW5jZXIsIHdoaWNoIGNvbnNpc3Qgb2Y6XG4gKiAgICAgIE5vbi12YWxpZGF0aW9uIHJlcXVpcmVkIHJvdXRlczogcmVnaXN0ZXIgYW5kIGxvZ2luXG4gKiAgICAgIFZhbGlkYXRpb24gcmVxdWlyZWQgcm91dGVzOiBsb2dvdXRcbiAqIFxuICogVmFsaWRhdGlvbiByZXF1aXJlbWVudCBpcyB0byBoYXZlIHRoZSBjb29raWUgd2l0aCB0aGUgcmlnaHQgY3JlZGludGlhbHMgd2l0aG91dCBiZWluZyBleHBpcmVkLlxuICogXG4gKiBUaGUgZnVuY3Rpb25hbGl0aWVzIGZvciB0aGUgcm91dGVzIHRoZW1zZWx2ZXMgY2FuIGJlIGZvdW5kIGluOlxuICogICAgICAxLiBtaWRkbGV3YXJlcy9hdXRoLmpzIGZvciBhdXRoZW50aWNhdGluZyB0aGUgZnJlZWxhbmNlcidzIGNyZWRlbnRpYWxzIHRoYXQgYXJlIGVpdGhlciBzdG9yZWQgb3Igbm90IHN0b3JlZFxuICogXG4gKiBObyBmdWxsIGltcGxlbWVudGF0aW9uIGZvciBmcmVlbGFuY2VycyBpcyBhZGRlZCB5ZXQuXG4gKi9cblxuY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoXCJleHByZXNzXCIpO1xuY29uc3Qge3JlZ2lzdGVyRnJlZWxhbmNlciwgbG9naW5GcmVlbGFuY2VyLCBsb2dvdXRGcmVlbGFuY2VyfSA9IHJlcXVpcmUoXCIuLi9jb250cm9sbGVycy9GcmVlbGFuY2VyQ29udHJvbGxlclwiKTtcbmNvbnN0IHtmcmVlbGFuY2VyVmFsaWRhdGlvbn0gPSByZXF1aXJlKFwiLi4vbWlkZGxld2FyZXMvYXV0aFwiKTtcblxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcblxucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXJcIiwgcmVnaXN0ZXJGcmVlbGFuY2VyKTtcbnJvdXRlci5wb3N0KFwiL2xvZ2luXCIsIGxvZ2luRnJlZWxhbmNlcik7XG5yb3V0ZXIucG9zdChcIi9sb2dvdXRcIiwgZnJlZWxhbmNlclZhbGlkYXRpb24sIGxvZ291dEZyZWVsYW5jZXIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLElBQU1BLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFNBQVMsQ0FBQztBQUNsQyxJQUFBQyxRQUFBLEdBQWdFRCxPQUFPLENBQUMscUNBQXFDLENBQUM7RUFBdkdFLGtCQUFrQixHQUFBRCxRQUFBLENBQWxCQyxrQkFBa0I7RUFBRUMsZUFBZSxHQUFBRixRQUFBLENBQWZFLGVBQWU7RUFBRUMsZ0JBQWdCLEdBQUFILFFBQUEsQ0FBaEJHLGdCQUFnQjtBQUM1RCxJQUFBQyxTQUFBLEdBQStCTCxPQUFPLENBQUMscUJBQXFCLENBQUM7RUFBdERNLG9CQUFvQixHQUFBRCxTQUFBLENBQXBCQyxvQkFBb0I7QUFFM0IsSUFBTUMsTUFBTSxHQUFHUixPQUFPLENBQUNTLE1BQU0sQ0FBQyxDQUFDO0FBRS9CRCxNQUFNLENBQUNFLElBQUksQ0FBQyxXQUFXLEVBQUVQLGtCQUFrQixDQUFDO0FBQzVDSyxNQUFNLENBQUNFLElBQUksQ0FBQyxRQUFRLEVBQUVOLGVBQWUsQ0FBQztBQUN0Q0ksTUFBTSxDQUFDRSxJQUFJLENBQUMsU0FBUyxFQUFFSCxvQkFBb0IsRUFBRUYsZ0JBQWdCLENBQUM7QUFFOURNLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHSixNQUFNIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["express","require","_require","registerFreelancer","loginFreelancer","logoutFreelancer","_require2","freelancerValidation","router","Router","post","module","exports"],"sourceRoot":"/workspaces/FixAppliance-eCommerce/back-end/src/routes/","sources":["freelancerRoutes.js"],"sourcesContent":["/**\n * This express file sets up the routes of the freelancer, which consist of:\n *      Non-validation required routes: register and login\n *      Validation required routes: logout\n * \n * Validation requirement is to have the cookie with the right credintials without being expired.\n * \n * The functionalities for the routes themselves can be found in:\n *      1. middlewares/auth.js for authenticating the freelancer's credentials that are either stored or not stored\n * \n * No full implementation for freelancers is added yet.\n */\n\nconst express = require(\"express\");\nconst {registerFreelancer, loginFreelancer, logoutFreelancer} = require(\"../controllers/FreelancerController\");\nconst {freelancerValidation} = require(\"../middlewares/auth\");\n\nconst router = express.Router();\n\nrouter.post(\"/register\", registerFreelancer);\nrouter.post(\"/login\", loginFreelancer);\nrouter.post(\"/logout\", freelancerValidation, logoutFreelancer);\n\nmodule.exports = router;"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAMA,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAClC,IAAAC,QAAA,GAAgED,OAAO,CAAC,qCAAqC,CAAC;EAAvGE,kBAAkB,GAAAD,QAAA,CAAlBC,kBAAkB;EAAEC,eAAe,GAAAF,QAAA,CAAfE,eAAe;EAAEC,gBAAgB,GAAAH,QAAA,CAAhBG,gBAAgB;AAC5D,IAAAC,SAAA,GAA+BL,OAAO,CAAC,qBAAqB,CAAC;EAAtDM,oBAAoB,GAAAD,SAAA,CAApBC,oBAAoB;AAE3B,IAAMC,MAAM,GAAGR,OAAO,CAACS,MAAM,CAAC,CAAC;AAE/BD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAEP,kBAAkB,CAAC;AAC5CK,MAAM,CAACE,IAAI,CAAC,QAAQ,EAAEN,eAAe,CAAC;AACtCI,MAAM,CAACE,IAAI,CAAC,SAAS,EAAEH,oBAAoB,EAAEF,gBAAgB,CAAC;AAE9DM,MAAM,CAACC,OAAO,GAAGJ,MAAM","ignoreList":[]}},"mtime":1764435289430},"{\"assumptions\":{},\"sourceRoot\":\"/workspaces/FixAppliance-eCommerce/back-end/src/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/workspaces/FixAppliance-eCommerce/back-end\",\"filename\":\"/workspaces/FixAppliance-eCommerce/back-end/src/controllers/FreelancerController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/workspaces/FixAppliance-eCommerce/back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"_exploded\":true,\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"VoidPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/workspaces/FixAppliance-eCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$48\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/workspaces/FixAppliance-eCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$49\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n/**\n * This controller provides the following functionalities for a freelancer: registering, logging in, and logging out.\n * \n * For storing the password, bcrypt is used to hash and jwt (jsonwebtoken) is used to sign a token and store it as cookie.\n * \n * Freelancers create DIY content (videos/articles) for appliance repairs and are paid per content.\n * New freelancers start with isActive = 0 and Rate_Per_Content = 0, requiring admin approval.\n */\n\nvar asyncHandler = require(\"express-async-handler\");\nvar bcrypt = require(\"bcrypt\");\nvar jwt = require(\"jsonwebtoken\");\n\n// sql needed for the type definitions in .input\n// getPool is to do queries\nvar _require = require(\"../config/database\"),\n  getPool = _require.getPool,\n  sql = _require.sql;\n\n// Import validation utilities\nvar _require2 = require(\"../utils/validators\"),\n  isValidEmail = _require2.isValidEmail,\n  isValidPhone = _require2.isValidPhone,\n  isValidPassword = _require2.isValidPassword,\n  isValidName = _require2.isValidName,\n  sanitizeString = _require2.sanitizeString;\n\n// Handles the freelancer registering functionality\nvar registerFreelancer = asyncHandler(/*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee(req, res) {\n    var _req$body, firstName, lastName, email, phone, password, content_type_specialty, portfolio_url, passwordValidation, pool, hashedPassword, result, _t;\n    return _regenerator[\"default\"].wrap(function (_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          // Getting the needed data from the request body\n          _req$body = req.body, firstName = _req$body.firstName, lastName = _req$body.lastName, email = _req$body.email, phone = _req$body.phone, password = _req$body.password, content_type_specialty = _req$body.content_type_specialty, portfolio_url = _req$body.portfolio_url; // Checking if required fields are empty, if yes then we throw a 400\n          if (!(!firstName || !lastName || !email || !phone || !password || !content_type_specialty)) {\n            _context.next = 1;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"Required fields are missing.\"\n          }));\n        case 1:\n          if (isValidName(firstName)) {\n            _context.next = 2;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"First name must be 2-30 characters and contain only letters.\"\n          }));\n        case 2:\n          if (isValidName(lastName)) {\n            _context.next = 3;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"Last name must be 2-30 characters and contain only letters.\"\n          }));\n        case 3:\n          if (isValidEmail(email)) {\n            _context.next = 4;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"Please enter a valid email address.\"\n          }));\n        case 4:\n          if (isValidPhone(phone)) {\n            _context.next = 5;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"Please enter a valid phone number.\"\n          }));\n        case 5:\n          // Validate password strength\n          passwordValidation = isValidPassword(password);\n          if (passwordValidation.valid) {\n            _context.next = 6;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: passwordValidation.message\n          }));\n        case 6:\n          if (['video', 'article'].includes(content_type_specialty)) {\n            _context.next = 7;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"Content type specialty must be either 'video' or 'article'.\"\n          }));\n        case 7:\n          if (!(portfolio_url && portfolio_url.length > 255)) {\n            _context.next = 8;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"Portfolio URL cannot exceed 255 characters.\"\n          }));\n        case 8:\n          _context.prev = 8;\n          pool = getPool(); // Hashing the password before storing\n          _context.next = 9;\n          return bcrypt.hash(password, 11);\n        case 9:\n          hashedPassword = _context.sent;\n          _context.next = 10;\n          return pool.request().input(\"firstName\", sql.VarChar, sanitizeString(firstName)).input(\"lastName\", sql.VarChar, sanitizeString(lastName)).input(\"email\", sql.VarChar, sanitizeString(email).toLowerCase()).input(\"phone\", sql.VarChar, sanitizeString(phone)).input(\"hashedPassword\", sql.VarChar, hashedPassword).input(\"contentTypeSpecialty\", sql.VarChar, content_type_specialty).input(\"portfolioUrl\", sql.VarChar, portfolio_url ? sanitizeString(portfolio_url) : null).query(\"\\n            INSERT INTO Freelancer (First_Name, Last_Name, Email, Phone, Password_Hash, Content_Type_Specialty, Rate_Per_Content, Payment_Currency, Portfolio_URL, isActive)\\n            VALUES(@firstName, @lastName, @email, @phone, @hashedPassword, @contentTypeSpecialty, 0.00, 'USD', @portfolioUrl, 0)\\n            \");\n        case 10:\n          result = _context.sent;\n          // Sending success message\n          res.status(201).json({\n            message: \"Freelancer registered successfully! Please wait for admin approval.\"\n          });\n          _context.next = 13;\n          break;\n        case 11:\n          _context.prev = 11;\n          _t = _context[\"catch\"](8);\n          if (!(_t.number === 2627 || _t.number === 2601)) {\n            _context.next = 12;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(409).json({\n            message: \"Another account exists already either with this email address or phone number. If you have another account, please use that one instead.\"\n          }));\n        case 12:\n          // Throwing the console error and 500 status in case something goes wrong\n          console.error(\"Unexpected error registering a new freelancer's account: \", _t);\n          res.status(500).json({\n            message: \"An unexpected error occurred while registering the freelancer.\"\n          });\n        case 13:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[8, 11]]);\n  }));\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}());\n\n// Handling the logging in functionality for freelancers\nvar loginFreelancer = asyncHandler(/*#__PURE__*/function () {\n  var _ref2 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(req, res) {\n    var _req$body2, email, password, pool, result, freelancer, isPasswordValid, freelancerToken, _t2;\n    return _regenerator[\"default\"].wrap(function (_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          // Getting the email and password that the freelancer is trying to login with\n          _req$body2 = req.body, email = _req$body2.email, password = _req$body2.password; // Input validation, if either empty then send 400 error\n          if (!(!email || !password)) {\n            _context2.next = 1;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(400).json({\n            message: \"You have to enter both your email and your password\"\n          }));\n        case 1:\n          if (isValidEmail(email)) {\n            _context2.next = 2;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(400).json({\n            message: \"Please enter a valid email address.\"\n          }));\n        case 2:\n          _context2.prev = 2;\n          pool = getPool(); // Searching in the database for a freelancer with the same email passed to check if exists\n          _context2.next = 3;\n          return pool.request().input(\"email\", sql.VarChar, sanitizeString(email).toLowerCase()).query(\"\\n                SELECT Freelancer_ID, First_Name, Last_Name, Email, Password_Hash, isActive\\n                FROM Freelancer\\n                WHERE Email = @email\\n                \");\n        case 3:\n          result = _context2.sent;\n          if (!(result.recordset.length === 0)) {\n            _context2.next = 4;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(401).json({\n            message: \"Invalid email address or password.\"\n          }));\n        case 4:\n          // Now we are getting the first freelancer that we got having the same email address\n          freelancer = result.recordset[0]; // Check if the freelancer account is active (approved by admin)\n          if (freelancer.isActive) {\n            _context2.next = 5;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(403).json({\n            message: \"Your account is not activated yet. Please wait till you receive the approval/denial email to know if you can start working with us.\"\n          }));\n        case 5:\n          _context2.next = 6;\n          return bcrypt.compare(password, freelancer.Password_Hash);\n        case 6:\n          isPasswordValid = _context2.sent;\n          if (isPasswordValid) {\n            _context2.next = 7;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(401).json({\n            message: \"Invalid email address or password.\"\n          }));\n        case 7:\n          // If the password matches, then create a freelancer token using jwt by signing it with the FREELANCER_ACCESS_TOKEN\n          // stored in the .env file. The token expires in 1 day.\n          freelancerToken = jwt.sign({\n            id: freelancer.Freelancer_ID,\n            firstName: freelancer.First_Name,\n            lastName: freelancer.Last_Name,\n            email: freelancer.Email\n          }, process.env.FREELANCER_ACCESS_TOKEN, {\n            expiresIn: \"1d\"\n          }); // If a cookie exists already for the freelancer, clear it\n          if (req.cookies.freelancer_access_token) {\n            res.clearCookie('freelancer_access_token');\n          }\n\n          // Store the new cookie such that it lasts 1 day, and throw a 200 success message with some data about the freelancer\n          // (id, firstName, lastName, email)\n          res.cookie('freelancer_access_token', freelancerToken, {\n            httpOnly: true,\n            secure: process.env.NODE_ENV === \"production\",\n            sameSite: 'strict',\n            maxAge: 24 * 60 * 60 * 1000\n          });\n          res.status(200).json({\n            message: \"Successfully logged in.\",\n            freelancer: {\n              id: freelancer.Freelancer_ID,\n              firstName: freelancer.First_Name,\n              lastName: freelancer.Last_Name,\n              email: freelancer.Email\n            }\n          });\n\n          // If anything goes wrong, throw an error\n          _context2.next = 9;\n          break;\n        case 8:\n          _context2.prev = 8;\n          _t2 = _context2[\"catch\"](2);\n          console.error(\"Login error:\", _t2);\n          res.status(500).json({\n            message: \"An error occurred during login.\"\n          });\n        case 9:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[2, 8]]);\n  }));\n  return function (_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}());\n\n// Logging out functionality by clearing the freelancer's cookie and sending a success message\nvar logoutFreelancer = asyncHandler(/*#__PURE__*/function () {\n  var _ref3 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee3(req, res) {\n    return _regenerator[\"default\"].wrap(function (_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          res.clearCookie('freelancer_access_token');\n          res.status(200).json({\n            message: \"Successfully logged out.\"\n          });\n        case 1:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3);\n  }));\n  return function (_x5, _x6) {\n    return _ref3.apply(this, arguments);\n  };\n}());\nmodule.exports = {\n  registerFreelancer: registerFreelancer,\n  loginFreelancer: loginFreelancer,\n  logoutFreelancer: logoutFreelancer\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhc3luY0hhbmRsZXIiLCJyZXF1aXJlIiwiYmNyeXB0Iiwiand0IiwiX3JlcXVpcmUiLCJnZXRQb29sIiwic3FsIiwiX3JlcXVpcmUyIiwiaXNWYWxpZEVtYWlsIiwiaXNWYWxpZFBob25lIiwiaXNWYWxpZFBhc3N3b3JkIiwiaXNWYWxpZE5hbWUiLCJzYW5pdGl6ZVN0cmluZyIsInJlZ2lzdGVyRnJlZWxhbmNlciIsIl9yZWYiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJfcmVnZW5lcmF0b3IiLCJtYXJrIiwiX2NhbGxlZSIsInJlcSIsInJlcyIsIl9yZXEkYm9keSIsImZpcnN0TmFtZSIsImxhc3ROYW1lIiwiZW1haWwiLCJwaG9uZSIsInBhc3N3b3JkIiwiY29udGVudF90eXBlX3NwZWNpYWx0eSIsInBvcnRmb2xpb191cmwiLCJwYXNzd29yZFZhbGlkYXRpb24iLCJwb29sIiwiaGFzaGVkUGFzc3dvcmQiLCJyZXN1bHQiLCJfdCIsIndyYXAiLCJfY29udGV4dCIsInByZXYiLCJuZXh0IiwiYm9keSIsImFicnVwdCIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwidmFsaWQiLCJpbmNsdWRlcyIsImxlbmd0aCIsImhhc2giLCJzZW50IiwicmVxdWVzdCIsImlucHV0IiwiVmFyQ2hhciIsInRvTG93ZXJDYXNlIiwicXVlcnkiLCJudW1iZXIiLCJjb25zb2xlIiwiZXJyb3IiLCJzdG9wIiwiX3giLCJfeDIiLCJhcHBseSIsImFyZ3VtZW50cyIsImxvZ2luRnJlZWxhbmNlciIsIl9yZWYyIiwiX2NhbGxlZTIiLCJfcmVxJGJvZHkyIiwiZnJlZWxhbmNlciIsImlzUGFzc3dvcmRWYWxpZCIsImZyZWVsYW5jZXJUb2tlbiIsIl90MiIsIl9jb250ZXh0MiIsInJlY29yZHNldCIsImlzQWN0aXZlIiwiY29tcGFyZSIsIlBhc3N3b3JkX0hhc2giLCJzaWduIiwiaWQiLCJGcmVlbGFuY2VyX0lEIiwiRmlyc3RfTmFtZSIsIkxhc3RfTmFtZSIsIkVtYWlsIiwicHJvY2VzcyIsImVudiIsIkZSRUVMQU5DRVJfQUNDRVNTX1RPS0VOIiwiZXhwaXJlc0luIiwiY29va2llcyIsImZyZWVsYW5jZXJfYWNjZXNzX3Rva2VuIiwiY2xlYXJDb29raWUiLCJjb29raWUiLCJodHRwT25seSIsInNlY3VyZSIsIk5PREVfRU5WIiwic2FtZVNpdGUiLCJtYXhBZ2UiLCJfeDMiLCJfeDQiLCJsb2dvdXRGcmVlbGFuY2VyIiwiX3JlZjMiLCJfY2FsbGVlMyIsIl9jb250ZXh0MyIsIl94NSIsIl94NiIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii93b3Jrc3BhY2VzL0ZpeEFwcGxpYW5jZS1lQ29tbWVyY2UvYmFjay1lbmQvc3JjL2NvbnRyb2xsZXJzLyIsInNvdXJjZXMiOlsiRnJlZWxhbmNlckNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBUaGlzIGNvbnRyb2xsZXIgcHJvdmlkZXMgdGhlIGZvbGxvd2luZyBmdW5jdGlvbmFsaXRpZXMgZm9yIGEgZnJlZWxhbmNlcjogcmVnaXN0ZXJpbmcsIGxvZ2dpbmcgaW4sIGFuZCBsb2dnaW5nIG91dC5cbiAqIFxuICogRm9yIHN0b3JpbmcgdGhlIHBhc3N3b3JkLCBiY3J5cHQgaXMgdXNlZCB0byBoYXNoIGFuZCBqd3QgKGpzb253ZWJ0b2tlbikgaXMgdXNlZCB0byBzaWduIGEgdG9rZW4gYW5kIHN0b3JlIGl0IGFzIGNvb2tpZS5cbiAqIFxuICogRnJlZWxhbmNlcnMgY3JlYXRlIERJWSBjb250ZW50ICh2aWRlb3MvYXJ0aWNsZXMpIGZvciBhcHBsaWFuY2UgcmVwYWlycyBhbmQgYXJlIHBhaWQgcGVyIGNvbnRlbnQuXG4gKiBOZXcgZnJlZWxhbmNlcnMgc3RhcnQgd2l0aCBpc0FjdGl2ZSA9IDAgYW5kIFJhdGVfUGVyX0NvbnRlbnQgPSAwLCByZXF1aXJpbmcgYWRtaW4gYXBwcm92YWwuXG4gKi9cblxuY29uc3QgYXN5bmNIYW5kbGVyID0gcmVxdWlyZShcImV4cHJlc3MtYXN5bmMtaGFuZGxlclwiKTtcbmNvbnN0IGJjcnlwdCA9IHJlcXVpcmUoXCJiY3J5cHRcIik7XG5jb25zdCBqd3QgPSByZXF1aXJlKFwianNvbndlYnRva2VuXCIpO1xuXG4vLyBzcWwgbmVlZGVkIGZvciB0aGUgdHlwZSBkZWZpbml0aW9ucyBpbiAuaW5wdXRcbi8vIGdldFBvb2wgaXMgdG8gZG8gcXVlcmllc1xuY29uc3QgeyBnZXRQb29sLCBzcWwgfSA9IHJlcXVpcmUoXCIuLi9jb25maWcvZGF0YWJhc2VcIik7XG5cbi8vIEltcG9ydCB2YWxpZGF0aW9uIHV0aWxpdGllc1xuY29uc3QgeyBpc1ZhbGlkRW1haWwsIGlzVmFsaWRQaG9uZSwgaXNWYWxpZFBhc3N3b3JkLCBpc1ZhbGlkTmFtZSwgc2FuaXRpemVTdHJpbmcgfSA9IHJlcXVpcmUoXCIuLi91dGlscy92YWxpZGF0b3JzXCIpO1xuXG5cbi8vIEhhbmRsZXMgdGhlIGZyZWVsYW5jZXIgcmVnaXN0ZXJpbmcgZnVuY3Rpb25hbGl0eVxuY29uc3QgcmVnaXN0ZXJGcmVlbGFuY2VyID0gYXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIC8vIEdldHRpbmcgdGhlIG5lZWRlZCBkYXRhIGZyb20gdGhlIHJlcXVlc3QgYm9keVxuICAgIGNvbnN0IHsgZmlyc3ROYW1lLCBsYXN0TmFtZSwgZW1haWwsIHBob25lLCBwYXNzd29yZCwgY29udGVudF90eXBlX3NwZWNpYWx0eSwgcG9ydGZvbGlvX3VybH0gPSByZXEuYm9keTtcblxuICAgIC8vIENoZWNraW5nIGlmIHJlcXVpcmVkIGZpZWxkcyBhcmUgZW1wdHksIGlmIHllcyB0aGVuIHdlIHRocm93IGEgNDAwXG4gICAgaWYgKCFmaXJzdE5hbWUgfHwgIWxhc3ROYW1lIHx8ICFlbWFpbCB8fCAhcGhvbmUgfHwgIXBhc3N3b3JkIHx8ICFjb250ZW50X3R5cGVfc3BlY2lhbHR5KSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJSZXF1aXJlZCBmaWVsZHMgYXJlIG1pc3NpbmcuXCJ9KTtcbiAgICB9XG5cbiAgICAvLyBWYWxpZGF0ZSBmaXJzdCBuYW1lIGZvcm1hdFxuICAgIGlmICghaXNWYWxpZE5hbWUoZmlyc3ROYW1lKSkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiRmlyc3QgbmFtZSBtdXN0IGJlIDItMzAgY2hhcmFjdGVycyBhbmQgY29udGFpbiBvbmx5IGxldHRlcnMuXCJ9KTtcbiAgICB9XG5cbiAgICAvLyBWYWxpZGF0ZSBsYXN0IG5hbWUgZm9ybWF0XG4gICAgaWYgKCFpc1ZhbGlkTmFtZShsYXN0TmFtZSkpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttZXNzYWdlOiBcIkxhc3QgbmFtZSBtdXN0IGJlIDItMzAgY2hhcmFjdGVycyBhbmQgY29udGFpbiBvbmx5IGxldHRlcnMuXCJ9KTtcbiAgICB9XG5cbiAgICAvLyBWYWxpZGF0ZSBlbWFpbCBmb3JtYXRcbiAgICBpZiAoIWlzVmFsaWRFbWFpbChlbWFpbCkpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttZXNzYWdlOiBcIlBsZWFzZSBlbnRlciBhIHZhbGlkIGVtYWlsIGFkZHJlc3MuXCJ9KTtcbiAgICB9XG5cbiAgICAvLyBWYWxpZGF0ZSBwaG9uZSBmb3JtYXRcbiAgICBpZiAoIWlzVmFsaWRQaG9uZShwaG9uZSkpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttZXNzYWdlOiBcIlBsZWFzZSBlbnRlciBhIHZhbGlkIHBob25lIG51bWJlci5cIn0pO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRlIHBhc3N3b3JkIHN0cmVuZ3RoXG4gICAgY29uc3QgcGFzc3dvcmRWYWxpZGF0aW9uID0gaXNWYWxpZFBhc3N3b3JkKHBhc3N3b3JkKTtcbiAgICBpZiAoIXBhc3N3b3JkVmFsaWRhdGlvbi52YWxpZCkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IHBhc3N3b3JkVmFsaWRhdGlvbi5tZXNzYWdlfSk7XG4gICAgfVxuXG4gICAgLy8gVmFsaWRhdGUgY29udGVudCB0eXBlIHNwZWNpYWx0eSAtIG11c3QgYmUgZWl0aGVyICd2aWRlbycgb3IgJ2FydGljbGUnXG4gICAgaWYgKCFbJ3ZpZGVvJywgJ2FydGljbGUnXS5pbmNsdWRlcyhjb250ZW50X3R5cGVfc3BlY2lhbHR5KSkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiQ29udGVudCB0eXBlIHNwZWNpYWx0eSBtdXN0IGJlIGVpdGhlciAndmlkZW8nIG9yICdhcnRpY2xlJy5cIn0pO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRlIHBvcnRmb2xpbyBVUkwgbGVuZ3RoIGlmIHByb3ZpZGVkXG4gICAgaWYgKHBvcnRmb2xpb191cmwgJiYgcG9ydGZvbGlvX3VybC5sZW5ndGggPiAyNTUpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttZXNzYWdlOiBcIlBvcnRmb2xpbyBVUkwgY2Fubm90IGV4Y2VlZCAyNTUgY2hhcmFjdGVycy5cIn0pO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHBvb2wgPSBnZXRQb29sKCk7XG5cbiAgICAgICAgLy8gSGFzaGluZyB0aGUgcGFzc3dvcmQgYmVmb3JlIHN0b3JpbmdcbiAgICAgICAgY29uc3QgaGFzaGVkUGFzc3dvcmQgPSBhd2FpdCBiY3J5cHQuaGFzaChwYXNzd29yZCwgMTEpO1xuXG4gICAgICAgIC8vIEJ5IGRlZmF1bHQgbm8gcmF0ZSBhbmQgZnJlZWxhbmNlciB1bnZlcmlmaWVkIHVudGlsIGFkbWluIGFwcHJvdmVzIGFuZCBzZXRzIGEgcmF0ZS5cbiAgICAgICAgLy8gSW5zZXJ0aW5nIHRoZSBmcmVlbGFuY2VyIGludG8gdGhlIGRhdGFiYXNlIEZyZWVsYW5jZXIgdGFibGVcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcG9vbC5yZXF1ZXN0KClcbiAgICAgICAgICAgIC5pbnB1dChcImZpcnN0TmFtZVwiLCBzcWwuVmFyQ2hhciwgc2FuaXRpemVTdHJpbmcoZmlyc3ROYW1lKSlcbiAgICAgICAgICAgIC5pbnB1dChcImxhc3ROYW1lXCIsIHNxbC5WYXJDaGFyLCBzYW5pdGl6ZVN0cmluZyhsYXN0TmFtZSkpXG4gICAgICAgICAgICAuaW5wdXQoXCJlbWFpbFwiLCBzcWwuVmFyQ2hhciwgc2FuaXRpemVTdHJpbmcoZW1haWwpLnRvTG93ZXJDYXNlKCkpXG4gICAgICAgICAgICAuaW5wdXQoXCJwaG9uZVwiLCBzcWwuVmFyQ2hhciwgc2FuaXRpemVTdHJpbmcocGhvbmUpKVxuICAgICAgICAgICAgLmlucHV0KFwiaGFzaGVkUGFzc3dvcmRcIiwgc3FsLlZhckNoYXIsIGhhc2hlZFBhc3N3b3JkKVxuICAgICAgICAgICAgLmlucHV0KFwiY29udGVudFR5cGVTcGVjaWFsdHlcIiwgc3FsLlZhckNoYXIsIGNvbnRlbnRfdHlwZV9zcGVjaWFsdHkpXG4gICAgICAgICAgICAuaW5wdXQoXCJwb3J0Zm9saW9VcmxcIiwgc3FsLlZhckNoYXIsIHBvcnRmb2xpb191cmwgPyBzYW5pdGl6ZVN0cmluZyhwb3J0Zm9saW9fdXJsKSA6IG51bGwpXG4gICAgICAgICAgICAucXVlcnkoYFxuICAgICAgICAgICAgSU5TRVJUIElOVE8gRnJlZWxhbmNlciAoRmlyc3RfTmFtZSwgTGFzdF9OYW1lLCBFbWFpbCwgUGhvbmUsIFBhc3N3b3JkX0hhc2gsIENvbnRlbnRfVHlwZV9TcGVjaWFsdHksIFJhdGVfUGVyX0NvbnRlbnQsIFBheW1lbnRfQ3VycmVuY3ksIFBvcnRmb2xpb19VUkwsIGlzQWN0aXZlKVxuICAgICAgICAgICAgVkFMVUVTKEBmaXJzdE5hbWUsIEBsYXN0TmFtZSwgQGVtYWlsLCBAcGhvbmUsIEBoYXNoZWRQYXNzd29yZCwgQGNvbnRlbnRUeXBlU3BlY2lhbHR5LCAwLjAwLCAnVVNEJywgQHBvcnRmb2xpb1VybCwgMClcbiAgICAgICAgICAgIGApO1xuXG4gICAgICAgIC8vIFNlbmRpbmcgc3VjY2VzcyBtZXNzYWdlXG4gICAgICAgIHJlcy5zdGF0dXMoMjAxKS5qc29uKHttZXNzYWdlOiBcIkZyZWVsYW5jZXIgcmVnaXN0ZXJlZCBzdWNjZXNzZnVsbHkhIFBsZWFzZSB3YWl0IGZvciBhZG1pbiBhcHByb3ZhbC5cIn0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIC8vIEhhbmRsaW5nIHRoZSB1bmlxdWUgY29uc3RyYWludHMgZm9yIGVtYWlsIGFuZCBwaG9uZSBudW1iZXJzXG4gICAgICAgIC8vIDI2MjcgaXMgZm9yIHZpb2xhdGlvbiBvZiB0aGUgdW5pcXVlIGtleSBjb25zdHJhaW50LCBhbmQgMjYwMSBpcyBmb3IgdW5pcXVlIGluZGV4IHZpb2xhdGlvblxuICAgICAgICBpZiAoZXJyb3IubnVtYmVyID09PSAyNjI3IHx8IGVycm9yLm51bWJlciA9PT0gMjYwMSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA5KS5qc29uKHttZXNzYWdlOiBcIkFub3RoZXIgYWNjb3VudCBleGlzdHMgYWxyZWFkeSBlaXRoZXIgd2l0aCB0aGlzIGVtYWlsIGFkZHJlc3Mgb3IgcGhvbmUgbnVtYmVyLiBJZiB5b3UgaGF2ZSBhbm90aGVyIGFjY291bnQsIHBsZWFzZSB1c2UgdGhhdCBvbmUgaW5zdGVhZC5cIn0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVGhyb3dpbmcgdGhlIGNvbnNvbGUgZXJyb3IgYW5kIDUwMCBzdGF0dXMgaW4gY2FzZSBzb21ldGhpbmcgZ29lcyB3cm9uZ1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiVW5leHBlY3RlZCBlcnJvciByZWdpc3RlcmluZyBhIG5ldyBmcmVlbGFuY2VyJ3MgYWNjb3VudDogXCIsIGVycm9yKTtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe21lc3NhZ2U6IFwiQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZCB3aGlsZSByZWdpc3RlcmluZyB0aGUgZnJlZWxhbmNlci5cIn0pO1xuICAgIH1cbn0pO1xuXG4vLyBIYW5kbGluZyB0aGUgbG9nZ2luZyBpbiBmdW5jdGlvbmFsaXR5IGZvciBmcmVlbGFuY2Vyc1xuY29uc3QgbG9naW5GcmVlbGFuY2VyID0gYXN5bmNIYW5kbGVyKGFzeW5jIChyZXEscmVzKSA9PiB7XG4gICAgLy8gR2V0dGluZyB0aGUgZW1haWwgYW5kIHBhc3N3b3JkIHRoYXQgdGhlIGZyZWVsYW5jZXIgaXMgdHJ5aW5nIHRvIGxvZ2luIHdpdGhcbiAgICBjb25zdCB7ZW1haWwsIHBhc3N3b3JkfSA9IHJlcS5ib2R5O1xuXG4gICAgLy8gSW5wdXQgdmFsaWRhdGlvbiwgaWYgZWl0aGVyIGVtcHR5IHRoZW4gc2VuZCA0MDAgZXJyb3JcbiAgICBpZiAoIWVtYWlsIHx8ICFwYXNzd29yZCkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiWW91IGhhdmUgdG8gZW50ZXIgYm90aCB5b3VyIGVtYWlsIGFuZCB5b3VyIHBhc3N3b3JkXCJ9KTtcbiAgICB9XG5cbiAgICAvLyBWYWxpZGF0ZSBlbWFpbCBmb3JtYXRcbiAgICBpZiAoIWlzVmFsaWRFbWFpbChlbWFpbCkpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttZXNzYWdlOiBcIlBsZWFzZSBlbnRlciBhIHZhbGlkIGVtYWlsIGFkZHJlc3MuXCJ9KTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgICBjb25zdCBwb29sID0gZ2V0UG9vbCgpO1xuXG4gICAgICAgIC8vIFNlYXJjaGluZyBpbiB0aGUgZGF0YWJhc2UgZm9yIGEgZnJlZWxhbmNlciB3aXRoIHRoZSBzYW1lIGVtYWlsIHBhc3NlZCB0byBjaGVjayBpZiBleGlzdHNcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcG9vbC5yZXF1ZXN0KClcbiAgICAgICAgICAgIC5pbnB1dChcImVtYWlsXCIsIHNxbC5WYXJDaGFyLCBzYW5pdGl6ZVN0cmluZyhlbWFpbCkudG9Mb3dlckNhc2UoKSlcbiAgICAgICAgICAgIC5xdWVyeShgXG4gICAgICAgICAgICAgICAgU0VMRUNUIEZyZWVsYW5jZXJfSUQsIEZpcnN0X05hbWUsIExhc3RfTmFtZSwgRW1haWwsIFBhc3N3b3JkX0hhc2gsIGlzQWN0aXZlXG4gICAgICAgICAgICAgICAgRlJPTSBGcmVlbGFuY2VyXG4gICAgICAgICAgICAgICAgV0hFUkUgRW1haWwgPSBAZW1haWxcbiAgICAgICAgICAgICAgICBgKTtcblxuICAgICAgICAvLyBJZiBubyByZXN1bHRzIHJldHVybmVkIGZyb20gdGhlIHF1ZXJ5LCB0aGVuIHRoZSBlbWFpbCBlbnRlcmVkIGlzIGludmFsaWRcbiAgICAgICAgaWYgKHJlc3VsdC5yZWNvcmRzZXQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oe21lc3NhZ2U6IFwiSW52YWxpZCBlbWFpbCBhZGRyZXNzIG9yIHBhc3N3b3JkLlwifSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBOb3cgd2UgYXJlIGdldHRpbmcgdGhlIGZpcnN0IGZyZWVsYW5jZXIgdGhhdCB3ZSBnb3QgaGF2aW5nIHRoZSBzYW1lIGVtYWlsIGFkZHJlc3NcbiAgICAgICAgY29uc3QgZnJlZWxhbmNlciA9IHJlc3VsdC5yZWNvcmRzZXRbMF07XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGZyZWVsYW5jZXIgYWNjb3VudCBpcyBhY3RpdmUgKGFwcHJvdmVkIGJ5IGFkbWluKVxuICAgICAgICBpZiAoIWZyZWVsYW5jZXIuaXNBY3RpdmUpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMykuanNvbih7bWVzc2FnZTogXCJZb3VyIGFjY291bnQgaXMgbm90IGFjdGl2YXRlZCB5ZXQuIFBsZWFzZSB3YWl0IHRpbGwgeW91IHJlY2VpdmUgdGhlIGFwcHJvdmFsL2RlbmlhbCBlbWFpbCB0byBrbm93IGlmIHlvdSBjYW4gc3RhcnQgd29ya2luZyB3aXRoIHVzLlwifSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBVc2luZyBiY3J5cHQgdG8gY2hlY2sgaWYgdGhlIHBhc3N3b3JkIHBhc3NlZCBpcyB0aGUgc2FtZSBhcyB0aGUgaGFzaGVkIG9uZSBzdG9yZWQgaW4gdGhlIGRhdGFiYXNlXG4gICAgICAgIC8vIElmIG5vLCB0aHJvdyBhIDQwMSBlcnJvclxuICAgICAgICBjb25zdCBpc1Bhc3N3b3JkVmFsaWQgPSBhd2FpdCBiY3J5cHQuY29tcGFyZShwYXNzd29yZCwgZnJlZWxhbmNlci5QYXNzd29yZF9IYXNoKTtcbiAgICAgICAgaWYgKCFpc1Bhc3N3b3JkVmFsaWQpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7bWVzc2FnZTogXCJJbnZhbGlkIGVtYWlsIGFkZHJlc3Mgb3IgcGFzc3dvcmQuXCJ9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIHRoZSBwYXNzd29yZCBtYXRjaGVzLCB0aGVuIGNyZWF0ZSBhIGZyZWVsYW5jZXIgdG9rZW4gdXNpbmcgand0IGJ5IHNpZ25pbmcgaXQgd2l0aCB0aGUgRlJFRUxBTkNFUl9BQ0NFU1NfVE9LRU5cbiAgICAgICAgLy8gc3RvcmVkIGluIHRoZSAuZW52IGZpbGUuIFRoZSB0b2tlbiBleHBpcmVzIGluIDEgZGF5LlxuICAgICAgICBjb25zdCBmcmVlbGFuY2VyVG9rZW4gPSBqd3Quc2lnbih7XG4gICAgICAgICAgICBpZDogZnJlZWxhbmNlci5GcmVlbGFuY2VyX0lELFxuICAgICAgICAgICAgZmlyc3ROYW1lOiBmcmVlbGFuY2VyLkZpcnN0X05hbWUsXG4gICAgICAgICAgICBsYXN0TmFtZTogZnJlZWxhbmNlci5MYXN0X05hbWUsXG4gICAgICAgICAgICBlbWFpbDogZnJlZWxhbmNlci5FbWFpbFxuICAgICAgICB9LFxuICAgICAgICAgICAgcHJvY2Vzcy5lbnYuRlJFRUxBTkNFUl9BQ0NFU1NfVE9LRU4sXG4gICAgICAgICAgICB7ZXhwaXJlc0luOiBcIjFkXCJ9XG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gSWYgYSBjb29raWUgZXhpc3RzIGFscmVhZHkgZm9yIHRoZSBmcmVlbGFuY2VyLCBjbGVhciBpdFxuICAgICAgICBpZiAocmVxLmNvb2tpZXMuZnJlZWxhbmNlcl9hY2Nlc3NfdG9rZW4pIHtcbiAgICAgICAgICAgIHJlcy5jbGVhckNvb2tpZSgnZnJlZWxhbmNlcl9hY2Nlc3NfdG9rZW4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFN0b3JlIHRoZSBuZXcgY29va2llIHN1Y2ggdGhhdCBpdCBsYXN0cyAxIGRheSwgYW5kIHRocm93IGEgMjAwIHN1Y2Nlc3MgbWVzc2FnZSB3aXRoIHNvbWUgZGF0YSBhYm91dCB0aGUgZnJlZWxhbmNlclxuICAgICAgICAvLyAoaWQsIGZpcnN0TmFtZSwgbGFzdE5hbWUsIGVtYWlsKVxuICAgICAgICByZXMuY29va2llKCdmcmVlbGFuY2VyX2FjY2Vzc190b2tlbicsIGZyZWVsYW5jZXJUb2tlbiwgXG4gICAgICAgICAgICB7aHR0cE9ubHk6IHRydWUsIFxuICAgICAgICAgICAgc2VjdXJlOiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCIsXG4gICAgICAgICAgICBzYW1lU2l0ZTogJ3N0cmljdCcsXG4gICAgICAgICAgICBtYXhBZ2U6IDI0ICogNjAgKiA2MCAqIDEwMDB9KTtcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgbWVzc2FnZTogXCJTdWNjZXNzZnVsbHkgbG9nZ2VkIGluLlwiLFxuICAgICAgICAgICAgZnJlZWxhbmNlcjoge1xuICAgICAgICAgICAgICAgIGlkOiBmcmVlbGFuY2VyLkZyZWVsYW5jZXJfSUQsXG4gICAgICAgICAgICAgICAgZmlyc3ROYW1lOiBmcmVlbGFuY2VyLkZpcnN0X05hbWUsXG4gICAgICAgICAgICAgICAgbGFzdE5hbWU6IGZyZWVsYW5jZXIuTGFzdF9OYW1lLFxuICAgICAgICAgICAgICAgIGVtYWlsOiBmcmVlbGFuY2VyLkVtYWlsXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG5cbiAgICAgICAgLy8gSWYgYW55dGhpbmcgZ29lcyB3cm9uZywgdGhyb3cgYW4gZXJyb3JcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiTG9naW4gZXJyb3I6XCIsIGVycm9yKTtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe21lc3NhZ2U6IFwiQW4gZXJyb3Igb2NjdXJyZWQgZHVyaW5nIGxvZ2luLlwifSk7XG4gICAgfVxufSk7XG5cbi8vIExvZ2dpbmcgb3V0IGZ1bmN0aW9uYWxpdHkgYnkgY2xlYXJpbmcgdGhlIGZyZWVsYW5jZXIncyBjb29raWUgYW5kIHNlbmRpbmcgYSBzdWNjZXNzIG1lc3NhZ2VcbmNvbnN0IGxvZ291dEZyZWVsYW5jZXIgPSBhc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgcmVzLmNsZWFyQ29va2llKCdmcmVlbGFuY2VyX2FjY2Vzc190b2tlbicpO1xuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHttZXNzYWdlOiBcIlN1Y2Nlc3NmdWxseSBsb2dnZWQgb3V0LlwifSk7XG59KVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtyZWdpc3RlckZyZWVsYW5jZXIsIGxvZ2luRnJlZWxhbmNlciwgbG9nb3V0RnJlZWxhbmNlcn07Il0sIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsSUFBTUEsWUFBWSxHQUFHQyxPQUFPLENBQUMsdUJBQXVCLENBQUM7QUFDckQsSUFBTUMsTUFBTSxHQUFHRCxPQUFPLENBQUMsUUFBUSxDQUFDO0FBQ2hDLElBQU1FLEdBQUcsR0FBR0YsT0FBTyxDQUFDLGNBQWMsQ0FBQzs7QUFFbkM7QUFDQTtBQUNBLElBQUFHLFFBQUEsR0FBeUJILE9BQU8sQ0FBQyxvQkFBb0IsQ0FBQztFQUE5Q0ksT0FBTyxHQUFBRCxRQUFBLENBQVBDLE9BQU87RUFBRUMsR0FBRyxHQUFBRixR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","map":{"version":3,"names":["asyncHandler","require","bcrypt","jwt","_require","getPool","sql","_require2","isValidEmail","isValidPhone","isValidPassword","isValidName","sanitizeString","registerFreelancer","_ref","_asyncToGenerator2","_regenerator","mark","_callee","req","res","_req$body","firstName","lastName","email","phone","password","content_type_specialty","portfolio_url","passwordValidation","pool","hashedPassword","result","_t","wrap","_context","prev","next","body","abrupt","status","json","message","valid","includes","length","hash","sent","request","input","VarChar","toLowerCase","query","number","console","error","stop","_x","_x2","apply","arguments","loginFreelancer","_ref2","_callee2","_req$body2","freelancer","isPasswordValid","freelancerToken","_t2","_context2","recordset","isActive","compare","Password_Hash","sign","id","Freelancer_ID","First_Name","Last_Name","Email","process","env","FREELANCER_ACCESS_TOKEN","expiresIn","cookies","freelancer_access_token","clearCookie","cookie","httpOnly","secure","NODE_ENV","sameSite","maxAge","_x3","_x4","logoutFreelancer","_ref3","_callee3","_context3","_x5","_x6","module","exports"],"sourceRoot":"/workspaces/FixAppliance-eCommerce/back-end/src/controllers/","sources":["FreelancerController.js"],"sourcesContent":["/**\n * This controller provides the following functionalities for a freelancer: registering, logging in, and logging out.\n * \n * For storing the password, bcrypt is used to hash and jwt (jsonwebtoken) is used to sign a token and store it as cookie.\n * \n * Freelancers create DIY content (videos/articles) for appliance repairs and are paid per content.\n * New freelancers start with isActive = 0 and Rate_Per_Content = 0, requiring admin approval.\n */\n\nconst asyncHandler = require(\"express-async-handler\");\nconst bcrypt = require(\"bcrypt\");\nconst jwt = require(\"jsonwebtoken\");\n\n// sql needed for the type definitions in .input\n// getPool is to do queries\nconst { getPool, sql } = require(\"../config/database\");\n\n// Import validation utilities\nconst { isValidEmail, isValidPhone, isValidPassword, isValidName, sanitizeString } = require(\"../utils/validators\");\n\n\n// Handles the freelancer registering functionality\nconst registerFreelancer = asyncHandler(async (req, res) => {\n    // Getting the needed data from the request body\n    const { firstName, lastName, email, phone, password, content_type_specialty, portfolio_url} = req.body;\n\n    // Checking if required fields are empty, if yes then we throw a 400\n    if (!firstName || !lastName || !email || !phone || !password || !content_type_specialty) {\n        return res.status(400).json({message: \"Required fields are missing.\"});\n    }\n\n    // Validate first name format\n    if (!isValidName(firstName)) {\n        return res.status(400).json({message: \"First name must be 2-30 characters and contain only letters.\"});\n    }\n\n    // Validate last name format\n    if (!isValidName(lastName)) {\n        return res.status(400).json({message: \"Last name must be 2-30 characters and contain only letters.\"});\n    }\n\n    // Validate email format\n    if (!isValidEmail(email)) {\n        return res.status(400).json({message: \"Please enter a valid email address.\"});\n    }\n\n    // Validate phone format\n    if (!isValidPhone(phone)) {\n        return res.status(400).json({message: \"Please enter a valid phone number.\"});\n    }\n\n    // Validate password strength\n    const passwordValidation = isValidPassword(password);\n    if (!passwordValidation.valid) {\n        return res.status(400).json({message: passwordValidation.message});\n    }\n\n    // Validate content type specialty - must be either 'video' or 'article'\n    if (!['video', 'article'].includes(content_type_specialty)) {\n        return res.status(400).json({message: \"Content type specialty must be either 'video' or 'article'.\"});\n    }\n\n    // Validate portfolio URL length if provided\n    if (portfolio_url && portfolio_url.length > 255) {\n        return res.status(400).json({message: \"Portfolio URL cannot exceed 255 characters.\"});\n    }\n\n    try {\n        const pool = getPool();\n\n        // Hashing the password before storing\n        const hashedPassword = await bcrypt.hash(password, 11);\n\n        // By default no rate and freelancer unverified until admin approves and sets a rate.\n        // Inserting the freelancer into the database Freelancer table\n        const result = await pool.request()\n            .input(\"firstName\", sql.VarChar, sanitizeString(firstName))\n            .input(\"lastName\", sql.VarChar, sanitizeString(lastName))\n            .input(\"email\", sql.VarChar, sanitizeString(email).toLowerCase())\n            .input(\"phone\", sql.VarChar, sanitizeString(phone))\n            .input(\"hashedPassword\", sql.VarChar, hashedPassword)\n            .input(\"contentTypeSpecialty\", sql.VarChar, content_type_specialty)\n            .input(\"portfolioUrl\", sql.VarChar, portfolio_url ? sanitizeString(portfolio_url) : null)\n            .query(`\n            INSERT INTO Freelancer (First_Name, Last_Name, Email, Phone, Password_Hash, Content_Type_Specialty, Rate_Per_Content, Payment_Currency, Portfolio_URL, isActive)\n            VALUES(@firstName, @lastName, @email, @phone, @hashedPassword, @contentTypeSpecialty, 0.00, 'USD', @portfolioUrl, 0)\n            `);\n\n        // Sending success message\n        res.status(201).json({message: \"Freelancer registered successfully! Please wait for admin approval.\"});\n    } catch (error) {\n        // Handling the unique constraints for email and phone numbers\n        // 2627 is for violation of the unique key constraint, and 2601 is for unique index violation\n        if (error.number === 2627 || error.number === 2601) {\n            return res.status(409).json({message: \"Another account exists already either with this email address or phone number. If you have another account, please use that one instead.\"});\n        }\n\n        // Throwing the console error and 500 status in case something goes wrong\n        console.error(\"Unexpected error registering a new freelancer's account: \", error);\n        res.status(500).json({message: \"An unexpected error occurred while registering the freelancer.\"});\n    }\n});\n\n// Handling the logging in functionality for freelancers\nconst loginFreelancer = asyncHandler(async (req,res) => {\n    // Getting the email and password that the freelancer is trying to login with\n    const {email, password} = req.body;\n\n    // Input validation, if either empty then send 400 error\n    if (!email || !password) {\n        return res.status(400).json({message: \"You have to enter both your email and your password\"});\n    }\n\n    // Validate email format\n    if (!isValidEmail(email)) {\n        return res.status(400).json({message: \"Please enter a valid email address.\"});\n    }\n\n    try {\n        const pool = getPool();\n\n        // Searching in the database for a freelancer with the same email passed to check if exists\n        const result = await pool.request()\n            .input(\"email\", sql.VarChar, sanitizeString(email).toLowerCase())\n            .query(`\n                SELECT Freelancer_ID, First_Name, Last_Name, Email, Password_Hash, isActive\n                FROM Freelancer\n                WHERE Email = @email\n                `);\n\n        // If no results returned from the query, then the email entered is invalid\n        if (result.recordset.length === 0) {\n            return res.status(401).json({message: \"Invalid email address or password.\"});\n        }\n\n        // Now we are getting the first freelancer that we got having the same email address\n        const freelancer = result.recordset[0];\n\n        // Check if the freelancer account is active (approved by admin)\n        if (!freelancer.isActive) {\n            return res.status(403).json({message: \"Your account is not activated yet. Please wait till you receive the approval/denial email to know if you can start working with us.\"});\n        }\n\n        // Using bcrypt to check if the password passed is the same as the hashed one stored in the database\n        // If no, throw a 401 error\n        const isPasswordValid = await bcrypt.compare(password, freelancer.Password_Hash);\n        if (!isPasswordValid) {\n            return res.status(401).json({message: \"Invalid email address or password.\"});\n        }\n\n        // If the password matches, then create a freelancer token using jwt by signing it with the FREELANCER_ACCESS_TOKEN\n        // stored in the .env file. The token expires in 1 day.\n        const freelancerToken = jwt.sign({\n            id: freelancer.Freelancer_ID,\n            firstName: freelancer.First_Name,\n            lastName: freelancer.Last_Name,\n            email: freelancer.Email\n        },\n            process.env.FREELANCER_ACCESS_TOKEN,\n            {expiresIn: \"1d\"}\n        );\n\n        // If a cookie exists already for the freelancer, clear it\n        if (req.cookies.freelancer_access_token) {\n            res.clearCookie('freelancer_access_token');\n        }\n\n        // Store the new cookie such that it lasts 1 day, and throw a 200 success message with some data about the freelancer\n        // (id, firstName, lastName, email)\n        res.cookie('freelancer_access_token', freelancerToken, \n            {httpOnly: true, \n            secure: process.env.NODE_ENV === \"production\",\n            sameSite: 'strict',\n            maxAge: 24 * 60 * 60 * 1000});\n        res.status(200).json({\n            message: \"Successfully logged in.\",\n            freelancer: {\n                id: freelancer.Freelancer_ID,\n                firstName: freelancer.First_Name,\n                lastName: freelancer.Last_Name,\n                email: freelancer.Email\n            }\n        })\n\n        // If anything goes wrong, throw an error\n    } catch (error) {\n        console.error(\"Login error:\", error);\n        res.status(500).json({message: \"An error occurred during login.\"});\n    }\n});\n\n// Logging out functionality by clearing the freelancer's cookie and sending a success message\nconst logoutFreelancer = asyncHandler(async (req, res) => {\n    res.clearCookie('freelancer_access_token');\n    res.status(200).json({message: \"Successfully logged out.\"});\n})\n\nmodule.exports = {registerFreelancer, loginFreelancer, logoutFreelancer};"],"mappings":"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","ignoreList":[]}},"mtime":1764435289429},"{\"assumptions\":{},\"sourceRoot\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end\",\"filename\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/server.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"_exploded\":true,\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"VoidPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$48\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$49\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"\"use strict\";\n\nvar _process$env$ALLOWED_;\n// Importing the needed libraries\nvar express = require(\"express\");\nvar dotenv = require(\"dotenv\").config();\n//const asyncHandler = require(\"express-async-handler\");\nvar cors = require(\"cors\");\nvar cookieParser = require(\"cookie-parser\");\nvar _require = require(\"./config/database\"),\n  connectDB = _require.connectDB;\n\n// Setting up the express app and its port to use\nvar app = express();\nvar port = process.env.PORT || 5000;\n\n// CORS configuration - restrict origins in production\nvar corsOptions = {\n  origin: process.env.NODE_ENV === \"production\" ? ((_process$env$ALLOWED_ = process.env.ALLOWED_ORIGINS) === null || _process$env$ALLOWED_ === void 0 ? void 0 : _process$env$ALLOWED_.split(',')) || ['https://yourdomain.com'] // Should replace with actual domain in .env\n  : ['http://localhost:8080', 'http://localhost:3000', 'http://localhost:5173', 'http://127.0.0.1:8080'],\n  // Development origins\n  credentials: true,\n  // Required for cookies to work cross-origin\n  methods: ['GET', 'POST', 'PUT', 'DELETE', 'PATCH'],\n  allowedHeaders: ['Content-Type', 'Authorization']\n};\n\n// Applying the middlewares for json, cookie, public files, cors, url embedding\napp.use(express.json({\n  limit: '10kb'\n})); // Limit body size to prevent large payload attacks\napp.use(cookieParser());\napp.use(express[\"static\"](\"public\"));\napp.use(cors(corsOptions));\napp.use(express.urlencoded({\n  extended: false,\n  limit: '10kb'\n}));\n\n// Setting the 3 main routes: user, technician and freelancer\napp.use(\"/api/user\", require(\"./routes/userRoutes\"));\napp.use(\"/api/technician\", require(\"./routes/technicianRoutes\"));\napp.use(\"/api/freelancer\", require(\"./routes/freelancerRoutes\"));\napp.use('/api/appliances', require('./routes/applianceRoutes'));\napp.use('/api/service-areas', require('./routes/serviceAreaRoutes'));\napp.use('/api/contact', require('./routes/contactRoutes'));\n\n// 404 handling\napp.use(function (req, res) {\n  res.status(404).json({\n    message: \"Route not found\"\n  });\n});\n\n//Error handling\napp.use(function (err, req, res, next) {\n  console.log(err.stack);\n  res.status(err.status || 500).json({\n    message: err.message || \"Internal server error.\"\n  });\n});\nconnectDB().then(function () {\n  console.log(\"Connected to the database.\");\n  app.listen(port, function () {\n    console.log(\"Server is running on port \".concat(port));\n  });\n})[\"catch\"](function (error) {\n  console.log(\"Failed to connect to the database: \", error);\n  process.exit(1);\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsImRvdGVudiIsImNvbmZpZyIsImNvcnMiLCJjb29raWVQYXJzZXIiLCJfcmVxdWlyZSIsImNvbm5lY3REQiIsImFwcCIsInBvcnQiLCJwcm9jZXNzIiwiZW52IiwiUE9SVCIsImNvcnNPcHRpb25zIiwib3JpZ2luIiwiTk9ERV9FTlYiLCJfcHJvY2VzcyRlbnYkQUxMT1dFRF8iLCJBTExPV0VEX09SSUdJTlMiLCJzcGxpdCIsImNyZWRlbnRpYWxzIiwibWV0aG9kcyIsImFsbG93ZWRIZWFkZXJzIiwidXNlIiwianNvbiIsImxpbWl0IiwidXJsZW5jb2RlZCIsImV4dGVuZGVkIiwicmVxIiwicmVzIiwic3RhdHVzIiwibWVzc2FnZSIsImVyciIsIm5leHQiLCJjb25zb2xlIiwibG9nIiwic3RhY2siLCJ0aGVuIiwibGlzdGVuIiwiY29uY2F0IiwiZXJyb3IiLCJleGl0Il0sInNvdXJjZVJvb3QiOiIvaG9tZS9zZXJqL0RvY3VtZW50cy9HaXRIdWIvRml4QXBwbGlhbmNlLWJvb2tpbmdDb21tZXJjZS9iYWNrLWVuZC9zcmMvIiwic291cmNlcyI6WyJzZXJ2ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gSW1wb3J0aW5nIHRoZSBuZWVkZWQgbGlicmFyaWVzXG5jb25zdCBleHByZXNzID0gcmVxdWlyZShcImV4cHJlc3NcIik7XG5jb25zdCBkb3RlbnYgPSByZXF1aXJlKFwiZG90ZW52XCIpLmNvbmZpZygpO1xuLy9jb25zdCBhc3luY0hhbmRsZXIgPSByZXF1aXJlKFwiZXhwcmVzcy1hc3luYy1oYW5kbGVyXCIpO1xuY29uc3QgY29ycyA9IHJlcXVpcmUoXCJjb3JzXCIpO1xuY29uc3QgY29va2llUGFyc2VyID0gcmVxdWlyZShcImNvb2tpZS1wYXJzZXJcIik7XG5jb25zdCB7IGNvbm5lY3REQiB9ID0gcmVxdWlyZShcIi4vY29uZmlnL2RhdGFiYXNlXCIpO1xuXG5cbi8vIFNldHRpbmcgdXAgdGhlIGV4cHJlc3MgYXBwIGFuZCBpdHMgcG9ydCB0byB1c2VcbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcbmNvbnN0IHBvcnQgPSBwcm9jZXNzLmVudi5QT1JUIHx8IDUwMDA7XG5cbi8vIENPUlMgY29uZmlndXJhdGlvbiAtIHJlc3RyaWN0IG9yaWdpbnMgaW4gcHJvZHVjdGlvblxuY29uc3QgY29yc09wdGlvbnMgPSB7XG4gICAgb3JpZ2luOiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCIgXG4gICAgICAgID8gcHJvY2Vzcy5lbnYuQUxMT1dFRF9PUklHSU5TPy5zcGxpdCgnLCcpIHx8IFsnaHR0cHM6Ly95b3VyZG9tYWluLmNvbSddICAvLyBTaG91bGQgcmVwbGFjZSB3aXRoIGFjdHVhbCBkb21haW4gaW4gLmVudlxuICAgICAgICA6IFsnaHR0cDovL2xvY2FsaG9zdDo4MDgwJywgJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMCcsICdodHRwOi8vbG9jYWxob3N0OjUxNzMnLCAnaHR0cDovLzEyNy4wLjAuMTo4MDgwJ10sIC8vIERldmVsb3BtZW50IG9yaWdpbnNcbiAgICBjcmVkZW50aWFsczogdHJ1ZSwgIC8vIFJlcXVpcmVkIGZvciBjb29raWVzIHRvIHdvcmsgY3Jvc3Mtb3JpZ2luXG4gICAgbWV0aG9kczogWydHRVQnLCAnUE9TVCcsICdQVVQnLCAnREVMRVRFJywgJ1BBVENIJ10sXG4gICAgYWxsb3dlZEhlYWRlcnM6IFsnQ29udGVudC1UeXBlJywgJ0F1dGhvcml6YXRpb24nXVxufTtcblxuLy8gQXBwbHlpbmcgdGhlIG1pZGRsZXdhcmVzIGZvciBqc29uLCBjb29raWUsIHB1YmxpYyBmaWxlcywgY29ycywgdXJsIGVtYmVkZGluZ1xuYXBwLnVzZShleHByZXNzLmpzb24oeyBsaW1pdDogJzEwa2InIH0pKTsgIC8vIExpbWl0IGJvZHkgc2l6ZSB0byBwcmV2ZW50IGxhcmdlIHBheWxvYWQgYXR0YWNrc1xuYXBwLnVzZShjb29raWVQYXJzZXIoKSk7XG5hcHAudXNlKGV4cHJlc3Muc3RhdGljKFwicHVibGljXCIpKTtcbmFwcC51c2UoY29ycyhjb3JzT3B0aW9ucykpO1xuYXBwLnVzZShleHByZXNzLnVybGVuY29kZWQoe2V4dGVuZGVkOiBmYWxzZSwgbGltaXQ6ICcxMGtiJ30pKTtcblxuLy8gU2V0dGluZyB0aGUgMyBtYWluIHJvdXRlczogdXNlciwgdGVjaG5pY2lhbiBhbmQgZnJlZWxhbmNlclxuYXBwLnVzZShcIi9hcGkvdXNlclwiLCByZXF1aXJlKFwiLi9yb3V0ZXMvdXNlclJvdXRlc1wiKSk7XG5hcHAudXNlKFwiL2FwaS90ZWNobmljaWFuXCIsIHJlcXVpcmUoXCIuL3JvdXRlcy90ZWNobmljaWFuUm91dGVzXCIpKTtcbmFwcC51c2UoXCIvYXBpL2ZyZWVsYW5jZXJcIiwgcmVxdWlyZShcIi4vcm91dGVzL2ZyZWVsYW5jZXJSb3V0ZXNcIikpO1xuXG5hcHAudXNlKCcvYXBpL2FwcGxpYW5jZXMnLCByZXF1aXJlKCcuL3JvdXRlcy9hcHBsaWFuY2VSb3V0ZXMnKSk7XG5hcHAudXNlKCcvYXBpL3NlcnZpY2UtYXJlYXMnLCByZXF1aXJlKCcuL3JvdXRlcy9zZXJ2aWNlQXJlYVJvdXRlcycpKTtcblxuYXBwLnVzZSgnL2FwaS9jb250YWN0JywgcmVxdWlyZSgnLi9yb3V0ZXMvY29udGFjdFJvdXRlcycpKTtcblxuLy8gNDA0IGhhbmRsaW5nXG5hcHAudXNlKChyZXEsIHJlcykgPT4ge1xuICAgIHJlcy5zdGF0dXMoNDA0KS5qc29uKHttZXNzYWdlOiBcIlJvdXRlIG5vdCBmb3VuZFwifSk7XG59KVxuXG4vL0Vycm9yIGhhbmRsaW5nXG5hcHAudXNlKChlcnIsIHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgY29uc29sZS5sb2coZXJyLnN0YWNrKTtcbiAgICByZXMuc3RhdHVzKGVyci5zdGF0dXMgfHwgNTAwKS5qc29uKHtcbiAgICAgICAgbWVzc2FnZTogZXJyLm1lc3NhZ2UgfHwgXCJJbnRlcm5hbCBzZXJ2ZXIgZXJyb3IuXCJcbiAgICB9KTtcbn0pO1xuXG5jb25uZWN0REIoKVxuICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coXCJDb25uZWN0ZWQgdG8gdGhlIGRhdGFiYXNlLlwiKTtcbiAgICAgICAgXG4gICAgICAgIGFwcC5saXN0ZW4ocG9ydCwgKCkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coYFNlcnZlciBpcyBydW5uaW5nIG9uIHBvcnQgJHtwb3J0fWApO1xuICAgICAgICB9KTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coXCJGYWlsZWQgdG8gY29ubmVjdCB0byB0aGUgZGF0YWJhc2U6IFwiLCBlcnJvcik7XG4gICAgICAgIHByb2Nlc3MuZXhpdCgxKTtcbiAgICB9KTtcbiJdLCJtYXBwaW5ncyI6Ijs7O0FBQUE7QUFDQSxJQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFTLENBQUM7QUFDbEMsSUFBTUMsTUFBTSxHQUFHRCxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUNFLE1BQU0sQ0FBQyxDQUFDO0FBQ3pDO0FBQ0EsSUFBTUMsSUFBSSxHQUFHSCxPQUFPLENBQUMsTUFBTSxDQUFDO0FBQzVCLElBQU1JLFlBQVksR0FBR0osT0FBTyxDQUFDLGVBQWUsQ0FBQztBQUM3QyxJQUFBSyxRQUFBLEdBQXNCTCxPQUFPLENBQUMsbUJBQW1CLENBQUM7RUFBMUNNLFNBQVMsR0FBQUQsUUFBQSxDQUFUQyxTQUFTOztBQUdqQjtBQUNBLElBQU1DLEdBQUcsR0FBR1IsT0FBTyxDQUFDLENBQUM7QUFDckIsSUFBTVMsSUFBSSxHQUFHQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0MsSUFBSSxJQUFJLElBQUk7O0FBRXJDO0FBQ0EsSUFBTUMsV0FBVyxHQUFHO0VBQ2hCQyxNQUFNLEVBQUVKLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDSSxRQUFRLEtBQUssWUFBWSxHQUN2QyxFQUFBQyxxQkFBQSxHQUFBTixPQUFPLENBQUNDLEdBQUcsQ0FBQ00sZUFBZSxjQUFBRCxxQkFBQSx1QkFBM0JBLHFCQUFBLENBQTZCRSxL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","map":{"version":3,"names":["express","require","dotenv","config","cors","cookieParser","_require","connectDB","app","port","process","env","PORT","corsOptions","origin","NODE_ENV","_process$env$ALLOWED_","ALLOWED_ORIGINS","split","credentials","methods","allowedHeaders","use","json","limit","urlencoded","extended","req","res","status","message","err","next","console","log","stack","then","listen","concat","error","exit"],"sourceRoot":"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/","sources":["server.js"],"sourcesContent":["// Importing the needed libraries\nconst express = require(\"express\");\nconst dotenv = require(\"dotenv\").config();\n//const asyncHandler = require(\"express-async-handler\");\nconst cors = require(\"cors\");\nconst cookieParser = require(\"cookie-parser\");\nconst { connectDB } = require(\"./config/database\");\n\n\n// Setting up the express app and its port to use\nconst app = express();\nconst port = process.env.PORT || 5000;\n\n// CORS configuration - restrict origins in production\nconst corsOptions = {\n    origin: process.env.NODE_ENV === \"production\" \n        ? process.env.ALLOWED_ORIGINS?.split(',') || ['https://yourdomain.com']  // Should replace with actual domain in .env\n        : ['http://localhost:8080', 'http://localhost:3000', 'http://localhost:5173', 'http://127.0.0.1:8080'], // Development origins\n    credentials: true,  // Required for cookies to work cross-origin\n    methods: ['GET', 'POST', 'PUT', 'DELETE', 'PATCH'],\n    allowedHeaders: ['Content-Type', 'Authorization']\n};\n\n// Applying the middlewares for json, cookie, public files, cors, url embedding\napp.use(express.json({ limit: '10kb' }));  // Limit body size to prevent large payload attacks\napp.use(cookieParser());\napp.use(express.static(\"public\"));\napp.use(cors(corsOptions));\napp.use(express.urlencoded({extended: false, limit: '10kb'}));\n\n// Setting the 3 main routes: user, technician and freelancer\napp.use(\"/api/user\", require(\"./routes/userRoutes\"));\napp.use(\"/api/technician\", require(\"./routes/technicianRoutes\"));\napp.use(\"/api/freelancer\", require(\"./routes/freelancerRoutes\"));\n\napp.use('/api/appliances', require('./routes/applianceRoutes'));\napp.use('/api/service-areas', require('./routes/serviceAreaRoutes'));\n\napp.use('/api/contact', require('./routes/contactRoutes'));\n\n// 404 handling\napp.use((req, res) => {\n    res.status(404).json({message: \"Route not found\"});\n})\n\n//Error handling\napp.use((err, req, res, next) => {\n    console.log(err.stack);\n    res.status(err.status || 500).json({\n        message: err.message || \"Internal server error.\"\n    });\n});\n\nconnectDB()\n    .then(() => {\n        console.log(\"Connected to the database.\");\n        \n        app.listen(port, () => {\n            console.log(`Server is running on port ${port}`);\n        });\n    })\n    .catch((error) => {\n        console.log(\"Failed to connect to the database: \", error);\n        process.exit(1);\n    });\n"],"mappings":"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","ignoreList":[]}},"mtime":1764707991807},"{\"assumptions\":{},\"sourceRoot\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/config/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end\",\"filename\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/config/database.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"_exploded\":true,\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"VoidPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$48\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$49\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar sql = require(\"mssql\");\nvar dotenv = require(\"dotenv\");\ndotenv.config();\nvar dbConfig = {\n  user: process.env.DB_USER,\n  password: process.env.DB_PASS,\n  server: process.env.DB_SERVER,\n  database: process.env.DB_NAME,\n  options: {\n    encrypt: true,\n    trustServerCertificate: true\n  }\n};\nvar pool;\nvar connectDB = /*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee() {\n    var _t;\n    return _regenerator[\"default\"].wrap(function (_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _context.next = 1;\n          return sql.connect(dbConfig);\n        case 1:\n          pool = _context.sent;\n          return _context.abrupt(\"return\", pool);\n        case 2:\n          _context.prev = 2;\n          _t = _context[\"catch\"](0);\n          console.error(\"Database connection failed: \", _t);\n          throw _t;\n        case 3:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[0, 2]]);\n  }));\n  return function connectDB() {\n    return _ref.apply(this, arguments);\n  };\n}();\nmodule.exports = {\n  connectDB: connectDB,\n  getPool: function getPool() {\n    return pool;\n  },\n  sql: sql\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzcWwiLCJyZXF1aXJlIiwiZG90ZW52IiwiY29uZmlnIiwiZGJDb25maWciLCJ1c2VyIiwicHJvY2VzcyIsImVudiIsIkRCX1VTRVIiLCJwYXNzd29yZCIsIkRCX1BBU1MiLCJzZXJ2ZXIiLCJEQl9TRVJWRVIiLCJkYXRhYmFzZSIsIkRCX05BTUUiLCJvcHRpb25zIiwiZW5jcnlwdCIsInRydXN0U2VydmVyQ2VydGlmaWNhdGUiLCJwb29sIiwiY29ubmVjdERCIiwiX3JlZiIsIl9hc3luY1RvR2VuZXJhdG9yMiIsIl9yZWdlbmVyYXRvciIsIm1hcmsiLCJfY2FsbGVlIiwiX3QiLCJ3cmFwIiwiX2NvbnRleHQiLCJwcmV2IiwibmV4dCIsImNvbm5lY3QiLCJzZW50IiwiYWJydXB0IiwiY29uc29sZSIsImVycm9yIiwic3RvcCIsImFwcGx5IiwiYXJndW1lbnRzIiwibW9kdWxlIiwiZXhwb3J0cyIsImdldFBvb2wiXSwic291cmNlUm9vdCI6Ii9ob21lL3NlcmovRG9jdW1lbnRzL0dpdEh1Yi9GaXhBcHBsaWFuY2UtYm9va2luZ0NvbW1lcmNlL2JhY2stZW5kL3NyYy9jb25maWcvIiwic291cmNlcyI6WyJkYXRhYmFzZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBzcWwgPSByZXF1aXJlKFwibXNzcWxcIik7XG5jb25zdCBkb3RlbnYgPSByZXF1aXJlKFwiZG90ZW52XCIpO1xuZG90ZW52LmNvbmZpZygpO1xuXG5jb25zdCBkYkNvbmZpZyA9IHtcbiAgICB1c2VyOiBwcm9jZXNzLmVudi5EQl9VU0VSLFxuICAgIHBhc3N3b3JkOiBwcm9jZXNzLmVudi5EQl9QQVNTLFxuICAgIHNlcnZlcjogcHJvY2Vzcy5lbnYuREJfU0VSVkVSLFxuICAgIGRhdGFiYXNlOiBwcm9jZXNzLmVudi5EQl9OQU1FLFxuICAgIG9wdGlvbnM6IHtlbmNyeXB0OiB0cnVlLCB0cnVzdFNlcnZlckNlcnRpZmljYXRlOiB0cnVlfVxufTtcblxubGV0IHBvb2w7XG5cbmNvbnN0IGNvbm5lY3REQiA9IGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBwb29sID0gYXdhaXQgc3FsLmNvbm5lY3QoZGJDb25maWcpO1xuICAgICAgICByZXR1cm4gcG9vbDtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRGF0YWJhc2UgY29ubmVjdGlvbiBmYWlsZWQ6IFwiLCBlcnJvcik7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7Y29ubmVjdERCLCBnZXRQb29sOiAoKSA9PiBwb29sLCBzcWx9OyJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxJQUFNQSxHQUFHLEdBQUdDLE9BQU8sQ0FBQyxPQUFPLENBQUM7QUFDNUIsSUFBTUMsTUFBTSxHQUFHRCxPQUFPLENBQUMsUUFBUSxDQUFDO0FBQ2hDQyxNQUFNLENBQUNDLE1BQU0sQ0FBQyxDQUFDO0FBRWYsSUFBTUMsUUFBUSxHQUFHO0VBQ2JDLElBQUksRUFBRUMsT0FBTyxDQUFDQyxHQUFHLENBQUNDLE9BQU87RUFDekJDLFFBQVEsRUFBRUgsT0FBTyxDQUFDQyxHQUFHLENBQUNHLE9BQU87RUFDN0JDLE1BQU0sRUFBRUwsT0FBTyxDQUFDQyxHQUFHLENBQUNLLFNBQVM7RUFDN0JDLFFBQVEsRUFBRVAsT0FBTyxDQUFDQyxHQUFHLENBQUNPLE9BQU87RUFDN0JDLE9BQU8sRUFBRTtJQUFDQyxPQUFPLEVBQUUsSUFBSTtJQUFFQyxzQkFBc0IsRUFBRTtFQUFJO0FBQ3pELENBQUM7QUFFRCxJQUFJQyxJQUFJO0FBRVIsSUFBTUMsU0FBUztFQUFBLElBQUFDLElBQUEsT0FBQUMsa0JBQUEsMEJBQUFDLFlBQUEsWUFBQUMsSUFBQSxDQUFHLFNBQUFDLFFBQUE7SUFBQSxJQUFBQyxFQUFBO0lBQUEsT0FBQUgsWUFBQSxZQUFBSSxJQUFBLFdBQUFDLFFBQUE7TUFBQSxrQkFBQUEsUUFBQSxDQUFBQyxJQUFBLEdBQUFELFFBQUEsQ0FBQUUsSUFBQTtRQUFBO1VBQUFGLFFBQUEsQ0FBQUMsSUFBQTtVQUFBRCxRQUFBLENBQUFFLElBQUE7VUFBQSxPQUVHN0IsR0FBRyxDQUFDOEIsT0FBTyxDQUFDMUIsUUFBUSxDQUFDO1FBQUE7VUFBbENjLElBQUksR0FBQVMsUUFBQSxDQUFBSSxJQUFBO1VBQUEsT0FBQUosUUFBQSxDQUFBSyxNQUFBLFdBQ0dkLElBQUk7UUFBQTtVQUFBUyxRQUFBLENBQUFDLElBQUE7VUFBQUgsRUFBQSxHQUFBRSxRQUFBO1VBRVhNLE9BQU8sQ0FBQ0MsS0FBSyxDQUFDLDhCQUE4QixFQUFBVCxFQUFPLENBQUM7VUFBQyxNQUFBQSxFQUFBO1FBQUE7UUFBQTtVQUFBLE9BQUFFLFFBQUEsQ0FBQVEsSUFBQTtNQUFBO0lBQUEsR0FBQVgsT0FBQTtFQUFBLENBRzVEO0VBQUEsZ0JBUktMLFNBQVNBLENBQUE7SUFBQSxPQUFBQyxJQUFBLENBQUFnQixLQUFBLE9BQUFDLFNBQUE7RUFBQTtBQUFBLEdBUWQ7QUFFREMsTUFBTSxDQUFDQyxPQUFPLEdBQUc7RUFBQ3BCLFNBQVMsRUFBVEEsU0FBUztFQUFFcUIsT0FBTyxFQUFFLFNBQVRBLE9BQU9BLENBQUE7SUFBQSxPQUFRdEIsSUFBSTtFQUFBO0VBQUVsQixHQUFHLEVBQUhBO0FBQUcsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["sql","require","dotenv","config","dbConfig","user","process","env","DB_USER","password","DB_PASS","server","DB_SERVER","database","DB_NAME","options","encrypt","trustServerCertificate","pool","connectDB","_ref","_asyncToGenerator2","_regenerator","mark","_callee","_t","wrap","_context","prev","next","connect","sent","abrupt","console","error","stop","apply","arguments","module","exports","getPool"],"sourceRoot":"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/config/","sources":["database.js"],"sourcesContent":["const sql = require(\"mssql\");\nconst dotenv = require(\"dotenv\");\ndotenv.config();\n\nconst dbConfig = {\n    user: process.env.DB_USER,\n    password: process.env.DB_PASS,\n    server: process.env.DB_SERVER,\n    database: process.env.DB_NAME,\n    options: {encrypt: true, trustServerCertificate: true}\n};\n\nlet pool;\n\nconst connectDB = async () => {\n    try {\n        pool = await sql.connect(dbConfig);\n        return pool;\n    } catch (error) {\n        console.error(\"Database connection failed: \", error);\n        throw error;\n    }\n}\n\nmodule.exports = {connectDB, getPool: () => pool, sql};"],"mappings":";;;;;AAAA,IAAMA,GAAG,GAAGC,OAAO,CAAC,OAAO,CAAC;AAC5B,IAAMC,MAAM,GAAGD,OAAO,CAAC,QAAQ,CAAC;AAChCC,MAAM,CAACC,MAAM,CAAC,CAAC;AAEf,IAAMC,QAAQ,GAAG;EACbC,IAAI,EAAEC,OAAO,CAACC,GAAG,CAACC,OAAO;EACzBC,QAAQ,EAAEH,OAAO,CAACC,GAAG,CAACG,OAAO;EAC7BC,MAAM,EAAEL,OAAO,CAACC,GAAG,CAACK,SAAS;EAC7BC,QAAQ,EAAEP,OAAO,CAACC,GAAG,CAACO,OAAO;EAC7BC,OAAO,EAAE;IAACC,OAAO,EAAE,IAAI;IAAEC,sBAAsB,EAAE;EAAI;AACzD,CAAC;AAED,IAAIC,IAAI;AAER,IAAMC,SAAS;EAAA,IAAAC,IAAA,OAAAC,kBAAA,0BAAAC,YAAA,YAAAC,IAAA,CAAG,SAAAC,QAAA;IAAA,IAAAC,EAAA;IAAA,OAAAH,YAAA,YAAAI,IAAA,WAAAC,QAAA;MAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;QAAA;UAAAF,QAAA,CAAAC,IAAA;UAAAD,QAAA,CAAAE,IAAA;UAAA,OAEG7B,GAAG,CAAC8B,OAAO,CAAC1B,QAAQ,CAAC;QAAA;UAAlCc,IAAI,GAAAS,QAAA,CAAAI,IAAA;UAAA,OAAAJ,QAAA,CAAAK,MAAA,WACGd,IAAI;QAAA;UAAAS,QAAA,CAAAC,IAAA;UAAAH,EAAA,GAAAE,QAAA;UAEXM,OAAO,CAACC,KAAK,CAAC,8BAA8B,EAAAT,EAAO,CAAC;UAAC,MAAAA,EAAA;QAAA;QAAA;UAAA,OAAAE,QAAA,CAAAQ,IAAA;MAAA;IAAA,GAAAX,OAAA;EAAA,CAG5D;EAAA,gBARKL,SAASA,CAAA;IAAA,OAAAC,IAAA,CAAAgB,KAAA,OAAAC,SAAA;EAAA;AAAA,GAQd;AAEDC,MAAM,CAACC,OAAO,GAAG;EAACpB,SAAS,EAATA,SAAS;EAAEqB,OAAO,EAAE,SAATA,OAAOA,CAAA;IAAA,OAAQtB,IAAI;EAAA;EAAElB,GAAG,EAAHA;AAAG,CAAC","ignoreList":[]}},"mtime":1764487126137},"{\"assumptions\":{},\"sourceRoot\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end\",\"filename\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/routes/userRoutes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"_exploded\":true,\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"VoidPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$48\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$49\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"\"use strict\";\n\n/**\n * This express file sets up the routes of the user, which consist of:\n *      Non-validation required routes: register and login\n *      Validation required routes: logout, booking-related (requesting, paying, rating and getting bookings)\n * \n * Validation requirement is to have the cookie with the right credintials without being expired.\n * \n * The functionalities for the routes themselves can be found in 3 files:\n *      1. controllers/UserController.js for register, login, logout\n *      2. controllers/UserBookingController.js for booking-related functonalities\n *      3. middlewares/auth.js for authenticating the user's credentials that are either stored or not stored\n */\n\nvar express = require(\"express\");\nvar _require = require(\"../controllers/UserController\"),\n  registerUser = _require.registerUser,\n  loginUser = _require.loginUser,\n  logoutUser = _require.logoutUser,\n  getProfile = _require.getProfile,\n  updateProfile = _require.updateProfile;\nvar _require2 = require(\"../middlewares/auth\"),\n  userValidation = _require2.userValidation;\nvar _require3 = require(\"../controllers/UserBookingController\"),\n  userRequestBooking = _require3.userRequestBooking,\n  userPayBooking = _require3.userPayBooking,\n  userRateBooking = _require3.userRateBooking,\n  userCancelBooking = _require3.userCancelBooking,\n  getPendingBookings = _require3.getPendingBookings,\n  getConfirmedBookings = _require3.getConfirmedBookings,\n  getInProgressBookings = _require3.getInProgressBookings,\n  getCompletedBookings = _require3.getCompletedBookings,\n  getCancelledBookings = _require3.getCancelledBookings;\nvar router = express.Router();\nrouter.post(\"/register\", registerUser);\nrouter.post(\"/login\", loginUser);\nrouter.post(\"/logout\", userValidation, logoutUser);\nrouter.post(\"/booking/request\", userValidation, userRequestBooking);\nrouter.post(\"/booking/pay\", userValidation, userPayBooking);\nrouter.post(\"/booking/rate\", userValidation, userRateBooking);\nrouter.post(\"/booking/cancel\", userValidation, userCancelBooking);\nrouter.get(\"/booking/pending\", userValidation, getPendingBookings);\nrouter.get(\"/booking/confirmed\", userValidation, getConfirmedBookings);\nrouter.get(\"/booking/in-progress\", userValidation, getInProgressBookings);\nrouter.get(\"/booking/completed\", userValidation, getCompletedBookings);\nrouter.get(\"/booking/cancelled\", userValidation, getCancelledBookings);\nrouter.get(\"/profile\", userValidation, getProfile);\nrouter.put(\"/profile\", userValidation, updateProfile);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsIl9yZXF1aXJlIiwicmVnaXN0ZXJVc2VyIiwibG9naW5Vc2VyIiwibG9nb3V0VXNlciIsImdldFByb2ZpbGUiLCJ1cGRhdGVQcm9maWxlIiwiX3JlcXVpcmUyIiwidXNlclZhbGlkYXRpb24iLCJfcmVxdWlyZTMiLCJ1c2VyUmVxdWVzdEJvb2tpbmciLCJ1c2VyUGF5Qm9va2luZyIsInVzZXJSYXRlQm9va2luZyIsInVzZXJDYW5jZWxCb29raW5nIiwiZ2V0UGVuZGluZ0Jvb2tpbmdzIiwiZ2V0Q29uZmlybWVkQm9va2luZ3MiLCJnZXRJblByb2dyZXNzQm9va2luZ3MiLCJnZXRDb21wbGV0ZWRCb29raW5ncyIsImdldENhbmNlbGxlZEJvb2tpbmdzIiwicm91dGVyIiwiUm91dGVyIiwicG9zdCIsImdldCIsInB1dCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9ob21lL3NlcmovRG9jdW1lbnRzL0dpdEh1Yi9GaXhBcHBsaWFuY2UtYm9va2luZ0NvbW1lcmNlL2JhY2stZW5kL3NyYy9yb3V0ZXMvIiwic291cmNlcyI6WyJ1c2VyUm91dGVzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGhpcyBleHByZXNzIGZpbGUgc2V0cyB1cCB0aGUgcm91dGVzIG9mIHRoZSB1c2VyLCB3aGljaCBjb25zaXN0IG9mOlxuICogICAgICBOb24tdmFsaWRhdGlvbiByZXF1aXJlZCByb3V0ZXM6IHJlZ2lzdGVyIGFuZCBsb2dpblxuICogICAgICBWYWxpZGF0aW9uIHJlcXVpcmVkIHJvdXRlczogbG9nb3V0LCBib29raW5nLXJlbGF0ZWQgKHJlcXVlc3RpbmcsIHBheWluZywgcmF0aW5nIGFuZCBnZXR0aW5nIGJvb2tpbmdzKVxuICogXG4gKiBWYWxpZGF0aW9uIHJlcXVpcmVtZW50IGlzIHRvIGhhdmUgdGhlIGNvb2tpZSB3aXRoIHRoZSByaWdodCBjcmVkaW50aWFscyB3aXRob3V0IGJlaW5nIGV4cGlyZWQuXG4gKiBcbiAqIFRoZSBmdW5jdGlvbmFsaXRpZXMgZm9yIHRoZSByb3V0ZXMgdGhlbXNlbHZlcyBjYW4gYmUgZm91bmQgaW4gMyBmaWxlczpcbiAqICAgICAgMS4gY29udHJvbGxlcnMvVXNlckNvbnRyb2xsZXIuanMgZm9yIHJlZ2lzdGVyLCBsb2dpbiwgbG9nb3V0XG4gKiAgICAgIDIuIGNvbnRyb2xsZXJzL1VzZXJCb29raW5nQ29udHJvbGxlci5qcyBmb3IgYm9va2luZy1yZWxhdGVkIGZ1bmN0b25hbGl0aWVzXG4gKiAgICAgIDMuIG1pZGRsZXdhcmVzL2F1dGguanMgZm9yIGF1dGhlbnRpY2F0aW5nIHRoZSB1c2VyJ3MgY3JlZGVudGlhbHMgdGhhdCBhcmUgZWl0aGVyIHN0b3JlZCBvciBub3Qgc3RvcmVkXG4gKi9cblxuY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoXCJleHByZXNzXCIpO1xuY29uc3Qge3JlZ2lzdGVyVXNlciwgbG9naW5Vc2VyLCBsb2dvdXRVc2VyLCBnZXRQcm9maWxlLCB1cGRhdGVQcm9maWxlfSA9IHJlcXVpcmUoXCIuLi9jb250cm9sbGVycy9Vc2VyQ29udHJvbGxlclwiKTtcbmNvbnN0IHt1c2VyVmFsaWRhdGlvbn0gPSByZXF1aXJlKFwiLi4vbWlkZGxld2FyZXMvYXV0aFwiKTtcbmNvbnN0IHt1c2VyUmVxdWVzdEJvb2tpbmcsIHVzZXJQYXlCb29raW5nLCB1c2VyUmF0ZUJvb2tpbmcsIHVzZXJDYW5jZWxCb29raW5nLCBnZXRQZW5kaW5nQm9va2luZ3MsIGdldENvbmZpcm1lZEJvb2tpbmdzLCBnZXRJblByb2dyZXNzQm9va2luZ3MsIGdldENvbXBsZXRlZEJvb2tpbmdzLCBnZXRDYW5jZWxsZWRCb29raW5nc30gPSByZXF1aXJlKFwiLi4vY29udHJvbGxlcnMvVXNlckJvb2tpbmdDb250cm9sbGVyXCIpO1xuXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG5yb3V0ZXIucG9zdChcIi9yZWdpc3RlclwiLCByZWdpc3RlclVzZXIpO1xucm91dGVyLnBvc3QoXCIvbG9naW5cIiwgbG9naW5Vc2VyKTtcbnJvdXRlci5wb3N0KFwiL2xvZ291dFwiLCB1c2VyVmFsaWRhdGlvbiwgbG9nb3V0VXNlcik7XG5cblxucm91dGVyLnBvc3QoXCIvYm9va2luZy9yZXF1ZXN0XCIsIHVzZXJWYWxpZGF0aW9uLCB1c2VyUmVxdWVzdEJvb2tpbmcpO1xucm91dGVyLnBvc3QoXCIvYm9va2luZy9wYXlcIiwgdXNlclZhbGlkYXRpb24sIHVzZXJQYXlCb29raW5nKTtcbnJvdXRlci5wb3N0KFwiL2Jvb2tpbmcvcmF0ZVwiLCB1c2VyVmFsaWRhdGlvbiwgdXNlclJhdGVCb29raW5nKTtcbnJvdXRlci5wb3N0KFwiL2Jvb2tpbmcvY2FuY2VsXCIsIHVzZXJWYWxpZGF0aW9uLCB1c2VyQ2FuY2VsQm9va2luZyk7XG5cbnJvdXRlci5nZXQoXCIvYm9va2luZy9wZW5kaW5nXCIsIHVzZXJWYWxpZGF0aW9uLCBnZXRQZW5kaW5nQm9va2luZ3MpO1xucm91dGVyLmdldChcIi9ib29raW5nL2NvbmZpcm1lZFwiLCB1c2VyVmFsaWRhdGlvbiwgZ2V0Q29uZmlybWVkQm9va2luZ3MpO1xucm91dGVyLmdldChcIi9ib29raW5nL2luLXByb2dyZXNzXCIsIHVzZXJWYWxpZGF0aW9uLCBnZXRJblByb2dyZXNzQm9va2luZ3MpO1xucm91dGVyLmdldChcIi9ib29raW5nL2NvbXBsZXRlZFwiLCB1c2VyVmFsaWRhdGlvbiwgZ2V0Q29tcGxldGVkQm9va2luZ3MpO1xucm91dGVyLmdldChcIi9ib29raW5nL2NhbmNlbGxlZFwiLCB1c2VyVmFsaWRhdGlvbiwgZ2V0Q2FuY2VsbGVkQm9va2luZ3MpO1xuXG5yb3V0ZXIuZ2V0KFwiL3Byb2ZpbGVcIiwgdXNlclZhbGlkYXRpb24sIGdldFByb2ZpbGUpO1xucm91dGVyLnB1dChcIi9wcm9maWxlXCIsIHVzZXJWYWxpZGF0aW9uLCB1cGRhdGVQcm9maWxlKTtcblxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiOztBQUFB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","map":{"version":3,"names":["express","require","_require","registerUser","loginUser","logoutUser","getProfile","updateProfile","_require2","userValidation","_require3","userRequestBooking","userPayBooking","userRateBooking","userCancelBooking","getPendingBookings","getConfirmedBookings","getInProgressBookings","getCompletedBookings","getCancelledBookings","router","Router","post","get","put","module","exports"],"sourceRoot":"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/routes/","sources":["userRoutes.js"],"sourcesContent":["/**\n * This express file sets up the routes of the user, which consist of:\n *      Non-validation required routes: register and login\n *      Validation required routes: logout, booking-related (requesting, paying, rating and getting bookings)\n * \n * Validation requirement is to have the cookie with the right credintials without being expired.\n * \n * The functionalities for the routes themselves can be found in 3 files:\n *      1. controllers/UserController.js for register, login, logout\n *      2. controllers/UserBookingController.js for booking-related functonalities\n *      3. middlewares/auth.js for authenticating the user's credentials that are either stored or not stored\n */\n\nconst express = require(\"express\");\nconst {registerUser, loginUser, logoutUser, getProfile, updateProfile} = require(\"../controllers/UserController\");\nconst {userValidation} = require(\"../middlewares/auth\");\nconst {userRequestBooking, userPayBooking, userRateBooking, userCancelBooking, getPendingBookings, getConfirmedBookings, getInProgressBookings, getCompletedBookings, getCancelledBookings} = require(\"../controllers/UserBookingController\");\n\nconst router = express.Router();\n\nrouter.post(\"/register\", registerUser);\nrouter.post(\"/login\", loginUser);\nrouter.post(\"/logout\", userValidation, logoutUser);\n\n\nrouter.post(\"/booking/request\", userValidation, userRequestBooking);\nrouter.post(\"/booking/pay\", userValidation, userPayBooking);\nrouter.post(\"/booking/rate\", userValidation, userRateBooking);\nrouter.post(\"/booking/cancel\", userValidation, userCancelBooking);\n\nrouter.get(\"/booking/pending\", userValidation, getPendingBookings);\nrouter.get(\"/booking/confirmed\", userValidation, getConfirmedBookings);\nrouter.get(\"/booking/in-progress\", userValidation, getInProgressBookings);\nrouter.get(\"/booking/completed\", userValidation, getCompletedBookings);\nrouter.get(\"/booking/cancelled\", userValidation, getCancelledBookings);\n\nrouter.get(\"/profile\", userValidation, getProfile);\nrouter.put(\"/profile\", userValidation, updateProfile);\n\nmodule.exports = router;"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAMA,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAClC,IAAAC,QAAA,GAAyED,OAAO,CAAC,+BAA+B,CAAC;EAA1GE,YAAY,GAAAD,QAAA,CAAZC,YAAY;EAAEC,SAAS,GAAAF,QAAA,CAATE,SAAS;EAAEC,UAAU,GAAAH,QAAA,CAAVG,UAAU;EAAEC,UAAU,GAAAJ,QAAA,CAAVI,UAAU;EAAEC,aAAa,GAAAL,QAAA,CAAbK,aAAa;AACrE,IAAAC,SAAA,GAAyBP,OAAO,CAAC,qBAAqB,CAAC;EAAhDQ,cAAc,GAAAD,SAAA,CAAdC,cAAc;AACrB,IAAAC,SAAA,GAA8LT,OAAO,CAAC,sCAAsC,CAAC;EAAtOU,kBAAkB,GAAAD,SAAA,CAAlBC,kBAAkB;EAAEC,cAAc,GAAAF,SAAA,CAAdE,cAAc;EAAEC,eAAe,GAAAH,SAAA,CAAfG,eAAe;EAAEC,iBAAiB,GAAAJ,SAAA,CAAjBI,iBAAiB;EAAEC,kBAAkB,GAAAL,SAAA,CAAlBK,kBAAkB;EAAEC,oBAAoB,GAAAN,SAAA,CAApBM,oBAAoB;EAAEC,qBAAqB,GAAAP,SAAA,CAArBO,qBAAqB;EAAEC,oBAAoB,GAAAR,SAAA,CAApBQ,oBAAoB;EAAEC,oBAAoB,GAAAT,SAAA,CAApBS,oBAAoB;AAE1L,IAAMC,MAAM,GAAGpB,OAAO,CAACqB,MAAM,CAAC,CAAC;AAE/BD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAEnB,YAAY,CAAC;AACtCiB,MAAM,CAACE,IAAI,CAAC,QAAQ,EAAElB,SAAS,CAAC;AAChCgB,MAAM,CAACE,IAAI,CAAC,SAAS,EAAEb,cAAc,EAAEJ,UAAU,CAAC;AAGlDe,MAAM,CAACE,IAAI,CAAC,kBAAkB,EAAEb,cAAc,EAAEE,kBAAkB,CAAC;AACnES,MAAM,CAACE,IAAI,CAAC,cAAc,EAAEb,cAAc,EAAEG,cAAc,CAAC;AAC3DQ,MAAM,CAACE,IAAI,CAAC,eAAe,EAAEb,cAAc,EAAEI,eAAe,CAAC;AAC7DO,MAAM,CAACE,IAAI,CAAC,iBAAiB,EAAEb,cAAc,EAAEK,iBAAiB,CAAC;AAEjEM,MAAM,CAACG,GAAG,CAAC,kBAAkB,EAAEd,cAAc,EAAEM,kBAAkB,CAAC;AAClEK,MAAM,CAACG,GAAG,CAAC,oBAAoB,EAAEd,cAAc,EAAEO,oBAAoB,CAAC;AACtEI,MAAM,CAACG,GAAG,CAAC,sBAAsB,EAAEd,cAAc,EAAEQ,qBAAqB,CAAC;AACzEG,MAAM,CAACG,GAAG,CAAC,oBAAoB,EAAEd,cAAc,EAAES,oBAAoB,CAAC;AACtEE,MAAM,CAACG,GAAG,CAAC,oBAAoB,EAAEd,cAAc,EAAEU,oBAAoB,CAAC;AAEtEC,MAAM,CAACG,GAAG,CAAC,UAAU,EAAEd,cAAc,EAAEH,UAAU,CAAC;AAClDc,MAAM,CAACI,GAAG,CAAC,UAAU,EAAEf,cAAc,EAAEF,aAAa,CAAC;AAErDkB,MAAM,CAACC,OAAO,GAAGN,MAAM","ignoreList":[]}},"mtime":1764709651590},"{\"assumptions\":{},\"sourceRoot\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end\",\"filename\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/controllers/UserController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"_exploded\":true,\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"VoidPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$48\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$49\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n/**\n * The below controller provides the following functionalities for a user: registering, logging in and logging out.\n * \n * For storing the password, bcrypt is used to hash and jwt (jsonwebtoken) is used to sign a token and store it as cookie.\n */\n\nvar asyncHandler = require(\"express-async-handler\");\nvar bcrypt = require(\"bcrypt\");\nvar jwt = require(\"jsonwebtoken\");\n\n// sql needed for the type definitions in .input\n// getPool is to do queries\nvar _require = require(\"../config/database\"),\n  getPool = _require.getPool,\n  sql = _require.sql;\n\n// Import validation utilities\nvar _require2 = require(\"../utils/validators\"),\n  isValidEmail = _require2.isValidEmail,\n  isValidPhone = _require2.isValidPhone,\n  isValidPassword = _require2.isValidPassword,\n  isValidName = _require2.isValidName,\n  sanitizeString = _require2.sanitizeString;\n\n// Handles the registering functionality\nvar registerUser = asyncHandler(/*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee(req, res) {\n    var _req$body, firstName, lastName, email, phone, password, streetAddress, buildingName, floor, city, postalCode, passwordValidation, pool, hashedPassword, result, _t;\n    return _regenerator[\"default\"].wrap(function (_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          // Getting the needed data from the request body\n          _req$body = req.body, firstName = _req$body.firstName, lastName = _req$body.lastName, email = _req$body.email, phone = _req$body.phone, password = _req$body.password, streetAddress = _req$body.streetAddress, buildingName = _req$body.buildingName, floor = _req$body.floor, city = _req$body.city, postalCode = _req$body.postalCode; // Checking if any of them is empty, if yes then we throw a 400 \n          if (!(!firstName || !lastName || !email || !phone || !password || !streetAddress || !buildingName || !floor || !city || !postalCode)) {\n            _context.next = 1;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"You have to insert all data to register.\"\n          }));\n        case 1:\n          if (isValidName(firstName)) {\n            _context.next = 2;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"First name must be 2-30 characters and contain only letters.\"\n          }));\n        case 2:\n          if (isValidName(lastName)) {\n            _context.next = 3;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"Last name must be 2-30 characters and contain only letters.\"\n          }));\n        case 3:\n          if (isValidEmail(email)) {\n            _context.next = 4;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"Please enter a valid email address.\"\n          }));\n        case 4:\n          if (isValidPhone(phone)) {\n            _context.next = 5;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"Please enter a valid phone number.\"\n          }));\n        case 5:\n          // Validate password strength\n          passwordValidation = isValidPassword(password);\n          if (passwordValidation.valid) {\n            _context.next = 6;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: passwordValidation.message\n          }));\n        case 6:\n          if (!(streetAddress.length > 200)) {\n            _context.next = 7;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"Street address cannot exceed 200 characters.\"\n          }));\n        case 7:\n          if (!(buildingName && buildingName.length > 100)) {\n            _context.next = 8;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"Building name cannot exceed 100 characters.\"\n          }));\n        case 8:\n          if (!(city.length > 50)) {\n            _context.next = 9;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"City name cannot exceed 50 characters.\"\n          }));\n        case 9:\n          _context.prev = 9;\n          pool = getPool(); // Hashing the password before storing\n          _context.next = 10;\n          return bcrypt.hash(password, 11);\n        case 10:\n          hashedPassword = _context.sent;\n          _context.next = 11;\n          return pool.request().input(\"firstName\", sql.VarChar, sanitizeString(firstName)).input(\"lastName\", sql.VarChar, sanitizeString(lastName)).input(\"email\", sql.VarChar, sanitizeString(email).toLowerCase()).input(\"phone\", sql.VarChar, sanitizeString(phone)).input(\"hashedPassword\", sql.VarChar, hashedPassword).input(\"streetAddress\", sql.VarChar, sanitizeString(streetAddress)).input(\"buildingName\", sql.VarChar, sanitizeString(buildingName)).input(\"floor\", sql.VarChar, sanitizeString(floor)).input(\"city\", sql.VarChar, sanitizeString(city)).input(\"postalCode\", sql.VarChar, sanitizeString(postalCode)).query(\"\\n            INSERT INTO [User] (First_Name, Last_Name, Email, Phone, Password_Hash, Street_Address, Building_Name, Floor, City, Postal_Code)\\n            VALUES(@firstName, @lastName, @email, @phone, @hashedPassword, @streetAddress, @buildingName, @floor, @city, @postalCode)\\n            \");\n        case 11:\n          result = _context.sent;\n          // Sending success message\n          res.status(201).json({\n            message: \"User registered successfully!\"\n          });\n          _context.next = 14;\n          break;\n        case 12:\n          _context.prev = 12;\n          _t = _context[\"catch\"](9);\n          if (!(_t.number === 2627 || _t.number === 2601)) {\n            _context.next = 13;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(409).json({\n            message: \"Another account exists already either with this email address or phone number. If you have another account, please use that one instead.\"\n          }));\n        case 13:\n          // Throwing the console error and 500 status in case something goes wrong.\n          console.error(\"Unexpected error registering a new user account: \", _t);\n          res.status(500).json({\n            message: \"An unexpected error occurred while registering the user.\"\n          });\n        case 14:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[9, 12]]);\n  }));\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}());\n\n// Handling the logging in functionality\nvar loginUser = asyncHandler(/*#__PURE__*/function () {\n  var _ref2 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(req, res) {\n    var _req$body2, email, password, pool, result, user, isPasswordValid, userToken, _t2;\n    return _regenerator[\"default\"].wrap(function (_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          // Getting the email and password that the user is trying to login with.\n          _req$body2 = req.body, email = _req$body2.email, password = _req$body2.password; // Input validation, if either empty then send 400 error\n          if (!(!email || !password)) {\n            _context2.next = 1;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(400).json({\n            message: \"You have to enter both your email and your password\"\n          }));\n        case 1:\n          if (isValidEmail(email)) {\n            _context2.next = 2;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(400).json({\n            message: \"Please enter a valid email address.\"\n          }));\n        case 2:\n          _context2.prev = 2;\n          pool = getPool(); // Searching in the database for a user with the same email passed to check if exists\n          _context2.next = 3;\n          return pool.request().input(\"email\", sql.VarChar, sanitizeString(email).toLowerCase()).query(\"\\n                SELECT User_ID, First_Name, Last_Name, Email, Password_Hash, isActive\\n                FROM [User]\\n                WHERE Email = @email\\n                \");\n        case 3:\n          result = _context2.sent;\n          if (!(result.recordset.length === 0)) {\n            _context2.next = 4;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(401).json({\n            message: \"Invalid email address or password.\"\n          }));\n        case 4:\n          // Now we are getting the first user that we got having the same email address\n          user = result.recordset[0];\n          if (user.isActive) {\n            _context2.next = 5;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(403).json({\n            message: \"Your account is deactivated. Please contact us to resolve this issue.\"\n          }));\n        case 5:\n          _context2.next = 6;\n          return bcrypt.compare(password, user.Password_Hash);\n        case 6:\n          isPasswordValid = _context2.sent;\n          if (isPasswordValid) {\n            _context2.next = 7;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(401).json({\n            message: \"Invalid email address or password.\"\n          }));\n        case 7:\n          // If the password matches, then create a user token using jwt by signing it with the USER_ACCESS_TOKEN\n          // stored in the .env file. The token expires in 1 day.\n          userToken = jwt.sign({\n            id: user.User_ID,\n            firstName: user.First_Name,\n            lastName: user.Last_Name,\n            email: user.Email\n          }, process.env.USER_ACCESS_TOKEN, {\n            expiresIn: \"1d\"\n          }); // If a cookie exists already for the user, clear it.\n          if (req.cookies.user_access_token) {\n            res.clearCookie('user_access_token');\n          }\n\n          // Store the new cookie such that it lasts 1 day, and throw a 200 success message with some data about the user\n          // (id, firstName, lastName, email)\n          res.cookie('user_access_token', userToken, {\n            httpOnly: true,\n            secure: process.env.NODE_ENV === \"production\",\n            sameSite: process.env.NODE_ENV === \"production\" ? 'strict' : 'lax',\n            maxAge: 24 * 60 * 60 * 1000\n          });\n          res.status(200).json({\n            message: \"Successfully logged in.\",\n            user: {\n              id: user.User_ID,\n              firstName: user.First_Name,\n              lastName: user.Last_Name,\n              email: user.Email\n            }\n          });\n\n          // If anything goes wrong, ex duplicate email, then throw an error.\n          _context2.next = 9;\n          break;\n        case 8:\n          _context2.prev = 8;\n          _t2 = _context2[\"catch\"](2);\n          console.error(\"Login error:\", _t2);\n          res.status(500).json({\n            message: \"An error occurred during login.\"\n          });\n        case 9:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[2, 8]]);\n  }));\n  return function (_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}());\n\n// Retrieving user's profile information\nvar getProfile = asyncHandler(/*#__PURE__*/function () {\n  var _ref3 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee3(req, res) {\n    var userID, pool, result, userData, _t3;\n    return _regenerator[\"default\"].wrap(function (_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          userID = req.userID;\n          _context3.prev = 1;\n          pool = getPool();\n          _context3.next = 2;\n          return pool.request().input(\"userId\", sql.Int, userID).query(\"\\n            SELECT User_ID, First_Name, Last_Name, Email, Phone, Street_Address, Building_Name, Floor, City, Postal_Code, isActive\\n            FROM [User]\\n            WHERE User_ID = @userId\\n            \");\n        case 2:\n          result = _context3.sent;\n          if (!(result.recordset.length === 0)) {\n            _context3.next = 3;\n            break;\n          }\n          return _context3.abrupt(\"return\", res.status(404).json({\n            message: \"User not found.\"\n          }));\n        case 3:\n          userData = result.recordset[0];\n          res.status(200).json({\n            firstName: userData.First_Name,\n            lastName: userData.Last_Name,\n            email: userData.Email,\n            phone: userData.Phone,\n            streetAddress: userData.Street_Address,\n            buildingName: userData.Building_Name,\n            floor: userData.Floor,\n            city: userData.City,\n            postalCode: userData.Postal_Code,\n            isActive: userData.isActive\n          });\n          _context3.next = 5;\n          break;\n        case 4:\n          _context3.prev = 4;\n          _t3 = _context3[\"catch\"](1);\n          // Throwing the console error and 500 status in case something goes wrong.\n          console.error(\"Unexpected error occurred when trying to get profile: \", _t3);\n          res.status(500).json({\n            message: \"An unexpected error occurred while getting profile.\"\n          });\n        case 5:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3, null, [[1, 4]]);\n  }));\n  return function (_x5, _x6) {\n    return _ref3.apply(this, arguments);\n  };\n}());\n\n// Updating user's profile information\nvar updateProfile = asyncHandler(/*#__PURE__*/function () {\n  var _ref4 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee4(req, res) {\n    var _req$body3, firstName, lastName, email, phone, streetAddress, buildingName, floor, city, postalCode, userID, pool, result, _t4;\n    return _regenerator[\"default\"].wrap(function (_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          _req$body3 = req.body, firstName = _req$body3.firstName, lastName = _req$body3.lastName, email = _req$body3.email, phone = _req$body3.phone, streetAddress = _req$body3.streetAddress, buildingName = _req$body3.buildingName, floor = _req$body3.floor, city = _req$body3.city, postalCode = _req$body3.postalCode;\n          userID = req.userID; // Checking if any of them is empty, if yes then we throw a 400 \n          if (!(!firstName || !lastName || !email || !phone || !streetAddress || !buildingName || !floor || !city || !postalCode)) {\n            _context4.next = 1;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(400).json({\n            message: \"You have to insert all profile data to update.\"\n          }));\n        case 1:\n          if (isValidName(firstName)) {\n            _context4.next = 2;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(400).json({\n            message: \"First name must be 2-30 characters and contain only letters.\"\n          }));\n        case 2:\n          if (isValidName(lastName)) {\n            _context4.next = 3;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(400).json({\n            message: \"Last name must be 2-30 characters and contain only letters.\"\n          }));\n        case 3:\n          if (isValidEmail(email)) {\n            _context4.next = 4;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(400).json({\n            message: \"Please enter a valid email address.\"\n          }));\n        case 4:\n          if (isValidPhone(phone)) {\n            _context4.next = 5;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(400).json({\n            message: \"Please enter a valid phone number.\"\n          }));\n        case 5:\n          if (!(streetAddress.length > 200)) {\n            _context4.next = 6;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(400).json({\n            message: \"Street address cannot exceed 200 characters.\"\n          }));\n        case 6:\n          if (!(buildingName && buildingName.length > 100)) {\n            _context4.next = 7;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(400).json({\n            message: \"Building name cannot exceed 100 characters.\"\n          }));\n        case 7:\n          if (!(city.length > 50)) {\n            _context4.next = 8;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(400).json({\n            message: \"City name cannot exceed 50 characters.\"\n          }));\n        case 8:\n          _context4.prev = 8;\n          pool = getPool(); // Updating the user data \n          _context4.next = 9;\n          return pool.request().input(\"userId\", sql.Int, userID).input(\"firstName\", sql.VarChar, sanitizeString(firstName)).input(\"lastName\", sql.VarChar, sanitizeString(lastName)).input(\"email\", sql.VarChar, sanitizeString(email).toLowerCase()).input(\"phone\", sql.VarChar, sanitizeString(phone)).input(\"streetAddress\", sql.VarChar, sanitizeString(streetAddress)).input(\"buildingName\", sql.VarChar, sanitizeString(buildingName)).input(\"floor\", sql.VarChar, sanitizeString(floor)).input(\"city\", sql.VarChar, sanitizeString(city)).input(\"postalCode\", sql.VarChar, sanitizeString(postalCode)).query(\"\\n            UPDATE [User] \\n            SET First_Name = @firstName, Last_Name = @lastName, Email = @email, Phone = @phone, Street_Address = @streetAddress, Building_Name = @buildingName,\\n                Floor = @floor, City = @city, Postal_Code = @postalCode, modifiedAt = GETDATE()\\n            WHERE User_ID = @userId\\n                \");\n        case 9:\n          result = _context4.sent;\n          if (!(result.rowsAffected[0] === 0)) {\n            _context4.next = 10;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(404).json({\n            message: \"User not found or no changes made.\"\n          }));\n        case 10:\n          // Sending success message\n          res.status(200).json({\n            message: \"User profile updated successfully!\"\n          });\n          _context4.next = 13;\n          break;\n        case 11:\n          _context4.prev = 11;\n          _t4 = _context4[\"catch\"](8);\n          if (!(_t4.number === 2627 || _t4.number === 2601)) {\n            _context4.next = 12;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(409).json({\n            message: \"Another account exists already either with this email address or phone number. If you have another account, please use that one instead.\"\n          }));\n        case 12:\n          // Throwing the console error and 500 status in case something goes wrong.\n          console.error(\"Unexpected error when updating profile: \", _t4);\n          res.status(500).json({\n            message: \"An unexpected error occurred while updating the user's profile.\"\n          });\n        case 13:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4, null, [[8, 11]]);\n  }));\n  return function (_x7, _x8) {\n    return _ref4.apply(this, arguments);\n  };\n}());\n\n// Logging out functionality by clearing the user's cooking and sending a success message\nvar logoutUser = asyncHandler(/*#__PURE__*/function () {\n  var _ref5 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee5(req, res) {\n    return _regenerator[\"default\"].wrap(function (_context5) {\n      while (1) switch (_context5.prev = _context5.next) {\n        case 0:\n          res.clearCookie('user_access_token');\n          res.status(200).json({\n            message: \"Successfully logged out.\"\n          });\n        case 1:\n        case \"end\":\n          return _context5.stop();\n      }\n    }, _callee5);\n  }));\n  return function (_x9, _x0) {\n    return _ref5.apply(this, arguments);\n  };\n}());\nmodule.exports = {\n  registerUser: registerUser,\n  loginUser: loginUser,\n  logoutUser: logoutUser,\n  getProfile: getProfile,\n  updateProfile: updateProfile\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhc3luY0hhbmRsZXIiLCJyZXF1aXJlIiwiYmNyeXB0Iiwiand0IiwiX3JlcXVpcmUiLCJnZXRQb29sIiwic3FsIiwiX3JlcXVpcmUyIiwiaXNWYWxpZEVtYWlsIiwiaXNWYWxpZFBob25lIiwiaXNWYWxpZFBhc3N3b3JkIiwiaXNWYWxpZE5hbWUiLCJzYW5pdGl6ZVN0cmluZyIsInJlZ2lzdGVyVXNlciIsIl9yZWYiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJfcmVnZW5lcmF0b3IiLCJtYXJrIiwiX2NhbGxlZSIsInJlcSIsInJlcyIsIl9yZXEkYm9keSIsImZpcnN0TmFtZSIsImxhc3ROYW1lIiwiZW1haWwiLCJwaG9uZSIsInBhc3N3b3JkIiwic3RyZWV0QWRkcmVzcyIsImJ1aWxkaW5nTmFtZSIsImZsb29yIiwiY2l0eSIsInBvc3RhbENvZGUiLCJwYXNzd29yZFZhbGlkYXRpb24iLCJwb29sIiwiaGFzaGVkUGFzc3dvcmQiLCJyZXN1bHQiLCJfdCIsIndyYXAiLCJfY29udGV4dCIsInByZXYiLCJuZXh0IiwiYm9keSIsImFicnVwdCIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwidmFsaWQiLCJsZW5ndGgiLCJoYXNoIiwic2VudCIsInJlcXVlc3QiLCJpbnB1dCIsIlZhckNoYXIiLCJ0b0xvd2VyQ2FzZSIsInF1ZXJ5IiwibnVtYmVyIiwiY29uc29sZSIsImVycm9yIiwic3RvcCIsIl94IiwiX3gyIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJsb2dpblVzZXIiLCJfcmVmMiIsIl9jYWxsZWUyIiwiX3JlcSRib2R5MiIsInVzZXIiLCJpc1Bhc3N3b3JkVmFsaWQiLCJ1c2VyVG9rZW4iLCJfdDIiLCJfY29udGV4dDIiLCJyZWNvcmRzZXQiLCJpc0FjdGl2ZSIsImNvbXBhcmUiLCJQYXNzd29yZF9IYXNoIiwic2lnbiIsImlkIiwiVXNlcl9JRCIsIkZpcnN0X05hbWUiLCJMYXN0X05hbWUiLCJFbWFpbCIsInByb2Nlc3MiLCJlbnYiLCJVU0VSX0FDQ0VTU19UT0tFTiIsImV4cGlyZXNJbiIsImNvb2tpZXMiLCJ1c2VyX2FjY2Vzc190b2tlbiIsImNsZWFyQ29va2llIiwiY29va2llIiwiaHR0cE9ubHkiLCJzZWN1cmUiLCJOT0RFX0VOViIsInNhbWVTaXRlIiwibWF4QWdlIiwiX3gzIiwiX3g0IiwiZ2V0UHJvZmlsZSIsIl9yZWYzIiwiX2NhbGxlZTMiLCJ1c2VySUQiLCJ1c2VyRGF0YSIsIl90MyIsIl9jb250ZXh0MyIsIkludCIsIlBob25lIiwiU3RyZWV0X0FkZHJlc3MiLCJCdWlsZGluZ19OYW1lIiwiRmxvb3IiLCJDaXR5IiwiUG9zdGFsX0NvZGUiLCJfeDUiLCJfeDYiLCJ1cGRhdGVQcm9maWxlIiwiX3JlZjQiLCJfY2FsbGVlNCIsIl9yZXEkYm9keTMiLCJfdDQiLCJfY29udGV4dDQiLCJyb3dzQWZmZWN0ZWQiLCJfeDciLCJfeDgiLCJsb2dvdXRVc2VyIiwiX3JlZjUiLCJfY2FsbGVlNSIsIl9jb250ZXh0NSIsIl94OSIsIl94MCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9ob21lL3NlcmovRG9jdW1lbnRzL0dpdEh1Yi9GaXhBcHBsaWFuY2UtYm9va2luZ0NvbW1lcmNlL2JhY2stZW5kL3NyYy9jb250cm9sbGVycy8iLCJzb3VyY2VzIjpbIlVzZXJDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGhlIGJlbG93IGNvbnRyb2xsZXIgcHJvdmlkZXMgdGhlIGZvbGxvd2luZyBmdW5jdGlvbmFsaXRpZXMgZm9yIGEgdXNlcjogcmVnaXN0ZXJpbmcsIGxvZ2dpbmcgaW4gYW5kIGxvZ2dpbmcgb3V0LlxuICogXG4gKiBGb3Igc3RvcmluZyB0aGUgcGFzc3dvcmQsIGJjcnlwdCBpcyB1c2VkIHRvIGhhc2ggYW5kIGp3dCAoanNvbndlYnRva2VuKSBpcyB1c2VkIHRvIHNpZ24gYSB0b2tlbiBhbmQgc3RvcmUgaXQgYXMgY29va2llLlxuICovXG5cbmNvbnN0IGFzeW5jSGFuZGxlciA9IHJlcXVpcmUoXCJleHByZXNzLWFzeW5jLWhhbmRsZXJcIik7XG5jb25zdCBiY3J5cHQgPSByZXF1aXJlKFwiYmNyeXB0XCIpO1xuY29uc3Qgand0ID0gcmVxdWlyZShcImpzb253ZWJ0b2tlblwiKTtcblxuLy8gc3FsIG5lZWRlZCBmb3IgdGhlIHR5cGUgZGVmaW5pdGlvbnMgaW4gLmlucHV0XG4vLyBnZXRQb29sIGlzIHRvIGRvIHF1ZXJpZXNcbmNvbnN0IHsgZ2V0UG9vbCwgc3FsIH0gPSByZXF1aXJlKFwiLi4vY29uZmlnL2RhdGFiYXNlXCIpO1xuXG4vLyBJbXBvcnQgdmFsaWRhdGlvbiB1dGlsaXRpZXNcbmNvbnN0IHsgaXNWYWxpZEVtYWlsLCBpc1ZhbGlkUGhvbmUsIGlzVmFsaWRQYXNzd29yZCwgaXNWYWxpZE5hbWUsIHNhbml0aXplU3RyaW5nIH0gPSByZXF1aXJlKFwiLi4vdXRpbHMvdmFsaWRhdG9yc1wiKTtcblxuXG4vLyBIYW5kbGVzIHRoZSByZWdpc3RlcmluZyBmdW5jdGlvbmFsaXR5XG5jb25zdCByZWdpc3RlclVzZXIgPSBhc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgLy8gR2V0dGluZyB0aGUgbmVlZGVkIGRhdGEgZnJvbSB0aGUgcmVxdWVzdCBib2R5XG4gICAgY29uc3QgeyBmaXJzdE5hbWUsIGxhc3ROYW1lLCBlbWFpbCwgcGhvbmUsIHBhc3N3b3JkLCBzdHJlZXRBZGRyZXNzLCBidWlsZGluZ05hbWUsIGZsb29yLCBjaXR5LCBwb3N0YWxDb2RlIH0gPSByZXEuYm9keTtcblxuICAgIC8vIENoZWNraW5nIGlmIGFueSBvZiB0aGVtIGlzIGVtcHR5LCBpZiB5ZXMgdGhlbiB3ZSB0aHJvdyBhIDQwMCBcbiAgICBpZiAoIWZpcnN0TmFtZSB8fCAhbGFzdE5hbWUgfHwgIWVtYWlsIHx8ICFwaG9uZSB8fCAhcGFzc3dvcmQgfHwgIXN0cmVldEFkZHJlc3MgfHwgIWJ1aWxkaW5nTmFtZSB8fCAhZmxvb3IgfHwgIWNpdHkgfHwgIXBvc3RhbENvZGUpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogXCJZb3UgaGF2ZSB0byBpbnNlcnQgYWxsIGRhdGEgdG8gcmVnaXN0ZXIuXCIgfSk7XG4gICAgfVxuXG4gICAgLy8gVmFsaWRhdGUgZmlyc3QgbmFtZSBmb3JtYXRcbiAgICBpZiAoIWlzVmFsaWROYW1lKGZpcnN0TmFtZSkpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogXCJGaXJzdCBuYW1lIG11c3QgYmUgMi0zMCBjaGFyYWN0ZXJzIGFuZCBjb250YWluIG9ubHkgbGV0dGVycy5cIiB9KTtcbiAgICB9XG5cbiAgICAvLyBWYWxpZGF0ZSBsYXN0IG5hbWUgZm9ybWF0XG4gICAgaWYgKCFpc1ZhbGlkTmFtZShsYXN0TmFtZSkpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogXCJMYXN0IG5hbWUgbXVzdCBiZSAyLTMwIGNoYXJhY3RlcnMgYW5kIGNvbnRhaW4gb25seSBsZXR0ZXJzLlwiIH0pO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRlIGVtYWlsIGZvcm1hdFxuICAgIGlmICghaXNWYWxpZEVtYWlsKGVtYWlsKSkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiBcIlBsZWFzZSBlbnRlciBhIHZhbGlkIGVtYWlsIGFkZHJlc3MuXCIgfSk7XG4gICAgfVxuXG4gICAgLy8gVmFsaWRhdGUgcGhvbmUgZm9ybWF0XG4gICAgaWYgKCFpc1ZhbGlkUGhvbmUocGhvbmUpKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6IFwiUGxlYXNlIGVudGVyIGEgdmFsaWQgcGhvbmUgbnVtYmVyLlwiIH0pO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRlIHBhc3N3b3JkIHN0cmVuZ3RoXG4gICAgY29uc3QgcGFzc3dvcmRWYWxpZGF0aW9uID0gaXNWYWxpZFBhc3N3b3JkKHBhc3N3b3JkKTtcbiAgICBpZiAoIXBhc3N3b3JkVmFsaWRhdGlvbi52YWxpZCkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiBwYXNzd29yZFZhbGlkYXRpb24ubWVzc2FnZSB9KTtcbiAgICB9XG5cbiAgICAvLyBWYWxpZGF0ZSBhZGRyZXNzIGZpZWxkcyBsZW5ndGhcbiAgICBpZiAoc3RyZWV0QWRkcmVzcy5sZW5ndGggPiAyMDApIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogXCJTdHJlZXQgYWRkcmVzcyBjYW5ub3QgZXhjZWVkIDIwMCBjaGFyYWN0ZXJzLlwiIH0pO1xuICAgIH1cblxuICAgIGlmIChidWlsZGluZ05hbWUgJiYgYnVpbGRpbmdOYW1lLmxlbmd0aCA+IDEwMCkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiBcIkJ1aWxkaW5nIG5hbWUgY2Fubm90IGV4Y2VlZCAxMDAgY2hhcmFjdGVycy5cIiB9KTtcbiAgICB9XG5cbiAgICBpZiAoY2l0eS5sZW5ndGggPiA1MCkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiBcIkNpdHkgbmFtZSBjYW5ub3QgZXhjZWVkIDUwIGNoYXJhY3RlcnMuXCIgfSk7XG4gICAgfVxuXG4gICAgLy8gV2Ugbm93IHRyeSB0byBhY2Nlc3MgdGhlIGRhdGFiYXNlIHRvIGluc2VydCB0aGUgdXNlclxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHBvb2wgPSBnZXRQb29sKCk7XG5cbiAgICAgICAgLy8gSGFzaGluZyB0aGUgcGFzc3dvcmQgYmVmb3JlIHN0b3JpbmdcbiAgICAgICAgY29uc3QgaGFzaGVkUGFzc3dvcmQgPSBhd2FpdCBiY3J5cHQuaGFzaChwYXNzd29yZCwgMTEpO1xuXG4gICAgICAgIC8vIEluc2VydGluZyB0aGUgdXNlciBpbnRvIHRoZSBkYXRhYmFzZSBVc2VyIHRhYmxlIChzYW5pdGl6ZSBpbnB1dHMpXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBvb2wucmVxdWVzdCgpXG4gICAgICAgICAgICAuaW5wdXQoXCJmaXJzdE5hbWVcIiwgc3FsLlZhckNoYXIsIHNhbml0aXplU3RyaW5nKGZpcnN0TmFtZSkpXG4gICAgICAgICAgICAuaW5wdXQoXCJsYXN0TmFtZVwiLCBzcWwuVmFyQ2hhciwgc2FuaXRpemVTdHJpbmcobGFzdE5hbWUpKVxuICAgICAgICAgICAgLmlucHV0KFwiZW1haWxcIiwgc3FsLlZhckNoYXIsIHNhbml0aXplU3RyaW5nKGVtYWlsKS50b0xvd2VyQ2FzZSgpKVxuICAgICAgICAgICAgLmlucHV0KFwicGhvbmVcIiwgc3FsLlZhckNoYXIsIHNhbml0aXplU3RyaW5nKHBob25lKSlcbiAgICAgICAgICAgIC5pbnB1dChcImhhc2hlZFBhc3N3b3JkXCIsIHNxbC5WYXJDaGFyLCBoYXNoZWRQYXNzd29yZClcbiAgICAgICAgICAgIC5pbnB1dChcInN0cmVldEFkZHJlc3NcIiwgc3FsLlZhckNoYXIsIHNhbml0aXplU3RyaW5nKHN0cmVldEFkZHJlc3MpKVxuICAgICAgICAgICAgLmlucHV0KFwiYnVpbGRpbmdOYW1lXCIsIHNxbC5WYXJDaGFyLCBzYW5pdGl6ZVN0cmluZyhidWlsZGluZ05hbWUpKVxuICAgICAgICAgICAgLmlucHV0KFwiZmxvb3JcIiwgc3FsLlZhckNoYXIsIHNhbml0aXplU3RyaW5nKGZsb29yKSlcbiAgICAgICAgICAgIC5pbnB1dChcImNpdHlcIiwgc3FsLlZhckNoYXIsIHNhbml0aXplU3RyaW5nKGNpdHkpKVxuICAgICAgICAgICAgLmlucHV0KFwicG9zdGFsQ29kZVwiLCBzcWwuVmFyQ2hhciwgc2FuaXRpemVTdHJpbmcocG9zdGFsQ29kZSkpXG4gICAgICAgICAgICAucXVlcnkoYFxuICAgICAgICAgICAgSU5TRVJUIElOVE8gW1VzZXJdIChGaXJzdF9OYW1lLCBMYXN0X05hbWUsIEVtYWlsLCBQaG9uZSwgUGFzc3dvcmRfSGFzaCwgU3RyZWV0X0FkZHJlc3MsIEJ1aWxkaW5nX05hbWUsIEZsb29yLCBDaXR5LCBQb3N0YWxfQ29kZSlcbiAgICAgICAgICAgIFZBTFVFUyhAZmlyc3ROYW1lLCBAbGFzdE5hbWUsIEBlbWFpbCwgQHBob25lLCBAaGFzaGVkUGFzc3dvcmQsIEBzdHJlZXRBZGRyZXNzLCBAYnVpbGRpbmdOYW1lLCBAZmxvb3IsIEBjaXR5LCBAcG9zdGFsQ29kZSlcbiAgICAgICAgICAgIGApO1xuXG4gICAgICAgIC8vIFNlbmRpbmcgc3VjY2VzcyBtZXNzYWdlXG4gICAgICAgIHJlcy5zdGF0dXMoMjAxKS5qc29uKHsgbWVzc2FnZTogXCJVc2VyIHJlZ2lzdGVyZWQgc3VjY2Vzc2Z1bGx5IVwiIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIC8vIEhhbmRsaW5nIHRoZSB1bmlxdWUgY29uc3RyYWludHMgZm9yIGVtYWlsIGFuZCBwaG9uZSBudW1iZXJzXG4gICAgICAgIC8vIDI2MjcgaXMgZm9yIHZpb2xhdGlvbiBvZiB0aGUgdW5pcXVlIGtleSBjb25zdHJhaW50LCBhbmQgMjYwMSBpcyBmb3IgdW5pcXVlIGluZGV4IHZpb2xhdGlvblxuICAgICAgICBpZiAoZXJyb3IubnVtYmVyID09PSAyNjI3IHx8IGVycm9yLm51bWJlciA9PT0gMjYwMSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA5KS5qc29uKHsgbWVzc2FnZTogXCJBbm90aGVyIGFjY291bnQgZXhpc3RzIGFscmVhZHkgZWl0aGVyIHdpdGggdGhpcyBlbWFpbCBhZGRyZXNzIG9yIHBob25lIG51bWJlci4gSWYgeW91IGhhdmUgYW5vdGhlciBhY2NvdW50LCBwbGVhc2UgdXNlIHRoYXQgb25lIGluc3RlYWQuXCIgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUaHJvd2luZyB0aGUgY29uc29sZSBlcnJvciBhbmQgNTAwIHN0YXR1cyBpbiBjYXNlIHNvbWV0aGluZyBnb2VzIHdyb25nLlxuICAgICAgICBjb25zb2xlLmVycm9yKFwiVW5leHBlY3RlZCBlcnJvciByZWdpc3RlcmluZyBhIG5ldyB1c2VyIGFjY291bnQ6IFwiLCBlcnJvcik7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogXCJBbiB1bmV4cGVjdGVkIGVycm9yIG9jY3VycmVkIHdoaWxlIHJlZ2lzdGVyaW5nIHRoZSB1c2VyLlwiIH0pO1xuICAgIH1cbn0pO1xuXG5cbi8vIEhhbmRsaW5nIHRoZSBsb2dnaW5nIGluIGZ1bmN0aW9uYWxpdHlcbmNvbnN0IGxvZ2luVXNlciA9IGFzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICAvLyBHZXR0aW5nIHRoZSBlbWFpbCBhbmQgcGFzc3dvcmQgdGhhdCB0aGUgdXNlciBpcyB0cnlpbmcgdG8gbG9naW4gd2l0aC5cbiAgICBjb25zdCB7IGVtYWlsLCBwYXNzd29yZCB9ID0gcmVxLmJvZHk7XG5cbiAgICAvLyBJbnB1dCB2YWxpZGF0aW9uLCBpZiBlaXRoZXIgZW1wdHkgdGhlbiBzZW5kIDQwMCBlcnJvclxuICAgIGlmICghZW1haWwgfHwgIXBhc3N3b3JkKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6IFwiWW91IGhhdmUgdG8gZW50ZXIgYm90aCB5b3VyIGVtYWlsIGFuZCB5b3VyIHBhc3N3b3JkXCIgfSk7XG4gICAgfVxuXG4gICAgLy8gVmFsaWRhdGUgZW1haWwgZm9ybWF0XG4gICAgaWYgKCFpc1ZhbGlkRW1haWwoZW1haWwpKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6IFwiUGxlYXNlIGVudGVyIGEgdmFsaWQgZW1haWwgYWRkcmVzcy5cIiB9KTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgICBjb25zdCBwb29sID0gZ2V0UG9vbCgpO1xuXG4gICAgICAgIC8vIFNlYXJjaGluZyBpbiB0aGUgZGF0YWJhc2UgZm9yIGEgdXNlciB3aXRoIHRoZSBzYW1lIGVtYWlsIHBhc3NlZCB0byBjaGVjayBpZiBleGlzdHNcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcG9vbC5yZXF1ZXN0KClcbiAgICAgICAgICAgIC5pbnB1dChcImVtYWlsXCIsIHNxbC5WYXJDaGFyLCBzYW5pdGl6ZVN0cmluZyhlbWFpbCkudG9Mb3dlckNhc2UoKSlcbiAgICAgICAgICAgIC5xdWVyeShgXG4gICAgICAgICAgICAgICAgU0VMRUNUIFVzZXJfSUQsIEZpcnN0X05hbWUsIExhc3RfTmFtZSwgRW1haWwsIFBhc3N3b3JkX0hhc2gsIGlzQWN0aXZlXG4gICAgICAgICAgICAgICAgRlJPTSBbVXNlcl1cbiAgICAgICAgICAgICAgICBXSEVSRSBFbWFpbCA9IEBlbWFpbFxuICAgICAgICAgICAgICAgIGApO1xuXG4gICAgICAgIC8vIElmIG5vIHJlc3VsdHMgcmV0dXJuZWQgZnJvbSB0aGUgcXVlcnksIHRoZW4gdGhlIGVtYWlsIGVudGVyZWQgaXMgaW52YWxpZFxuICAgICAgICBpZiAocmVzdWx0LnJlY29yZHNldC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6IFwiSW52YWxpZCBlbWFpbCBhZGRyZXNzIG9yIHBhc3N3b3JkLlwiIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTm93IHdlIGFyZSBnZXR0aW5nIHRoZSBmaXJzdCB1c2VyIHRoYXQgd2UgZ290IGhhdmluZyB0aGUgc2FtZSBlbWFpbCBhZGRyZXNzXG4gICAgICAgIGNvbnN0IHVzZXIgPSByZXN1bHQucmVjb3Jkc2V0WzBdO1xuICAgICAgICBpZiAoIXVzZXIuaXNBY3RpdmUpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMykuanNvbih7IG1lc3NhZ2U6IFwiWW91ciBhY2NvdW50IGlzIGRlYWN0aXZhdGVkLiBQbGVhc2UgY29udGFjdCB1cyB0byByZXNvbHZlIHRoaXMgaXNzdWUuXCIgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBVc2luZyBiY3J5cHQgdG8gY2hlY2sgaWYgdGhlIGVtYWlsIHBhc3NlZCBpcyB0aGUgc2FtZSBhcyB0aGUgaGFzaGVkIG9uZSBzdG9yZWQgaW4gdGhlIGRhdGFiYXNlXG4gICAgICAgIC8vIElmIG5vLCB0aHJvdyBhIDQwMSBlcnJvclxuICAgICAgICBjb25zdCBpc1Bhc3N3b3JkVmFsaWQgPSBhd2FpdCBiY3J5cHQuY29tcGFyZShwYXNzd29yZCwgdXNlci5QYXNzd29yZF9IYXNoKTtcbiAgICAgICAgaWYgKCFpc1Bhc3N3b3JkVmFsaWQpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6IFwiSW52YWxpZCBlbWFpbCBhZGRyZXNzIG9yIHBhc3N3b3JkLlwiIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSWYgdGhlIHBhc3N3b3JkIG1hdGNoZXMsIHRoZW4gY3JlYXRlIGEgdXNlciB0b2tlbiB1c2luZyBqd3QgYnkgc2lnbmluZyBpdCB3aXRoIHRoZSBVU0VSX0FDQ0VTU19UT0tFTlxuICAgICAgICAvLyBzdG9yZWQgaW4gdGhlIC5lbnYgZmlsZS4gVGhlIHRva2VuIGV4cGlyZXMgaW4gMSBkYXkuXG4gICAgICAgIGNvbnN0IHVzZXJUb2tlbiA9IGp3dC5zaWduKHtcbiAgICAgICAgICAgIGlkOiB1c2VyLlVzZXJfSUQsXG4gICAgICAgICAgICBmaXJzdE5hbWU6IHVzZXIuRmlyc3RfTmFtZSxcbiAgICAgICAgICAgIGxhc3ROYW1lOiB1c2VyLkxhc3RfTmFtZSxcbiAgICAgICAgICAgIGVtYWlsOiB1c2VyLkVtYWlsXG4gICAgICAgIH0sXG4gICAgICAgICAgICBwcm9jZXNzLmVudi5VU0VSX0FDQ0VTU19UT0tFTixcbiAgICAgICAgICAgIHsgZXhwaXJlc0luOiBcIjFkXCIgfVxuICAgICAgICApO1xuXG4gICAgICAgIC8vIElmIGEgY29va2llIGV4aXN0cyBhbHJlYWR5IGZvciB0aGUgdXNlciwgY2xlYXIgaXQuXG4gICAgICAgIGlmIChyZXEuY29va2llcy51c2VyX2FjY2Vzc190b2tlbikge1xuICAgICAgICAgICAgcmVzLmNsZWFyQ29va2llKCd1c2VyX2FjY2Vzc190b2tlbicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU3RvcmUgdGhlIG5ldyBjb29raWUgc3VjaCB0aGF0IGl0IGxhc3RzIDEgZGF5LCBhbmQgdGhyb3cgYSAyMDAgc3VjY2VzcyBtZXNzYWdlIHdpdGggc29tZSBkYXRhIGFib3V0IHRoZSB1c2VyXG4gICAgICAgIC8vIChpZCwgZmlyc3ROYW1lLCBsYXN0TmFtZSwgZW1haWwpXG4gICAgICAgIHJlcy5jb29raWUoJ3VzZXJfYWNjZXNzX3Rva2VuJywgdXNlclRva2VuLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGh0dHBPbmx5OiB0cnVlLFxuICAgICAgICAgICAgICAgIHNlY3VyZTogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiLFxuICAgICAgICAgICAgICAgIHNhbWVTaXRlOiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCIgPyAnc3RyaWN0JyA6ICdsYXgnLFxuICAgICAgICAgICAgICAgIG1heEFnZTogMjQgKiA2MCAqIDYwICogMTAwMFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiU3VjY2Vzc2Z1bGx5IGxvZ2dlZCBpbi5cIixcbiAgICAgICAgICAgIHVzZXI6IHtcbiAgICAgICAgICAgICAgICBpZDogdXNlci5Vc2VyX0lELFxuICAgICAgICAgICAgICAgIGZpcnN0TmFtZTogdXNlci5GaXJzdF9OYW1lLFxuICAgICAgICAgICAgICAgIGxhc3ROYW1lOiB1c2VyLkxhc3RfTmFtZSxcbiAgICAgICAgICAgICAgICBlbWFpbDogdXNlci5FbWFpbFxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuXG4gICAgICAgIC8vIElmIGFueXRoaW5nIGdvZXMgd3JvbmcsIGV4IGR1cGxpY2F0ZSBlbWFpbCwgdGhlbiB0aHJvdyBhbiBlcnJvci5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiTG9naW4gZXJyb3I6XCIsIGVycm9yKTtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiBcIkFuIGVycm9yIG9jY3VycmVkIGR1cmluZyBsb2dpbi5cIiB9KTtcbiAgICB9XG59KTtcblxuLy8gUmV0cmlldmluZyB1c2VyJ3MgcHJvZmlsZSBpbmZvcm1hdGlvblxuY29uc3QgZ2V0UHJvZmlsZSA9IGFzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCB1c2VySUQgPSByZXEudXNlcklEO1xuXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcG9vbCA9IGdldFBvb2woKTtcblxuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBvb2wucmVxdWVzdCgpXG4gICAgICAgICAgICAuaW5wdXQoXCJ1c2VySWRcIiwgc3FsLkludCwgdXNlcklEKVxuICAgICAgICAgICAgLnF1ZXJ5KGBcbiAgICAgICAgICAgIFNFTEVDVCBVc2VyX0lELCBGaXJzdF9OYW1lLCBMYXN0X05hbWUsIEVtYWlsLCBQaG9uZSwgU3RyZWV0X0FkZHJlc3MsIEJ1aWxkaW5nX05hbWUsIEZsb29yLCBDaXR5LCBQb3N0YWxfQ29kZSwgaXNBY3RpdmVcbiAgICAgICAgICAgIEZST00gW1VzZXJdXG4gICAgICAgICAgICBXSEVSRSBVc2VyX0lEID0gQHVzZXJJZFxuICAgICAgICAgICAgYCk7XG5cbiAgICAgICAgaWYgKHJlc3VsdC5yZWNvcmRzZXQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe21lc3NhZ2U6IFwiVXNlciBub3QgZm91bmQuXCJ9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHVzZXJEYXRhID0gcmVzdWx0LnJlY29yZHNldFswXTtcblxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IFxuICAgICAgICAgICAgZmlyc3ROYW1lOiB1c2VyRGF0YS5GaXJzdF9OYW1lLFxuICAgICAgICAgICAgbGFzdE5hbWU6IHVzZXJEYXRhLkxhc3RfTmFtZSxcbiAgICAgICAgICAgIGVtYWlsOiB1c2VyRGF0YS5FbWFpbCxcbiAgICAgICAgICAgIHBob25lOiB1c2VyRGF0YS5QaG9uZSxcbiAgICAgICAgICAgIHN0cmVldEFkZHJlc3M6IHVzZXJEYXRhLlN0cmVldF9BZGRyZXNzLFxuICAgICAgICAgICAgYnVpbGRpbmdOYW1lOiB1c2VyRGF0YS5CdWlsZGluZ19OYW1lLFxuICAgICAgICAgICAgZmxvb3I6IHVzZXJEYXRhLkZsb29yLFxuICAgICAgICAgICAgY2l0eTogdXNlckRhdGEuQ2l0eSxcbiAgICAgICAgICAgIHBvc3RhbENvZGU6IHVzZXJEYXRhLlBvc3RhbF9Db2RlLFxuICAgICAgICAgICAgaXNBY3RpdmU6IHVzZXJEYXRhLmlzQWN0aXZlXG4gICAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIC8vIFRocm93aW5nIHRoZSBjb25zb2xlIGVycm9yIGFuZCA1MDAgc3RhdHVzIGluIGNhc2Ugc29tZXRoaW5nIGdvZXMgd3JvbmcuXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJVbmV4cGVjdGVkIGVycm9yIG9jY3VycmVkIHdoZW4gdHJ5aW5nIHRvIGdldCBwcm9maWxlOiBcIiwgZXJyb3IpO1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IG1lc3NhZ2U6IFwiQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZCB3aGlsZSBnZXR0aW5nIHByb2ZpbGUuXCIgfSk7XG4gICAgfVxufSk7XG5cbi8vIFVwZGF0aW5nIHVzZXIncyBwcm9maWxlIGluZm9ybWF0aW9uXG5jb25zdCB1cGRhdGVQcm9maWxlID0gYXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHtmaXJzdE5hbWUsIGxhc3ROYW1lLCBlbWFpbCwgcGhvbmUsIHN0cmVldEFkZHJlc3MsIGJ1aWxkaW5nTmFtZSwgZmxvb3IsIGNpdHksIHBvc3RhbENvZGV9ID0gcmVxLmJvZHk7XG4gICAgY29uc3QgdXNlcklEID0gcmVxLnVzZXJJRDtcblxuXG4gICAgLy8gQ2hlY2tpbmcgaWYgYW55IG9mIHRoZW0gaXMgZW1wdHksIGlmIHllcyB0aGVuIHdlIHRocm93IGEgNDAwIFxuICAgIGlmICghZmlyc3ROYW1lIHx8ICFsYXN0TmFtZSB8fCAhZW1haWwgfHwgIXBob25lIHx8ICFzdHJlZXRBZGRyZXNzIHx8ICFidWlsZGluZ05hbWUgfHwgIWZsb29yIHx8ICFjaXR5IHx8ICFwb3N0YWxDb2RlKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6IFwiWW91IGhhdmUgdG8gaW5zZXJ0IGFsbCBwcm9maWxlIGRhdGEgdG8gdXBkYXRlLlwiIH0pO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRlIGZpcnN0IG5hbWUgZm9ybWF0XG4gICAgaWYgKCFpc1ZhbGlkTmFtZShmaXJzdE5hbWUpKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6IFwiRmlyc3QgbmFtZSBtdXN0IGJlIDItMzAgY2hhcmFjdGVycyBhbmQgY29udGFpbiBvbmx5IGxldHRlcnMuXCIgfSk7XG4gICAgfVxuXG4gICAgLy8gVmFsaWRhdGUgbGFzdCBuYW1lIGZvcm1hdFxuICAgIGlmICghaXNWYWxpZE5hbWUobGFzdE5hbWUpKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6IFwiTGFzdCBuYW1lIG11c3QgYmUgMi0zMCBjaGFyYWN0ZXJzIGFuZCBjb250YWluIG9ubHkgbGV0dGVycy5cIiB9KTtcbiAgICB9XG5cbiAgICAvLyBWYWxpZGF0ZSBlbWFpbCBmb3JtYXRcbiAgICBpZiAoIWlzVmFsaWRFbWFpbChlbWFpbCkpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogXCJQbGVhc2UgZW50ZXIgYSB2YWxpZCBlbWFpbCBhZGRyZXNzLlwiIH0pO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRlIHBob25lIGZvcm1hdFxuICAgIGlmICghaXNWYWxpZFBob25lKHBob25lKSkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiBcIlBsZWFzZSBlbnRlciBhIHZhbGlkIHBob25lIG51bWJlci5cIiB9KTtcbiAgICB9XG5cbiAgICAvLyBWYWxpZGF0ZSBhZGRyZXNzIGZpZWxkcyBsZW5ndGhcbiAgICBpZiAoc3RyZWV0QWRkcmVzcy5sZW5ndGggPiAyMDApIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogXCJTdHJlZXQgYWRkcmVzcyBjYW5ub3QgZXhjZWVkIDIwMCBjaGFyYWN0ZXJzLlwiIH0pO1xuICAgIH1cblxuICAgIGlmIChidWlsZGluZ05hbWUgJiYgYnVpbGRpbmdOYW1lLmxlbmd0aCA+IDEwMCkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiBcIkJ1aWxkaW5nIG5hbWUgY2Fubm90IGV4Y2VlZCAxMDAgY2hhcmFjdGVycy5cIiB9KTtcbiAgICB9XG5cbiAgICBpZiAoY2l0eS5sZW5ndGggPiA1MCkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiBcIkNpdHkgbmFtZSBjYW5ub3QgZXhjZWVkIDUwIGNoYXJhY3RlcnMuXCIgfSk7XG4gICAgfVxuXG4gICAgLy8gV2Ugbm93IHRyeSB0byBhY2Nlc3MgdGhlIGRhdGFiYXNlIHRvIGluc2VydCB0aGUgdXNlclxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHBvb2wgPSBnZXRQb29sKCk7XG5cbiAgICAgICAgLy8gVXBkYXRpbmcgdGhlIHVzZXIgZGF0YSBcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcG9vbC5yZXF1ZXN0KClcbiAgICAgICAgICAgIC5pbnB1dChcInVzZXJJZFwiLCBzcWwuSW50LCB1c2VySUQpXG4gICAgICAgICAgICAuaW5wdXQoXCJmaXJzdE5hbWVcIiwgc3FsLlZhckNoYXIsIHNhbml0aXplU3RyaW5nKGZpcnN0TmFtZSkpXG4gICAgICAgICAgICAuaW5wdXQoXCJsYXN0TmFtZVwiLCBzcWwuVmFyQ2hhciwgc2FuaXRpemVTdHJpbmcobGFzdE5hbWUpKVxuICAgICAgICAgICAgLmlucHV0KFwiZW1haWxcIiwgc3FsLlZhckNoYXIsIHNhbml0aXplU3RyaW5nKGVtYWlsKS50b0xvd2VyQ2FzZSgpKVxuICAgICAgICAgICAgLmlucHV0KFwicGhvbmVcIiwgc3FsLlZhckNoYXIsIHNhbml0aXplU3RyaW5nKHBob25lKSlcbiAgICAgICAgICAgIC5pbnB1dChcInN0cmVldEFkZHJlc3NcIiwgc3FsLlZhckNoYXIsIHNhbml0aXplU3RyaW5nKHN0cmVldEFkZHJlc3MpKVxuICAgICAgICAgICAgLmlucHV0KFwiYnVpbGRpbmdOYW1lXCIsIHNxbC5WYXJDaGFyLCBzYW5pdGl6ZVN0cmluZyhidWlsZGluZ05hbWUpKVxuICAgICAgICAgICAgLmlucHV0KFwiZmxvb3JcIiwgc3FsLlZhckNoYXIsIHNhbml0aXplU3RyaW5nKGZsb29yKSlcbiAgICAgICAgICAgIC5pbnB1dChcImNpdHlcIiwgc3FsLlZhckNoYXIsIHNhbml0aXplU3RyaW5nKGNpdHkpKVxuICAgICAgICAgICAgLmlucHV0KFwicG9zdGFsQ29kZVwiLCBzcWwuVmFyQ2hhciwgc2FuaXRpemVTdHJpbmcocG9zdGFsQ29kZSkpXG4gICAgICAgICAgICAucXVlcnkoYFxuICAgICAgICAgICAgVVBEQVRFIFtVc2VyXSBcbiAgICAgICAgICAgIFNFVCBGaXJzdF9OYW1lID0gQGZpcnN0TmFtZSwgTGFzdF9OYW1lID0gQGxhc3ROYW1lLCBFbWFpbCA9IEBlbWFpbCwgUGhvbmUgPSBAcGhvbmUsIFN0cmVldF9BZGRyZXNzID0gQHN0cmVldEFkZHJlc3MsIEJ1aWxkaW5nX05hbWUgPSBAYnVpbGRpbmdOYW1lLFxuICAgICAgICAgICAgICAgIEZsb29yID0gQGZsb29yLCBDaXR5ID0gQGNpdHksIFBvc3RhbF9Db2RlID0gQHBvc3RhbENvZGUsIG1vZGlmaWVkQXQgPSBHRVREQVRFKClcbiAgICAgICAgICAgIFdIRVJFIFVzZXJfSUQgPSBAdXNlcklkXG4gICAgICAgICAgICAgICAgYCk7XG5cbiAgICAgICAgaWYgKHJlc3VsdC5yb3dzQWZmZWN0ZWRbMF0gPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7bWVzc2FnZTogXCJVc2VyIG5vdCBmb3VuZCBvciBubyBjaGFuZ2VzIG1hZGUuXCJ9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNlbmRpbmcgc3VjY2VzcyBtZXNzYWdlXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgbWVzc2FnZTogXCJVc2VyIHByb2ZpbGUgdXBkYXRlZCBzdWNjZXNzZnVsbHkhXCIgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgLy8gSGFuZGxpbmcgdGhlIHVuaXF1ZSBjb25zdHJhaW50cyBmb3IgZW1haWwgYW5kIHBob25lIG51bWJlcnNcbiAgICAgICAgLy8gMjYyNyBpcyBmb3IgdmlvbGF0aW9uIG9mIHRoZSB1bmlxdWUga2V5IGNvbnN0cmFpbnQsIGFuZCAyNjAxIGlzIGZvciB1bmlxdWUgaW5kZXggdmlvbGF0aW9uXG4gICAgICAgIGlmIChlcnJvci5udW1iZXIgPT09IDI2MjcgfHwgZXJyb3IubnVtYmVyID09PSAyNjAxKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDkpLmpzb24oeyBtZXNzYWdlOiBcIkFub3RoZXIgYWNjb3VudCBleGlzdHMgYWxyZWFkeSBlaXRoZXIgd2l0aCB0aGlzIGVtYWlsIGFkZHJlc3Mgb3IgcGhvbmUgbnVtYmVyLiBJZiB5b3UgaGF2ZSBhbm90aGVyIGFjY291bnQsIHBsZWFzZSB1c2UgdGhhdCBvbmUgaW5zdGVhZC5cIiB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRocm93aW5nIHRoZSBjb25zb2xlIGVycm9yIGFuZCA1MDAgc3RhdHVzIGluIGNhc2Ugc29tZXRoaW5nIGdvZXMgd3JvbmcuXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJVbmV4cGVjdGVkIGVycm9yIHdoZW4gdXBkYXRpbmcgcHJvZmlsZTogXCIsIGVycm9yKTtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiBcIkFuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQgd2hpbGUgdXBkYXRpbmcgdGhlIHVzZXIncyBwcm9maWxlLlwiIH0pO1xuICAgIH1cblxufSk7XG5cbi8vIExvZ2dpbmcgb3V0IGZ1bmN0aW9uYWxpdHkgYnkgY2xlYXJpbmcgdGhlIHVzZXIncyBjb29raW5nIGFuZCBzZW5kaW5nIGEgc3VjY2VzcyBtZXNzYWdlXG5jb25zdCBsb2dvdXRVc2VyID0gYXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIHJlcy5jbGVhckNvb2tpZSgndXNlcl9hY2Nlc3NfdG9rZW4nKTtcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IG1lc3NhZ2U6IFwiU3VjY2Vzc2Z1bGx5IGxvZ2dlZCBvdXQuXCIgfSk7XG59KVxuXG5tb2R1bGUuZXhwb3J0cyA9IHsgcmVnaXN0ZXJVc2VyLCBsb2dpblVzZXIsIGxvZ291dFVzZXIsIGdldFByb2ZpbGUsIHVwZGF0ZVByb2ZpbGUgfTsiXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxJQUFNQSxZQUFZLEdBQUdDLE9BQU8sQ0FBQyx1QkFBdUIsQ0FBQztBQUNyRCxJQUFNQyxNQUFNLEdBQUdELE9BQU8sQ0FBQyxRQUFRLENBQUM7QUFDaEMsSUFBTUUsR0FBRyxHQUFHRixPQUFPLENBQUMsY0FBYyxDQUFDOztBQUVuQztBQUNBO0FBQ0EsSUFB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QUFBOUUsSUFBQTtZQUFBO1VBQUE7VUFBQSxPQUFBOEUsU0FBQSxDQUFBNUUsTUFBQSxXQUN2Q3RCLEdBQUcsQ0FBQ3VCLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1lBQUVDLE9BQU8sRUFBRTtVQUEySSxDQUFDLENBQUM7UUFBQTtVQUd4TDtVQUNBVyxPQUFPLENBQUNDLEtBQUssQ0FBQywwQ0FBMEMsRUFBQTRELEdBQU8sQ0FBQztVQUNoRWpHLEdBQUcsQ0FBQ3VCLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1lBQUVDLE9BQU8sRUFBRTtVQUFrRSxDQUFDLENBQUM7UUFBQztRQUFBO1VBQUEsT0FBQXlFLFNBQUEsQ0FBQTVELElBQUE7TUFBQTtJQUFBLEdBQUF5RCxRQUFBO0VBQUEsQ0FHNUc7RUFBQSxpQkFBQUssR0FBQSxFQUFBQyxHQUFBO0lBQUEsT0FBQVAsS0FBQSxDQUFBckQsS0FBQSxPQUFBQyxTQUFBO0VBQUE7QUFBQSxJQUFDOztBQUVGO0FBQ0EsSUFBTTRELFVBQVUsR0FBRzFILFlBQVk7RUFBQSxJQUFBMkgsS0FBQSxPQUFBNUcsa0JBQUEsMEJBQUFDLFlBQUEsWUFBQUMsSUFBQSxDQUFDLFNBQUEyRyxTQUFPekcsR0FBRyxFQUFFQyxHQUFHO0lBQUEsT0FBQUosWUFBQSxZQUFBcUIsSUFBQSxXQUFBd0YsU0FBQTtNQUFBLGtCQUFBQSxTQUFBLENBQUF0RixJQUFBLEdBQUFzRixTQUFBLENBQUFyRixJQUFBO1FBQUE7VUFDM0NwQixHQUFHLENBQUNvRSxXQUFXLENBQUMsbUJBQW1CLENBQUM7VUFDcENwRSxHQUFHLENBQUN1QixNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztZQUFFQyxPQUFPLEVBQUU7VUFBMkIsQ0FBQyxDQUFDO1FBQUM7UUFBQTtVQUFBLE9BQUFnRixTQUFBLENBQUFuRSxJQUFBO01BQUE7SUFBQSxHQUFBa0UsUUFBQTtFQUFBLENBQ2pFO0VBQUEsaUJBQUFFLEdBQUEsRUFBQUMsR0FBQTtJQUFBLE9BQUFKLEtBQUEsQ0FBQTlELEtBQUEsT0FBQUMsU0FBQTtFQUFBO0FBQUEsSUFBQztBQUVGa0UsTUFBTSxDQUFDQyxPQUFPLEdBQUc7RUFBRXBILFlBQVksRUFBWkEsWUFBWTtFQUFFa0QsU0FBUyxFQUFUQSxTQUFTO0VBQUUyRCxVQUFVLEVBQVZBLFVBQVU7RUFBRXpCLFVBQVUsRUFBVkEsVUFBVTtFQUFFZ0IsYUFBYSxFQUFiQTtBQUFjLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["asyncHandler","require","bcrypt","jwt","_require","getPool","sql","_require2","isValidEmail","isValidPhone","isValidPassword","isValidName","sanitizeString","registerUser","_ref","_asyncToGenerator2","_regenerator","mark","_callee","req","res","_req$body","firstName","lastName","email","phone","password","streetAddress","buildingName","floor","city","postalCode","passwordValidation","pool","hashedPassword","result","_t","wrap","_context","prev","next","body","abrupt","status","json","message","valid","length","hash","sent","request","input","VarChar","toLowerCase","query","number","console","error","stop","_x","_x2","apply","arguments","loginUser","_ref2","_callee2","_req$body2","user","isPasswordValid","userToken","_t2","_context2","recordset","isActive","compare","Password_Hash","sign","id","User_ID","First_Name","Last_Name","Email","process","env","USER_ACCESS_TOKEN","expiresIn","cookies","user_access_token","clearCookie","cookie","httpOnly","secure","NODE_ENV","sameSite","maxAge","_x3","_x4","getProfile","_ref3","_callee3","userID","userData","_t3","_context3","Int","Phone","Street_Address","Building_Name","Floor","City","Postal_Code","_x5","_x6","updateProfile","_ref4","_callee4","_req$body3","_t4","_context4","rowsAffected","_x7","_x8","logoutUser","_ref5","_callee5","_context5","_x9","_x0","module","exports"],"sourceRoot":"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/controllers/","sources":["UserController.js"],"sourcesContent":["/**\n * The below controller provides the following functionalities for a user: registering, logging in and logging out.\n * \n * For storing the password, bcrypt is used to hash and jwt (jsonwebtoken) is used to sign a token and store it as cookie.\n */\n\nconst asyncHandler = require(\"express-async-handler\");\nconst bcrypt = require(\"bcrypt\");\nconst jwt = require(\"jsonwebtoken\");\n\n// sql needed for the type definitions in .input\n// getPool is to do queries\nconst { getPool, sql } = require(\"../config/database\");\n\n// Import validation utilities\nconst { isValidEmail, isValidPhone, isValidPassword, isValidName, sanitizeString } = require(\"../utils/validators\");\n\n\n// Handles the registering functionality\nconst registerUser = asyncHandler(async (req, res) => {\n    // Getting the needed data from the request body\n    const { firstName, lastName, email, phone, password, streetAddress, buildingName, floor, city, postalCode } = req.body;\n\n    // Checking if any of them is empty, if yes then we throw a 400 \n    if (!firstName || !lastName || !email || !phone || !password || !streetAddress || !buildingName || !floor || !city || !postalCode) {\n        return res.status(400).json({ message: \"You have to insert all data to register.\" });\n    }\n\n    // Validate first name format\n    if (!isValidName(firstName)) {\n        return res.status(400).json({ message: \"First name must be 2-30 characters and contain only letters.\" });\n    }\n\n    // Validate last name format\n    if (!isValidName(lastName)) {\n        return res.status(400).json({ message: \"Last name must be 2-30 characters and contain only letters.\" });\n    }\n\n    // Validate email format\n    if (!isValidEmail(email)) {\n        return res.status(400).json({ message: \"Please enter a valid email address.\" });\n    }\n\n    // Validate phone format\n    if (!isValidPhone(phone)) {\n        return res.status(400).json({ message: \"Please enter a valid phone number.\" });\n    }\n\n    // Validate password strength\n    const passwordValidation = isValidPassword(password);\n    if (!passwordValidation.valid) {\n        return res.status(400).json({ message: passwordValidation.message });\n    }\n\n    // Validate address fields length\n    if (streetAddress.length > 200) {\n        return res.status(400).json({ message: \"Street address cannot exceed 200 characters.\" });\n    }\n\n    if (buildingName && buildingName.length > 100) {\n        return res.status(400).json({ message: \"Building name cannot exceed 100 characters.\" });\n    }\n\n    if (city.length > 50) {\n        return res.status(400).json({ message: \"City name cannot exceed 50 characters.\" });\n    }\n\n    // We now try to access the database to insert the user\n    try {\n        const pool = getPool();\n\n        // Hashing the password before storing\n        const hashedPassword = await bcrypt.hash(password, 11);\n\n        // Inserting the user into the database User table (sanitize inputs)\n        const result = await pool.request()\n            .input(\"firstName\", sql.VarChar, sanitizeString(firstName))\n            .input(\"lastName\", sql.VarChar, sanitizeString(lastName))\n            .input(\"email\", sql.VarChar, sanitizeString(email).toLowerCase())\n            .input(\"phone\", sql.VarChar, sanitizeString(phone))\n            .input(\"hashedPassword\", sql.VarChar, hashedPassword)\n            .input(\"streetAddress\", sql.VarChar, sanitizeString(streetAddress))\n            .input(\"buildingName\", sql.VarChar, sanitizeString(buildingName))\n            .input(\"floor\", sql.VarChar, sanitizeString(floor))\n            .input(\"city\", sql.VarChar, sanitizeString(city))\n            .input(\"postalCode\", sql.VarChar, sanitizeString(postalCode))\n            .query(`\n            INSERT INTO [User] (First_Name, Last_Name, Email, Phone, Password_Hash, Street_Address, Building_Name, Floor, City, Postal_Code)\n            VALUES(@firstName, @lastName, @email, @phone, @hashedPassword, @streetAddress, @buildingName, @floor, @city, @postalCode)\n            `);\n\n        // Sending success message\n        res.status(201).json({ message: \"User registered successfully!\" });\n    } catch (error) {\n        // Handling the unique constraints for email and phone numbers\n        // 2627 is for violation of the unique key constraint, and 2601 is for unique index violation\n        if (error.number === 2627 || error.number === 2601) {\n            return res.status(409).json({ message: \"Another account exists already either with this email address or phone number. If you have another account, please use that one instead.\" });\n        }\n\n        // Throwing the console error and 500 status in case something goes wrong.\n        console.error(\"Unexpected error registering a new user account: \", error);\n        res.status(500).json({ message: \"An unexpected error occurred while registering the user.\" });\n    }\n});\n\n\n// Handling the logging in functionality\nconst loginUser = asyncHandler(async (req, res) => {\n    // Getting the email and password that the user is trying to login with.\n    const { email, password } = req.body;\n\n    // Input validation, if either empty then send 400 error\n    if (!email || !password) {\n        return res.status(400).json({ message: \"You have to enter both your email and your password\" });\n    }\n\n    // Validate email format\n    if (!isValidEmail(email)) {\n        return res.status(400).json({ message: \"Please enter a valid email address.\" });\n    }\n\n    try {\n        const pool = getPool();\n\n        // Searching in the database for a user with the same email passed to check if exists\n        const result = await pool.request()\n            .input(\"email\", sql.VarChar, sanitizeString(email).toLowerCase())\n            .query(`\n                SELECT User_ID, First_Name, Last_Name, Email, Password_Hash, isActive\n                FROM [User]\n                WHERE Email = @email\n                `);\n\n        // If no results returned from the query, then the email entered is invalid\n        if (result.recordset.length === 0) {\n            return res.status(401).json({ message: \"Invalid email address or password.\" });\n        }\n\n        // Now we are getting the first user that we got having the same email address\n        const user = result.recordset[0];\n        if (!user.isActive) {\n            return res.status(403).json({ message: \"Your account is deactivated. Please contact us to resolve this issue.\" });\n        }\n\n        // Using bcrypt to check if the email passed is the same as the hashed one stored in the database\n        // If no, throw a 401 error\n        const isPasswordValid = await bcrypt.compare(password, user.Password_Hash);\n        if (!isPasswordValid) {\n            return res.status(401).json({ message: \"Invalid email address or password.\" });\n        }\n\n        // If the password matches, then create a user token using jwt by signing it with the USER_ACCESS_TOKEN\n        // stored in the .env file. The token expires in 1 day.\n        const userToken = jwt.sign({\n            id: user.User_ID,\n            firstName: user.First_Name,\n            lastName: user.Last_Name,\n            email: user.Email\n        },\n            process.env.USER_ACCESS_TOKEN,\n            { expiresIn: \"1d\" }\n        );\n\n        // If a cookie exists already for the user, clear it.\n        if (req.cookies.user_access_token) {\n            res.clearCookie('user_access_token');\n        }\n\n        // Store the new cookie such that it lasts 1 day, and throw a 200 success message with some data about the user\n        // (id, firstName, lastName, email)\n        res.cookie('user_access_token', userToken,\n            {\n                httpOnly: true,\n                secure: process.env.NODE_ENV === \"production\",\n                sameSite: process.env.NODE_ENV === \"production\" ? 'strict' : 'lax',\n                maxAge: 24 * 60 * 60 * 1000\n            });\n        res.status(200).json({\n            message: \"Successfully logged in.\",\n            user: {\n                id: user.User_ID,\n                firstName: user.First_Name,\n                lastName: user.Last_Name,\n                email: user.Email\n            }\n        })\n\n        // If anything goes wrong, ex duplicate email, then throw an error.\n    } catch (error) {\n        console.error(\"Login error:\", error);\n        res.status(500).json({ message: \"An error occurred during login.\" });\n    }\n});\n\n// Retrieving user's profile information\nconst getProfile = asyncHandler(async (req, res) => {\n    const userID = req.userID;\n\n    try {\n        const pool = getPool();\n\n\n        const result = await pool.request()\n            .input(\"userId\", sql.Int, userID)\n            .query(`\n            SELECT User_ID, First_Name, Last_Name, Email, Phone, Street_Address, Building_Name, Floor, City, Postal_Code, isActive\n            FROM [User]\n            WHERE User_ID = @userId\n            `);\n\n        if (result.recordset.length === 0) {\n            return res.status(404).json({message: \"User not found.\"});\n        }\n\n        const userData = result.recordset[0];\n\n        res.status(200).json({ \n            firstName: userData.First_Name,\n            lastName: userData.Last_Name,\n            email: userData.Email,\n            phone: userData.Phone,\n            streetAddress: userData.Street_Address,\n            buildingName: userData.Building_Name,\n            floor: userData.Floor,\n            city: userData.City,\n            postalCode: userData.Postal_Code,\n            isActive: userData.isActive\n        });\n    } catch (error) {\n        // Throwing the console error and 500 status in case something goes wrong.\n        console.error(\"Unexpected error occurred when trying to get profile: \", error);\n        res.status(500).json({ message: \"An unexpected error occurred while getting profile.\" });\n    }\n});\n\n// Updating user's profile information\nconst updateProfile = asyncHandler(async (req, res) => {\n    const {firstName, lastName, email, phone, streetAddress, buildingName, floor, city, postalCode} = req.body;\n    const userID = req.userID;\n\n\n    // Checking if any of them is empty, if yes then we throw a 400 \n    if (!firstName || !lastName || !email || !phone || !streetAddress || !buildingName || !floor || !city || !postalCode) {\n        return res.status(400).json({ message: \"You have to insert all profile data to update.\" });\n    }\n\n    // Validate first name format\n    if (!isValidName(firstName)) {\n        return res.status(400).json({ message: \"First name must be 2-30 characters and contain only letters.\" });\n    }\n\n    // Validate last name format\n    if (!isValidName(lastName)) {\n        return res.status(400).json({ message: \"Last name must be 2-30 characters and contain only letters.\" });\n    }\n\n    // Validate email format\n    if (!isValidEmail(email)) {\n        return res.status(400).json({ message: \"Please enter a valid email address.\" });\n    }\n\n    // Validate phone format\n    if (!isValidPhone(phone)) {\n        return res.status(400).json({ message: \"Please enter a valid phone number.\" });\n    }\n\n    // Validate address fields length\n    if (streetAddress.length > 200) {\n        return res.status(400).json({ message: \"Street address cannot exceed 200 characters.\" });\n    }\n\n    if (buildingName && buildingName.length > 100) {\n        return res.status(400).json({ message: \"Building name cannot exceed 100 characters.\" });\n    }\n\n    if (city.length > 50) {\n        return res.status(400).json({ message: \"City name cannot exceed 50 characters.\" });\n    }\n\n    // We now try to access the database to insert the user\n    try {\n        const pool = getPool();\n\n        // Updating the user data \n        const result = await pool.request()\n            .input(\"userId\", sql.Int, userID)\n            .input(\"firstName\", sql.VarChar, sanitizeString(firstName))\n            .input(\"lastName\", sql.VarChar, sanitizeString(lastName))\n            .input(\"email\", sql.VarChar, sanitizeString(email).toLowerCase())\n            .input(\"phone\", sql.VarChar, sanitizeString(phone))\n            .input(\"streetAddress\", sql.VarChar, sanitizeString(streetAddress))\n            .input(\"buildingName\", sql.VarChar, sanitizeString(buildingName))\n            .input(\"floor\", sql.VarChar, sanitizeString(floor))\n            .input(\"city\", sql.VarChar, sanitizeString(city))\n            .input(\"postalCode\", sql.VarChar, sanitizeString(postalCode))\n            .query(`\n            UPDATE [User] \n            SET First_Name = @firstName, Last_Name = @lastName, Email = @email, Phone = @phone, Street_Address = @streetAddress, Building_Name = @buildingName,\n                Floor = @floor, City = @city, Postal_Code = @postalCode, modifiedAt = GETDATE()\n            WHERE User_ID = @userId\n                `);\n\n        if (result.rowsAffected[0] === 0) {\n            return res.status(404).json({message: \"User not found or no changes made.\"});\n        }\n\n        // Sending success message\n        res.status(200).json({ message: \"User profile updated successfully!\" });\n    } catch (error) {\n        // Handling the unique constraints for email and phone numbers\n        // 2627 is for violation of the unique key constraint, and 2601 is for unique index violation\n        if (error.number === 2627 || error.number === 2601) {\n            return res.status(409).json({ message: \"Another account exists already either with this email address or phone number. If you have another account, please use that one instead.\" });\n        }\n\n        // Throwing the console error and 500 status in case something goes wrong.\n        console.error(\"Unexpected error when updating profile: \", error);\n        res.status(500).json({ message: \"An unexpected error occurred while updating the user's profile.\" });\n    }\n\n});\n\n// Logging out functionality by clearing the user's cooking and sending a success message\nconst logoutUser = asyncHandler(async (req, res) => {\n    res.clearCookie('user_access_token');\n    res.status(200).json({ message: \"Successfully logged out.\" });\n})\n\nmodule.exports = { registerUser, loginUser, logoutUser, getProfile, updateProfile };"],"mappings":"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","ignoreList":[]}},"mtime":1764708215024},"{\"assumptions\":{},\"sourceRoot\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/utils/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end\",\"filename\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/utils/validators.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"_exploded\":true,\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"VoidPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$48\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$49\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"\"use strict\";\n\n/**\n * Input validation utility functions for the FixAppliance API.\n * \n * Provides validation for:\n *  - Email format\n *  - Phone number format (Lebanese format)\n *  - Password strength\n *  - Name format\n */\n\n/**\n * Validates email format using regex\n * @param {string} email - The email to validate\n * @returns {boolean} - True if valid, false otherwise\n */\nvar isValidEmail = function isValidEmail(email) {\n  if (!email || typeof email !== 'string') return false;\n\n  // Email regex that requires at least one dot in domain with proper TLD (2-10 chars)\n  var emailRegex = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*\\.[a-zA-Z]{2,10}$/;\n  return emailRegex.test(email.trim()) && email.length <= 100;\n};\n\n/**\n * Validates phone number format (Lebanese format)\n * \n * Landlines (8 digits total, with leading 0):\n *   - 01 XXX XXX (Beirut)\n *   - 04, 05, 09 XXX XXX (Mount Lebanon)\n *   - 06 XXX XXX (North)\n *   - 07 XXX XXX (South)\n *   - 08 XXX XXX (Bekaa)\n * \n * Mobile with leading 0 (8 digits total):\n *   - 03 XXX XXX (Alfa/Touch)\n * \n * Mobile without leading 0 (8 digits total):\n *   - 70, 71, 76, 78, 79, 81 XXX XXX (Alfa/Touch)\n * \n * With country code: +961 or 961 followed by number without leading 0\n * \n * @param {string} phone - The phone number to validate\n * @returns {boolean} - True if valid, false otherwise\n */\nvar isValidPhone = function isValidPhone(phone) {\n  if (!phone || typeof phone !== 'string') return false;\n\n  // Remove spaces and dashes for validation\n  var cleanPhone = phone.replace(/[\\s-]/g, '');\n\n  // Landline with leading 0: 01, 04, 05, 06, 07, 08, 09 + 6 digits = 8 total\n  var landlineRegex = /^0[1456789][0-9]{6}$/;\n\n  // Mobile 03 with leading 0: 03 + 6 digits = 8 total\n  var mobile03Regex = /^03[0-9]{6}$/;\n\n  // Mobile without leading 0: 70, 71, 76, 78, 79, 81 + 6 digits = 8 total\n  var mobileRegex = /^(70|71|76|78|79|81)[0-9]{6}$/;\n\n  // With country code +961 or 961: followed by number without leading 0\n  // Landline: 961 + 1/4/5/6/7/8/9 + 6 digits\n  var intlLandlineRegex = /^(\\+?961)[1456789][0-9]{6}$/;\n\n  // Mobile with intl code: 961 + 3 + 6 digits OR 961 + 70/71/76/78/79/81 + 6 digits\n  var intlMobileRegex = /^(\\+?961)(3[0-9]{6}|(70|71|76|78|79|81)[0-9]{6})$/;\n  return landlineRegex.test(cleanPhone) || mobile03Regex.test(cleanPhone) || mobileRegex.test(cleanPhone) || intlLandlineRegex.test(cleanPhone) || intlMobileRegex.test(cleanPhone);\n};\n\n/**\n * Validates password strength\n * Requirements: minimum 8 characters, at least one uppercase, one lowercase, one number\n * @param {string} password - The password to validate\n * @returns {{valid: boolean, message: string}} - Validation result with message\n */\nvar isValidPassword = function isValidPassword(password) {\n  if (!password || typeof password !== 'string') {\n    return {\n      valid: false,\n      message: \"Password is required.\"\n    };\n  }\n  if (password.length < 3) {\n    return {\n      valid: false,\n      message: \"Password must be at least 3 characters long.\"\n    };\n  }\n  if (password.length > 100) {\n    return {\n      valid: false,\n      message: \"Password cannot exceed 100 characters.\"\n    };\n  }\n\n  // if (!/[a-z]/.test(password)) {\n  //     return { valid: false, message: \"Password must contain at least one lowercase letter.\" };\n  // }\n\n  // if (!/[A-Z]/.test(password)) {\n  //     return { valid: false, message: \"Password must contain at least one uppercase letter.\" };\n  // }\n\n  // if (!/[0-9]/.test(password)) {\n  //     return { valid: false, message: \"Password must contain at least one number.\" };\n  // }\n\n  return {\n    valid: true,\n    message: \"Password is valid.\"\n  };\n};\n\n/**\n * Validates name format (first name, last name)\n * Only allows letters, spaces, hyphens, and apostrophes\n * @param {string} name - The name to validate\n * @param {number} maxLength - Maximum allowed length (default: 30)\n * @returns {boolean} - True if valid, false otherwise\n */\nvar isValidName = function isValidName(name) {\n  var maxLength = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 30;\n  if (!name || typeof name !== 'string') return false;\n  var trimmedName = name.trim();\n\n  // Must be between 2 and maxLength characters, only letters, spaces, hyphens, apostrophes\n  var nameRegex = /^[a-zA-Z\\u0600-\\u06FF\\s'-]{2,}$/;\n  return nameRegex.test(trimmedName) && trimmedName.length <= maxLength;\n};\n\n/**\n * Sanitizes string input by trimming whitespace\n * @param {string} input - The input to sanitize\n * @returns {string} - Sanitized string or empty string if invalid\n */\nvar sanitizeString = function sanitizeString(input) {\n  if (!input || typeof input !== 'string') return '';\n  return input.trim();\n};\n\n/**\n * Validates that a string doesn't exceed a maximum length\n * @param {string} str - The string to validate\n * @param {number} maxLength - Maximum allowed length\n * @returns {boolean} - True if valid, false otherwise\n */\nvar isValidLength = function isValidLength(str, maxLength) {\n  if (!str || typeof str !== 'string') return false;\n  return str.trim().length <= maxLength;\n};\nmodule.exports = {\n  isValidEmail: isValidEmail,\n  isValidPhone: isValidPhone,\n  isValidPassword: isValidPassword,\n  isValidName: isValidName,\n  sanitizeString: sanitizeString,\n  isValidLength: isValidLength\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJpc1ZhbGlkRW1haWwiLCJlbWFpbCIsImVtYWlsUmVnZXgiLCJ0ZXN0IiwidHJpbSIsImxlbmd0aCIsImlzVmFsaWRQaG9uZSIsInBob25lIiwiY2xlYW5QaG9uZSIsInJlcGxhY2UiLCJsYW5kbGluZVJlZ2V4IiwibW9iaWxlMDNSZWdleCIsIm1vYmlsZVJlZ2V4IiwiaW50bExhbmRsaW5lUmVnZXgiLCJpbnRsTW9iaWxlUmVnZXgiLCJpc1ZhbGlkUGFzc3dvcmQiLCJwYXNzd29yZCIsInZhbGlkIiwibWVzc2FnZSIsImlzVmFsaWROYW1lIiwibmFtZSIsIm1heExlbmd0aCIsImFyZ3VtZW50cyIsInVuZGVmaW5lZCIsInRyaW1tZWROYW1lIiwibmFtZVJlZ2V4Iiwic2FuaXRpemVTdHJpbmciLCJpbnB1dCIsImlzVmFsaWRMZW5ndGgiLCJzdHIiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9zZXJqL0RvY3VtZW50cy9HaXRIdWIvRml4QXBwbGlhbmNlLWJvb2tpbmdDb21tZXJjZS9iYWNrLWVuZC9zcmMvdXRpbHMvIiwic291cmNlcyI6WyJ2YWxpZGF0b3JzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogSW5wdXQgdmFsaWRhdGlvbiB1dGlsaXR5IGZ1bmN0aW9ucyBmb3IgdGhlIEZpeEFwcGxpYW5jZSBBUEkuXG4gKiBcbiAqIFByb3ZpZGVzIHZhbGlkYXRpb24gZm9yOlxuICogIC0gRW1haWwgZm9ybWF0XG4gKiAgLSBQaG9uZSBudW1iZXIgZm9ybWF0IChMZWJhbmVzZSBmb3JtYXQpXG4gKiAgLSBQYXNzd29yZCBzdHJlbmd0aFxuICogIC0gTmFtZSBmb3JtYXRcbiAqL1xuXG4vKipcbiAqIFZhbGlkYXRlcyBlbWFpbCBmb3JtYXQgdXNpbmcgcmVnZXhcbiAqIEBwYXJhbSB7c3RyaW5nfSBlbWFpbCAtIFRoZSBlbWFpbCB0byB2YWxpZGF0ZVxuICogQHJldHVybnMge2Jvb2xlYW59IC0gVHJ1ZSBpZiB2YWxpZCwgZmFsc2Ugb3RoZXJ3aXNlXG4gKi9cbmNvbnN0IGlzVmFsaWRFbWFpbCA9IChlbWFpbCkgPT4ge1xuICAgIGlmICghZW1haWwgfHwgdHlwZW9mIGVtYWlsICE9PSAnc3RyaW5nJykgcmV0dXJuIGZhbHNlO1xuICAgIFxuICAgIC8vIEVtYWlsIHJlZ2V4IHRoYXQgcmVxdWlyZXMgYXQgbGVhc3Qgb25lIGRvdCBpbiBkb21haW4gd2l0aCBwcm9wZXIgVExEICgyLTEwIGNoYXJzKVxuICAgIGNvbnN0IGVtYWlsUmVnZXggPSAvXlthLXpBLVowLTkuISMkJSYnKisvPT9eX2B7fH1+LV0rQFthLXpBLVowLTldKD86W2EtekEtWjAtOS1dezAsNjF9W2EtekEtWjAtOV0pPyg/OlxcLlthLXpBLVowLTldKD86W2EtekEtWjAtOS1dezAsNjF9W2EtekEtWjAtOV0pPykqXFwuW2EtekEtWl17MiwxMH0kLztcbiAgICBcbiAgICByZXR1cm4gZW1haWxSZWdleC50ZXN0KGVtYWlsLnRyaW0oKSkgJiYgZW1haWwubGVuZ3RoIDw9IDEwMDtcbn07XG5cbi8qKlxuICogVmFsaWRhdGVzIHBob25lIG51bWJlciBmb3JtYXQgKExlYmFuZXNlIGZvcm1hdClcbiAqIFxuICogTGFuZGxpbmVzICg4IGRpZ2l0cyB0b3RhbCwgd2l0aCBsZWFkaW5nIDApOlxuICogICAtIDAxIFhYWCBYWFggKEJlaXJ1dClcbiAqICAgLSAwNCwgMDUsIDA5IFhYWCBYWFggKE1vdW50IExlYmFub24pXG4gKiAgIC0gMDYgWFhYIFhYWCAoTm9ydGgpXG4gKiAgIC0gMDcgWFhYIFhYWCAoU291dGgpXG4gKiAgIC0gMDggWFhYIFhYWCAoQmVrYWEpXG4gKiBcbiAqIE1vYmlsZSB3aXRoIGxlYWRpbmcgMCAoOCBkaWdpdHMgdG90YWwpOlxuICogICAtIDAzIFhYWCBYWFggKEFsZmEvVG91Y2gpXG4gKiBcbiAqIE1vYmlsZSB3aXRob3V0IGxlYWRpbmcgMCAoOCBkaWdpdHMgdG90YWwpOlxuICogICAtIDcwLCA3MSwgNzYsIDc4LCA3OSwgODEgWFhYIFhYWCAoQWxmYS9Ub3VjaClcbiAqIFxuICogV2l0aCBjb3VudHJ5IGNvZGU6ICs5NjEgb3IgOTYxIGZvbGxvd2VkIGJ5IG51bWJlciB3aXRob3V0IGxlYWRpbmcgMFxuICogXG4gKiBAcGFyYW0ge3N0cmluZ30gcGhvbmUgLSBUaGUgcGhvbmUgbnVtYmVyIHRvIHZhbGlkYXRlXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gLSBUcnVlIGlmIHZhbGlkLCBmYWxzZSBvdGhlcndpc2VcbiAqL1xuY29uc3QgaXNWYWxpZFBob25lID0gKHBob25lKSA9PiB7XG4gICAgaWYgKCFwaG9uZSB8fCB0eXBlb2YgcGhvbmUgIT09ICdzdHJpbmcnKSByZXR1cm4gZmFsc2U7XG4gICAgXG4gICAgLy8gUmVtb3ZlIHNwYWNlcyBhbmQgZGFzaGVzIGZvciB2YWxpZGF0aW9uXG4gICAgY29uc3QgY2xlYW5QaG9uZSA9IHBob25lLnJlcGxhY2UoL1tcXHMtXS9nLCAnJyk7XG4gICAgXG4gICAgLy8gTGFuZGxpbmUgd2l0aCBsZWFkaW5nIDA6IDAxLCAwNCwgMDUsIDA2LCAwNywgMDgsIDA5ICsgNiBkaWdpdHMgPSA4IHRvdGFsXG4gICAgY29uc3QgbGFuZGxpbmVSZWdleCA9IC9eMFsxNDU2Nzg5XVswLTldezZ9JC87XG4gICAgXG4gICAgLy8gTW9iaWxlIDAzIHdpdGggbGVhZGluZyAwOiAwMyArIDYgZGlnaXRzID0gOCB0b3RhbFxuICAgIGNvbnN0IG1vYmlsZTAzUmVnZXggPSAvXjAzWzAtOV17Nn0kLztcbiAgICBcbiAgICAvLyBNb2JpbGUgd2l0aG91dCBsZWFkaW5nIDA6IDcwLCA3MSwgNzYsIDc4LCA3OSwgODEgKyA2IGRpZ2l0cyA9IDggdG90YWxcbiAgICBjb25zdCBtb2JpbGVSZWdleCA9IC9eKDcwfDcxfDc2fDc4fDc5fDgxKVswLTldezZ9JC87XG4gICAgXG4gICAgLy8gV2l0aCBjb3VudHJ5IGNvZGUgKzk2MSBvciA5NjE6IGZvbGxvd2VkIGJ5IG51bWJlciB3aXRob3V0IGxlYWRpbmcgMFxuICAgIC8vIExhbmRsaW5lOiA5NjEgKyAxLzQvNS82LzcvOC85ICsgNiBkaWdpdHNcbiAgICBjb25zdCBpbnRsTGFuZGxpbmVSZWdleCA9IC9eKFxcKz85NjEpWzE0NTY3ODldWzAtOV17Nn0kLztcbiAgICBcbiAgICAvLyBNb2JpbGUgd2l0aCBpbnRsIGNvZGU6IDk2MSArIDMgKyA2IGRpZ2l0cyBPUiA5NjEgKyA3MC83MS83Ni83OC83OS84MSArIDYgZGlnaXRzXG4gICAgY29uc3QgaW50bE1vYmlsZVJlZ2V4ID0gL14oXFwrPzk2MSkoM1swLTldezZ9fCg3MHw3MXw3Nnw3OHw3OXw4MSlbMC05XXs2fSkkLztcbiAgICBcbiAgICByZXR1cm4gbGFuZGxpbmVSZWdleC50ZXN0KGNsZWFuUGhvbmUpIHx8IFxuICAgICAgICAgICBtb2JpbGUwM1JlZ2V4LnRlc3QoY2xlYW5QaG9uZSkgfHxcbiAgICAgICAgICAgbW9iaWxlUmVnZXgudGVzdChjbGVhblBob25lKSB8fCBcbiAgICAgICAgICAgaW50bExhbmRsaW5lUmVnZXgudGVzdChjbGVhblBob25lKSB8fCBcbiAgICAgICAgICAgaW50bE1vYmlsZVJlZ2V4LnRlc3QoY2xlYW5QaG9uZSk7XG59O1xuXG4vKipcbiAqIFZhbGlkYXRlcyBwYXNzd29yZCBzdHJlbmd0aFxuICogUmVxdWlyZW1lbnRzOiBtaW5pbXVtIDggY2hhcmFjdGVycywgYXQgbGVhc3Qgb25lIHVwcGVyY2FzZSwgb25lIGxvd2VyY2FzZSwgb25lIG51bWJlclxuICogQHBhcmFtIHtzdHJpbmd9IHBhc3N3b3JkIC0gVGhlIHBhc3N3b3JkIHRvIHZhbGlkYXRlXG4gKiBAcmV0dXJucyB7e3ZhbGlkOiBib29sZWFuLCBtZXNzYWdlOiBzdHJpbmd9fSAtIFZhbGlkYXRpb24gcmVzdWx0IHdpdGggbWVzc2FnZVxuICovXG5jb25zdCBpc1ZhbGlkUGFzc3dvcmQgPSAocGFzc3dvcmQpID0+IHtcbiAgICBpZiAoIXBhc3N3b3JkIHx8IHR5cGVvZiBwYXNzd29yZCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlLCBtZXNzYWdlOiBcIlBhc3N3b3JkIGlzIHJlcXVpcmVkLlwiIH07XG4gICAgfVxuXG4gICAgaWYgKHBhc3N3b3JkLmxlbmd0aCA8IDMpIHtcbiAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlLCBtZXNzYWdlOiBcIlBhc3N3b3JkIG11c3QgYmUgYXQgbGVhc3QgMyBjaGFyYWN0ZXJzIGxvbmcuXCIgfTtcbiAgICB9XG5cbiAgICBpZiAocGFzc3dvcmQubGVuZ3RoID4gMTAwKSB7XG4gICAgICAgIHJldHVybiB7IHZhbGlkOiBmYWxzZSwgbWVzc2FnZTogXCJQYXNzd29yZCBjYW5ub3QgZXhjZWVkIDEwMCBjaGFyYWN0ZXJzLlwiIH07XG4gICAgfVxuXG4gICAgLy8gaWYgKCEvW2Etel0vLnRlc3QocGFzc3dvcmQpKSB7XG4gICAgLy8gICAgIHJldHVybiB7IHZhbGlkOiBmYWxzZSwgbWVzc2FnZTogXCJQYXNzd29yZCBtdXN0IGNvbnRhaW4gYXQgbGVhc3Qgb25lIGxvd2VyY2FzZSBsZXR0ZXIuXCIgfTtcbiAgICAvLyB9XG5cbiAgICAvLyBpZiAoIS9bQS1aXS8udGVzdChwYXNzd29yZCkpIHtcbiAgICAvLyAgICAgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlLCBtZXNzYWdlOiBcIlBhc3N3b3JkIG11c3QgY29udGFpbiBhdCBsZWFzdCBvbmUgdXBwZXJjYXNlIGxldHRlci5cIiB9O1xuICAgIC8vIH1cblxuICAgIC8vIGlmICghL1swLTldLy50ZXN0KHBhc3N3b3JkKSkge1xuICAgIC8vICAgICByZXR1cm4geyB2YWxpZDogZmFsc2UsIG1lc3NhZ2U6IFwiUGFzc3dvcmQgbXVzdCBjb250YWluIGF0IGxlYXN0IG9uZSBudW1iZXIuXCIgfTtcbiAgICAvLyB9XG5cbiAgICByZXR1cm4geyB2YWxpZDogdHJ1ZSwgbWVzc2FnZTogXCJQYXNzd29yZCBpcyB2YWxpZC5cIiB9O1xufTtcblxuLyoqXG4gKiBWYWxpZGF0ZXMgbmFtZSBmb3JtYXQgKGZpcnN0IG5hbWUsIGxhc3QgbmFtZSlcbiAqIE9ubHkgYWxsb3dzIGxldHRlcnMsIHNwYWNlcywgaHlwaGVucywgYW5kIGFwb3N0cm9waGVzXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIFRoZSBuYW1lIHRvIHZhbGlkYXRlXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4TGVuZ3RoIC0gTWF4aW11bSBhbGxvd2VkIGxlbmd0aCAoZGVmYXVsdDogMzApXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gLSBUcnVlIGlmIHZhbGlkLCBmYWxzZSBvdGhlcndpc2VcbiAqL1xuY29uc3QgaXNWYWxpZE5hbWUgPSAobmFtZSwgbWF4TGVuZ3RoID0gMzApID0+IHtcbiAgICBpZiAoIW5hbWUgfHwgdHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnKSByZXR1cm4gZmFsc2U7XG4gICAgXG4gICAgY29uc3QgdHJpbW1lZE5hbWUgPSBuYW1lLnRyaW0oKTtcbiAgICBcbiAgICAvLyBNdXN0IGJlIGJldHdlZW4gMiBhbmQgbWF4TGVuZ3RoIGNoYXJhY3RlcnMsIG9ubHkgbGV0dGVycywgc3BhY2VzLCBoeXBoZW5zLCBhcG9zdHJvcGhlc1xuICAgIGNvbnN0IG5hbWVSZWdleCA9IC9eW2EtekEtWlxcdTA2MDAtXFx1MDZGRlxccyctXXsyLH0kLztcbiAgICBcbiAgICByZXR1cm4gbmFtZVJlZ2V4LnRlc3QodHJpbW1lZE5hbWUpICYmIHRyaW1tZWROYW1lLmxlbmd0aCA8PSBtYXhMZW5ndGg7XG59O1xuXG4vKipcbiAqIFNhbml0aXplcyBzdHJpbmcgaW5wdXQgYnkgdHJpbW1pbmcgd2hpdGVzcGFjZVxuICogQHBhcmFtIHtzdHJpbmd9IGlucHV0IC0gVGhlIGlucHV0IHRvIHNhbml0aXplXG4gKiBAcmV0dXJucyB7c3RyaW5nfSAtIFNhbml0aXplZCBzdHJpbmcgb3IgZW1wdHkgc3RyaW5nIGlmIGludmFsaWRcbiAqL1xuY29uc3Qgc2FuaXRpemVTdHJpbmcgPSAoaW5wdXQpID0+IHtcbiAgICBpZiAoIWlucHV0IHx8IHR5cGVvZiBpbnB1dCAhPT0gJ3N0cmluZycpIHJldHVybiAnJztcbiAgICByZXR1cm4gaW5wdXQudHJpbSgpO1xufTtcblxuLyoqXG4gKiBWYWxpZGF0ZXMgdGhhdCBhIHN0cmluZyBkb2Vzbid0IGV4Y2VlZCBhIG1heGltdW0gbGVuZ3RoXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyIC0gVGhlIHN0cmluZyB0byB2YWxpZGF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IG1heExlbmd0aCAtIE1heGltdW0gYWxsb3dlZCBsZW5ndGhcbiAqIEByZXR1cm5zIHtib29sZWFufSAtIFRydWUgaWYgdmFsaWQsIGZhbHNlIG90aGVyd2lzZVxuICovXG5jb25zdCBpc1ZhbGlkTGVuZ3RoID0gKHN0ciwgbWF4TGVuZ3RoKSA9PiB7XG4gICAgaWYgKCFzdHIgfHwgdHlwZW9mIHN0ciAhPT0gJ3N0cmluZycpIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gc3RyLnRyaW0oKS5sZW5ndGggPD0gbWF4TGVuZ3RoO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgaXNWYWxpZEVtYWlsLFxuICAgIGlzVmFsaWRQaG9uZSxcbiAgICBpc1ZhbGlkUGFzc3dvcmQsXG4gICAgaXNWYWxpZE5hbWUsXG4gICAgc2FuaXRpemVTdHJpbmcsXG4gICAgaXNWYWxpZExlbmd0aFxufTtcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQU1BLFlBQVksR0FBRyxTQUFmQSxZQUFZQSxDQUFJQyxLQUFLLEVBQUs7RUFDNUIsSUFBSSxDQUFDQSxLQUFLLElBQUksT0FBT0EsS0FBSyxLQUFLLFFBQVEsRUFBRSxPQUFPLEtBQUs7O0VBRXJEO0VBQ0EsSUFBTUMsVUFBVSxHQUFHLHNKQUFzSjtFQUV6SyxPQUFPQSxVQUFVLENBQUNDLElBQUksQ0FBQ0YsS0FBSyxDQUFDRyxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUlILEtBQUssQ0FBQ0ksTUFBTSxJQUFJ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","map":{"version":3,"names":["isValidEmail","email","emailRegex","test","trim","length","isValidPhone","phone","cleanPhone","replace","landlineRegex","mobile03Regex","mobileRegex","intlLandlineRegex","intlMobileRegex","isValidPassword","password","valid","message","isValidName","name","maxLength","arguments","undefined","trimmedName","nameRegex","sanitizeString","input","isValidLength","str","module","exports"],"sourceRoot":"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/utils/","sources":["validators.js"],"sourcesContent":["/**\n * Input validation utility functions for the FixAppliance API.\n * \n * Provides validation for:\n *  - Email format\n *  - Phone number format (Lebanese format)\n *  - Password strength\n *  - Name format\n */\n\n/**\n * Validates email format using regex\n * @param {string} email - The email to validate\n * @returns {boolean} - True if valid, false otherwise\n */\nconst isValidEmail = (email) => {\n    if (!email || typeof email !== 'string') return false;\n    \n    // Email regex that requires at least one dot in domain with proper TLD (2-10 chars)\n    const emailRegex = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*\\.[a-zA-Z]{2,10}$/;\n    \n    return emailRegex.test(email.trim()) && email.length <= 100;\n};\n\n/**\n * Validates phone number format (Lebanese format)\n * \n * Landlines (8 digits total, with leading 0):\n *   - 01 XXX XXX (Beirut)\n *   - 04, 05, 09 XXX XXX (Mount Lebanon)\n *   - 06 XXX XXX (North)\n *   - 07 XXX XXX (South)\n *   - 08 XXX XXX (Bekaa)\n * \n * Mobile with leading 0 (8 digits total):\n *   - 03 XXX XXX (Alfa/Touch)\n * \n * Mobile without leading 0 (8 digits total):\n *   - 70, 71, 76, 78, 79, 81 XXX XXX (Alfa/Touch)\n * \n * With country code: +961 or 961 followed by number without leading 0\n * \n * @param {string} phone - The phone number to validate\n * @returns {boolean} - True if valid, false otherwise\n */\nconst isValidPhone = (phone) => {\n    if (!phone || typeof phone !== 'string') return false;\n    \n    // Remove spaces and dashes for validation\n    const cleanPhone = phone.replace(/[\\s-]/g, '');\n    \n    // Landline with leading 0: 01, 04, 05, 06, 07, 08, 09 + 6 digits = 8 total\n    const landlineRegex = /^0[1456789][0-9]{6}$/;\n    \n    // Mobile 03 with leading 0: 03 + 6 digits = 8 total\n    const mobile03Regex = /^03[0-9]{6}$/;\n    \n    // Mobile without leading 0: 70, 71, 76, 78, 79, 81 + 6 digits = 8 total\n    const mobileRegex = /^(70|71|76|78|79|81)[0-9]{6}$/;\n    \n    // With country code +961 or 961: followed by number without leading 0\n    // Landline: 961 + 1/4/5/6/7/8/9 + 6 digits\n    const intlLandlineRegex = /^(\\+?961)[1456789][0-9]{6}$/;\n    \n    // Mobile with intl code: 961 + 3 + 6 digits OR 961 + 70/71/76/78/79/81 + 6 digits\n    const intlMobileRegex = /^(\\+?961)(3[0-9]{6}|(70|71|76|78|79|81)[0-9]{6})$/;\n    \n    return landlineRegex.test(cleanPhone) || \n           mobile03Regex.test(cleanPhone) ||\n           mobileRegex.test(cleanPhone) || \n           intlLandlineRegex.test(cleanPhone) || \n           intlMobileRegex.test(cleanPhone);\n};\n\n/**\n * Validates password strength\n * Requirements: minimum 8 characters, at least one uppercase, one lowercase, one number\n * @param {string} password - The password to validate\n * @returns {{valid: boolean, message: string}} - Validation result with message\n */\nconst isValidPassword = (password) => {\n    if (!password || typeof password !== 'string') {\n        return { valid: false, message: \"Password is required.\" };\n    }\n\n    if (password.length < 3) {\n        return { valid: false, message: \"Password must be at least 3 characters long.\" };\n    }\n\n    if (password.length > 100) {\n        return { valid: false, message: \"Password cannot exceed 100 characters.\" };\n    }\n\n    // if (!/[a-z]/.test(password)) {\n    //     return { valid: false, message: \"Password must contain at least one lowercase letter.\" };\n    // }\n\n    // if (!/[A-Z]/.test(password)) {\n    //     return { valid: false, message: \"Password must contain at least one uppercase letter.\" };\n    // }\n\n    // if (!/[0-9]/.test(password)) {\n    //     return { valid: false, message: \"Password must contain at least one number.\" };\n    // }\n\n    return { valid: true, message: \"Password is valid.\" };\n};\n\n/**\n * Validates name format (first name, last name)\n * Only allows letters, spaces, hyphens, and apostrophes\n * @param {string} name - The name to validate\n * @param {number} maxLength - Maximum allowed length (default: 30)\n * @returns {boolean} - True if valid, false otherwise\n */\nconst isValidName = (name, maxLength = 30) => {\n    if (!name || typeof name !== 'string') return false;\n    \n    const trimmedName = name.trim();\n    \n    // Must be between 2 and maxLength characters, only letters, spaces, hyphens, apostrophes\n    const nameRegex = /^[a-zA-Z\\u0600-\\u06FF\\s'-]{2,}$/;\n    \n    return nameRegex.test(trimmedName) && trimmedName.length <= maxLength;\n};\n\n/**\n * Sanitizes string input by trimming whitespace\n * @param {string} input - The input to sanitize\n * @returns {string} - Sanitized string or empty string if invalid\n */\nconst sanitizeString = (input) => {\n    if (!input || typeof input !== 'string') return '';\n    return input.trim();\n};\n\n/**\n * Validates that a string doesn't exceed a maximum length\n * @param {string} str - The string to validate\n * @param {number} maxLength - Maximum allowed length\n * @returns {boolean} - True if valid, false otherwise\n */\nconst isValidLength = (str, maxLength) => {\n    if (!str || typeof str !== 'string') return false;\n    return str.trim().length <= maxLength;\n};\n\nmodule.exports = {\n    isValidEmail,\n    isValidPhone,\n    isValidPassword,\n    isValidName,\n    sanitizeString,\n    isValidLength\n};\n"],"mappings":"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","ignoreList":[]}},"mtime":1764837002235},"{\"assumptions\":{},\"sourceRoot\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/middlewares/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end\",\"filename\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/middlewares/auth.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"_exploded\":true,\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"VoidPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$48\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$49\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n/**\n * The following middleware is responsible for authenticating the user before a route is called.\n * \n * There's a middleware for 3 entities: user, technician and freelancer.\n * \n * All of them have a similar structure:\n *      1. Get the entity's access token that's stored in the request cookies.\n *      2. Check if a token exists, if not, send a 401 with a please login message.\n *      3. If the token exists, try to decode the token by using JWT and verify it with the ENTITY_ACCESS_TOKEN from the .env file\n *      4. If the decode is successful, it adds the data stored in it in the request and uses next() to send it forward to the route's functionality\n *         If the decode is NOT successful, it clears the entity's token and sends a 401 with a please login message.\n * \n */\n\nvar asyncHandler = require(\"express-async-handler\");\nvar jwt = require(\"jsonwebtoken\");\n\n// Validation for the user \nvar userValidation = asyncHandler(/*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee(req, res, next) {\n    var token, decoded, _t;\n    return _regenerator[\"default\"].wrap(function (_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          // Gets token from the cookies passed in req\n          token = req.cookies.user_access_token; // Check if token exists, if not send a 401 with a please login message\n          if (token) {\n            _context.next = 1;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(401).json({\n            message: \"Please login to your account.\"\n          }));\n        case 1:\n          _context.prev = 1;\n          decoded = jwt.verify(token, process.env.USER_ACCESS_TOKEN);\n          req.userID = decoded.id;\n          req.userFirstName = decoded.firstName;\n          req.userLastName = decoded.lastName;\n          req.userEmail = decoded.email;\n          next();\n          _context.next = 3;\n          break;\n        case 2:\n          _context.prev = 2;\n          _t = _context[\"catch\"](1);\n          res.clearCookie('user_access_token');\n          return _context.abrupt(\"return\", res.status(401).json({\n            message: \"Please login to your account.\"\n          }));\n        case 3:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[1, 2]]);\n  }));\n  return function (_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}());\n\n// Validation for technician\nvar technicianValidation = asyncHandler(/*#__PURE__*/function () {\n  var _ref2 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(req, res, next) {\n    var token, decoded, _t2;\n    return _regenerator[\"default\"].wrap(function (_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          token = req.cookies.technician_access_token;\n          if (token) {\n            _context2.next = 1;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(401).json({\n            message: \"Please login to your account.\"\n          }));\n        case 1:\n          _context2.prev = 1;\n          decoded = jwt.verify(token, process.env.TECHNICIAN_ACCESS_TOKEN);\n          req.technicianID = decoded.id;\n          req.technicianFirstName = decoded.firstName;\n          req.technicianLastName = decoded.lastName;\n          req.technicianEmail = decoded.email;\n          next();\n          _context2.next = 3;\n          break;\n        case 2:\n          _context2.prev = 2;\n          _t2 = _context2[\"catch\"](1);\n          res.clearCookie('technician_access_token');\n          return _context2.abrupt(\"return\", res.status(401).json({\n            message: \"Please login to your account.\"\n          }));\n        case 3:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[1, 2]]);\n  }));\n  return function (_x4, _x5, _x6) {\n    return _ref2.apply(this, arguments);\n  };\n}());\n\n// Validation for freelancer\nvar freelancerValidation = asyncHandler(/*#__PURE__*/function () {\n  var _ref3 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee3(req, res, next) {\n    var token, decoded, _t3;\n    return _regenerator[\"default\"].wrap(function (_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          token = req.cookies.freelancer_access_token;\n          if (token) {\n            _context3.next = 1;\n            break;\n          }\n          return _context3.abrupt(\"return\", res.status(401).json({\n            message: \"Please login to your account.\"\n          }));\n        case 1:\n          _context3.prev = 1;\n          decoded = jwt.verify(token, process.env.FREELANCER_ACCESS_TOKEN);\n          req.freelancerID = decoded.id;\n          req.freelancerFirstName = decoded.firstName;\n          req.freelancerLastName = decoded.lastName;\n          req.freelancerEmail = decoded.email;\n          next();\n          _context3.next = 3;\n          break;\n        case 2:\n          _context3.prev = 2;\n          _t3 = _context3[\"catch\"](1);\n          res.clearCookie('freelancer_access_token');\n          return _context3.abrupt(\"return\", res.status(401).json({\n            message: \"Please login to your account.\"\n          }));\n        case 3:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3, null, [[1, 2]]);\n  }));\n  return function (_x7, _x8, _x9) {\n    return _ref3.apply(this, arguments);\n  };\n}());\nmodule.exports = {\n  userValidation: userValidation,\n  technicianValidation: technicianValidation,\n  freelancerValidation: freelancerValidation\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhc3luY0hhbmRsZXIiLCJyZXF1aXJlIiwiand0IiwidXNlclZhbGlkYXRpb24iLCJfcmVmIiwiX2FzeW5jVG9HZW5lcmF0b3IyIiwiX3JlZ2VuZXJhdG9yIiwibWFyayIsIl9jYWxsZWUiLCJyZXEiLCJyZXMiLCJuZXh0IiwidG9rZW4iLCJkZWNvZGVkIiwiX3QiLCJ3cmFwIiwiX2NvbnRleHQiLCJwcmV2IiwiY29va2llcyIsInVzZXJfYWNjZXNzX3Rva2VuIiwiYWJydXB0Iiwic3RhdHVzIiwianNvbiIsIm1lc3NhZ2UiLCJ2ZXJpZnkiLCJwcm9jZXNzIiwiZW52IiwiVVNFUl9BQ0NFU1NfVE9LRU4iLCJ1c2VySUQiLCJpZCIsInVzZXJGaXJzdE5hbWUiLCJmaXJzdE5hbWUiLCJ1c2VyTGFzdE5hbWUiLCJsYXN0TmFtZSIsInVzZXJFbWFpbCIsImVtYWlsIiwiY2xlYXJDb29raWUiLCJzdG9wIiwiX3giLCJfeDIiLCJfeDMiLCJhcHBseSIsImFyZ3VtZW50cyIsInRlY2huaWNpYW5WYWxpZGF0aW9uIiwiX3JlZjIiLCJfY2FsbGVlMiIsIl90MiIsIl9jb250ZXh0MiIsInRlY2huaWNpYW5fYWNjZXNzX3Rva2VuIiwiVEVDSE5JQ0lBTl9BQ0NFU1NfVE9LRU4iLCJ0ZWNobmljaWFuSUQiLCJ0ZWNobmljaWFuRmlyc3ROYW1lIiwidGVjaG5pY2lhbkxhc3ROYW1lIiwidGVjaG5pY2lhbkVtYWlsIiwiX3g0IiwiX3g1IiwiX3g2IiwiZnJlZWxhbmNlclZhbGlkYXRpb24iLCJfcmVmMyIsIl9jYWxsZWUzIiwiX3QzIiwiX2NvbnRleHQzIiwiZnJlZWxhbmNlcl9hY2Nlc3NfdG9rZW4iLCJGUkVFTEFOQ0VSX0FDQ0VTU19UT0tFTiIsImZyZWVsYW5jZXJJRCIsImZyZWVsYW5jZXJGaXJzdE5hbWUiLCJmcmVlbGFuY2VyTGFzdE5hbWUiLCJmcmVlbGFuY2VyRW1haWwiLCJfeDciLCJfeDgiLCJfeDkiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9zZXJqL0RvY3VtZW50cy9HaXRIdWIvRml4QXBwbGlhbmNlLWJvb2tpbmdDb21tZXJjZS9iYWNrLWVuZC9zcmMvbWlkZGxld2FyZXMvIiwic291cmNlcyI6WyJhdXRoLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGhlIGZvbGxvd2luZyBtaWRkbGV3YXJlIGlzIHJlc3BvbnNpYmxlIGZvciBhdXRoZW50aWNhdGluZyB0aGUgdXNlciBiZWZvcmUgYSByb3V0ZSBpcyBjYWxsZWQuXG4gKiBcbiAqIFRoZXJlJ3MgYSBtaWRkbGV3YXJlIGZvciAzIGVudGl0aWVzOiB1c2VyLCB0ZWNobmljaWFuIGFuZCBmcmVlbGFuY2VyLlxuICogXG4gKiBBbGwgb2YgdGhlbSBoYXZlIGEgc2ltaWxhciBzdHJ1Y3R1cmU6XG4gKiAgICAgIDEuIEdldCB0aGUgZW50aXR5J3MgYWNjZXNzIHRva2VuIHRoYXQncyBzdG9yZWQgaW4gdGhlIHJlcXVlc3QgY29va2llcy5cbiAqICAgICAgMi4gQ2hlY2sgaWYgYSB0b2tlbiBleGlzdHMsIGlmIG5vdCwgc2VuZCBhIDQwMSB3aXRoIGEgcGxlYXNlIGxvZ2luIG1lc3NhZ2UuXG4gKiAgICAgIDMuIElmIHRoZSB0b2tlbiBleGlzdHMsIHRyeSB0byBkZWNvZGUgdGhlIHRva2VuIGJ5IHVzaW5nIEpXVCBhbmQgdmVyaWZ5IGl0IHdpdGggdGhlIEVOVElUWV9BQ0NFU1NfVE9LRU4gZnJvbSB0aGUgLmVudiBmaWxlXG4gKiAgICAgIDQuIElmIHRoZSBkZWNvZGUgaXMgc3VjY2Vzc2Z1bCwgaXQgYWRkcyB0aGUgZGF0YSBzdG9yZWQgaW4gaXQgaW4gdGhlIHJlcXVlc3QgYW5kIHVzZXMgbmV4dCgpIHRvIHNlbmQgaXQgZm9yd2FyZCB0byB0aGUgcm91dGUncyBmdW5jdGlvbmFsaXR5XG4gKiAgICAgICAgIElmIHRoZSBkZWNvZGUgaXMgTk9UIHN1Y2Nlc3NmdWwsIGl0IGNsZWFycyB0aGUgZW50aXR5J3MgdG9rZW4gYW5kIHNlbmRzIGEgNDAxIHdpdGggYSBwbGVhc2UgbG9naW4gbWVzc2FnZS5cbiAqIFxuICovXG5cbmNvbnN0IGFzeW5jSGFuZGxlciA9IHJlcXVpcmUoXCJleHByZXNzLWFzeW5jLWhhbmRsZXJcIik7XG5jb25zdCBqd3QgPSByZXF1aXJlKFwianNvbndlYnRva2VuXCIpO1xuXG4vLyBWYWxpZGF0aW9uIGZvciB0aGUgdXNlciBcbmNvbnN0IHVzZXJWYWxpZGF0aW9uID0gYXN5bmNIYW5kbGVyKGFzeW5jKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgLy8gR2V0cyB0b2tlbiBmcm9tIHRoZSBjb29raWVzIHBhc3NlZCBpbiByZXFcbiAgICBjb25zdCB0b2tlbiA9IHJlcS5jb29raWVzLnVzZXJfYWNjZXNzX3Rva2VuO1xuXG4gICAgLy8gQ2hlY2sgaWYgdG9rZW4gZXhpc3RzLCBpZiBub3Qgc2VuZCBhIDQwMSB3aXRoIGEgcGxlYXNlIGxvZ2luIG1lc3NhZ2VcbiAgICBpZiAoIXRva2VuKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7bWVzc2FnZTogXCJQbGVhc2UgbG9naW4gdG8geW91ciBhY2NvdW50LlwifSk7XG4gICAgfVxuXG4gICAgLy8gSWYgdG9rZW4gZXhpc3RzIHRyeSB0byBkZWNvZGUgaXQuXG4gICAgLy8gSWYgZGVjb2RlIHN1Y2Nlc3NmdWwgZ2V0IHRoZSBkYXRhIGZyb20gdGhlIGRlY29kZWQgYW5kIHBhc3MgaXQgdG8gdGhlIHJvdXRlJ3MgZnVuY3Rpb25hbGl0eSdzIHJlcS5cbiAgICAvLyBJZiBub3Qgc3VjY2Vzc2Z1bCwgY2xlYXIgdGhlIGNvb2tpZSwgdGhyb3cgYSA0MDEgYW5kIHNlbmQgYSBwbGVhc2UgbG9naW4gbWVzc2FnZS5cbiAgICB0cnkge1xuICAgICAgICBjb25zdCBkZWNvZGVkID0gand0LnZlcmlmeSh0b2tlbiwgcHJvY2Vzcy5lbnYuVVNFUl9BQ0NFU1NfVE9LRU4pO1xuICAgICAgICByZXEudXNlcklEID0gZGVjb2RlZC5pZDtcbiAgICAgICAgcmVxLnVzZXJGaXJzdE5hbWUgPSBkZWNvZGVkLmZpcnN0TmFtZTtcbiAgICAgICAgcmVxLnVzZXJMYXN0TmFtZSA9IGRlY29kZWQubGFzdE5hbWU7XG4gICAgICAgIHJlcS51c2VyRW1haWwgPSBkZWNvZGVkLmVtYWlsO1xuICAgICAgICBuZXh0KCk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJlcy5jbGVhckNvb2tpZSgndXNlcl9hY2Nlc3NfdG9rZW4nKTtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHttZXNzYWdlOiBcIlBsZWFzZSBsb2dpbiB0byB5b3VyIGFjY291bnQuXCJ9KTtcbiAgICB9XG59KVxuXG4vLyBWYWxpZGF0aW9uIGZvciB0ZWNobmljaWFuXG5jb25zdCB0ZWNobmljaWFuVmFsaWRhdGlvbiA9IGFzeW5jSGFuZGxlcihhc3luYyhyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIGNvbnN0IHRva2VuID0gcmVxLmNvb2tpZXMudGVjaG5pY2lhbl9hY2Nlc3NfdG9rZW47XG5cbiAgICBpZiAoIXRva2VuKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7bWVzc2FnZTogXCJQbGVhc2UgbG9naW4gdG8geW91ciBhY2NvdW50LlwifSk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZGVjb2RlZCA9IGp3dC52ZXJpZnkodG9rZW4sIHByb2Nlc3MuZW52LlRFQ0hOSUNJQU5fQUNDRVNTX1RPS0VOKTtcbiAgICAgICAgcmVxLnRlY2huaWNpYW5JRCA9IGRlY29kZWQuaWQ7XG4gICAgICAgIHJlcS50ZWNobmljaWFuRmlyc3ROYW1lID0gZGVjb2RlZC5maXJzdE5hbWU7XG4gICAgICAgIHJlcS50ZWNobmljaWFuTGFzdE5hbWUgPSBkZWNvZGVkLmxhc3ROYW1lO1xuICAgICAgICByZXEudGVjaG5pY2lhbkVtYWlsID0gZGVjb2RlZC5lbWFpbDtcbiAgICAgICAgbmV4dCgpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICByZXMuY2xlYXJDb29raWUoJ3RlY2huaWNpYW5fYWNjZXNzX3Rva2VuJyk7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7bWVzc2FnZTogXCJQbGVhc2UgbG9naW4gdG8geW91ciBhY2NvdW50LlwifSk7XG4gICAgfVxufSlcblxuLy8gVmFsaWRhdGlvbiBmb3IgZnJlZWxhbmNlclxuY29uc3QgZnJlZWxhbmNlclZhbGlkYXRpb24gPSBhc3luY0hhbmRsZXIoYXN5bmMocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICBjb25zdCB0b2tlbiA9IHJlcS5jb29raWVzLmZyZWVsYW5jZXJfYWNjZXNzX3Rva2VuO1xuXG4gICAgaWYgKCF0b2tlbikge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oe21lc3NhZ2U6IFwiUGxlYXNlIGxvZ2luIHRvIHlvdXIgYWNjb3VudC5cIn0pO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGRlY29kZWQgPSBqd3QudmVyaWZ5KHRva2VuLCBwcm9jZXNzLmVudi5GUkVFTEFOQ0VSX0FDQ0VTU19UT0tFTik7XG4gICAgICAgIHJlcS5mcmVlbGFuY2VySUQgPSBkZWNvZGVkLmlkO1xuICAgICAgICByZXEuZnJlZWxhbmNlckZpcnN0TmFtZSA9IGRlY29kZWQuZmlyc3ROYW1lO1xuICAgICAgICByZXEuZnJlZWxhbmNlckxhc3ROYW1lID0gZGVjb2RlZC5sYXN0TmFtZTtcbiAgICAgICAgcmVxLmZyZWVsYW5jZXJFbWFpbCA9IGRlY29kZWQuZW1haWw7XG4gICAgICAgIG5leHQoKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgcmVzLmNsZWFyQ29va2llKCdmcmVlbGFuY2VyX2FjY2Vzc190b2tlbicpO1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oe21lc3NhZ2U6IFwiUGxlYXNlIGxvZ2luIHRvIHlvdXIgYWNjb3VudC5cIn0pO1xuICAgIH1cbn0pXG5cbm1vZHVsZS5leHBvcnRzID0ge3VzZXJWYWxp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","map":{"version":3,"names":["asyncHandler","require","jwt","userValidation","_ref","_asyncToGenerator2","_regenerator","mark","_callee","req","res","next","token","decoded","_t","wrap","_context","prev","cookies","user_access_token","abrupt","status","json","message","verify","process","env","USER_ACCESS_TOKEN","userID","id","userFirstName","firstName","userLastName","lastName","userEmail","email","clearCookie","stop","_x","_x2","_x3","apply","arguments","technicianValidation","_ref2","_callee2","_t2","_context2","technician_access_token","TECHNICIAN_ACCESS_TOKEN","technicianID","technicianFirstName","technicianLastName","technicianEmail","_x4","_x5","_x6","freelancerValidation","_ref3","_callee3","_t3","_context3","freelancer_access_token","FREELANCER_ACCESS_TOKEN","freelancerID","freelancerFirstName","freelancerLastName","freelancerEmail","_x7","_x8","_x9","module","exports"],"sourceRoot":"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/middlewares/","sources":["auth.js"],"sourcesContent":["/**\n * The following middleware is responsible for authenticating the user before a route is called.\n * \n * There's a middleware for 3 entities: user, technician and freelancer.\n * \n * All of them have a similar structure:\n *      1. Get the entity's access token that's stored in the request cookies.\n *      2. Check if a token exists, if not, send a 401 with a please login message.\n *      3. If the token exists, try to decode the token by using JWT and verify it with the ENTITY_ACCESS_TOKEN from the .env file\n *      4. If the decode is successful, it adds the data stored in it in the request and uses next() to send it forward to the route's functionality\n *         If the decode is NOT successful, it clears the entity's token and sends a 401 with a please login message.\n * \n */\n\nconst asyncHandler = require(\"express-async-handler\");\nconst jwt = require(\"jsonwebtoken\");\n\n// Validation for the user \nconst userValidation = asyncHandler(async(req, res, next) => {\n    // Gets token from the cookies passed in req\n    const token = req.cookies.user_access_token;\n\n    // Check if token exists, if not send a 401 with a please login message\n    if (!token) {\n        return res.status(401).json({message: \"Please login to your account.\"});\n    }\n\n    // If token exists try to decode it.\n    // If decode successful get the data from the decoded and pass it to the route's functionality's req.\n    // If not successful, clear the cookie, throw a 401 and send a please login message.\n    try {\n        const decoded = jwt.verify(token, process.env.USER_ACCESS_TOKEN);\n        req.userID = decoded.id;\n        req.userFirstName = decoded.firstName;\n        req.userLastName = decoded.lastName;\n        req.userEmail = decoded.email;\n        next();\n    } catch (err) {\n        res.clearCookie('user_access_token');\n        return res.status(401).json({message: \"Please login to your account.\"});\n    }\n})\n\n// Validation for technician\nconst technicianValidation = asyncHandler(async(req, res, next) => {\n    const token = req.cookies.technician_access_token;\n\n    if (!token) {\n        return res.status(401).json({message: \"Please login to your account.\"});\n    }\n\n    try {\n        const decoded = jwt.verify(token, process.env.TECHNICIAN_ACCESS_TOKEN);\n        req.technicianID = decoded.id;\n        req.technicianFirstName = decoded.firstName;\n        req.technicianLastName = decoded.lastName;\n        req.technicianEmail = decoded.email;\n        next();\n    } catch (err) {\n        res.clearCookie('technician_access_token');\n        return res.status(401).json({message: \"Please login to your account.\"});\n    }\n})\n\n// Validation for freelancer\nconst freelancerValidation = asyncHandler(async(req, res, next) => {\n    const token = req.cookies.freelancer_access_token;\n\n    if (!token) {\n        return res.status(401).json({message: \"Please login to your account.\"});\n    }\n\n    try {\n        const decoded = jwt.verify(token, process.env.FREELANCER_ACCESS_TOKEN);\n        req.freelancerID = decoded.id;\n        req.freelancerFirstName = decoded.firstName;\n        req.freelancerLastName = decoded.lastName;\n        req.freelancerEmail = decoded.email;\n        next();\n    } catch (err) {\n        res.clearCookie('freelancer_access_token');\n        return res.status(401).json({message: \"Please login to your account.\"});\n    }\n})\n\nmodule.exports = {userValidation, technicianValidation, freelancerValidation};"],"mappings":"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","ignoreList":[]}},"mtime":1764487126139},"{\"assumptions\":{},\"sourceRoot\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end\",\"filename\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/controllers/UserBookingController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"_exploded\":true,\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"VoidPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$48\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$49\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n/**\n * This controller handles everything related to booking and the user:\n *  1. User requesting a booking\n *  2. User paying a booking\n *  3. User rating a booking\n *  4. user getting their bookings (pending/confirmed/in progress/completed/cancelled)\n */\n\nvar asyncHandler = require(\"express-async-handler\");\n\n// sql needed for the type definitions in .input\n// getPool is to do queries\nvar _require = require(\"../config/database\"),\n  getPool = _require.getPool,\n  sql = _require.sql;\n\n/**\n * Helper function to get bookings by status for a user\n * Reduces code duplication across the 5 getXBookings functions\n * @param {number} userID - The user's ID\n * @param {string} status - The booking status to filter by\n * @param {string} statusDisplayName - Human-readable status name for messages\n * @returns {Promise<{success: boolean, data?: object, error?: string, statusCode: number}>}\n */\nvar getBookingsByStatus = /*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee(userID, status, statusDisplayName) {\n    var pool, bookings, _t;\n    return _regenerator[\"default\"].wrap(function (_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          pool = getPool();\n          _context.next = 1;\n          return pool.request().input(\"userID\", sql.Int, userID).input(\"status\", sql.VarChar, status).query(\"\\n                SELECT \\n                    Booking.Booking_ID, \\n                    Booking.Booking_Date AS \\\"Scheduled Date\\\", \\n                    Booking.Booking_Time AS \\\"Scheduled Time\\\", \\n                    Booking.Total_Price AS \\\"Total Price\\\", \\n                    Booking.createdAt AS \\\"Created At\\\",\\n                    Appliance_Type.nameEN AS \\\"Appliance's Name (EN)\\\", \\n                    Appliance_Type.nameAR AS \\\"Appliance's Name (AR)\\\",\\n                    Booking.Issue_Description AS \\\"Issue Description\\\",\\n                    Technician.First_Name AS \\\"Technician's First Name\\\",\\n                    Technician.Last_Name AS \\\"Technician's Last Name\\\",\\n                    Technician.Phone AS \\\"Technician's Phone Number\\\",\\n                    Payment.[Status] AS \\\"Payment Status\\\",\\n                    Payment.Payment_Method AS \\\"Payment Method\\\",\\n                    Rating.Rating_Score AS \\\"Rating Score\\\",\\n                    Rating.Review_Text AS \\\"Review Text\\\"\\n                FROM Booking\\n                LEFT JOIN Technician ON Booking.Technician_ID = Technician.Technician_ID\\n                LEFT JOIN Payment ON Booking.Booking_ID = Payment.Booking_ID\\n                LEFT JOIN Rating ON Booking.Booking_ID = Rating.Booking_ID\\n                JOIN Appliance_Type ON Booking.Appliance_Type_ID = Appliance_Type.Appliance_Type_ID\\n                WHERE Booking.UserID = @userID AND Booking.[Status] = @status\\n                ORDER BY Booking.Booking_Date ASC, Booking.Booking_Time ASC\\n            \");\n        case 1:\n          bookings = _context.sent;\n          if (!(bookings.recordset.length === 0)) {\n            _context.next = 2;\n            break;\n          }\n          return _context.abrupt(\"return\", {\n            success: true,\n            statusCode: 200,\n            data: {\n              message: \"You don't have any \".concat(statusDisplayName, \" bookings.\"),\n              count: 0,\n              bookings: []\n            }\n          });\n        case 2:\n          return _context.abrupt(\"return\", {\n            success: true,\n            statusCode: 200,\n            data: {\n              message: \"You have \".concat(statusDisplayName, \" bookings!\"),\n              count: bookings.recordset.length,\n              bookings: bookings.recordset\n            }\n          });\n        case 3:\n          _context.prev = 3;\n          _t = _context[\"catch\"](0);\n          console.error(\"Unexpected error occurred when trying to fetch \".concat(statusDisplayName, \" bookings:\"), _t);\n          return _context.abrupt(\"return\", {\n            success: false,\n            statusCode: 500,\n            error: \"Unexpected error occurred when trying to fetch your \".concat(statusDisplayName, \" bookings.\")\n          });\n        case 4:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[0, 3]]);\n  }));\n  return function getBookingsByStatus(_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\n// User requesting a new booking\nvar userRequestBooking = asyncHandler(/*#__PURE__*/function () {\n  var _ref2 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(req, res) {\n    var _req$body, applianceTypeID, issueDescription, bookingDate, bookingTime, paymentMethod, userID, validPaymentMethods, timeRegex, cleanTime, pool, applianceType, basePrice, commissionRate, platformFee, transaction, bookingResult, bookingID, _t2, _t3;\n    return _regenerator[\"default\"].wrap(function (_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          // Getting all user input from the request's body and the userID as well passed by the middleware that validates user's login credentials\n          _req$body = req.body, applianceTypeID = _req$body.applianceTypeID, issueDescription = _req$body.issueDescription, bookingDate = _req$body.bookingDate, bookingTime = _req$body.bookingTime, paymentMethod = _req$body.paymentMethod;\n          userID = req.userID; // If any of the inputs arent provided then throw a 400 error\n          if (!(!applianceTypeID || !issueDescription || !bookingDate || !bookingTime || !paymentMethod)) {\n            _context2.next = 1;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(400).json({\n            message: \"All booking details are required: the appliance, a description for the issue, date and time.\"\n          }));\n        case 1:\n          // Validate the payment method such that it's one of the accepted ones\n          validPaymentMethods = ['cash', 'credit_card', 'debit_card', 'whish', 'omt'];\n          if (validPaymentMethods.includes(paymentMethod)) {\n            _context2.next = 2;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(400).json({\n            message: \"Invalid payment method. Choose either cash, credit_card, debit_card, whish or omt.\"\n          }));\n        case 2:\n          // Validating the time format passed using regex, if doesnt pass then throw a 400 of invalid time format\n          timeRegex = /^([0-1]?[0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]$/;\n          cleanTime = bookingTime.trim();\n          if (timeRegex.test(cleanTime)) {\n            _context2.next = 3;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(400).json({\n            message: \"Invalid time format. Use HH:MM:SS (e.g., 14:30:00)\"\n          }));\n        case 3:\n          _context2.prev = 3;\n          pool = getPool(); // Verifying the appliance type that was passed through the body\n          // Has to be active and has to match the appliance type ID passed by the user\n          _context2.next = 4;\n          return pool.request().input(\"applianceTypeID\", sql.Int, applianceTypeID).query(\"\\n                SELECT Base_Price \\n                FROM Appliance_Type\\n                WHERE Appliance_Type_ID = @applianceTypeID AND isActive = 1\\n                \");\n        case 4:\n          applianceType = _context2.sent;\n          if (!(applianceType.recordset.length === 0)) {\n            _context2.next = 5;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(404).json({\n            message: \"Invalid appliance type chosen.\"\n          }));\n        case 5:\n          // Getting the base price of the appliance type chosen to specify the price of the booking\n          basePrice = applianceType.recordset[0].Base_Price; // Calculating the platform fee for the payment table based on the base price\n          commissionRate = 15.00;\n          platformFee = basePrice * commissionRate / 100; // Starting a transaction so the booking and payment are created together\n          transaction = pool.transaction();\n          _context2.next = 6;\n          return transaction.begin();\n        case 6:\n          _context2.prev = 6;\n          _context2.next = 7;\n          return transaction.request().input(\"userID\", sql.Int, userID).input(\"applianceTypeID\", sql.Int, applianceTypeID).input(\"issueDescription\", sql.NVarChar, issueDescription).input(\"bookingDate\", sql.Date, bookingDate).input(\"bookingTime\", sql.VarChar(8), cleanTime).input(\"basePrice\", sql.Decimal(10, 2), basePrice).query(\"\\n            INSERT INTO Booking (UserID, Appliance_Type_ID, Issue_Description, Booking_Date, Booking_Time, [Status], Total_Price)\\n            OUTPUT INSERTED.Booking_ID -- just so we could use the bookingID later using the result of this query.\\n            VALUES(@userID, @applianceTypeID, @issueDescription, @bookingDate, CAST(@bookingTime AS TIME), 'pending', @basePrice)\\n            \");\n        case 7:\n          bookingResult = _context2.sent;\n          // Getting the booking id from the above query's result (it outputs the booking id)\n          bookingID = bookingResult.recordset[0].Booking_ID; // Insert the payment data and set it to pending status until the user confirms the payment\n          _context2.next = 8;\n          return transaction.request().input(\"bookingID\", sql.Int, bookingID).input(\"amount\", sql.Decimal(10, 2), basePrice).input(\"paymentMethod\", sql.VarChar, paymentMethod).input(\"commissionRate\", sql.Decimal(5, 2), commissionRate).input(\"platformFee\", sql.Decimal(10, 2), platformFee).query(\"\\n                        INSERT INTO Payment (Booking_ID, Amount, Payment_Method, [Status], Commission_Rate, Platform_Fee)\\n                        VALUES(@bookingID, @amount, @paymentMethod, 'pending', @commissionRate, @platformFee)\\n                        \");\n        case 8:\n          _context2.next = 9;\n          return transaction.commit();\n        case 9:\n          // Sending a 201 success message with some information passed\n          res.status(201).json({\n            message: \"Successfully booked! A technician will be assigned soon.\",\n            bookingID: bookingID,\n            totalPrice: basePrice,\n            paymentMethod: paymentMethod,\n            paymentStatus: \"pending\"\n          });\n          _context2.next = 12;\n          break;\n        case 10:\n          _context2.prev = 10;\n          _t2 = _context2[\"catch\"](6);\n          _context2.next = 11;\n          return transaction.rollback();\n        case 11:\n          throw _t2;\n        case 12:\n          _context2.next = 15;\n          break;\n        case 13:\n          _context2.prev = 13;\n          _t3 = _context2[\"catch\"](3);\n          console.error(\"Unexpected error occurred when booking:\", _t3);\n\n          // If any data is wrong then this error is thrown (wrong appliance type and wrong/invalid date)\n          if (!(_t3.number === 547)) {\n            _context2.next = 14;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(400).json({\n            message: \"Invalid booking data. Please check your appliance type, date, and ensure it's today or in the future.\"\n          }));\n        case 14:\n          res.status(500).json({\n            message: \"An unexpected error occurred while booking.\"\n          });\n        case 15:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[3, 13], [6, 10]]);\n  }));\n  return function (_x4, _x5) {\n    return _ref2.apply(this, arguments);\n  };\n}());\n\n// User paying a booking functionality\nvar userPayBooking = asyncHandler(/*#__PURE__*/function () {\n  var _ref3 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee3(req, res) {\n    var _req$body2, bookingID, transactionID, userID, pool, checkBooking, booking, transactionIdMethods, _t4;\n    return _regenerator[\"default\"].wrap(function (_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          // Getting the booking id and the transaction id (if non-cash method) from the body, and the user id passed by the authentication middleware\n          _req$body2 = req.body, bookingID = _req$body2.bookingID, transactionID = _req$body2.transactionID;\n          userID = req.userID; // If no bookingID is passed then throw a 400 error. Not passing the transactionID is fine if the method is cash.\n          if (bookingID) {\n            _context3.next = 1;\n            break;\n          }\n          return _context3.abrupt(\"return\", res.status(400).json({\n            message: \"Booking ID must be passed.\"\n          }));\n        case 1:\n          _context3.prev = 1;\n          pool = getPool(); // Checking if the bookingID passed is valid\n          _context3.next = 2;\n          return pool.request().input(\"bookingID\", sql.Int, bookingID).input(\"userID\", sql.Int, userID).query(\"\\n                SELECT b.Booking_ID, b.[Status], b.UserID, p.Payment_ID, p.[Status] AS Payment_Status, p.Payment_Method\\n                FROM Booking b\\n                JOIN Payment p ON b.Booking_ID = p.Booking_ID\\n                WHERE b.Booking_ID = @bookingID\\n                \");\n        case 2:\n          checkBooking = _context3.sent;\n          if (!(checkBooking.recordset.length === 0)) {\n            _context3.next = 3;\n            break;\n          }\n          return _context3.abrupt(\"return\", res.status(404).json({\n            message: \"Booking not found\"\n          }));\n        case 3:\n          // Getting the first row of the returned result\n          booking = checkBooking.recordset[0]; // Checking if the booking's userID matches the current logged in's userID, if it doesn't then throw a 403\n          // since the user isn't authorized to pay for this booking.\n          if (!(booking.UserID !== userID)) {\n            _context3.next = 4;\n            break;\n          }\n          return _context3.abrupt(\"return\", res.status(403).json({\n            message: \"You are not authorized to pay for this booking since it's not yours.\"\n          }));\n        case 4:\n          if (!(booking.Status === 'cancelled')) {\n            _context3.next = 5;\n            break;\n          }\n          return _context3.abrupt(\"return\", res.status(400).json({\n            message: \"Cannot pay for a cancelled booking!\"\n          }));\n        case 5:\n          if (!(booking.Payment_Status === 'completed')) {\n            _context3.next = 6;\n            break;\n          }\n          return _context3.abrupt(\"return\", res.status(400).json({\n            message: \"This booking has already been paid.\"\n          }));\n        case 6:\n          // Ensuring that transactionID is passed when the payment method is anything but a cash method\n          // If there is no transactionID, and the payment method isnt cash, then throw a 400 error\n          transactionIdMethods = ['credit_card', 'debit_card', 'whish', 'omt'];\n          if (!(transactionIdMethods.includes(booking.Payment_Method) && !transactionID)) {\n            _context3.next = 7;\n            break;\n          }\n          return _context3.abrupt(\"return\", res.status(400).json({\n            message: \"Transaction ID is needed for this payment method!\"\n          }));\n        case 7:\n          _context3.next = 8;\n          return pool.request().input(\"bookingID\", sql.Int, bookingID).input(\"transactionID\", sql.VarChar, transactionID || null).query(\"\\n                UPDATE Payment\\n                SET [Status] = 'completed',\\n                    Transaction_ID = @transactionID,\\n                    paidAt = GETDATE()\\n                WHERE Booking_ID = @bookingID\\n                \");\n        case 8:\n          // Send a success message with the booking id and payment status as completed\n          res.status(200).json({\n            message: \"Payment completed.\",\n            bookingID: bookingID,\n            paymentStatus: \"completed\"\n          });\n          _context3.next = 11;\n          break;\n        case 9:\n          _context3.prev = 9;\n          _t4 = _context3[\"catch\"](1);\n          // Throws an error in case the booking id is invalid, or any other unexpected issue that occurred\n          console.error(\"Unexpected error occurred when processing payment:\", _t4);\n          if (!(_t4.number === 547)) {\n            _context3.next = 10;\n            break;\n          }\n          return _context3.abrupt(\"return\", res.status(400).json({\n            message: \"Invalid booking ID.\"\n          }));\n        case 10:\n          res.status(500).json({\n            message: \"An unexpected error occurred when processing the payment.\"\n          });\n        case 11:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3, null, [[1, 9]]);\n  }));\n  return function (_x6, _x7) {\n    return _ref3.apply(this, arguments);\n  };\n}());\n\n// User rating a booking functionality\nvar userRateBooking = asyncHandler(/*#__PURE__*/function () {\n  var _ref4 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee4(req, res) {\n    var _req$body3, bookingID, ratingScore, reviewText, userID, pool, checkBooking, booking, existingRating, _t5;\n    return _regenerator[\"default\"].wrap(function (_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          // Getting the needed input from the passed body and the userID passed from the middleware\n          _req$body3 = req.body, bookingID = _req$body3.bookingID, ratingScore = _req$body3.ratingScore, reviewText = _req$body3.reviewText;\n          userID = req.userID; // If the needed values are empty then throw a 400 error\n          if (!(!bookingID || !ratingScore || !reviewText)) {\n            _context4.next = 1;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(400).json({\n            message: \"You have to pass a booking ID, rating score and review text to rate a booking.\"\n          }));\n        case 1:\n          if (!(!Number.isInteger(ratingScore) || ratingScore < 1 || ratingScore > 5)) {\n            _context4.next = 2;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(400).json({\n            message: \"Rating score must be a number between 1 and 5!\"\n          }));\n        case 2:\n          if (!(reviewText.trim().length < 15)) {\n            _context4.next = 3;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(400).json({\n            message: \"Please write your review text longer, that's too short.\"\n          }));\n        case 3:\n          _context4.prev = 3;\n          pool = getPool(); // Check if the booking id passed exists\n          _context4.next = 4;\n          return pool.request().input(\"bookingID\", sql.Int, bookingID).input(\"userID\", sql.Int, userID).query(\"\\n                SELECT b.Booking_ID, b.UserID, b.Technician_ID, b.[Status]\\n                FROM Booking b\\n                WHERE b.Booking_ID = @bookingID\\n                \");\n        case 4:\n          checkBooking = _context4.sent;\n          if (!(checkBooking.recordset.length === 0)) {\n            _context4.next = 5;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(404).json({\n            message: \"Booking not found.\"\n          }));\n        case 5:\n          // Get the first booking row\n          booking = checkBooking.recordset[0]; // Check if the booking's user id matches the userid of the logged in user, if not then throw a 403 error\n          if (!(booking.UserID !== userID)) {\n            _context4.next = 6;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(403).json({\n            message: \"You are not authorized to review this booking since it's not yours!\"\n          }));\n        case 6:\n          if (booking.Technician_ID) {\n            _context4.next = 7;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(400).json({\n            message: \"Cannot rate a booking without an assigned technician.\"\n          }));\n        case 7:\n          if (!(booking.Status !== 'completed')) {\n            _context4.next = 8;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(400).json({\n            message: \"You can only rate completed bookings.\"\n          }));\n        case 8:\n          _context4.next = 9;\n          return pool.request().input(\"bookingID\", sql.Int, bookingID).query(\"SELECT Rating_ID \\n                    FROM Rating \\n                    WHERE Booking_ID = @bookingID\");\n        case 9:\n          existingRating = _context4.sent;\n          if (!(existingRating.recordset.length > 0)) {\n            _context4.next = 10;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(409).json({\n            message: \"This booking has already been rated before!\"\n          }));\n        case 10:\n          _context4.next = 11;\n          return pool.request().input(\"bookingID\", sql.Int, bookingID).input(\"userID\", sql.Int, userID).input(\"technicianID\", sql.Int, booking.Technician_ID).input(\"ratingScore\", sql.SmallInt, ratingScore).input(\"reviewText\", sql.NVarChar, reviewText.trim()).query(\"\\n                INSERT INTO Rating (Booking_ID, User_ID, Technician_ID, Rating_Score, Review_Text)\\n                VALUES(@bookingID, @userID, @technicianID, @ratingScore, @reviewText)\\n                \");\n        case 11:\n          // Send a 201 success message\n          res.status(201).json({\n            message: \"Successfully rated this booking!\",\n            bookingID: bookingID,\n            technicianID: booking.Technician_ID,\n            ratingScore: ratingScore\n          });\n          _context4.next = 15;\n          break;\n        case 12:\n          _context4.prev = 12;\n          _t5 = _context4[\"catch\"](3);\n          console.error(\"Unexpected error occurred when trying to rate a booking:\", _t5);\n\n          // Constraint violation handling\n          if (!(_t5.number === 547)) {\n            _context4.next = 13;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(400).json({\n            message: \"Invalid rating data, please check your inputs.\"\n          }));\n        case 13:\n          if (!(_t5.number === 2627)) {\n            _context4.next = 14;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(409).json({\n            message: \"This booking has already been rated.\"\n          }));\n        case 14:\n          res.status(500).json({\n            message: \"Unexpected error occurred when trying to rate a booking.\"\n          });\n        case 15:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4, null, [[3, 12]]);\n  }));\n  return function (_x8, _x9) {\n    return _ref4.apply(this, arguments);\n  };\n}());\n\n// The below methods get different types of bookings of the user: pending, confirmed, in progress, completed, cancelled\n// All use the helper function getBookingsByStatus to reduce code duplication\nvar getPendingBookings = asyncHandler(/*#__PURE__*/function () {\n  var _ref5 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee5(req, res) {\n    var userID, result;\n    return _regenerator[\"default\"].wrap(function (_context5) {\n      while (1) switch (_context5.prev = _context5.next) {\n        case 0:\n          userID = req.userID;\n          _context5.next = 1;\n          return getBookingsByStatus(userID, 'pending', 'pending');\n        case 1:\n          result = _context5.sent;\n          if (!result.success) {\n            _context5.next = 2;\n            break;\n          }\n          return _context5.abrupt(\"return\", res.status(result.statusCode).json(result.data));\n        case 2:\n          return _context5.abrupt(\"return\", res.status(result.statusCode).json({\n            message: result.error\n          }));\n        case 3:\n        case \"end\":\n          return _context5.stop();\n      }\n    }, _callee5);\n  }));\n  return function (_x0, _x1) {\n    return _ref5.apply(this, arguments);\n  };\n}());\nvar getConfirmedBookings = asyncHandler(/*#__PURE__*/function () {\n  var _ref6 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee6(req, res) {\n    var userID, result;\n    return _regenerator[\"default\"].wrap(function (_context6) {\n      while (1) switch (_context6.prev = _context6.next) {\n        case 0:\n          userID = req.userID;\n          _context6.next = 1;\n          return getBookingsByStatus(userID, 'confirmed', 'confirmed');\n        case 1:\n          result = _context6.sent;\n          if (!result.success) {\n            _context6.next = 2;\n            break;\n          }\n          return _context6.abrupt(\"return\", res.status(result.statusCode).json(result.data));\n        case 2:\n          return _context6.abrupt(\"return\", res.status(result.statusCode).json({\n            message: result.error\n          }));\n        case 3:\n        case \"end\":\n          return _context6.stop();\n      }\n    }, _callee6);\n  }));\n  return function (_x10, _x11) {\n    return _ref6.apply(this, arguments);\n  };\n}());\nvar getInProgressBookings = asyncHandler(/*#__PURE__*/function () {\n  var _ref7 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee7(req, res) {\n    var userID, result;\n    return _regenerator[\"default\"].wrap(function (_context7) {\n      while (1) switch (_context7.prev = _context7.next) {\n        case 0:\n          userID = req.userID;\n          _context7.next = 1;\n          return getBookingsByStatus(userID, 'in_progress', 'in progress');\n        case 1:\n          result = _context7.sent;\n          if (!result.success) {\n            _context7.next = 2;\n            break;\n          }\n          return _context7.abrupt(\"return\", res.status(result.statusCode).json(result.data));\n        case 2:\n          return _context7.abrupt(\"return\", res.status(result.statusCode).json({\n            message: result.error\n          }));\n        case 3:\n        case \"end\":\n          return _context7.stop();\n      }\n    }, _callee7);\n  }));\n  return function (_x12, _x13) {\n    return _ref7.apply(this, arguments);\n  };\n}());\nvar getCompletedBookings = asyncHandler(/*#__PURE__*/function () {\n  var _ref8 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee8(req, res) {\n    var userID, result;\n    return _regenerator[\"default\"].wrap(function (_context8) {\n      while (1) switch (_context8.prev = _context8.next) {\n        case 0:\n          userID = req.userID;\n          _context8.next = 1;\n          return getBookingsByStatus(userID, 'completed', 'completed');\n        case 1:\n          result = _context8.sent;\n          if (!result.success) {\n            _context8.next = 2;\n            break;\n          }\n          return _context8.abrupt(\"return\", res.status(result.statusCode).json(result.data));\n        case 2:\n          return _context8.abrupt(\"return\", res.status(result.statusCode).json({\n            message: result.error\n          }));\n        case 3:\n        case \"end\":\n          return _context8.stop();\n      }\n    }, _callee8);\n  }));\n  return function (_x14, _x15) {\n    return _ref8.apply(this, arguments);\n  };\n}());\nvar getCancelledBookings = asyncHandler(/*#__PURE__*/function () {\n  var _ref9 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee9(req, res) {\n    var userID, result;\n    return _regenerator[\"default\"].wrap(function (_context9) {\n      while (1) switch (_context9.prev = _context9.next) {\n        case 0:\n          userID = req.userID;\n          _context9.next = 1;\n          return getBookingsByStatus(userID, 'cancelled', 'cancelled');\n        case 1:\n          result = _context9.sent;\n          if (!result.success) {\n            _context9.next = 2;\n            break;\n          }\n          return _context9.abrupt(\"return\", res.status(result.statusCode).json(result.data));\n        case 2:\n          return _context9.abrupt(\"return\", res.status(result.statusCode).json({\n            message: result.error\n          }));\n        case 3:\n        case \"end\":\n          return _context9.stop();\n      }\n    }, _callee9);\n  }));\n  return function (_x16, _x17) {\n    return _ref9.apply(this, arguments);\n  };\n}());\n\n// User cancelling a booking functionality\nvar userCancelBooking = asyncHandler(/*#__PURE__*/function () {\n  var _ref0 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee0(req, res) {\n    var bookingID, userID, pool, checkBooking, booking, transaction, _t6, _t7;\n    return _regenerator[\"default\"].wrap(function (_context0) {\n      while (1) switch (_context0.prev = _context0.next) {\n        case 0:\n          bookingID = req.body.bookingID;\n          userID = req.userID; // If no bookingID is passed then throw a 400 error\n          if (bookingID) {\n            _context0.next = 1;\n            break;\n          }\n          return _context0.abrupt(\"return\", res.status(400).json({\n            message: \"Booking ID must be passed.\"\n          }));\n        case 1:\n          _context0.prev = 1;\n          pool = getPool(); // Checking if the bookingID passed is valid and belongs to the user\n          _context0.next = 2;\n          return pool.request().input(\"bookingID\", sql.Int, bookingID).input(\"userID\", sql.Int, userID).query(\"\\n                SELECT b.Booking_ID, b.[Status], b.UserID, p.Payment_ID, p.[Status] AS Payment_Status\\n                FROM Booking b\\n                LEFT JOIN Payment p ON b.Booking_ID = p.Booking_ID\\n                WHERE b.Booking_ID = @bookingID\\n            \");\n        case 2:\n          checkBooking = _context0.sent;\n          if (!(checkBooking.recordset.length === 0)) {\n            _context0.next = 3;\n            break;\n          }\n          return _context0.abrupt(\"return\", res.status(404).json({\n            message: \"Booking not found.\"\n          }));\n        case 3:\n          booking = checkBooking.recordset[0]; // Checking if the booking belongs to the logged in user\n          if (!(booking.UserID !== userID)) {\n            _context0.next = 4;\n            break;\n          }\n          return _context0.abrupt(\"return\", res.status(403).json({\n            message: \"You are not authorized to cancel this booking since it's not yours.\"\n          }));\n        case 4:\n          if (!(booking.Status !== 'pending')) {\n            _context0.next = 5;\n            break;\n          }\n          return _context0.abrupt(\"return\", res.status(400).json({\n            message: \"Cannot cancel a booking that is \".concat(booking.Status, \". Only pending bookings can be cancelled.\")\n          }));\n        case 5:\n          if (!(booking.Payment_Status === 'completed')) {\n            _context0.next = 6;\n            break;\n          }\n          return _context0.abrupt(\"return\", res.status(400).json({\n            message: \"Cannot cancel a booking that has already been paid.\"\n          }));\n        case 6:\n          // Start a transaction to update booking and delete payment\n          transaction = pool.transaction();\n          _context0.next = 7;\n          return transaction.begin();\n        case 7:\n          _context0.prev = 7;\n          _context0.next = 8;\n          return transaction.request().input(\"bookingID\", sql.Int, bookingID).query(\"\\n                    UPDATE Booking\\n                    SET [Status] = 'cancelled',\\n                        modifiedAt = GETDATE()\\n                    WHERE Booking_ID = @bookingID\\n                \");\n        case 8:\n          _context0.next = 9;\n          return transaction.request().input(\"bookingID\", sql.Int, bookingID).query(\"\\n                    DELETE FROM Payment\\n                    WHERE Booking_ID = @bookingID\\n                \");\n        case 9:\n          _context0.next = 10;\n          return transaction.commit();\n        case 10:\n          res.status(200).json({\n            message: \"Booking cancelled successfully.\",\n            bookingID: bookingID,\n            status: \"cancelled\"\n          });\n          _context0.next = 13;\n          break;\n        case 11:\n          _context0.prev = 11;\n          _t6 = _context0[\"catch\"](7);\n          _context0.next = 12;\n          return transaction.rollback();\n        case 12:\n          throw _t6;\n        case 13:\n          _context0.next = 15;\n          break;\n        case 14:\n          _context0.prev = 14;\n          _t7 = _context0[\"catch\"](1);\n          console.error(\"Unexpected error occurred when cancelling booking:\", _t7);\n          res.status(500).json({\n            message: \"An unexpected error occurred while cancelling the booking.\"\n          });\n        case 15:\n        case \"end\":\n          return _context0.stop();\n      }\n    }, _callee0, null, [[1, 14], [7, 11]]);\n  }));\n  return function (_x18, _x19) {\n    return _ref0.apply(this, arguments);\n  };\n}());\nmodule.exports = {\n  userRequestBooking: userRequestBooking,\n  userPayBooking: userPayBooking,\n  userRateBooking: userRateBooking,\n  userCancelBooking: userCancelBooking,\n  getPendingBookings: getPendingBookings,\n  getConfirmedBookings: getConfirmedBookings,\n  getInProgressBookings: getInProgressBookings,\n  getCompletedBookings: getCompletedBookings,\n  getCancelledBookings: getCancelledBookings\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhc3luY0hhbmRsZXIiLCJyZXF1aXJlIiwiX3JlcXVpcmUiLCJnZXRQb29sIiwic3FsIiwiZ2V0Qm9va2luZ3NCeVN0YXR1cyIsIl9yZWYiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJfcmVnZW5lcmF0b3IiLCJtYXJrIiwiX2NhbGxlZSIsInVzZXJJRCIsInN0YXR1cyIsInN0YXR1c0Rpc3BsYXlOYW1lIiwicG9vbCIsImJvb2tpbmdzIiwiX3QiLCJ3cmFwIiwiX2NvbnRleHQiLCJwcmV2IiwibmV4dCIsInJlcXVlc3QiLCJpbnB1dCIsIkludCIsIlZhckNoYXIiLCJxdWVyeSIsInNlbnQiLCJyZWNvcmRzZXQiLCJsZW5ndGgiLCJhYnJ1cHQiLCJzdWNjZXNzIiwic3RhdHVzQ29kZSIsImRhdGEiLCJtZXNzYWdlIiwiY29uY2F0IiwiY291bnQiLCJjb25zb2xlIiwiZXJyb3IiLCJzdG9wIiwiX3giLCJfeDIiLCJfeDMiLCJhcHBseSIsImFyZ3VtZW50cyIsInVzZXJSZXF1ZXN0Qm9va2luZyIsIl9yZWYyIiwiX2NhbGxlZTIiLCJyZXEiLCJyZXMiLCJfcmVxJGJvZHkiLCJhcHBsaWFuY2VUeXBlSUQiLCJpc3N1ZURlc2NyaXB0aW9uIiwiYm9va2luZ0RhdGUiLCJib29raW5nVGltZSIsInBheW1lbnRNZXRob2QiLCJ2YWxpZFBheW1lbnRNZXRob2RzIiwidGltZVJlZ2V4IiwiY2xlYW5UaW1lIiwiYXBwbGlhbmNlVHlwZSIsImJhc2VQcmljZSIsImNvbW1pc3Npb25SYXRlIiwicGxhdGZvcm1GZWUiLCJ0cmFuc2FjdGlvbiIsImJvb2tpbmdSZXN1bHQiLCJib29raW5nSUQiLCJfdDIiLCJfdDMiLCJfY29udGV4dDIiLCJib2R5IiwianNvbiIsImluY2x1ZGVzIiwidHJpbSIsInRlc3QiLCJCYXNlX1ByaWNlIiwiYmVnaW4iLCJOVmFyQ2hhciIsIkRhdGUiLCJEZWNpbWFsIiwiQm9va2luZ19JRCIsImNvbW1pdCIsInRvdGFsUHJpY2UiLCJwYXltZW50U3RhdHVzIiwicm9sbGJhY2siLCJudW1iZXIiLCJfeDQiLCJfeDUiLCJ1c2VyUGF5Qm9va2luZyIsIl9yZWYzIiwiX2NhbGxlZTMiLCJfcmVxJGJvZHkyIiwidHJhbnNhY3Rpb25JRCIsImNoZWNrQm9va2luZyIsImJvb2tpbmciLCJ0cmFuc2FjdGlvbklkTWV0aG9kcyIsIl90NCIsIl9jb250ZXh0MyIsIlVzZXJJRCIsIlN0YXR1cyIsIlBheW1lbnRfU3RhdHVzIiwiUGF5bWVudF9NZXRob2QiLCJfeDYiLCJfeDciLCJ1c2VyUmF0ZUJvb2tpbmciLCJfcmVmNCIsIl9jYWxsZWU0IiwiX3JlcSRib2R5MyIsInJhdGluZ1Njb3JlIiwicmV2aWV3VGV4dCIsImV4aXN0aW5nUmF0aW5nIiwiX3Q1IiwiX2NvbnRleHQ0IiwiTnVtYmVyIiwiaXNJbnRlZ2VyIiwiVGVjaG5pY2lhbl9JRCIsIlNtYWxsSW50IiwidGVjaG5pY2lhbklEIiwiX3g4IiwiX3g5IiwiZ2V0UGVuZGluZ0Jvb2tpbmdzIiwiX3JlZjUiLCJfY2FsbGVlNSIsInJlc3VsdCIsIl9jb250ZXh0NSIsIl94MCIsIl94MSIsImdldENvbmZpcm1lZEJvb2tpbmdzIiwiX3JlZjYiLCJfY2FsbGVlNiIsIl9jb250ZXh0NiIsIl94MTAiLCJfeDExIiwiZ2V0SW5Qcm9ncmVzc0Jvb2tpbmdzIiwiX3JlZjciLCJfY2FsbGVlNyIsIl9jb250ZXh0NyIsIl94MTIiLCJfeDEzIiwiZ2V0Q29tcGxldGVkQm9va2luZ3MiLCJfcmVmOCIsIl9jYWxsZWU4IiwiX2NvbnRleHQ4IiwiX3gxNCIsIl94MTUiLCJnZXRDYW5jZWxsZWRCb29raW5ncyIsIl9yZWY5IiwiX2NhbGxlZTkiLCJfY29udGV4dDkiLCJfeDE2IiwiX3gxNyIsInVzZXJDYW5jZWxCb29raW5nIiwiX3JlZjAiLCJfY2FsbGVlMCIsIl90NiIsIl90NyIsIl9jb250ZXh0MCIsIl94MTgiLCJfeDE5IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL2hvbWUvc2Vyai9Eb2N1bWVudHMvR2l0SHViL0ZpeEFwcGxpYW5jZS1ib29raW5nQ29tbWVyY2UvYmFjay1lbmQvc3JjL2NvbnRyb2xsZXJzLyIsInNvdXJjZXMiOlsiVXNlckJvb2tpbmdDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGhpcyBjb250cm9sbGVyIGhhbmRsZXMgZXZlcnl0aGluZyByZWxhdGVkIHRvIGJvb2tpbmcgYW5kIHRoZSB1c2VyOlxuICogIDEuIFVzZXIgcmVxdWVzdGluZyBhIGJvb2tpbmdcbiAqICAyLiBVc2VyIHBheWluZyBhIGJvb2tpbmdcbiAqICAzLiBVc2VyIHJhdGluZyBhIGJvb2tpbmdcbiAqICA0LiB1c2VyIGdldHRpbmcgdGhlaXIgYm9va2luZ3MgKHBlbmRpbmcvY29uZmlybWVkL2luIHByb2dyZXNzL2NvbXBsZXRlZC9jYW5jZWxsZWQpXG4gKi9cblxuY29uc3QgYXN5bmNIYW5kbGVyID0gcmVxdWlyZShcImV4cHJlc3MtYXN5bmMtaGFuZGxlclwiKTtcblxuXG4vLyBzcWwgbmVlZGVkIGZvciB0aGUgdHlwZSBkZWZpbml0aW9ucyBpbiAuaW5wdXRcbi8vIGdldFBvb2wgaXMgdG8gZG8gcXVlcmllc1xuY29uc3QgeyBnZXRQb29sLCBzcWwgfSA9IHJlcXVpcmUoXCIuLi9jb25maWcvZGF0YWJhc2VcIik7XG5cblxuLyoqXG4gKiBIZWxwZXIgZnVuY3Rpb24gdG8gZ2V0IGJvb2tpbmdzIGJ5IHN0YXR1cyBmb3IgYSB1c2VyXG4gKiBSZWR1Y2VzIGNvZGUgZHVwbGljYXRpb24gYWNyb3NzIHRoZSA1IGdldFhCb29raW5ncyBmdW5jdGlvbnNcbiAqIEBwYXJhbSB7bnVtYmVyfSB1c2VySUQgLSBUaGUgdXNlcidzIElEXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RhdHVzIC0gVGhlIGJvb2tpbmcgc3RhdHVzIHRvIGZpbHRlciBieVxuICogQHBhcmFtIHtzdHJpbmd9IHN0YXR1c0Rpc3BsYXlOYW1lIC0gSHVtYW4tcmVhZGFibGUgc3RhdHVzIG5hbWUgZm9yIG1lc3NhZ2VzXG4gKiBAcmV0dXJucyB7UHJvbWlzZTx7c3VjY2VzczogYm9vbGVhbiwgZGF0YT86IG9iamVjdCwgZXJyb3I/OiBzdHJpbmcsIHN0YXR1c0NvZGU6IG51bWJlcn0+fVxuICovXG5jb25zdCBnZXRCb29raW5nc0J5U3RhdHVzID0gYXN5bmMgKHVzZXJJRCwgc3RhdHVzLCBzdGF0dXNEaXNwbGF5TmFtZSkgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHBvb2wgPSBnZXRQb29sKCk7XG5cbiAgICAgICAgY29uc3QgYm9va2luZ3MgPSBhd2FpdCBwb29sLnJlcXVlc3QoKVxuICAgICAgICAgICAgLmlucHV0KFwidXNlcklEXCIsIHNxbC5JbnQsIHVzZXJJRClcbiAgICAgICAgICAgIC5pbnB1dChcInN0YXR1c1wiLCBzcWwuVmFyQ2hhciwgc3RhdHVzKVxuICAgICAgICAgICAgLnF1ZXJ5KGBcbiAgICAgICAgICAgICAgICBTRUxFQ1QgXG4gICAgICAgICAgICAgICAgICAgIEJvb2tpbmcuQm9va2luZ19JRCwgXG4gICAgICAgICAgICAgICAgICAgIEJvb2tpbmcuQm9va2luZ19EYXRlIEFTIFwiU2NoZWR1bGVkIERhdGVcIiwgXG4gICAgICAgICAgICAgICAgICAgIEJvb2tpbmcuQm9va2luZ19UaW1lIEFTIFwiU2NoZWR1bGVkIFRpbWVcIiwgXG4gICAgICAgICAgICAgICAgICAgIEJvb2tpbmcuVG90YWxfUHJpY2UgQVMgXCJUb3RhbCBQcmljZVwiLCBcbiAgICAgICAgICAgICAgICAgICAgQm9va2luZy5jcmVhdGVkQXQgQVMgXCJDcmVhdGVkIEF0XCIsXG4gICAgICAgICAgICAgICAgICAgIEFwcGxpYW5jZV9UeXBlLm5hbWVFTiBBUyBcIkFwcGxpYW5jZSdzIE5hbWUgKEVOKVwiLCBcbiAgICAgICAgICAgICAgICAgICAgQXBwbGlhbmNlX1R5cGUubmFtZUFSIEFTIFwiQXBwbGlhbmNlJ3MgTmFtZSAoQVIpXCIsXG4gICAgICAgICAgICAgICAgICAgIEJvb2tpbmcuSXNzdWVfRGVzY3JpcHRpb24gQVMgXCJJc3N1ZSBEZXNjcmlwdGlvblwiLFxuICAgICAgICAgICAgICAgICAgICBUZWNobmljaWFuLkZpcnN0X05hbWUgQVMgXCJUZWNobmljaWFuJ3MgRmlyc3QgTmFtZVwiLFxuICAgICAgICAgICAgICAgICAgICBUZWNobmljaWFuLkxhc3RfTmFtZSBBUyBcIlRlY2huaWNpYW4ncyBMYXN0IE5hbWVcIixcbiAgICAgICAgICAgICAgICAgICAgVGVjaG5pY2lhbi5QaG9uZSBBUyBcIlRlY2huaWNpYW4ncyBQaG9uZSBOdW1iZXJcIixcbiAgICAgICAgICAgICAgICAgICAgUGF5bWVudC5bU3RhdHVzXSBBUyBcIlBheW1lbnQgU3RhdHVzXCIsXG4gICAgICAgICAgICAgICAgICAgIFBheW1lbnQuUGF5bWVudF9NZXRob2QgQVMgXCJQYXltZW50IE1ldGhvZFwiLFxuICAgICAgICAgICAgICAgICAgICBSYXRpbmcuUmF0aW5nX1Njb3JlIEFTIFwiUmF0aW5nIFNjb3JlXCIsXG4gICAgICAgICAgICAgICAgICAgIFJhdGluZy5SZXZpZXdfVGV4dCBBUyBcIlJldmlldyBUZXh0XCJcbiAgICAgICAgICAgICAgICBGUk9NIEJvb2tpbmdcbiAgICAgICAgICAgICAgICBMRUZUIEpPSU4gVGVjaG5pY2lhbiBPTiBCb29raW5nLlRlY2huaWNpYW5fSUQgPSBUZWNobmljaWFuLlRlY2huaWNpYW5fSURcbiAgICAgICAgICAgICAgICBMRUZUIEpPSU4gUGF5bWVudCBPTiBCb29raW5nLkJvb2tpbmdfSUQgPSBQYXltZW50LkJvb2tpbmdfSURcbiAgICAgICAgICAgICAgICBMRUZUIEpPSU4gUmF0aW5nIE9OIEJvb2tpbmcuQm9va2luZ19JRCA9IFJhdGluZy5Cb29raW5nX0lEXG4gICAgICAgICAgICAgICAgSk9JTiBBcHBsaWFuY2VfVHlwZSBPTiBCb29raW5nLkFwcGxpYW5jZV9UeXBlX0lEID0gQXBwbGlhbmNlX1R5cGUuQXBwbGlhbmNlX1R5cGVfSURcbiAgICAgICAgICAgICAgICBXSEVSRSBCb29raW5nLlVzZXJJRCA9IEB1c2VySUQgQU5EIEJvb2tpbmcuW1N0YXR1c10gPSBAc3RhdHVzXG4gICAgICAgICAgICAgICAgT1JERVIgQlkgQm9va2luZy5Cb29raW5nX0RhdGUgQVNDLCBCb29raW5nLkJvb2tpbmdfVGltZSBBU0NcbiAgICAgICAgICAgIGApO1xuXG4gICAgICAgIGlmIChib29raW5ncy5yZWNvcmRzZXQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgc3RhdHVzQ29kZTogMjAwLFxuICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogYFlvdSBkb24ndCBoYXZlIGFueSAke3N0YXR1c0Rpc3BsYXlOYW1lfSBib29raW5ncy5gLFxuICAgICAgICAgICAgICAgICAgICBjb3VudDogMCxcbiAgICAgICAgICAgICAgICAgICAgYm9va2luZ3M6IFtdXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgc3RhdHVzQ29kZTogMjAwLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBZb3UgaGF2ZSAke3N0YXR1c0Rpc3BsYXlOYW1lfSBib29raW5ncyFgLFxuICAgICAgICAgICAgICAgIGNvdW50OiBib29raW5ncy5yZWNvcmRzZXQubGVuZ3RoLFxuICAgICAgICAgICAgICAgIGJvb2tpbmdzOiBib29raW5ncy5yZWNvcmRzZXRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBVbmV4cGVjdGVkIGVycm9yIG9jY3VycmVkIHdoZW4gdHJ5aW5nIHRvIGZldGNoICR7c3RhdHVzRGlzcGxheU5hbWV9IGJvb2tpbmdzOmAsIGVycm9yKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgc3RhdHVzQ29kZTogNTAwLFxuICAgICAgICAgICAgZXJyb3I6IGBVbmV4cGVjdGVkIGVycm9yIG9jY3VycmVkIHdoZW4gdHJ5aW5nIHRvIGZldGNoIHlvdXIgJHtzdGF0dXNEaXNwbGF5TmFtZX0gYm9va2luZ3MuYFxuICAgICAgICB9O1xuICAgIH1cbn07XG5cblxuLy8gVXNlciByZXF1ZXN0aW5nIGEgbmV3IGJvb2tpbmdcbmNvbnN0IHVzZXJSZXF1ZXN0Qm9va2luZyA9IGFzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICAvLyBHZXR0aW5nIGFsbCB1c2VyIGlucHV0IGZyb20gdGhlIHJlcXVlc3QncyBib2R5IGFuZCB0aGUgdXNlcklEIGFzIHdlbGwgcGFzc2VkIGJ5IHRoZSBtaWRkbGV3YXJlIHRoYXQgdmFsaWRhdGVzIHVzZXIncyBsb2dpbiBjcmVkZW50aWFsc1xuICAgIGNvbnN0IHsgYXBwbGlhbmNlVHlwZUlELCBpc3N1ZURlc2NyaXB0aW9uLCBib29raW5nRGF0ZSwgYm9va2luZ1RpbWUsIHBheW1lbnRNZXRob2QgfSA9IHJlcS5ib2R5O1xuICAgIGNvbnN0IHVzZXJJRCA9IHJlcS51c2VySUQ7XG5cbiAgICAvLyBJZiBhbnkgb2YgdGhlIGlucHV0cyBhcmVudCBwcm92aWRlZCB0aGVuIHRocm93IGEgNDAwIGVycm9yXG4gICAgaWYgKCFhcHBsaWFuY2VUeXBlSUQgfHwgIWlzc3VlRGVzY3JpcHRpb24gfHwgIWJvb2tpbmdEYXRlIHx8ICFib29raW5nVGltZSB8fCAhcGF5bWVudE1ldGhvZCkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiQWxsIGJvb2tpbmcgZGV0YWlscyBhcmUgcmVxdWlyZWQ6IHRoZSBhcHBsaWFuY2UsIGEgZGVzY3JpcHRpb24gZm9yIHRoZSBpc3N1ZSwgZGF0ZSBhbmQgdGltZS5cIn0pO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRlIHRoZSBwYXltZW50IG1ldGhvZCBzdWNoIHRoYXQgaXQncyBvbmUgb2YgdGhlIGFjY2VwdGVkIG9uZXNcbiAgICBjb25zdCB2YWxpZFBheW1lbnRNZXRob2RzID0gWydjYXNoJywgJ2NyZWRpdF9jYXJkJywgJ2RlYml0X2NhcmQnLCAnd2hpc2gnLCAnb210J107XG4gICAgaWYgKCF2YWxpZFBheW1lbnRNZXRob2RzLmluY2x1ZGVzKHBheW1lbnRNZXRob2QpKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJJbnZhbGlkIHBheW1lbnQgbWV0aG9kLiBDaG9vc2UgZWl0aGVyIGNhc2gsIGNyZWRpdF9jYXJkLCBkZWJpdF9jYXJkLCB3aGlzaCBvciBvbXQuXCJ9KTtcbiAgICB9XG5cbiAgICAvLyBWYWxpZGF0aW5nIHRoZSB0aW1lIGZvcm1hdCBwYXNzZWQgdXNpbmcgcmVnZXgsIGlmIGRvZXNudCBwYXNzIHRoZW4gdGhyb3cgYSA0MDAgb2YgaW52YWxpZCB0aW1lIGZvcm1hdFxuICAgIGNvbnN0IHRpbWVSZWdleCA9IC9eKFswLTFdP1swLTldfDJbMC0zXSk6WzAtNV1bMC05XTpbMC01XVswLTldJC87XG4gICAgY29uc3QgY2xlYW5UaW1lID0gYm9va2luZ1RpbWUudHJpbSgpO1xuXG4gICAgaWYgKCF0aW1lUmVnZXgudGVzdChjbGVhblRpbWUpKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJJbnZhbGlkIHRpbWUgZm9ybWF0LiBVc2UgSEg6TU06U1MgKGUuZy4sIDE0OjMwOjAwKVwifSk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcG9vbCA9IGdldFBvb2woKTtcblxuICAgICAgICAvLyBWZXJpZnlpbmcgdGhlIGFwcGxpYW5jZSB0eXBlIHRoYXQgd2FzIHBhc3NlZCB0aHJvdWdoIHRoZSBib2R5XG4gICAgICAgIC8vIEhhcyB0byBiZSBhY3RpdmUgYW5kIGhhcyB0byBtYXRjaCB0aGUgYXBwbGlhbmNlIHR5cGUgSUQgcGFzc2VkIGJ5IHRoZSB1c2VyXG4gICAgICAgIGNvbnN0IGFwcGxpYW5jZVR5cGUgPSBhd2FpdCBwb29sLnJlcXVlc3QoKVxuICAgICAgICAgICAgLmlucHV0KFwiYXBwbGlhbmNlVHlwZUlEXCIsIHNxbC5JbnQsIGFwcGxpYW5jZVR5cGVJRClcbiAgICAgICAgICAgIC5xdWVyeShgXG4gICAgICAgICAgICAgICAgU0VMRUNUIEJhc2VfUHJpY2UgXG4gICAgICAgICAgICAgICAgRlJPTSBBcHBsaWFuY2VfVHlwZVxuICAgICAgICAgICAgICAgIFdIRVJFIEFwcGxpYW5jZV9UeXBlX0lEID0gQGFwcGxpYW5jZVR5cGVJRCBBTkQgaXNBY3RpdmUgPSAxXG4gICAgICAgICAgICAgICAgYCk7XG5cbiAgICAgICAgLy8gSWYgbm8gcmVzdWx0IHJldHVybmVkIGZyb20gdGhlIGFwcGxpYW5jZSB0eXBlIGNoZWNrIHF1ZXJ5IHRoZW4gdGhhdCBtZWFucyB0aGUgYXBwbGlhbmNlIHR5cGUgaWQgcGFzc2VkXG4gICAgICAgIC8vIGlzIGludmFsaWQsIHRocm93IGEgNDA0IGVycm9yXG4gICAgICAgIGlmIChhcHBsaWFuY2VUeXBlLnJlY29yZHNldC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7bWVzc2FnZTogXCJJbnZhbGlkIGFwcGxpYW5jZSB0eXBlIGNob3Nlbi5cIn0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gR2V0dGluZyB0aGUgYmFzZSBwcmljZSBvZiB0aGUgYXBwbGlhbmNlIHR5cGUgY2hvc2VuIHRvIHNwZWNpZnkgdGhlIHByaWNlIG9mIHRoZSBib29raW5nXG4gICAgICAgIGNvbnN0IGJhc2VQcmljZSA9IGFwcGxpYW5jZVR5cGUucmVjb3Jkc2V0WzBdLkJhc2VfUHJpY2U7XG5cbiAgICAgICAgLy8gQ2FsY3VsYXRpbmcgdGhlIHBsYXRmb3JtIGZlZSBmb3IgdGhlIHBheW1lbnQgdGFibGUgYmFzZWQgb24gdGhlIGJhc2UgcHJpY2VcbiAgICAgICAgY29uc3QgY29tbWlzc2lvblJhdGUgPSAxNS4wMDtcbiAgICAgICAgY29uc3QgcGxhdGZvcm1GZWUgPSAoYmFzZVByaWNlICogY29tbWlzc2lvblJhdGUpIC8gMTAwO1xuXG4gICAgICAgIC8vIFN0YXJ0aW5nIGEgdHJhbnNhY3Rpb24gc28gdGhlIGJvb2tpbmcgYW5kIHBheW1lbnQgYXJlIGNyZWF0ZWQgdG9nZXRoZXJcbiAgICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSBwb29sLnRyYW5zYWN0aW9uKCk7XG4gICAgICAgIGF3YWl0IHRyYW5zYWN0aW9uLmJlZ2luKCk7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIENyZWF0aW5nIGJvb2tpbmcgZGF0YSBieSBwYWRkaW5nIHRoZSBuZWVkZWQgY29sdW1uIGRhdGFcbiAgICAgICAgICAgIGNvbnN0IGJvb2tpbmdSZXN1bHQgPSBhd2FpdCB0cmFuc2FjdGlvbi5yZXF1ZXN0KClcbiAgICAgICAgICAgICAgICAuaW5wdXQoXCJ1c2VySURcIiwgc3FsLkludCwgdXNlcklEKVxuICAgICAgICAgICAgICAgIC5pbnB1dChcImFwcGxpYW5jZVR5cGVJRFwiLCBzcWwuSW50LCBhcHBsaWFuY2VUeXBlSUQpXG4gICAgICAgICAgICAgICAgLmlucHV0KFwiaXNzdWVEZXNjcmlwdGlvblwiLCBzcWwuTlZhckNoYXIsIGlzc3VlRGVzY3JpcHRpb24pXG4gICAgICAgICAgICAgICAgLmlucHV0KFwiYm9va2luZ0RhdGVcIiwgc3FsLkRhdGUsIGJvb2tpbmdEYXRlKVxuICAgICAgICAgICAgICAgIC5pbnB1dChcImJvb2tpbmdUaW1lXCIsIHNxbC5WYXJDaGFyKDgpLCBjbGVhblRpbWUpXG4gICAgICAgICAgICAgICAgLmlucHV0KFwiYmFzZVByaWNlXCIsIHNxbC5EZWNpbWFsKDEwLCAyKSwgYmFzZVByaWNlKVxuICAgICAgICAgICAgICAgIC5xdWVyeShgXG4gICAgICAgICAgICBJTlNFUlQgSU5UTyBCb29raW5nIChVc2VySUQsIEFwcGxpYW5jZV9UeXBlX0lELCBJc3N1ZV9EZXNjcmlwdGlvbiwgQm9va2luZ19EYXRlLCBCb29raW5nX1RpbWUsIFtTdGF0dXNdLCBUb3RhbF9QcmljZSlcbiAgICAgICAgICAgIE9VVFBVVCBJTlNFUlRFRC5Cb29raW5nX0lEIC0tIGp1c3Qgc28gd2UgY291bGQgdXNlIHRoZSBib29raW5nSUQgbGF0ZXIgdXNpbmcgdGhlIHJlc3VsdCBvZiB0aGlzIHF1ZXJ5LlxuICAgICAgICAgICAgVkFMVUVTKEB1c2VySUQsIEBhcHBsaWFuY2VUeXBlSUQsIEBpc3N1ZURlc2NyaXB0aW9uLCBAYm9va2luZ0RhdGUsIENBU1QoQGJvb2tpbmdUaW1lIEFTIFRJTUUpLCAncGVuZGluZycsIEBiYXNlUHJpY2UpXG4gICAgICAgICAgICBgKTtcblxuICAgICAgICAgICAgLy8gR2V0dGluZyB0aGUgYm9va2luZyBpZCBmcm9tIHRoZSBhYm92ZSBxdWVyeSdzIHJlc3VsdCAoaXQgb3V0cHV0cyB0aGUgYm9va2luZyBpZClcbiAgICAgICAgICAgIGNvbnN0IGJvb2tpbmdJRCA9IGJvb2tpbmdSZXN1bHQucmVjb3Jkc2V0WzBdLkJvb2tpbmdfSUQ7XG5cbiAgICAgICAgICAgIC8vIEluc2VydCB0aGUgcGF5bWVudCBkYXRhIGFuZCBzZXQgaXQgdG8gcGVuZGluZyBzdGF0dXMgdW50aWwgdGhlIHVzZXIgY29uZmlybXMgdGhlIHBheW1lbnRcbiAgICAgICAgICAgIGF3YWl0IHRyYW5zYWN0aW9uLnJlcXVlc3QoKVxuICAgICAgICAgICAgICAgIC5pbnB1dChcImJvb2tpbmdJRFwiLCBzcWwuSW50LCBib29raW5nSUQpXG4gICAgICAgICAgICAgICAgLmlucHV0KFwiYW1vdW50XCIsIHNxbC5EZWNpbWFsKDEwLCAyKSwgYmFzZVByaWNlKVxuICAgICAgICAgICAgICAgIC5pbnB1dChcInBheW1lbnRNZXRob2RcIiwgc3FsLlZhckNoYXIsIHBheW1lbnRNZXRob2QpXG4gICAgICAgICAgICAgICAgLmlucHV0KFwiY29tbWlzc2lvblJhdGVcIiwgc3FsLkRlY2ltYWwoNSwgMiksIGNvbW1pc3Npb25SYXRlKVxuICAgICAgICAgICAgICAgIC5pbnB1dChcInBsYXRmb3JtRmVlXCIsIHNxbC5EZWNpbWFsKDEwLCAyKSwgcGxhdGZvcm1GZWUpXG4gICAgICAgICAgICAgICAgLnF1ZXJ5KGBcbiAgICAgICAgICAgICAgICAgICAgICAgIElOU0VSVCBJTlRPIFBheW1lbnQgKEJvb2tpbmdfSUQsIEFtb3VudCwgUGF5bWVudF9NZXRob2QsIFtTdGF0dXNdLCBDb21taXNzaW9uX1JhdGUsIFBsYXRmb3JtX0ZlZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIFZBTFVFUyhAYm9va2luZ0lELCBAYW1vdW50LCBAcGF5bWVudE1ldGhvZCwgJ3BlbmRpbmcnLCBAY29tbWlzc2lvblJhdGUsIEBwbGF0Zm9ybUZlZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGApO1xuXG4gICAgICAgICAgICAvLyBDb21pdHMgdGhlIGNoYW5nZXMsIHdoaWNoIGluc2VydHMgdGhlIGJvb2tpbmcgYW5kIHRoZSBwYXltZW50IGRhdGEgb2YgdGhpcyB1c2VyJ3MgcmVxdWVzdGVkIGJvb2tpbmdcbiAgICAgICAgICAgIGF3YWl0IHRyYW5zYWN0aW9uLmNvbW1pdCgpO1xuXG4gICAgICAgICAgICAvLyBTZW5kaW5nIGEgMjAxIHN1Y2Nlc3MgbWVzc2FnZSB3aXRoIHNvbWUgaW5mb3JtYXRpb24gcGFzc2VkXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMSkuanNvbih7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJTdWNjZXNzZnVsbHkgYm9va2VkISBBIHRlY2huaWNpYW4gd2lsbCBiZSBhc3NpZ25lZCBzb29uLlwiLFxuICAgICAgICAgICAgICAgIGJvb2tpbmdJRDogYm9va2luZ0lELFxuICAgICAgICAgICAgICAgIHRvdGFsUHJpY2U6IGJhc2VQcmljZSxcbiAgICAgICAgICAgICAgICBwYXltZW50TWV0aG9kOiBwYXltZW50TWV0aG9kLFxuICAgICAgICAgICAgICAgIHBheW1lbnRTdGF0dXM6IFwicGVuZGluZ1wiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIC8vIHJvbGxiYWNrIGlmIHNvbWV0aGluZyBnb2VzIHdyb25nXG4gICAgICAgICAgICBhd2FpdCB0cmFuc2FjdGlvbi5yb2xsYmFjaygpO1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJVbmV4cGVjdGVkIGVycm9yIG9jY3VycmVkIHdoZW4gYm9va2luZzpcIiwgZXJyb3IpO1xuXG4gICAgICAgIC8vIElmIGFueSBkYXRhIGlzIHdyb25nIHRoZW4gdGhpcyBlcnJvciBpcyB0aHJvd24gKHdyb25nIGFwcGxpYW5jZSB0eXBlIGFuZCB3cm9uZy9pbnZhbGlkIGRhdGUpXG4gICAgICAgIGlmIChlcnJvci5udW1iZXIgPT09IDU0Nykge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttZXNzYWdlOiBcIkludmFsaWQgYm9va2luZyBkYXRhLiBQbGVhc2UgY2hlY2sgeW91ciBhcHBsaWFuY2UgdHlwZSwgZGF0ZSwgYW5kIGVuc3VyZSBpdCdzIHRvZGF5IG9yIGluIHRoZSBmdXR1cmUuXCJ9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHttZXNzYWdlOiBcIkFuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQgd2hpbGUgYm9va2luZy5cIn0pO1xuICAgIH1cbn0pO1xuXG4vLyBVc2VyIHBheWluZyBhIGJvb2tpbmcgZnVuY3Rpb25hbGl0eVxuY29uc3QgdXNlclBheUJvb2tpbmcgPSBhc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgLy8gR2V0dGluZyB0aGUgYm9va2luZyBpZCBhbmQgdGhlIHRyYW5zYWN0aW9uIGlkIChpZiBub24tY2FzaCBtZXRob2QpIGZyb20gdGhlIGJvZHksIGFuZCB0aGUgdXNlciBpZCBwYXNzZWQgYnkgdGhlIGF1dGhlbnRpY2F0aW9uIG1pZGRsZXdhcmVcbiAgICBjb25zdCB7IGJvb2tpbmdJRCwgdHJhbnNhY3Rpb25JRCB9ID0gcmVxLmJvZHk7XG4gICAgY29uc3QgdXNlcklEID0gcmVxLnVzZXJJRDtcblxuICAgIC8vIElmIG5vIGJvb2tpbmdJRCBpcyBwYXNzZWQgdGhlbiB0aHJvdyBhIDQwMCBlcnJvci4gTm90IHBhc3NpbmcgdGhlIHRyYW5zYWN0aW9uSUQgaXMgZmluZSBpZiB0aGUgbWV0aG9kIGlzIGNhc2guXG4gICAgaWYgKCFib29raW5nSUQpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttZXNzYWdlOiBcIkJvb2tpbmcgSUQgbXVzdCBiZSBwYXNzZWQuXCJ9KTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgICBjb25zdCBwb29sID0gZ2V0UG9vbCgpO1xuXG4gICAgICAgIC8vIENoZWNraW5nIGlmIHRoZSBib29raW5nSUQgcGFzc2VkIGlzIHZhbGlkXG4gICAgICAgIGNvbnN0IGNoZWNrQm9va2luZyA9IGF3YWl0IHBvb2wucmVxdWVzdCgpXG4gICAgICAgICAgICAuaW5wdXQoXCJib29raW5nSURcIiwgc3FsLkludCwgYm9va2luZ0lEKVxuICAgICAgICAgICAgLmlucHV0KFwidXNlcklEXCIsIHNxbC5JbnQsIHVzZXJJRClcbiAgICAgICAgICAgIC5xdWVyeShgXG4gICAgICAgICAgICAgICAgU0VMRUNUIGIuQm9va2luZ19JRCwgYi5bU3RhdHVzXSwgYi5Vc2VySUQsIHAuUGF5bWVudF9JRCwgcC5bU3RhdHVzXSBBUyBQYXltZW50X1N0YXR1cywgcC5QYXltZW50X01ldGhvZFxuICAgICAgICAgICAgICAgIEZST00gQm9va2luZyBiXG4gICAgICAgICAgICAgICAgSk9JTiBQYXltZW50IHAgT04gYi5Cb29raW5nX0lEID0gcC5Cb29raW5nX0lEXG4gICAgICAgICAgICAgICAgV0hFUkUgYi5Cb29raW5nX0lEID0gQGJvb2tpbmdJRFxuICAgICAgICAgICAgICAgIGApO1xuXG4gICAgICAgIC8vIElmIHRoZSBhYm92ZSBzZWxlY3QgcXVlcnkgZ290IG5vIHJlc3VsdCB0aGVuIHRoZSBib29raW5nIGlzIG5vdCBmb3VuZCwgdGhyb3dzIGEgNDA0XG4gICAgICAgIGlmIChjaGVja0Jvb2tpbmcucmVjb3Jkc2V0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHttZXNzYWdlOiBcIkJvb2tpbmcgbm90IGZvdW5kXCJ9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEdldHRpbmcgdGhlIGZpcnN0IHJvdyBvZiB0aGUgcmV0dXJuZWQgcmVzdWx0XG4gICAgICAgIGNvbnN0IGJvb2tpbmcgPSBjaGVja0Jvb2tpbmcucmVjb3Jkc2V0WzBdO1xuXG4gICAgICAgIC8vIENoZWNraW5nIGlmIHRoZSBib29raW5nJ3MgdXNlcklEIG1hdGNoZXMgdGhlIGN1cnJlbnQgbG9nZ2VkIGluJ3MgdXNlcklELCBpZiBpdCBkb2Vzbid0IHRoZW4gdGhyb3cgYSA0MDNcbiAgICAgICAgLy8gc2luY2UgdGhlIHVzZXIgaXNuJ3QgYXV0aG9yaXplZCB0byBwYXkgZm9yIHRoaXMgYm9va2luZy5cbiAgICAgICAgaWYgKGJvb2tpbmcuVXNlcklEICE9PSB1c2VySUQpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMykuanNvbih7bWVzc2FnZTogXCJZb3UgYXJlIG5vdCBhdXRob3JpemVkIHRvIHBheSBmb3IgdGhpcyBib29raW5nIHNpbmNlIGl0J3Mgbm90IHlvdXJzLlwifSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTdGF0dXMgY2hlY2tpbmc6IGNhbm5vdCBwYXkgYSBib29raW5nIHRoYXQncyBjYW5jZWxsZWRcbiAgICAgICAgaWYgKGJvb2tpbmcuU3RhdHVzID09PSAnY2FuY2VsbGVkJykge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttZXNzYWdlOiBcIkNhbm5vdCBwYXkgZm9yIGEgY2FuY2VsbGVkIGJvb2tpbmchXCJ9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIHRoZSBib29raW5nIGlzIGFscmVhZHkgcGFpZCB0aGVuIHRoZSB1c2VyIGNhbnQgcGF5IGl0IGFnYWluIVxuICAgICAgICBpZiAoYm9va2luZy5QYXltZW50X1N0YXR1cyA9PT0gJ2NvbXBsZXRlZCcpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJUaGlzIGJvb2tpbmcgaGFzIGFscmVhZHkgYmVlbiBwYWlkLlwifSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBFbnN1cmluZyB0aGF0IHRyYW5zYWN0aW9uSUQgaXMgcGFzc2VkIHdoZW4gdGhlIHBheW1lbnQgbWV0aG9kIGlzIGFueXRoaW5nIGJ1dCBhIGNhc2ggbWV0aG9kXG4gICAgICAgIC8vIElmIHRoZXJlIGlzIG5vIHRyYW5zYWN0aW9uSUQsIGFuZCB0aGUgcGF5bWVudCBtZXRob2QgaXNudCBjYXNoLCB0aGVuIHRocm93IGEgNDAwIGVycm9yXG4gICAgICAgIGNvbnN0IHRyYW5zYWN0aW9uSWRNZXRob2RzID0gWydjcmVkaXRfY2FyZCcsICdkZWJpdF9jYXJkJywgJ3doaXNoJywgJ29tdCddO1xuICAgICAgICBpZiAodHJhbnNhY3Rpb25JZE1ldGhvZHMuaW5jbHVkZXMoYm9va2luZy5QYXltZW50X01ldGhvZCkgJiYgIXRyYW5zYWN0aW9uSUQpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJUcmFuc2FjdGlvbiBJRCBpcyBuZWVkZWQgZm9yIHRoaXMgcGF5bWVudCBtZXRob2QhXCJ9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIGFsbCdzIGdvb2QgdGhlbiB1cGRhdGUgdGhlIFBheW1lbnQgcm93IG9mIHRoZSBib29raW5nSUQgY29uY2VybmVkIGFuZCBjaGFuZ2UgdGhlIHN0YXR1cyB0byBcbiAgICAgICAgLy8gY29tcGxldGVkLCB3aXRoIHNldHRpbmcgdGhlIHRyYW5zYWN0aW9uSUQgKGlmIGF2YWlsYWJsZSkgYW5kIHNldHRpbmcgdGhlIHBhaWRBdCB0byB0aGUgY3VycmVudCBkYXRlLlxuICAgICAgICBhd2FpdCBwb29sLnJlcXVlc3QoKVxuICAgICAgICAgICAgLmlucHV0KFwiYm9va2luZ0lEXCIsIHNxbC5JbnQsIGJvb2tpbmdJRClcbiAgICAgICAgICAgIC5pbnB1dChcInRyYW5zYWN0aW9uSURcIiwgc3FsLlZhckNoYXIsIHRyYW5zYWN0aW9uSUQgfHwgbnVsbClcbiAgICAgICAgICAgIC5xdWVyeShgXG4gICAgICAgICAgICAgICAgVVBEQVRFIFBheW1lbnRcbiAgICAgICAgICAgICAgICBTRVQgW1N0YXR1c10gPSAnY29tcGxldGVkJyxcbiAgICAgICAgICAgICAgICAgICAgVHJhbnNhY3Rpb25fSUQgPSBAdHJhbnNhY3Rpb25JRCxcbiAgICAgICAgICAgICAgICAgICAgcGFpZEF0ID0gR0VUREFURSgpXG4gICAgICAgICAgICAgICAgV0hFUkUgQm9va2luZ19JRCA9IEBib29raW5nSURcbiAgICAgICAgICAgICAgICBgKTtcblxuICAgICAgICAvLyBTZW5kIGEgc3VjY2VzcyBtZXNzYWdlIHdpdGggdGhlIGJvb2tpbmcgaWQgYW5kIHBheW1lbnQgc3RhdHVzIGFzIGNvbXBsZXRlZFxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIlBheW1lbnQgY29tcGxldGVkLlwiLFxuICAgICAgICAgICAgYm9va2luZ0lEOiBib29raW5nSUQsXG4gICAgICAgICAgICBwYXltZW50U3RhdHVzOiBcImNvbXBsZXRlZFwiXG4gICAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIC8vIFRocm93cyBhbiBlcnJvciBpbiBjYXNlIHRoZSBib29raW5nIGlkIGlzIGludmFsaWQsIG9yIGFueSBvdGhlciB1bmV4cGVjdGVkIGlzc3VlIHRoYXQgb2NjdXJyZWRcbiAgICAgICAgY29uc29sZS5lcnJvcihcIlVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQgd2hlbiBwcm9jZXNzaW5nIHBheW1lbnQ6XCIsIGVycm9yKTtcblxuICAgICAgICBpZiAoZXJyb3IubnVtYmVyID09PSA1NDcpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJJbnZhbGlkIGJvb2tpbmcgSUQuXCJ9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHttZXNzYWdlOiBcIkFuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQgd2hlbiBwcm9jZXNzaW5nIHRoZSBwYXltZW50LlwifSk7XG4gICAgfVxufSlcblxuLy8gVXNlciByYXRpbmcgYSBib29raW5nIGZ1bmN0aW9uYWxpdHlcbmNvbnN0IHVzZXJSYXRlQm9va2luZyA9IGFzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICAvLyBHZXR0aW5nIHRoZSBuZWVkZWQgaW5wdXQgZnJvbSB0aGUgcGFzc2VkIGJvZHkgYW5kIHRoZSB1c2VySUQgcGFzc2VkIGZyb20gdGhlIG1pZGRsZXdhcmVcbiAgICBjb25zdCB7IGJvb2tpbmdJRCwgcmF0aW5nU2NvcmUsIHJldmlld1RleHQgfSA9IHJlcS5ib2R5O1xuICAgIGNvbnN0IHVzZXJJRCA9IHJlcS51c2VySUQ7XG5cbiAgICAvLyBJZiB0aGUgbmVlZGVkIHZhbHVlcyBhcmUgZW1wdHkgdGhlbiB0aHJvdyBhIDQwMCBlcnJvclxuICAgIGlmICghYm9va2luZ0lEIHx8ICFyYXRpbmdTY29yZSB8fCAhcmV2aWV3VGV4dCkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiWW91IGhhdmUgdG8gcGFzcyBhIGJvb2tpbmcgSUQsIHJhdGluZyBzY29yZSBhbmQgcmV2aWV3IHRleHQgdG8gcmF0ZSBhIGJvb2tpbmcuXCJ9KTtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgcmF0aW5nIHNjb3JlIGlzbid0IGEgbnVtYmVyLCBvciBpc24ndCBiZXR3ZWVuIDEgYW5kIDUsIHRoZW4gdGhyb3cgYW4gZXJyb3IgNDAwXG4gICAgaWYgKCFOdW1iZXIuaXNJbnRlZ2VyKHJhdGluZ1Njb3JlKSB8fCByYXRpbmdTY29yZSA8IDEgfHwgcmF0aW5nU2NvcmUgPiA1KSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJSYXRpbmcgc2NvcmUgbXVzdCBiZSBhIG51bWJlciBiZXR3ZWVuIDEgYW5kIDUhXCJ9KTtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgcmV2aWV3IHRleHQgaXMgdG9vIHNob3J0IHRoZW4gdGhyb3cgYSA0MDAgZXJyb3JcbiAgICBpZiAocmV2aWV3VGV4dC50cmltKCkubGVuZ3RoIDwgMTUpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttZXNzYWdlOiBcIlBsZWFzZSB3cml0ZSB5b3VyIHJldmlldyB0ZXh0IGxvbmdlciwgdGhhdCdzIHRvbyBzaG9ydC5cIn0pO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHBvb2wgPSBnZXRQb29sKCk7XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGJvb2tpbmcgaWQgcGFzc2VkIGV4aXN0c1xuICAgICAgICBjb25zdCBjaGVja0Jvb2tpbmcgPSBhd2FpdCBwb29sLnJlcXVlc3QoKVxuICAgICAgICAgICAgLmlucHV0KFwiYm9va2luZ0lEXCIsIHNxbC5JbnQsIGJvb2tpbmdJRClcbiAgICAgICAgICAgIC5pbnB1dChcInVzZXJJRFwiLCBzcWwuSW50LCB1c2VySUQpXG4gICAgICAgICAgICAucXVlcnkoYFxuICAgICAgICAgICAgICAgIFNFTEVDVCBiLkJvb2tpbmdfSUQsIGIuVXNlcklELCBiLlRlY2huaWNpYW5fSUQsIGIuW1N0YXR1c11cbiAgICAgICAgICAgICAgICBGUk9NIEJvb2tpbmcgYlxuICAgICAgICAgICAgICAgIFdIRVJFIGIuQm9va2luZ19JRCA9IEBib29raW5nSURcbiAgICAgICAgICAgICAgICBgKTtcblxuICAgICAgICAvLyBJZiBub3RoaW5nIHdhcyByZXR1cm5lZCBmcm9tIHRoZSBhYm92ZSBxdWVyeSB0aGVuIHRocm93IGEgNDA0IGJlY2F1c2UgdGhlIGJvb2tpbmcgaXNuJ3QgZm91bmRcbiAgICAgICAgaWYgKGNoZWNrQm9va2luZy5yZWNvcmRzZXQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe21lc3NhZ2U6IFwiQm9va2luZyBub3QgZm91bmQuXCJ9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEdldCB0aGUgZmlyc3QgYm9va2luZyByb3dcbiAgICAgICAgY29uc3QgYm9va2luZyA9IGNoZWNrQm9va2luZy5yZWNvcmRzZXRbMF07XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGJvb2tpbmcncyB1c2VyIGlkIG1hdGNoZXMgdGhlIHVzZXJpZCBvZiB0aGUgbG9nZ2VkIGluIHVzZXIsIGlmIG5vdCB0aGVuIHRocm93IGEgNDAzIGVycm9yXG4gICAgICAgIGlmIChib29raW5nLlVzZXJJRCAhPT0gdXNlcklEKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDMpLmpzb24oe21lc3NhZ2U6IFwiWW91IGFyZSBub3QgYXV0aG9yaXplZCB0byByZXZpZXcgdGhpcyBib29raW5nIHNpbmNlIGl0J3Mgbm90IHlvdXJzIVwifSk7XG4gICAgICAgIH1cblxuICAgICAgICAvL0lmIHRoZSBib29raW5nIGRvZXNuJ3QgaGF2ZSBhIHRlY2huaWNpYW4gdGhlbiB0aGUgdXNlciBjYW50IHJhdGUgaXRcbiAgICAgICAgaWYgKCFib29raW5nLlRlY2huaWNpYW5fSUQpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJDYW5ub3QgcmF0ZSBhIGJvb2tpbmcgd2l0aG91dCBhbiBhc3NpZ25lZCB0ZWNobmljaWFuLlwifSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiB0aGUgYm9va2luZyBpc24ndCBjb21wbGV0ZWQgdGhlbiB0aGUgdXNlciBjYW50IHJhdGUgaXRcbiAgICAgICAgaWYgKGJvb2tpbmcuU3RhdHVzICE9PSAnY29tcGxldGVkJykge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttZXNzYWdlOiBcIllvdSBjYW4gb25seSByYXRlIGNvbXBsZXRlZCBib29raW5ncy5cIn0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2tpbmcgaWYgYSByYXRpbmcgYWxyZWFkeSBleGlzdHMgZm9yIHRoZSBjb25jZXJuZWQgYm9va2luZ1xuICAgICAgICBjb25zdCBleGlzdGluZ1JhdGluZyA9IGF3YWl0IHBvb2wucmVxdWVzdCgpXG4gICAgICAgICAgICAuaW5wdXQoXCJib29raW5nSURcIiwgc3FsLkludCwgYm9va2luZ0lEKVxuICAgICAgICAgICAgLnF1ZXJ5KGBTRUxFQ1QgUmF0aW5nX0lEIFxuICAgICAgICAgICAgICAgICAgICBGUk9NIFJhdGluZyBcbiAgICAgICAgICAgICAgICAgICAgV0hFUkUgQm9va2luZ19JRCA9IEBib29raW5nSURgKTtcblxuICAgICAgICAvLyBJZiB5ZXMgdGhlbiB0aHJvdyBhIDQwOSBlcnJvclxuICAgICAgICBpZiAoZXhpc3RpbmdSYXRpbmcucmVjb3Jkc2V0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwOSkuanNvbih7bWVzc2FnZTogXCJUaGlzIGJvb2tpbmcgaGFzIGFscmVhZHkgYmVlbiByYXRlZCBiZWZvcmUhXCJ9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIGFsbCdzIGdvb2QgdGhlbiBpbnNlcnQgdGhlIHJhdGluZyBkYXRhIHdpdGggdGhlIGluZm9ybWF0aW9uIHRha2VuIGZyb20gdGhlIGJvZHlcbiAgICAgICAgYXdhaXQgcG9vbC5yZXF1ZXN0KClcbiAgICAgICAgICAgIC5pbnB1dChcImJvb2tpbmdJRFwiLCBzcWwuSW50LCBib29raW5nSUQpXG4gICAgICAgICAgICAuaW5wdXQoXCJ1c2VySURcIiwgc3FsLkludCwgdXNlcklEKVxuICAgICAgICAgICAgLmlucHV0KFwidGVjaG5pY2lhbklEXCIsIHNxbC5JbnQsIGJvb2tpbmcuVGVjaG5pY2lhbl9JRClcbiAgICAgICAgICAgIC5pbnB1dChcInJhdGluZ1Njb3JlXCIsIHNxbC5TbWFsbEludCwgcmF0aW5nU2NvcmUpXG4gICAgICAgICAgICAuaW5wdXQoXCJyZXZpZXdUZXh0XCIsIHNxbC5OVmFyQ2hhciwgcmV2aWV3VGV4dC50cmltKCkpXG4gICAgICAgICAgICAucXVlcnkoYFxuICAgICAgICAgICAgICAgIElOU0VSVCBJTlRPIFJhdGluZyAoQm9va2luZ19JRCwgVXNlcl9JRCwgVGVjaG5pY2lhbl9JRCwgUmF0aW5nX1Njb3JlLCBSZXZpZXdfVGV4dClcbiAgICAgICAgICAgICAgICBWQUxVRVMoQGJvb2tpbmdJRCwgQHVzZXJJRCwgQHRlY2huaWNpYW5JRCwgQHJhdGluZ1Njb3JlLCBAcmV2aWV3VGV4dClcbiAgICAgICAgICAgICAgICBgKTtcblxuICAgICAgICAvLyBTZW5kIGEgMjAxIHN1Y2Nlc3MgbWVzc2FnZVxuICAgICAgICByZXMuc3RhdHVzKDIwMSkuanNvbih7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIlN1Y2Nlc3NmdWxseSByYXRlZCB0aGlzIGJvb2tpbmchXCIsXG4gICAgICAgICAgICBib29raW5nSUQ6IGJvb2tpbmdJRCxcbiAgICAgICAgICAgIHRlY2huaWNpYW5JRDogYm9va2luZy5UZWNobmljaWFuX0lELFxuICAgICAgICAgICAgcmF0aW5nU2NvcmU6IHJhdGluZ1Njb3JlXG4gICAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJVbmV4cGVjdGVkIGVycm9yIG9jY3VycmVkIHdoZW4gdHJ5aW5nIHRvIHJhdGUgYSBib29raW5nOlwiLCBlcnJvcik7XG5cbiAgICAgICAgLy8gQ29uc3RyYWludCB2aW9sYXRpb24gaGFuZGxpbmdcbiAgICAgICAgaWYgKGVycm9yLm51bWJlciA9PT0gNTQ3KSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiSW52YWxpZCByYXRpbmcgZGF0YSwgcGxlYXNlIGNoZWNrIHlvdXIgaW5wdXRzLlwifSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB1bmlxdWUgY29uc3RyYWludCB2aW9sYXRpb24gKGZvciBkdXBsaWNhdGUgcmF0aW5ncylcbiAgICAgICAgaWYgKGVycm9yLm51bWJlciA9PT0gMjYyNykge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA5KS5qc29uKHttZXNzYWdlOiBcIlRoaXMgYm9va2luZyBoYXMgYWxyZWFkeSBiZWVuIHJhdGVkLlwifSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7bWVzc2FnZTogXCJVbmV4cGVjdGVkIGVycm9yIG9jY3VycmVkIHdoZW4gdHJ5aW5nIHRvIHJhdGUgYSBib29raW5nLlwifSk7XG4gICAgfVxufSlcblxuLy8gVGhlIGJlbG93IG1ldGhvZHMgZ2V0IGRpZmZlcmVudCB0eXBlcyBvZiBib29raW5ncyBvZiB0aGUgdXNlcjogcGVuZGluZywgY29uZmlybWVkLCBpbiBwcm9ncmVzcywgY29tcGxldGVkLCBjYW5jZWxsZWRcbi8vIEFsbCB1c2UgdGhlIGhlbHBlciBmdW5jdGlvbiBnZXRCb29raW5nc0J5U3RhdHVzIHRvIHJlZHVjZSBjb2RlIGR1cGxpY2F0aW9uXG5jb25zdCBnZXRQZW5kaW5nQm9va2luZ3MgPSBhc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3QgdXNlcklEID0gcmVxLnVzZXJJRDtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBnZXRCb29raW5nc0J5U3RhdHVzKHVzZXJJRCwgJ3BlbmRpbmcnLCAncGVuZGluZycpO1xuICAgIFxuICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyhyZXN1bHQuc3RhdHVzQ29kZSkuanNvbihyZXN1bHQuZGF0YSk7XG4gICAgfVxuICAgIHJldHVybiByZXMuc3RhdHVzKHJlc3VsdC5zdGF0dXNDb2RlKS5qc29uKHsgbWVzc2FnZTogcmVzdWx0LmVycm9yIH0pO1xufSk7XG5cbmNvbnN0IGdldENvbmZpcm1lZEJvb2tpbmdzID0gYXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHVzZXJJRCA9IHJlcS51c2VySUQ7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZ2V0Qm9va2luZ3NCeVN0YXR1cyh1c2VySUQsICdjb25maXJtZWQnLCAnY29uZmlybWVkJyk7XG4gICAgXG4gICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKHJlc3VsdC5zdGF0dXNDb2RlKS5qc29uKHJlc3VsdC5kYXRhKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMocmVzdWx0LnN0YXR1c0NvZGUpLmpzb24oeyBtZXNzYWdlOiByZXN1bHQuZXJyb3IgfSk7XG59KTtcblxuY29uc3QgZ2V0SW5Qcm9ncmVzc0Jvb2tpbmdzID0gYXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHVzZXJJRCA9IHJlcS51c2VySUQ7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZ2V0Qm9va2luZ3NCeVN0YXR1cyh1c2VySUQsICdpbl9wcm9ncmVzcycsICdpbiBwcm9ncmVzcycpO1xuICAgIFxuICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyhyZXN1bHQuc3RhdHVzQ29kZSkuanNvbihyZXN1bHQuZGF0YSk7XG4gICAgfVxuICAgIHJldHVybiByZXMuc3RhdHVzKHJlc3VsdC5zdGF0dXNDb2RlKS5qc29uKHsgbWVzc2FnZTogcmVzdWx0LmVycm9yIH0pO1xufSk7XG5cbmNvbnN0IGdldENvbXBsZXRlZEJvb2tpbmdzID0gYXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHVzZXJJRCA9IHJlcS51c2VySUQ7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZ2V0Qm9va2luZ3NCeVN0YXR1cyh1c2VySUQsICdjb21wbGV0ZWQnLCAnY29tcGxldGVkJyk7XG4gICAgXG4gICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKHJlc3VsdC5zdGF0dXNDb2RlKS5qc29uKHJlc3VsdC5kYXRhKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMocmVzdWx0LnN0YXR1c0NvZGUpLmpzb24oeyBtZXNzYWdlOiByZXN1bHQuZXJyb3IgfSk7XG59KTtcblxuY29uc3QgZ2V0Q2FuY2VsbGVkQm9va2luZ3MgPSBhc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3QgdXNlcklEID0gcmVxLnVzZXJJRDtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBnZXRCb29raW5nc0J5U3RhdHVzKHVzZXJJRCwgJ2NhbmNlbGxlZCcsICdjYW5jZWxsZWQnKTtcbiAgICBcbiAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMocmVzdWx0LnN0YXR1c0NvZGUpLmpzb24ocmVzdWx0LmRhdGEpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzLnN0YXR1cyhyZXN1bHQuc3RhdHVzQ29kZSkuanNvbih7IG1lc3NhZ2U6IHJlc3VsdC5lcnJvciB9KTtcbn0pO1xuXG4vLyBVc2VyIGNhbmNlbGxpbmcgYSBib29raW5nIGZ1bmN0aW9uYWxpdHlcbmNvbnN0IHVzZXJDYW5jZWxCb29raW5nID0gYXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHsgYm9va2luZ0lEIH0gPSByZXEuYm9keTtcbiAgICBjb25zdCB1c2VySUQgPSByZXEudXNlcklEO1xuXG4gICAgLy8gSWYgbm8gYm9va2luZ0lEIGlzIHBhc3NlZCB0aGVuIHRocm93IGEgNDAwIGVycm9yXG4gICAgaWYgKCFib29raW5nSUQpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttZXNzYWdlOiBcIkJvb2tpbmcgSUQgbXVzdCBiZSBwYXNzZWQuXCJ9KTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgICBjb25zdCBwb29sID0gZ2V0UG9vbCgpO1xuXG4gICAgICAgIC8vIENoZWNraW5nIGlmIHRoZSBib29raW5nSUQgcGFzc2VkIGlzIHZhbGlkIGFuZCBiZWxvbmdzIHRvIHRoZSB1c2VyXG4gICAgICAgIGNvbnN0IGNoZWNrQm9va2luZyA9IGF3YWl0IHBvb2wucmVxdWVzdCgpXG4gICAgICAgICAgICAuaW5wdXQoXCJib29raW5nSURcIiwgc3FsLkludCwgYm9va2luZ0lEKVxuICAgICAgICAgICAgLmlucHV0KFwidXNlcklEXCIsIHNxbC5JbnQsIHVzZXJJRClcbiAgICAgICAgICAgIC5xdWVyeShgXG4gICAgICAgICAgICAgICAgU0VMRUNUIGIuQm9va2luZ19JRCwgYi5bU3RhdHVzXSwgYi5Vc2VySUQsIHAuUGF5bWVudF9JRCwgcC5bU3RhdHVzXSBBUyBQYXltZW50X1N0YXR1c1xuICAgICAgICAgICAgICAgIEZST00gQm9va2luZyBiXG4gICAgICAgICAgICAgICAgTEVGVCBKT0lOIFBheW1lbnQgcCBPTiBiLkJvb2tpbmdfSUQgPSBwLkJvb2tpbmdfSURcbiAgICAgICAgICAgICAgICBXSEVSRSBiLkJvb2tpbmdfSUQgPSBAYm9va2luZ0lEXG4gICAgICAgICAgICBgKTtcblxuICAgICAgICAvLyBJZiBubyByZXN1bHQgcmV0dXJuZWQgdGhlbiB0aGUgYm9va2luZyBpcyBub3QgZm91bmRcbiAgICAgICAgaWYgKGNoZWNrQm9va2luZy5yZWNvcmRzZXQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe21lc3NhZ2U6IFwiQm9va2luZyBub3QgZm91bmQuXCJ9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGJvb2tpbmcgPSBjaGVja0Jvb2tpbmcucmVjb3Jkc2V0WzBdO1xuXG4gICAgICAgIC8vIENoZWNraW5nIGlmIHRoZSBib29raW5nIGJlbG9uZ3MgdG8gdGhlIGxvZ2dlZCBpbiB1c2VyXG4gICAgICAgIGlmIChib29raW5nLlVzZXJJRCAhPT0gdXNlcklEKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDMpLmpzb24oe21lc3NhZ2U6IFwiWW91IGFyZSBub3QgYXV0aG9yaXplZCB0byBjYW5jZWwgdGhpcyBib29raW5nIHNpbmNlIGl0J3Mgbm90IHlvdXJzLlwifSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDYW4gb25seSBjYW5jZWwgcGVuZGluZyBib29raW5nc1xuICAgICAgICBpZiAoYm9va2luZy5TdGF0dXMgIT09ICdwZW5kaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttZXNzYWdlOiBgQ2Fubm90IGNhbmNlbCBhIGJvb2tpbmcgdGhhdCBpcyAke2Jvb2tpbmcuU3RhdHVzfS4gT25seSBwZW5kaW5nIGJvb2tpbmdzIGNhbiBiZSBjYW5jZWxsZWQuYH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSWYgcGF5bWVudCBpcyBhbHJlYWR5IGNvbXBsZXRlZCwgY2Fubm90IGNhbmNlbFxuICAgICAgICBpZiAoYm9va2luZy5QYXltZW50X1N0YXR1cyA9PT0gJ2NvbXBsZXRlZCcpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJDYW5ub3QgY2FuY2VsIGEgYm9va2luZyB0aGF0IGhhcyBhbHJlYWR5IGJlZW4gcGFpZC5cIn0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU3RhcnQgYSB0cmFuc2FjdGlvbiB0byB1cGRhdGUgYm9va2luZyBhbmQgZGVsZXRlIHBheW1lbnRcbiAgICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSBwb29sLnRyYW5zYWN0aW9uKCk7XG4gICAgICAgIGF3YWl0IHRyYW5zYWN0aW9uLmJlZ2luKCk7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBib29raW5nIHN0YXR1cyB0byBjYW5jZWxsZWRcbiAgICAgICAgICAgIGF3YWl0IHRyYW5zYWN0aW9uLnJlcXVlc3QoKVxuICAgICAgICAgICAgICAgIC5pbnB1dChcImJvb2tpbmdJRFwiLCBzcWwuSW50LCBib29raW5nSUQpXG4gICAgICAgICAgICAgICAgLnF1ZXJ5KGBcbiAgICAgICAgICAgICAgICAgICAgVVBEQVRFIEJvb2tpbmdcbiAgICAgICAgICAgICAgICAgICAgU0VUIFtTdGF0dXNdID0gJ2NhbmNlbGxlZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RpZmllZEF0ID0gR0VUREFURSgpXG4gICAgICAgICAgICAgICAgICAgIFdIRVJFIEJvb2tpbmdfSUQgPSBAYm9va2luZ0lEXG4gICAgICAgICAgICAgICAgYCk7XG5cbiAgICAgICAgICAgIC8vIERlbGV0ZSB0aGUgcGF5bWVudCByZWNvcmQgc2luY2UgYm9va2luZyBpcyBjYW5jZWxsZWRcbiAgICAgICAgICAgIGF3YWl0IHRyYW5zYWN0aW9uLnJlcXVlc3QoKVxuICAgICAgICAgICAgICAgIC5pbnB1dChcImJvb2tpbmdJRFwiLCBzcWwuSW50LCBib29raW5nSUQpXG4gICAgICAgICAgICAgICAgLnF1ZXJ5KGBcbiAgICAgICAgICAgICAgICAgICAgREVMRVRFIEZST00gUGF5bWVudFxuICAgICAgICAgICAgICAgICAgICBXSEVSRSBCb29raW5nX0lEID0gQGJvb2tpbmdJRFxuICAgICAgICAgICAgICAgIGApO1xuXG4gICAgICAgICAgICBhd2FpdCB0cmFuc2FjdGlvbi5jb21taXQoKTtcblxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiQm9va2luZyBjYW5jZWxsZWQgc3VjY2Vzc2Z1bGx5LlwiLFxuICAgICAgICAgICAgICAgIGJvb2tpbmdJRDogYm9va2luZ0lELFxuICAgICAgICAgICAgICAgIHN0YXR1czogXCJjYW5jZWxsZWRcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBhd2FpdCB0cmFuc2FjdGlvbi5yb2xsYmFjaygpO1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiVW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZCB3aGVuIGNhbmNlbGxpbmcgYm9va2luZzpcIiwgZXJyb3IpO1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7bWVzc2FnZTogXCJBbiB1bmV4cGVjdGVkIGVycm9yIG9jY3VycmVkIHdoaWxlIGNhbmNlbGxpbmcgdGhlIGJvb2tpbmcuXCJ9KTtcbiAgICB9XG59KTtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IHsgdXNlclJlcXVlc3RCb29raW5nLCB1c2VyUGF5Qm9va2luZywgdXNlclJhdGVCb29raW5nLCB1c2VyQ2FuY2VsQm9va2luZywgZ2V0UGVuZGluZ0Jvb2tpbmdzLCBnZXRDb25maXJtZWRCb29raW5ncywgZ2V0SW5Qcm9ncmVzc0Jvb2tpbmdzLCBnZXRDb21wbGV0ZWRCb29raW5ncywgZ2V0Q2FuY2VsbGVkQm9va2luZ3MgfTsiXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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","map":{"version":3,"names":["asyncHandler","require","_require","getPool","sql","getBookingsByStatus","_ref","_asyncToGenerator2","_regenerator","mark","_callee","userID","status","statusDisplayName","pool","bookings","_t","wrap","_context","prev","next","request","input","Int","VarChar","query","sent","recordset","length","abrupt","success","statusCode","data","message","concat","count","console","error","stop","_x","_x2","_x3","apply","arguments","userRequestBooking","_ref2","_callee2","req","res","_req$body","applianceTypeID","issueDescription","bookingDate","bookingTime","paymentMethod","validPaymentMethods","timeRegex","cleanTime","applianceType","basePrice","commissionRate","platformFee","transaction","bookingResult","bookingID","_t2","_t3","_context2","body","json","includes","trim","test","Base_Price","begin","NVarChar","Date","Decimal","Booking_ID","commit","totalPrice","paymentStatus","rollback","number","_x4","_x5","userPayBooking","_ref3","_callee3","_req$body2","transactionID","checkBooking","booking","transactionIdMethods","_t4","_context3","UserID","Status","Payment_Status","Payment_Method","_x6","_x7","userRateBooking","_ref4","_callee4","_req$body3","ratingScore","reviewText","existingRating","_t5","_context4","Number","isInteger","Technician_ID","SmallInt","technicianID","_x8","_x9","getPendingBookings","_ref5","_callee5","result","_context5","_x0","_x1","getConfirmedBookings","_ref6","_callee6","_context6","_x10","_x11","getInProgressBookings","_ref7","_callee7","_context7","_x12","_x13","getCompletedBookings","_ref8","_callee8","_context8","_x14","_x15","getCancelledBookings","_ref9","_callee9","_context9","_x16","_x17","userCancelBooking","_ref0","_callee0","_t6","_t7","_context0","_x18","_x19","module","exports"],"sourceRoot":"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/controllers/","sources":["UserBookingController.js"],"sourcesContent":["/**\n * This controller handles everything related to booking and the user:\n *  1. User requesting a booking\n *  2. User paying a booking\n *  3. User rating a booking\n *  4. user getting their bookings (pending/confirmed/in progress/completed/cancelled)\n */\n\nconst asyncHandler = require(\"express-async-handler\");\n\n\n// sql needed for the type definitions in .input\n// getPool is to do queries\nconst { getPool, sql } = require(\"../config/database\");\n\n\n/**\n * Helper function to get bookings by status for a user\n * Reduces code duplication across the 5 getXBookings functions\n * @param {number} userID - The user's ID\n * @param {string} status - The booking status to filter by\n * @param {string} statusDisplayName - Human-readable status name for messages\n * @returns {Promise<{success: boolean, data?: object, error?: string, statusCode: number}>}\n */\nconst getBookingsByStatus = async (userID, status, statusDisplayName) => {\n    try {\n        const pool = getPool();\n\n        const bookings = await pool.request()\n            .input(\"userID\", sql.Int, userID)\n            .input(\"status\", sql.VarChar, status)\n            .query(`\n                SELECT \n                    Booking.Booking_ID, \n                    Booking.Booking_Date AS \"Scheduled Date\", \n                    Booking.Booking_Time AS \"Scheduled Time\", \n                    Booking.Total_Price AS \"Total Price\", \n                    Booking.createdAt AS \"Created At\",\n                    Appliance_Type.nameEN AS \"Appliance's Name (EN)\", \n                    Appliance_Type.nameAR AS \"Appliance's Name (AR)\",\n                    Booking.Issue_Description AS \"Issue Description\",\n                    Technician.First_Name AS \"Technician's First Name\",\n                    Technician.Last_Name AS \"Technician's Last Name\",\n                    Technician.Phone AS \"Technician's Phone Number\",\n                    Payment.[Status] AS \"Payment Status\",\n                    Payment.Payment_Method AS \"Payment Method\",\n                    Rating.Rating_Score AS \"Rating Score\",\n                    Rating.Review_Text AS \"Review Text\"\n                FROM Booking\n                LEFT JOIN Technician ON Booking.Technician_ID = Technician.Technician_ID\n                LEFT JOIN Payment ON Booking.Booking_ID = Payment.Booking_ID\n                LEFT JOIN Rating ON Booking.Booking_ID = Rating.Booking_ID\n                JOIN Appliance_Type ON Booking.Appliance_Type_ID = Appliance_Type.Appliance_Type_ID\n                WHERE Booking.UserID = @userID AND Booking.[Status] = @status\n                ORDER BY Booking.Booking_Date ASC, Booking.Booking_Time ASC\n            `);\n\n        if (bookings.recordset.length === 0) {\n            return {\n                success: true,\n                statusCode: 200,\n                data: {\n                    message: `You don't have any ${statusDisplayName} bookings.`,\n                    count: 0,\n                    bookings: []\n                }\n            };\n        }\n\n        return {\n            success: true,\n            statusCode: 200,\n            data: {\n                message: `You have ${statusDisplayName} bookings!`,\n                count: bookings.recordset.length,\n                bookings: bookings.recordset\n            }\n        };\n    } catch (error) {\n        console.error(`Unexpected error occurred when trying to fetch ${statusDisplayName} bookings:`, error);\n        return {\n            success: false,\n            statusCode: 500,\n            error: `Unexpected error occurred when trying to fetch your ${statusDisplayName} bookings.`\n        };\n    }\n};\n\n\n// User requesting a new booking\nconst userRequestBooking = asyncHandler(async (req, res) => {\n    // Getting all user input from the request's body and the userID as well passed by the middleware that validates user's login credentials\n    const { applianceTypeID, issueDescription, bookingDate, bookingTime, paymentMethod } = req.body;\n    const userID = req.userID;\n\n    // If any of the inputs arent provided then throw a 400 error\n    if (!applianceTypeID || !issueDescription || !bookingDate || !bookingTime || !paymentMethod) {\n        return res.status(400).json({message: \"All booking details are required: the appliance, a description for the issue, date and time.\"});\n    }\n\n    // Validate the payment method such that it's one of the accepted ones\n    const validPaymentMethods = ['cash', 'credit_card', 'debit_card', 'whish', 'omt'];\n    if (!validPaymentMethods.includes(paymentMethod)) {\n        return res.status(400).json({message: \"Invalid payment method. Choose either cash, credit_card, debit_card, whish or omt.\"});\n    }\n\n    // Validating the time format passed using regex, if doesnt pass then throw a 400 of invalid time format\n    const timeRegex = /^([0-1]?[0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]$/;\n    const cleanTime = bookingTime.trim();\n\n    if (!timeRegex.test(cleanTime)) {\n        return res.status(400).json({message: \"Invalid time format. Use HH:MM:SS (e.g., 14:30:00)\"});\n    }\n\n    try {\n        const pool = getPool();\n\n        // Verifying the appliance type that was passed through the body\n        // Has to be active and has to match the appliance type ID passed by the user\n        const applianceType = await pool.request()\n            .input(\"applianceTypeID\", sql.Int, applianceTypeID)\n            .query(`\n                SELECT Base_Price \n                FROM Appliance_Type\n                WHERE Appliance_Type_ID = @applianceTypeID AND isActive = 1\n                `);\n\n        // If no result returned from the appliance type check query then that means the appliance type id passed\n        // is invalid, throw a 404 error\n        if (applianceType.recordset.length === 0) {\n            return res.status(404).json({message: \"Invalid appliance type chosen.\"});\n        }\n\n        // Getting the base price of the appliance type chosen to specify the price of the booking\n        const basePrice = applianceType.recordset[0].Base_Price;\n\n        // Calculating the platform fee for the payment table based on the base price\n        const commissionRate = 15.00;\n        const platformFee = (basePrice * commissionRate) / 100;\n\n        // Starting a transaction so the booking and payment are created together\n        const transaction = pool.transaction();\n        await transaction.begin();\n\n        try {\n            // Creating booking data by padding the needed column data\n            const bookingResult = await transaction.request()\n                .input(\"userID\", sql.Int, userID)\n                .input(\"applianceTypeID\", sql.Int, applianceTypeID)\n                .input(\"issueDescription\", sql.NVarChar, issueDescription)\n                .input(\"bookingDate\", sql.Date, bookingDate)\n                .input(\"bookingTime\", sql.VarChar(8), cleanTime)\n                .input(\"basePrice\", sql.Decimal(10, 2), basePrice)\n                .query(`\n            INSERT INTO Booking (UserID, Appliance_Type_ID, Issue_Description, Booking_Date, Booking_Time, [Status], Total_Price)\n            OUTPUT INSERTED.Booking_ID -- just so we could use the bookingID later using the result of this query.\n            VALUES(@userID, @applianceTypeID, @issueDescription, @bookingDate, CAST(@bookingTime AS TIME), 'pending', @basePrice)\n            `);\n\n            // Getting the booking id from the above query's result (it outputs the booking id)\n            const bookingID = bookingResult.recordset[0].Booking_ID;\n\n            // Insert the payment data and set it to pending status until the user confirms the payment\n            await transaction.request()\n                .input(\"bookingID\", sql.Int, bookingID)\n                .input(\"amount\", sql.Decimal(10, 2), basePrice)\n                .input(\"paymentMethod\", sql.VarChar, paymentMethod)\n                .input(\"commissionRate\", sql.Decimal(5, 2), commissionRate)\n                .input(\"platformFee\", sql.Decimal(10, 2), platformFee)\n                .query(`\n                        INSERT INTO Payment (Booking_ID, Amount, Payment_Method, [Status], Commission_Rate, Platform_Fee)\n                        VALUES(@bookingID, @amount, @paymentMethod, 'pending', @commissionRate, @platformFee)\n                        `);\n\n            // Comits the changes, which inserts the booking and the payment data of this user's requested booking\n            await transaction.commit();\n\n            // Sending a 201 success message with some information passed\n            res.status(201).json({\n                message: \"Successfully booked! A technician will be assigned soon.\",\n                bookingID: bookingID,\n                totalPrice: basePrice,\n                paymentMethod: paymentMethod,\n                paymentStatus: \"pending\"\n            });\n        } catch (error) {\n            // rollback if something goes wrong\n            await transaction.rollback();\n            throw error;\n        }\n\n    } catch (error) {\n        console.error(\"Unexpected error occurred when booking:\", error);\n\n        // If any data is wrong then this error is thrown (wrong appliance type and wrong/invalid date)\n        if (error.number === 547) {\n            return res.status(400).json({message: \"Invalid booking data. Please check your appliance type, date, and ensure it's today or in the future.\"});\n        }\n\n        res.status(500).json({message: \"An unexpected error occurred while booking.\"});\n    }\n});\n\n// User paying a booking functionality\nconst userPayBooking = asyncHandler(async (req, res) => {\n    // Getting the booking id and the transaction id (if non-cash method) from the body, and the user id passed by the authentication middleware\n    const { bookingID, transactionID } = req.body;\n    const userID = req.userID;\n\n    // If no bookingID is passed then throw a 400 error. Not passing the transactionID is fine if the method is cash.\n    if (!bookingID) {\n        return res.status(400).json({message: \"Booking ID must be passed.\"});\n    }\n\n    try {\n        const pool = getPool();\n\n        // Checking if the bookingID passed is valid\n        const checkBooking = await pool.request()\n            .input(\"bookingID\", sql.Int, bookingID)\n            .input(\"userID\", sql.Int, userID)\n            .query(`\n                SELECT b.Booking_ID, b.[Status], b.UserID, p.Payment_ID, p.[Status] AS Payment_Status, p.Payment_Method\n                FROM Booking b\n                JOIN Payment p ON b.Booking_ID = p.Booking_ID\n                WHERE b.Booking_ID = @bookingID\n                `);\n\n        // If the above select query got no result then the booking is not found, throws a 404\n        if (checkBooking.recordset.length === 0) {\n            return res.status(404).json({message: \"Booking not found\"});\n        }\n\n        // Getting the first row of the returned result\n        const booking = checkBooking.recordset[0];\n\n        // Checking if the booking's userID matches the current logged in's userID, if it doesn't then throw a 403\n        // since the user isn't authorized to pay for this booking.\n        if (booking.UserID !== userID) {\n            return res.status(403).json({message: \"You are not authorized to pay for this booking since it's not yours.\"});\n        }\n\n        // Status checking: cannot pay a booking that's cancelled\n        if (booking.Status === 'cancelled') {\n            return res.status(400).json({message: \"Cannot pay for a cancelled booking!\"});\n        }\n\n        // If the booking is already paid then the user cant pay it again!\n        if (booking.Payment_Status === 'completed') {\n            return res.status(400).json({message: \"This booking has already been paid.\"});\n        }\n\n        // Ensuring that transactionID is passed when the payment method is anything but a cash method\n        // If there is no transactionID, and the payment method isnt cash, then throw a 400 error\n        const transactionIdMethods = ['credit_card', 'debit_card', 'whish', 'omt'];\n        if (transactionIdMethods.includes(booking.Payment_Method) && !transactionID) {\n            return res.status(400).json({message: \"Transaction ID is needed for this payment method!\"});\n        }\n\n        // If all's good then update the Payment row of the bookingID concerned and change the status to \n        // completed, with setting the transactionID (if available) and setting the paidAt to the current date.\n        await pool.request()\n            .input(\"bookingID\", sql.Int, bookingID)\n            .input(\"transactionID\", sql.VarChar, transactionID || null)\n            .query(`\n                UPDATE Payment\n                SET [Status] = 'completed',\n                    Transaction_ID = @transactionID,\n                    paidAt = GETDATE()\n                WHERE Booking_ID = @bookingID\n                `);\n\n        // Send a success message with the booking id and payment status as completed\n        res.status(200).json({\n            message: \"Payment completed.\",\n            bookingID: bookingID,\n            paymentStatus: \"completed\"\n        });\n    } catch (error) {\n        // Throws an error in case the booking id is invalid, or any other unexpected issue that occurred\n        console.error(\"Unexpected error occurred when processing payment:\", error);\n\n        if (error.number === 547) {\n            return res.status(400).json({message: \"Invalid booking ID.\"});\n        }\n\n        res.status(500).json({message: \"An unexpected error occurred when processing the payment.\"});\n    }\n})\n\n// User rating a booking functionality\nconst userRateBooking = asyncHandler(async (req, res) => {\n    // Getting the needed input from the passed body and the userID passed from the middleware\n    const { bookingID, ratingScore, reviewText } = req.body;\n    const userID = req.userID;\n\n    // If the needed values are empty then throw a 400 error\n    if (!bookingID || !ratingScore || !reviewText) {\n        return res.status(400).json({message: \"You have to pass a booking ID, rating score and review text to rate a booking.\"});\n    }\n\n    // If the rating score isn't a number, or isn't between 1 and 5, then throw an error 400\n    if (!Number.isInteger(ratingScore) || ratingScore < 1 || ratingScore > 5) {\n        return res.status(400).json({message: \"Rating score must be a number between 1 and 5!\"});\n    }\n\n    // If the review text is too short then throw a 400 error\n    if (reviewText.trim().length < 15) {\n        return res.status(400).json({message: \"Please write your review text longer, that's too short.\"});\n    }\n\n    try {\n        const pool = getPool();\n\n        // Check if the booking id passed exists\n        const checkBooking = await pool.request()\n            .input(\"bookingID\", sql.Int, bookingID)\n            .input(\"userID\", sql.Int, userID)\n            .query(`\n                SELECT b.Booking_ID, b.UserID, b.Technician_ID, b.[Status]\n                FROM Booking b\n                WHERE b.Booking_ID = @bookingID\n                `);\n\n        // If nothing was returned from the above query then throw a 404 because the booking isn't found\n        if (checkBooking.recordset.length === 0) {\n            return res.status(404).json({message: \"Booking not found.\"});\n        }\n\n        // Get the first booking row\n        const booking = checkBooking.recordset[0];\n\n        // Check if the booking's user id matches the userid of the logged in user, if not then throw a 403 error\n        if (booking.UserID !== userID) {\n            return res.status(403).json({message: \"You are not authorized to review this booking since it's not yours!\"});\n        }\n\n        //If the booking doesn't have a technician then the user cant rate it\n        if (!booking.Technician_ID) {\n            return res.status(400).json({message: \"Cannot rate a booking without an assigned technician.\"});\n        }\n\n        // If the booking isn't completed then the user cant rate it\n        if (booking.Status !== 'completed') {\n            return res.status(400).json({message: \"You can only rate completed bookings.\"});\n        }\n\n        // Checking if a rating already exists for the concerned booking\n        const existingRating = await pool.request()\n            .input(\"bookingID\", sql.Int, bookingID)\n            .query(`SELECT Rating_ID \n                    FROM Rating \n                    WHERE Booking_ID = @bookingID`);\n\n        // If yes then throw a 409 error\n        if (existingRating.recordset.length > 0) {\n            return res.status(409).json({message: \"This booking has already been rated before!\"});\n        }\n\n        // If all's good then insert the rating data with the information taken from the body\n        await pool.request()\n            .input(\"bookingID\", sql.Int, bookingID)\n            .input(\"userID\", sql.Int, userID)\n            .input(\"technicianID\", sql.Int, booking.Technician_ID)\n            .input(\"ratingScore\", sql.SmallInt, ratingScore)\n            .input(\"reviewText\", sql.NVarChar, reviewText.trim())\n            .query(`\n                INSERT INTO Rating (Booking_ID, User_ID, Technician_ID, Rating_Score, Review_Text)\n                VALUES(@bookingID, @userID, @technicianID, @ratingScore, @reviewText)\n                `);\n\n        // Send a 201 success message\n        res.status(201).json({\n            message: \"Successfully rated this booking!\",\n            bookingID: bookingID,\n            technicianID: booking.Technician_ID,\n            ratingScore: ratingScore\n        });\n    } catch (error) {\n        console.error(\"Unexpected error occurred when trying to rate a booking:\", error);\n\n        // Constraint violation handling\n        if (error.number === 547) {\n            return res.status(400).json({message: \"Invalid rating data, please check your inputs.\"});\n        }\n\n        // unique constraint violation (for duplicate ratings)\n        if (error.number === 2627) {\n            return res.status(409).json({message: \"This booking has already been rated.\"});\n        }\n\n        res.status(500).json({message: \"Unexpected error occurred when trying to rate a booking.\"});\n    }\n})\n\n// The below methods get different types of bookings of the user: pending, confirmed, in progress, completed, cancelled\n// All use the helper function getBookingsByStatus to reduce code duplication\nconst getPendingBookings = asyncHandler(async (req, res) => {\n    const userID = req.userID;\n    const result = await getBookingsByStatus(userID, 'pending', 'pending');\n    \n    if (result.success) {\n        return res.status(result.statusCode).json(result.data);\n    }\n    return res.status(result.statusCode).json({ message: result.error });\n});\n\nconst getConfirmedBookings = asyncHandler(async (req, res) => {\n    const userID = req.userID;\n    const result = await getBookingsByStatus(userID, 'confirmed', 'confirmed');\n    \n    if (result.success) {\n        return res.status(result.statusCode).json(result.data);\n    }\n    return res.status(result.statusCode).json({ message: result.error });\n});\n\nconst getInProgressBookings = asyncHandler(async (req, res) => {\n    const userID = req.userID;\n    const result = await getBookingsByStatus(userID, 'in_progress', 'in progress');\n    \n    if (result.success) {\n        return res.status(result.statusCode).json(result.data);\n    }\n    return res.status(result.statusCode).json({ message: result.error });\n});\n\nconst getCompletedBookings = asyncHandler(async (req, res) => {\n    const userID = req.userID;\n    const result = await getBookingsByStatus(userID, 'completed', 'completed');\n    \n    if (result.success) {\n        return res.status(result.statusCode).json(result.data);\n    }\n    return res.status(result.statusCode).json({ message: result.error });\n});\n\nconst getCancelledBookings = asyncHandler(async (req, res) => {\n    const userID = req.userID;\n    const result = await getBookingsByStatus(userID, 'cancelled', 'cancelled');\n    \n    if (result.success) {\n        return res.status(result.statusCode).json(result.data);\n    }\n    return res.status(result.statusCode).json({ message: result.error });\n});\n\n// User cancelling a booking functionality\nconst userCancelBooking = asyncHandler(async (req, res) => {\n    const { bookingID } = req.body;\n    const userID = req.userID;\n\n    // If no bookingID is passed then throw a 400 error\n    if (!bookingID) {\n        return res.status(400).json({message: \"Booking ID must be passed.\"});\n    }\n\n    try {\n        const pool = getPool();\n\n        // Checking if the bookingID passed is valid and belongs to the user\n        const checkBooking = await pool.request()\n            .input(\"bookingID\", sql.Int, bookingID)\n            .input(\"userID\", sql.Int, userID)\n            .query(`\n                SELECT b.Booking_ID, b.[Status], b.UserID, p.Payment_ID, p.[Status] AS Payment_Status\n                FROM Booking b\n                LEFT JOIN Payment p ON b.Booking_ID = p.Booking_ID\n                WHERE b.Booking_ID = @bookingID\n            `);\n\n        // If no result returned then the booking is not found\n        if (checkBooking.recordset.length === 0) {\n            return res.status(404).json({message: \"Booking not found.\"});\n        }\n\n        const booking = checkBooking.recordset[0];\n\n        // Checking if the booking belongs to the logged in user\n        if (booking.UserID !== userID) {\n            return res.status(403).json({message: \"You are not authorized to cancel this booking since it's not yours.\"});\n        }\n\n        // Can only cancel pending bookings\n        if (booking.Status !== 'pending') {\n            return res.status(400).json({message: `Cannot cancel a booking that is ${booking.Status}. Only pending bookings can be cancelled.`});\n        }\n\n        // If payment is already completed, cannot cancel\n        if (booking.Payment_Status === 'completed') {\n            return res.status(400).json({message: \"Cannot cancel a booking that has already been paid.\"});\n        }\n\n        // Start a transaction to update booking and delete payment\n        const transaction = pool.transaction();\n        await transaction.begin();\n\n        try {\n            // Update booking status to cancelled\n            await transaction.request()\n                .input(\"bookingID\", sql.Int, bookingID)\n                .query(`\n                    UPDATE Booking\n                    SET [Status] = 'cancelled',\n                        modifiedAt = GETDATE()\n                    WHERE Booking_ID = @bookingID\n                `);\n\n            // Delete the payment record since booking is cancelled\n            await transaction.request()\n                .input(\"bookingID\", sql.Int, bookingID)\n                .query(`\n                    DELETE FROM Payment\n                    WHERE Booking_ID = @bookingID\n                `);\n\n            await transaction.commit();\n\n            res.status(200).json({\n                message: \"Booking cancelled successfully.\",\n                bookingID: bookingID,\n                status: \"cancelled\"\n            });\n        } catch (error) {\n            await transaction.rollback();\n            throw error;\n        }\n    } catch (error) {\n        console.error(\"Unexpected error occurred when cancelling booking:\", error);\n        res.status(500).json({message: \"An unexpected error occurred while cancelling the booking.\"});\n    }\n});\n\n\nmodule.exports = { userRequestBooking, userPayBooking, userRateBooking, userCancelBooking, getPendingBookings, getConfirmedBookings, getInProgressBookings, getCompletedBookings, getCancelledBookings };"],"mappings":"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","ignoreList":[]}},"mtime":1765035021223},"{\"assumptions\":{},\"sourceRoot\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end\",\"filename\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/routes/technicianRoutes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"_exploded\":true,\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"VoidPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$48\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$49\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"\"use strict\";\n\n/**\n * This express file sets up the routes of the technician, which consist of:\n *      Non-validation required routes: register and login\n *      Validation required routes: logout, setting specialty and service area, and booking-related (seeing pending bookings, accepting a booking,...)\n * \n * Validation requirement is to have the cookie with the right credintials without being expired.\n * \n * The functionalities for the routes themselves can be found in 3 files:\n *      1. controllers/TechnicianController.js for register, login, logout\n *      2. controllers/TechnicianBookingController.js for booking-related functonalities\n *      3. middlewares/auth.js for authenticating the technician's credentials that are either stored or not stored\n */\n\nvar express = require(\"express\");\nvar _require = require(\"../controllers/TechnicianController\"),\n  registerTechnician = _require.registerTechnician,\n  loginTechnician = _require.loginTechnician,\n  logoutTechnician = _require.logoutTechnician,\n  getProfile = _require.getProfile,\n  updateProfile = _require.updateProfile,\n  settingTechnicianSpecialty = _require.settingTechnicianSpecialty,\n  getSpecialties = _require.getSpecialties,\n  removeSpecialty = _require.removeSpecialty,\n  settingTechnicianServiceArea = _require.settingTechnicianServiceArea,\n  getServiceAreas = _require.getServiceAreas,\n  removeServiceArea = _require.removeServiceArea;\nvar _require2 = require(\"../middlewares/auth\"),\n  technicianValidation = _require2.technicianValidation;\nvar _require3 = require(\"../controllers/TechnicianBookingController\"),\n  getPendingBookings = _require3.getPendingBookings,\n  acceptPendingBooking = _require3.acceptPendingBooking,\n  startBooking = _require3.startBooking,\n  completeBooking = _require3.completeBooking,\n  declineBooking = _require3.declineBooking,\n  getActiveBookings = _require3.getActiveBookings,\n  getCompletedBookings = _require3.getCompletedBookings;\nvar _require4 = require(\"../controllers/EarningsController.js\"),\n  getTechnicianEarnings = _require4.getTechnicianEarnings;\nvar router = express.Router();\nrouter.post(\"/register\", registerTechnician);\nrouter.post(\"/login\", loginTechnician);\nrouter.post(\"/logout\", technicianValidation, logoutTechnician);\nrouter.get(\"/profile\", technicianValidation, getProfile);\nrouter.put(\"/profile\", technicianValidation, updateProfile);\nrouter.post(\"/specialty\", technicianValidation, settingTechnicianSpecialty);\nrouter.get(\"/specialties\", technicianValidation, getSpecialties);\nrouter[\"delete\"](\"/specialty/:categoryId\", technicianValidation, removeSpecialty);\nrouter.post(\"/service-area\", technicianValidation, settingTechnicianServiceArea);\nrouter.get(\"/service-areas\", technicianValidation, getServiceAreas);\nrouter[\"delete\"](\"/service-area/:areaId\", technicianValidation, removeServiceArea);\nrouter.get(\"/booking/get-pendings\", technicianValidation, getPendingBookings);\nrouter.get(\"/booking/active\", technicianValidation, getActiveBookings);\nrouter.get(\"/booking/completed\", technicianValidation, getCompletedBookings);\nrouter.post(\"/booking/accept\", technicianValidation, acceptPendingBooking);\nrouter.post(\"/booking/start\", technicianValidation, startBooking);\nrouter.post(\"/booking/complete\", technicianValidation, completeBooking);\nrouter.post(\"/booking/decline\", technicianValidation, declineBooking);\nrouter.get(\"/earnings\", technicianValidation, getTechnicianEarnings);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsIl9yZXF1aXJlIiwicmVnaXN0ZXJUZWNobmljaWFuIiwibG9naW5UZWNobmljaWFuIiwibG9nb3V0VGVjaG5pY2lhbiIsImdldFByb2ZpbGUiLCJ1cGRhdGVQcm9maWxlIiwic2V0dGluZ1RlY2huaWNpYW5TcGVjaWFsdHkiLCJnZXRTcGVjaWFsdGllcyIsInJlbW92ZVNwZWNpYWx0eSIsInNldHRpbmdUZWNobmljaWFuU2VydmljZUFyZWEiLCJnZXRTZXJ2aWNlQXJlYXMiLCJyZW1vdmVTZXJ2aWNlQXJlYSIsIl9yZXF1aXJlMiIsInRlY2huaWNpYW5WYWxpZGF0aW9uIiwiX3JlcXVpcmUzIiwiZ2V0UGVuZGluZ0Jvb2tpbmdzIiwiYWNjZXB0UGVuZGluZ0Jvb2tpbmciLCJzdGFydEJvb2tpbmciLCJjb21wbGV0ZUJvb2tpbmciLCJkZWNsaW5lQm9va2luZyIsImdldEFjdGl2ZUJvb2tpbmdzIiwiZ2V0Q29tcGxldGVkQm9va2luZ3MiLCJfcmVxdWlyZTQiLCJnZXRUZWNobmljaWFuRWFybmluZ3MiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJwb3N0IiwiZ2V0IiwicHV0IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL2hvbWUvc2Vyai9Eb2N1bWVudHMvR2l0SHViL0ZpeEFwcGxpYW5jZS1ib29raW5nQ29tbWVyY2UvYmFjay1lbmQvc3JjL3JvdXRlcy8iLCJzb3VyY2VzIjpbInRlY2huaWNpYW5Sb3V0ZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBUaGlzIGV4cHJlc3MgZmlsZSBzZXRzIHVwIHRoZSByb3V0ZXMgb2YgdGhlIHRlY2huaWNpYW4sIHdoaWNoIGNvbnNpc3Qgb2Y6XG4gKiAgICAgIE5vbi12YWxpZGF0aW9uIHJlcXVpcmVkIHJvdXRlczogcmVnaXN0ZXIgYW5kIGxvZ2luXG4gKiAgICAgIFZhbGlkYXRpb24gcmVxdWlyZWQgcm91dGVzOiBsb2dvdXQsIHNldHRpbmcgc3BlY2lhbHR5IGFuZCBzZXJ2aWNlIGFyZWEsIGFuZCBib29raW5nLXJlbGF0ZWQgKHNlZWluZyBwZW5kaW5nIGJvb2tpbmdzLCBhY2NlcHRpbmcgYSBib29raW5nLC4uLilcbiAqIFxuICogVmFsaWRhdGlvbiByZXF1aXJlbWVudCBpcyB0byBoYXZlIHRoZSBjb29raWUgd2l0aCB0aGUgcmlnaHQgY3JlZGludGlhbHMgd2l0aG91dCBiZWluZyBleHBpcmVkLlxuICogXG4gKiBUaGUgZnVuY3Rpb25hbGl0aWVzIGZvciB0aGUgcm91dGVzIHRoZW1zZWx2ZXMgY2FuIGJlIGZvdW5kIGluIDMgZmlsZXM6XG4gKiAgICAgIDEuIGNvbnRyb2xsZXJzL1RlY2huaWNpYW5Db250cm9sbGVyLmpzIGZvciByZWdpc3RlciwgbG9naW4sIGxvZ291dFxuICogICAgICAyLiBjb250cm9sbGVycy9UZWNobmljaWFuQm9va2luZ0NvbnRyb2xsZXIuanMgZm9yIGJvb2tpbmctcmVsYXRlZCBmdW5jdG9uYWxpdGllc1xuICogICAgICAzLiBtaWRkbGV3YXJlcy9hdXRoLmpzIGZvciBhdXRoZW50aWNhdGluZyB0aGUgdGVjaG5pY2lhbidzIGNyZWRlbnRpYWxzIHRoYXQgYXJlIGVpdGhlciBzdG9yZWQgb3Igbm90IHN0b3JlZFxuICovXG5cbmNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKFwiZXhwcmVzc1wiKTtcbmNvbnN0IHtyZWdpc3RlclRlY2huaWNpYW4sIGxvZ2luVGVjaG5pY2lhbiwgbG9nb3V0VGVjaG5pY2lhbiwgZ2V0UHJvZmlsZSwgdXBkYXRlUHJvZmlsZSwgc2V0dGluZ1RlY2huaWNpYW5TcGVjaWFsdHksIGdldFNwZWNpYWx0aWVzLCByZW1vdmVTcGVjaWFsdHksIHNldHRpbmdUZWNobmljaWFuU2VydmljZUFyZWEsIGdldFNlcnZpY2VBcmVhcywgcmVtb3ZlU2VydmljZUFyZWF9ID0gcmVxdWlyZShcIi4uL2NvbnRyb2xsZXJzL1RlY2huaWNpYW5Db250cm9sbGVyXCIpO1xuY29uc3Qge3RlY2huaWNpYW5WYWxpZGF0aW9ufSA9IHJlcXVpcmUoXCIuLi9taWRkbGV3YXJlcy9hdXRoXCIpO1xuY29uc3Qge2dldFBlbmRpbmdCb29raW5ncywgYWNjZXB0UGVuZGluZ0Jvb2tpbmcsIHN0YXJ0Qm9va2luZywgY29tcGxldGVCb29raW5nLCBkZWNsaW5lQm9va2luZywgZ2V0QWN0aXZlQm9va2luZ3MsIGdldENvbXBsZXRlZEJvb2tpbmdzfSA9IHJlcXVpcmUoXCIuLi9jb250cm9sbGVycy9UZWNobmljaWFuQm9va2luZ0NvbnRyb2xsZXJcIik7XG5jb25zdCB7IGdldFRlY2huaWNpYW5FYXJuaW5ncyB9ID0gcmVxdWlyZShcIi4uL2NvbnRyb2xsZXJzL0Vhcm5pbmdzQ29udHJvbGxlci5qc1wiKTtcblxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcblxucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXJcIiwgcmVnaXN0ZXJUZWNobmljaWFuKTtcbnJvdXRlci5wb3N0KFwiL2xvZ2luXCIsIGxvZ2luVGVjaG5pY2lhbik7XG5yb3V0ZXIucG9zdChcIi9sb2dvdXRcIiwgdGVjaG5pY2lhblZhbGlkYXRpb24sIGxvZ291dFRlY2huaWNpYW4pO1xuXG5yb3V0ZXIuZ2V0KFwiL3Byb2ZpbGVcIiwgdGVjaG5pY2lhblZhbGlkYXRpb24sIGdldFByb2ZpbGUpO1xucm91dGVyLnB1dChcIi9wcm9maWxlXCIsIHRlY2huaWNpYW5WYWxpZGF0aW9uLCB1cGRhdGVQcm9maWxlKTtcblxucm91dGVyLnBvc3QoXCIvc3BlY2lhbHR5XCIsIHRlY2huaWNpYW5WYWxpZGF0aW9uLCBzZXR0aW5nVGVjaG5pY2lhblNwZWNpYWx0eSlcbnJvdXRlci5nZXQoXCIvc3BlY2lhbHRpZXNcIiwgdGVjaG5pY2lhblZhbGlkYXRpb24sIGdldFNwZWNpYWx0aWVzKTtcbnJvdXRlci5kZWxldGUoXCIvc3BlY2lhbHR5LzpjYXRlZ29yeUlkXCIsIHRlY2huaWNpYW5WYWxpZGF0aW9uLCByZW1vdmVTcGVjaWFsdHkpO1xuXG5yb3V0ZXIucG9zdChcIi9zZXJ2aWNlLWFyZWFcIiwgdGVjaG5pY2lhblZhbGlkYXRpb24sIHNldHRpbmdUZWNobmljaWFuU2VydmljZUFyZWEpO1xucm91dGVyLmdldChcIi9zZXJ2aWNlLWFyZWFzXCIsIHRlY2huaWNpYW5WYWxpZGF0aW9uLCBnZXRTZXJ2aWNlQXJlYXMpO1xucm91dGVyLmRlbGV0ZShcIi9zZXJ2aWNlLWFyZWEvOmFyZWFJZFwiLCB0ZWNobmljaWFuVmFsaWRhdGlvbiwgcmVtb3ZlU2VydmljZUFyZWEpO1xuXG5yb3V0ZXIuZ2V0KFwiL2Jvb2tpbmcvZ2V0LXBlbmRpbmdzXCIsIHRlY2huaWNpYW5WYWxpZGF0aW9uLCBnZXRQZW5kaW5nQm9va2luZ3MpO1xucm91dGVyLmdldChcIi9ib29raW5nL2FjdGl2ZVwiLCB0ZWNobmljaWFuVmFsaWRhdGlvbiwgZ2V0QWN0aXZlQm9va2luZ3MpO1xucm91dGVyLmdldChcIi9ib29raW5nL2NvbXBsZXRlZFwiLCB0ZWNobmljaWFuVmFsaWRhdGlvbiwgZ2V0Q29tcGxldGVkQm9va2luZ3MpO1xucm91dGVyLnBvc3QoXCIvYm9va2luZy9hY2NlcHRcIiwgdGVjaG5pY2lhblZhbGlkYXRpb24sIGFjY2VwdFBlbmRpbmdCb29raW5nKTtcbnJvdXRlci5wb3N0KFwiL2Jvb2tpbmcvc3RhcnRcIiwgdGVjaG5pY2lhblZhbGlkYXRpb24sIHN0YXJ0Qm9va2luZyk7XG5yb3V0ZXIucG9zdChcIi9ib29raW5nL2NvbXBsZXRlXCIsIHRlY2huaWNpYW5WYWxpZGF0aW9uLCBjb21wbGV0ZUJvb2tpbmcpO1xucm91dGVyLnBvc3QoXCIvYm9va2luZy9kZWNsaW5lXCIsIHRlY2huaWNpYW5WYWxpZGF0aW9uLCBkZWNsaW5lQm9va2luZyk7XG5cbnJvdXRlci5nZXQoXCIvZWFybmluZ3NcIiwgdGVjaG5pY2lhblZhbGlkYXRpb24sIGdldFRlY2huaWNpYW5FYXJuaW5ncyk7XG5cbm1vZHVsZS5leHBvcnRzID0gcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtB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","map":{"version":3,"names":["express","require","_require","registerTechnician","loginTechnician","logoutTechnician","getProfile","updateProfile","settingTechnicianSpecialty","getSpecialties","removeSpecialty","settingTechnicianServiceArea","getServiceAreas","removeServiceArea","_require2","technicianValidation","_require3","getPendingBookings","acceptPendingBooking","startBooking","completeBooking","declineBooking","getActiveBookings","getCompletedBookings","_require4","getTechnicianEarnings","router","Router","post","get","put","module","exports"],"sourceRoot":"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/routes/","sources":["technicianRoutes.js"],"sourcesContent":["/**\n * This express file sets up the routes of the technician, which consist of:\n *      Non-validation required routes: register and login\n *      Validation required routes: logout, setting specialty and service area, and booking-related (seeing pending bookings, accepting a booking,...)\n * \n * Validation requirement is to have the cookie with the right credintials without being expired.\n * \n * The functionalities for the routes themselves can be found in 3 files:\n *      1. controllers/TechnicianController.js for register, login, logout\n *      2. controllers/TechnicianBookingController.js for booking-related functonalities\n *      3. middlewares/auth.js for authenticating the technician's credentials that are either stored or not stored\n */\n\nconst express = require(\"express\");\nconst {registerTechnician, loginTechnician, logoutTechnician, getProfile, updateProfile, settingTechnicianSpecialty, getSpecialties, removeSpecialty, settingTechnicianServiceArea, getServiceAreas, removeServiceArea} = require(\"../controllers/TechnicianController\");\nconst {technicianValidation} = require(\"../middlewares/auth\");\nconst {getPendingBookings, acceptPendingBooking, startBooking, completeBooking, declineBooking, getActiveBookings, getCompletedBookings} = require(\"../controllers/TechnicianBookingController\");\nconst { getTechnicianEarnings } = require(\"../controllers/EarningsController.js\");\n\nconst router = express.Router();\n\nrouter.post(\"/register\", registerTechnician);\nrouter.post(\"/login\", loginTechnician);\nrouter.post(\"/logout\", technicianValidation, logoutTechnician);\n\nrouter.get(\"/profile\", technicianValidation, getProfile);\nrouter.put(\"/profile\", technicianValidation, updateProfile);\n\nrouter.post(\"/specialty\", technicianValidation, settingTechnicianSpecialty)\nrouter.get(\"/specialties\", technicianValidation, getSpecialties);\nrouter.delete(\"/specialty/:categoryId\", technicianValidation, removeSpecialty);\n\nrouter.post(\"/service-area\", technicianValidation, settingTechnicianServiceArea);\nrouter.get(\"/service-areas\", technicianValidation, getServiceAreas);\nrouter.delete(\"/service-area/:areaId\", technicianValidation, removeServiceArea);\n\nrouter.get(\"/booking/get-pendings\", technicianValidation, getPendingBookings);\nrouter.get(\"/booking/active\", technicianValidation, getActiveBookings);\nrouter.get(\"/booking/completed\", technicianValidation, getCompletedBookings);\nrouter.post(\"/booking/accept\", technicianValidation, acceptPendingBooking);\nrouter.post(\"/booking/start\", technicianValidation, startBooking);\nrouter.post(\"/booking/complete\", technicianValidation, completeBooking);\nrouter.post(\"/booking/decline\", technicianValidation, declineBooking);\n\nrouter.get(\"/earnings\", technicianValidation, getTechnicianEarnings);\n\nmodule.exports = router;"],"mappings":"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","ignoreList":[]}},"mtime":1764743193073},"{\"assumptions\":{},\"sourceRoot\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end\",\"filename\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/controllers/TechnicianController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"_exploded\":true,\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"VoidPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$48\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$49\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n/**\n * This controller provides the following functionalities for a technician: registering, logging in, logging out,\n * setting specialty (appliance categories they work with), and setting service areas.\n * \n * For storing the password, bcrypt is used to hash and jwt (jsonwebtoken) is used to sign a token and store it as cookie.\n */\n\nvar asyncHandler = require(\"express-async-handler\");\nvar bcrypt = require(\"bcrypt\");\nvar jwt = require(\"jsonwebtoken\");\n\n// sql needed for the type definitions in .input\n// getPool is to do queries\nvar _require = require(\"../config/database\"),\n  getPool = _require.getPool,\n  sql = _require.sql;\n\n// Import validation utilities\nvar _require2 = require(\"../utils/validators\"),\n  isValidEmail = _require2.isValidEmail,\n  isValidPhone = _require2.isValidPhone,\n  isValidPassword = _require2.isValidPassword,\n  isValidName = _require2.isValidName,\n  sanitizeString = _require2.sanitizeString;\n\n// Handles the technician registering functionality\nvar registerTechnician = asyncHandler(/*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee(req, res) {\n    var _req$body, firstName, lastName, email, phone, password, passwordValidation, pool, hashedPassword, result, _t;\n    return _regenerator[\"default\"].wrap(function (_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          // Getting the needed data from the request body\n          _req$body = req.body, firstName = _req$body.firstName, lastName = _req$body.lastName, email = _req$body.email, phone = _req$body.phone, password = _req$body.password; // Checking if any of them is empty, if yes then we throw a 400\n          if (!(!firstName || !lastName || !email || !phone || !password)) {\n            _context.next = 1;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"You have to insert all data to register.\"\n          }));\n        case 1:\n          if (isValidName(firstName)) {\n            _context.next = 2;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"First name must be 2-30 characters and contain only letters.\"\n          }));\n        case 2:\n          if (isValidName(lastName)) {\n            _context.next = 3;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"Last name must be 2-30 characters and contain only letters.\"\n          }));\n        case 3:\n          if (isValidEmail(email)) {\n            _context.next = 4;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"Please enter a valid email address.\"\n          }));\n        case 4:\n          if (isValidPhone(phone)) {\n            _context.next = 5;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"Please enter a valid phone number.\"\n          }));\n        case 5:\n          // Validate password strength\n          passwordValidation = isValidPassword(password);\n          if (passwordValidation.valid) {\n            _context.next = 6;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: passwordValidation.message\n          }));\n        case 6:\n          _context.prev = 6;\n          pool = getPool(); // Hashing the password before storing\n          _context.next = 7;\n          return bcrypt.hash(password, 11);\n        case 7:\n          hashedPassword = _context.sent;\n          _context.next = 8;\n          return pool.request().input(\"firstName\", sql.VarChar, sanitizeString(firstName)).input(\"lastName\", sql.VarChar, sanitizeString(lastName)).input(\"email\", sql.VarChar, sanitizeString(email).toLowerCase()).input(\"phone\", sql.VarChar, sanitizeString(phone)).input(\"hashedPassword\", sql.VarChar, hashedPassword).query(\"\\n            INSERT INTO Technician (First_Name, Last_Name, Email, Phone, Password_Hash)\\n            VALUES(@firstName, @lastName, @email, @phone, @hashedPassword)\\n            \");\n        case 8:\n          result = _context.sent;\n          // Sending success message\n          res.status(201).json({\n            message: \"Technician registered successfully!\"\n          });\n          _context.next = 11;\n          break;\n        case 9:\n          _context.prev = 9;\n          _t = _context[\"catch\"](6);\n          if (!(_t.number === 2627 || _t.number === 2601)) {\n            _context.next = 10;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(409).json({\n            message: \"Another account exists already either with this email address or phone number. If you have another account, please use that one instead.\"\n          }));\n        case 10:\n          // Throwing the console error and 500 status in case something goes wrong\n          console.error(\"Unexpected error registering a new technician account: \", _t);\n          res.status(500).json({\n            message: \"An unexpected error occurred while registering the technician.\"\n          });\n        case 11:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[6, 9]]);\n  }));\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}());\n\n// Handling the logging in functionality for technicians\nvar loginTechnician = asyncHandler(/*#__PURE__*/function () {\n  var _ref2 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(req, res) {\n    var _req$body2, email, password, pool, result, technician, isPasswordValid, technicianToken, _t2;\n    return _regenerator[\"default\"].wrap(function (_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          // Getting the email and password that the technician is trying to login with\n          _req$body2 = req.body, email = _req$body2.email, password = _req$body2.password; // Input validation, if either empty then send 400 error\n          if (!(!email || !password)) {\n            _context2.next = 1;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(400).json({\n            message: \"You have to enter both your email and your password\"\n          }));\n        case 1:\n          if (isValidEmail(email)) {\n            _context2.next = 2;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(400).json({\n            message: \"Please enter a valid email address.\"\n          }));\n        case 2:\n          _context2.prev = 2;\n          pool = getPool(); // Searching in the database for a technician with the same email passed to check if exists\n          _context2.next = 3;\n          return pool.request().input(\"email\", sql.VarChar, sanitizeString(email).toLowerCase()).query(\"\\n                SELECT Technician_ID, First_Name, Last_Name, Email, Password_Hash, isActive, Verified\\n                FROM Technician\\n                WHERE Email = @email\\n                \");\n        case 3:\n          result = _context2.sent;\n          if (!(result.recordset.length === 0)) {\n            _context2.next = 4;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(401).json({\n            message: \"Invalid email address or password.\"\n          }));\n        case 4:\n          // Now we are getting the first technician that we got having the same email address\n          technician = result.recordset[0]; // Check if the technician account is active\n          if (technician.isActive) {\n            _context2.next = 5;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(403).json({\n            message: \"Your account is deactivated. Please contact us to resolve this issue.\"\n          }));\n        case 5:\n          if (technician.Verified) {\n            _context2.next = 6;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(403).json({\n            message: \"Your account is not verified yet. Please wait for admin approval.\"\n          }));\n        case 6:\n          _context2.next = 7;\n          return bcrypt.compare(password, technician.Password_Hash);\n        case 7:\n          isPasswordValid = _context2.sent;\n          if (isPasswordValid) {\n            _context2.next = 8;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(401).json({\n            message: \"Invalid email address or password.\"\n          }));\n        case 8:\n          // If the password matches, then create a technician token using jwt by signing it with the TECHNICIAN_ACCESS_TOKEN\n          // stored in the .env file. The token expires in 1 day.\n          technicianToken = jwt.sign({\n            id: technician.Technician_ID,\n            firstName: technician.First_Name,\n            lastName: technician.Last_Name,\n            email: technician.Email\n          }, process.env.TECHNICIAN_ACCESS_TOKEN, {\n            expiresIn: \"1d\"\n          }); // If a cookie exists already for the technician, clear it\n          if (req.cookies.technician_access_token) {\n            res.clearCookie('technician_access_token');\n          }\n\n          // Store the new cookie such that it lasts 1 day, and throw a 200 success message with some data about the technician\n          // (id, firstName, lastName, email)\n          res.cookie('technician_access_token', technicianToken, {\n            httpOnly: true,\n            secure: process.env.NODE_ENV === \"production\",\n            sameSite: process.env.NODE_ENV === \"production\" ? 'strict' : 'lax',\n            maxAge: 24 * 60 * 60 * 1000\n          });\n          res.status(200).json({\n            message: \"Successfully logged in.\",\n            technician: {\n              id: technician.Technician_ID,\n              firstName: technician.First_Name,\n              lastName: technician.Last_Name,\n              email: technician.Email\n            }\n          });\n\n          // If anything goes wrong, throw an error\n          _context2.next = 10;\n          break;\n        case 9:\n          _context2.prev = 9;\n          _t2 = _context2[\"catch\"](2);\n          console.error(\"Login error:\", _t2);\n          res.status(500).json({\n            message: \"An error occurred during login.\"\n          });\n        case 10:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[2, 9]]);\n  }));\n  return function (_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}());\n\n// Logging out functionality by clearing the technician's cookie and sending a success message\nvar logoutTechnician = asyncHandler(/*#__PURE__*/function () {\n  var _ref3 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee3(req, res) {\n    return _regenerator[\"default\"].wrap(function (_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          res.clearCookie('technician_access_token');\n          res.status(200).json({\n            message: \"Successfully logged out.\"\n          });\n        case 1:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3);\n  }));\n  return function (_x5, _x6) {\n    return _ref3.apply(this, arguments);\n  };\n}());\n\n// Getting technician's profile\nvar getProfile = asyncHandler(/*#__PURE__*/function () {\n  var _ref4 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee4(req, res) {\n    var technicianID, pool, technicianResult, applianceResult, serviceAreaResult, technicianData, applianceCategories, serviceAreas, _t3;\n    return _regenerator[\"default\"].wrap(function (_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          technicianID = req.technicianID;\n          _context4.prev = 1;\n          pool = getPool();\n          _context4.next = 2;\n          return pool.request().input(\"technicianId\", sql.Int, technicianID).query(\"\\n            SELECT tec.Technician_ID, tec.First_Name, tec.Last_Name, tec.Email, tec.Phone, tec.isActive, tec.Verified, tec.Average_Rating, tec.Total_Jobs\\n            FROM [Technician] AS tec\\n            WHERE tec.Technician_ID = @technicianId\\n            \");\n        case 2:\n          technicianResult = _context4.sent;\n          if (!(technicianResult.recordset.length === 0)) {\n            _context4.next = 3;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(404).json({\n            message: \"Technician not found.\"\n          }));\n        case 3:\n          _context4.next = 4;\n          return pool.request().input(\"technicianId\", sql.Int, technicianID).query(\"\\n            SELECT tec_cat.Category_ID, cat.NameEN, cat.NameAR, cat.Description, tec_cat.Years_Of_Experience, tec_cat.Certification_Date\\n            FROM Technician_Category AS tec_cat\\n            JOIN Appliance_Category AS cat ON tec_cat.Category_ID = cat.Category_ID\\n            WHERE tec_cat.Technician_ID = @technicianId\\n            \");\n        case 4:\n          applianceResult = _context4.sent;\n          _context4.next = 5;\n          return pool.request().input(\"technicianId\", sql.Int, technicianID).query(\"\\n            SELECT area.Area_ID, area.NameEN, area.NameAR, area.Region, tec_area.Priority_Order\\n            FROM Technician_Service_Area AS tec_area\\n            JOIN Service_Area AS area ON tec_area.Area_ID = area.Area_ID\\n            WHERE tec_area.Technician_ID = @technicianId\\n            ORDER BY tec_area.Priority_Order ASC, area.NameEN ASC\\n            \");\n        case 5:\n          serviceAreaResult = _context4.sent;\n          technicianData = technicianResult.recordset[0];\n          applianceCategories = applianceResult.recordset.map(function (record) {\n            return {\n              categoryId: record.Category_ID,\n              nameEN: record.NameEN,\n              nameAR: record.NameAR,\n              description: record.Description,\n              yearsOfExperience: record.Years_Of_Experience,\n              certificationDate: record.Certification_Date\n            };\n          });\n          serviceAreas = serviceAreaResult.recordset.map(function (record) {\n            return {\n              areaId: record.Area_ID,\n              nameEN: record.NameEN,\n              nameAR: record.NameAR,\n              region: record.Region,\n              priority: record.Priority_Order\n            };\n          });\n          res.status(200).json({\n            firstName: technicianData.First_Name,\n            lastName: technicianData.Last_Name,\n            email: technicianData.Email,\n            phone: technicianData.Phone,\n            isActive: technicianData.isActive,\n            verified: technicianData.Verified,\n            averageRating: technicianData.Average_Rating,\n            totalJobs: technicianData.Total_Jobs,\n            applianceCategories: applianceCategories,\n            serviceAreas: serviceAreas\n          });\n          _context4.next = 7;\n          break;\n        case 6:\n          _context4.prev = 6;\n          _t3 = _context4[\"catch\"](1);\n          // Throwing the console error and 500 status in case something goes wrong.\n          console.error(\"Unexpected error occurred when trying to get profile: \", _t3);\n          res.status(500).json({\n            message: \"An unexpected error occurred while getting profile.\"\n          });\n        case 7:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4, null, [[1, 6]]);\n  }));\n  return function (_x7, _x8) {\n    return _ref4.apply(this, arguments);\n  };\n}());\n\n// Updating technician's profile information\nvar updateProfile = asyncHandler(/*#__PURE__*/function () {\n  var _ref5 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee5(req, res) {\n    var _req$body3, firstName, lastName, email, phone, technicianID, pool, result, _t4;\n    return _regenerator[\"default\"].wrap(function (_context5) {\n      while (1) switch (_context5.prev = _context5.next) {\n        case 0:\n          _req$body3 = req.body, firstName = _req$body3.firstName, lastName = _req$body3.lastName, email = _req$body3.email, phone = _req$body3.phone;\n          technicianID = req.technicianID; // Checking if any of them is empty, if yes then we throw a 400\n          if (!(!firstName || !lastName || !email || !phone)) {\n            _context5.next = 1;\n            break;\n          }\n          return _context5.abrupt(\"return\", res.status(400).json({\n            message: \"You have to insert all profile data to update.\"\n          }));\n        case 1:\n          if (isValidName(firstName)) {\n            _context5.next = 2;\n            break;\n          }\n          return _context5.abrupt(\"return\", res.status(400).json({\n            message: \"First name must be 2-30 characters and contain only letters.\"\n          }));\n        case 2:\n          if (isValidName(lastName)) {\n            _context5.next = 3;\n            break;\n          }\n          return _context5.abrupt(\"return\", res.status(400).json({\n            message: \"Last name must be 2-30 characters and contain only letters.\"\n          }));\n        case 3:\n          if (isValidEmail(email)) {\n            _context5.next = 4;\n            break;\n          }\n          return _context5.abrupt(\"return\", res.status(400).json({\n            message: \"Please enter a valid email address.\"\n          }));\n        case 4:\n          if (isValidPhone(phone)) {\n            _context5.next = 5;\n            break;\n          }\n          return _context5.abrupt(\"return\", res.status(400).json({\n            message: \"Please enter a valid phone number.\"\n          }));\n        case 5:\n          _context5.prev = 5;\n          pool = getPool(); // Updating the technician data\n          _context5.next = 6;\n          return pool.request().input(\"technicianId\", sql.Int, technicianID).input(\"firstName\", sql.VarChar, sanitizeString(firstName)).input(\"lastName\", sql.VarChar, sanitizeString(lastName)).input(\"email\", sql.VarChar, sanitizeString(email).toLowerCase()).input(\"phone\", sql.VarChar, sanitizeString(phone)).query(\"\\n                UPDATE [Technician] \\n                SET First_Name = @firstName, Last_Name = @lastName, Email = @email, \\n                    Phone = @phone, modifiedAt = GETDATE()\\n                WHERE Technician_ID = @technicianId\\n            \");\n        case 6:\n          result = _context5.sent;\n          if (!(result.rowsAffected[0] === 0)) {\n            _context5.next = 7;\n            break;\n          }\n          return _context5.abrupt(\"return\", res.status(404).json({\n            message: \"Technician not found or no changes made.\"\n          }));\n        case 7:\n          // Sending success message\n          res.status(200).json({\n            message: \"Technician profile updated successfully!\"\n          });\n          _context5.next = 10;\n          break;\n        case 8:\n          _context5.prev = 8;\n          _t4 = _context5[\"catch\"](5);\n          if (!(_t4.number === 2627 || _t4.number === 2601)) {\n            _context5.next = 9;\n            break;\n          }\n          return _context5.abrupt(\"return\", res.status(409).json({\n            message: \"Another account exists already either with this email address or phone number. If you have another account, please use that one instead.\"\n          }));\n        case 9:\n          // Throwing the console error and 500 status in case something goes wrong\n          console.error(\"Unexpected error when updating technician profile: \", _t4);\n          res.status(500).json({\n            message: \"An unexpected error occurred while updating the technician's profile.\"\n          });\n        case 10:\n        case \"end\":\n          return _context5.stop();\n      }\n    }, _callee5, null, [[5, 8]]);\n  }));\n  return function (_x9, _x0) {\n    return _ref5.apply(this, arguments);\n  };\n}());\n\n// Getting technician's specialties (appliance categories)\nvar getSpecialties = asyncHandler(/*#__PURE__*/function () {\n  var _ref6 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee6(req, res) {\n    var technicianID, pool, result, specialties, _t5;\n    return _regenerator[\"default\"].wrap(function (_context6) {\n      while (1) switch (_context6.prev = _context6.next) {\n        case 0:\n          technicianID = req.technicianID;\n          _context6.prev = 1;\n          pool = getPool(); // Get all specialties for this technician\n          _context6.next = 2;\n          return pool.request().input(\"technicianId\", sql.Int, technicianID).query(\"\\n                SELECT \\n                    tec_cat.Category_ID, \\n                    cat.NameEN, \\n                    cat.NameAR, \\n                    cat.Description,\\n                    tec_cat.Years_Of_Experience, \\n                    tec_cat.Certification_Date,\\n                    tec_cat.createdAt\\n                FROM Technician_Category AS tec_cat\\n                JOIN Appliance_Category AS cat ON tec_cat.Category_ID = cat.Category_ID\\n                WHERE tec_cat.Technician_ID = @technicianId\\n                ORDER BY cat.NameEN ASC\\n            \");\n        case 2:\n          result = _context6.sent;\n          // Format the response by camelCase\n          specialties = result.recordset.map(function (record) {\n            return {\n              categoryId: record.Category_ID,\n              nameEN: record.NameEN,\n              nameAR: record.NameAR,\n              description: record.Description,\n              yearsOfExperience: record.Years_Of_Experience,\n              certificationDate: record.Certification_Date,\n              addedAt: record.createdAt\n            };\n          });\n          res.status(200).json({\n            message: \"Specialties retrieved successfully.\",\n            count: specialties.length,\n            specialties: specialties\n          });\n          _context6.next = 4;\n          break;\n        case 3:\n          _context6.prev = 3;\n          _t5 = _context6[\"catch\"](1);\n          console.error(\"Unexpected error occurred when trying to get specialties: \", _t5);\n          res.status(500).json({\n            message: \"An unexpected error occurred while retrieving specialties.\"\n          });\n        case 4:\n        case \"end\":\n          return _context6.stop();\n      }\n    }, _callee6, null, [[1, 3]]);\n  }));\n  return function (_x1, _x10) {\n    return _ref6.apply(this, arguments);\n  };\n}());\n\n// Setting technician specialty - allows technicians to add appliance categories they specialize in\nvar settingTechnicianSpecialty = asyncHandler(/*#__PURE__*/function () {\n  var _ref7 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee7(req, res) {\n    var _req$body4, applianceCategoryID, yearsOfExperience, certificateDate, technicianID, certDate, today, fiftyYearsAgo, pool, checkCategory, category, checkDuplicate, _t6;\n    return _regenerator[\"default\"].wrap(function (_context7) {\n      while (1) switch (_context7.prev = _context7.next) {\n        case 0:\n          // Getting the specialty data from the body and the technicianID passed from the middleware\n          _req$body4 = req.body, applianceCategoryID = _req$body4.applianceCategoryID, yearsOfExperience = _req$body4.yearsOfExperience, certificateDate = _req$body4.certificateDate;\n          technicianID = req.technicianID; // If required fields are missing, throw a 400 error\n          // Note: yearsOfExperience uses !== undefined to allow 0 as a valid value\n          if (!(!applianceCategoryID || yearsOfExperience === undefined || yearsOfExperience === null)) {\n            _context7.next = 1;\n            break;\n          }\n          return _context7.abrupt(\"return\", res.status(400).json({\n            message: \"Category ID and years of experience are required for you to pass!\"\n          }));\n        case 1:\n          if (!(!Number.isInteger(yearsOfExperience) || yearsOfExperience < 0 || yearsOfExperience > 50)) {\n            _context7.next = 2;\n            break;\n          }\n          return _context7.abrupt(\"return\", res.status(400).json({\n            message: \"Your years of experience should be between 0 and 50.\"\n          }));\n        case 2:\n          if (!certificateDate) {\n            _context7.next = 4;\n            break;\n          }\n          certDate = new Date(certificateDate);\n          today = new Date();\n          today.setHours(0, 0, 0, 0);\n\n          // Certificate date cannot be in the future\n          if (!(certDate > today)) {\n            _context7.next = 3;\n            break;\n          }\n          return _context7.abrupt(\"return\", res.status(400).json({\n            message: \"Certification date cannot be in the future!\"\n          }));\n        case 3:\n          // Certificate date cannot be more than 50 years ago\n          fiftyYearsAgo = new Date();\n          fiftyYearsAgo.setFullYear(fiftyYearsAgo.getFullYear() - 50);\n          if (!(certDate < fiftyYearsAgo)) {\n            _context7.next = 4;\n            break;\n          }\n          return _context7.abrupt(\"return\", res.status(400).json({\n            message: \"Certification date cannot be more than 50 years ago!\"\n          }));\n        case 4:\n          _context7.prev = 4;\n          pool = getPool(); // Check if the appliance category exists and is active\n          _context7.next = 5;\n          return pool.request().input(\"applianceCategoryID\", sql.Int, applianceCategoryID).query(\"\\n                SELECT Category_ID, NameEN, NameAR, isActive\\n                FROM Appliance_Category\\n                WHERE Category_ID = @applianceCategoryID\\n                \");\n        case 5:\n          checkCategory = _context7.sent;\n          if (!(checkCategory.recordset.length === 0)) {\n            _context7.next = 6;\n            break;\n          }\n          return _context7.abrupt(\"return\", res.status(404).json({\n            message: \"Invalid category passed! You should pick one of the available category IDs only.\"\n          }));\n        case 6:\n          category = checkCategory.recordset[0]; // Check if the category is active\n          if (category.isActive) {\n            _context7.next = 7;\n            break;\n          }\n          return _context7.abrupt(\"return\", res.status(400).json({\n            message: \"The category chosen is currently not active!\"\n          }));\n        case 7:\n          _context7.next = 8;\n          return pool.request().input(\"technicianID\", sql.Int, technicianID).input(\"applianceCategoryID\", sql.Int, applianceCategoryID).query(\"\\n                SELECT Technician_ID\\n                FROM Technician_Category\\n                WHERE Technician_ID = @technicianID AND Category_ID = @applianceCategoryID\\n                \");\n        case 8:\n          checkDuplicate = _context7.sent;\n          if (!(checkDuplicate.recordset.length > 0)) {\n            _context7.next = 9;\n            break;\n          }\n          return _context7.abrupt(\"return\", res.status(409).json({\n            message: \"You already have this specialty added.\"\n          }));\n        case 9:\n          _context7.next = 10;\n          return pool.request().input(\"technicianID\", sql.Int, technicianID).input(\"applianceCategoryID\", sql.Int, applianceCategoryID).input(\"yearsOfExperience\", sql.SmallInt, yearsOfExperience).input(\"certificateDate\", sql.Date, certificateDate || null).query(\"\\n                INSERT INTO Technician_Category (Technician_ID, Category_ID, Years_of_Experience, Certification_Date)\\n                VALUES (@technicianID, @applianceCategoryID, @yearsOfExperience, @certificateDate)\\n                \");\n        case 10:\n          // Return success response with specialty details\n          res.status(201).json({\n            message: \"Successfully set your specialty.\",\n            categoryID: category.Category_ID,\n            categoryNameEN: category.NameEN,\n            categoryNameAR: category.NameAR,\n            yearsOfExperience: yearsOfExperience,\n            certificateDate: certificateDate || null\n          });\n          _context7.next = 14;\n          break;\n        case 11:\n          _context7.prev = 11;\n          _t6 = _context7[\"catch\"](4);\n          console.error(\"An unexpected error occurred when trying to set your specialty:\", _t6);\n\n          // Foreign key constraint violation\n          if (!(_t6.number === 547)) {\n            _context7.next = 12;\n            break;\n          }\n          return _context7.abrupt(\"return\", res.status(400).json({\n            message: \"Invalid technician or category ID.\"\n          }));\n        case 12:\n          if (!(_t6.number === 2627)) {\n            _context7.next = 13;\n            break;\n          }\n          return _context7.abrupt(\"return\", res.status(409).json({\n            message: \"You already have this specialty added!\"\n          }));\n        case 13:\n          res.status(500).json({\n            message: \"An unexpected error occurred when trying to set your specialty.\"\n          });\n        case 14:\n        case \"end\":\n          return _context7.stop();\n      }\n    }, _callee7, null, [[4, 11]]);\n  }));\n  return function (_x11, _x12) {\n    return _ref7.apply(this, arguments);\n  };\n}());\n\n// Removing a specialty from technician's profile\nvar removeSpecialty = asyncHandler(/*#__PURE__*/function () {\n  var _ref8 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee8(req, res) {\n    var categoryId, technicianID, parsedCategoryId, pool, checkExists, result, _t7;\n    return _regenerator[\"default\"].wrap(function (_context8) {\n      while (1) switch (_context8.prev = _context8.next) {\n        case 0:\n          categoryId = req.params.categoryId; // Get from URL parameter\n          technicianID = req.technicianID; // Validate categoryId\n          parsedCategoryId = parseInt(categoryId, 10);\n          if (!isNaN(parsedCategoryId)) {\n            _context8.next = 1;\n            break;\n          }\n          return _context8.abrupt(\"return\", res.status(400).json({\n            message: \"Invalid category ID. Must be a number.\"\n          }));\n        case 1:\n          _context8.prev = 1;\n          pool = getPool(); // Check if the specialty exists before deleting\n          _context8.next = 2;\n          return pool.request().input(\"technicianId\", sql.Int, technicianID).input(\"categoryId\", sql.Int, parsedCategoryId).query(\"\\n                SELECT Category_ID\\n                FROM Technician_Category\\n                WHERE Technician_ID = @technicianId AND Category_ID = @categoryId\\n            \");\n        case 2:\n          checkExists = _context8.sent;\n          if (!(checkExists.recordset.length === 0)) {\n            _context8.next = 3;\n            break;\n          }\n          return _context8.abrupt(\"return\", res.status(404).json({\n            message: \"Specialty not found or not assigned to you.\"\n          }));\n        case 3:\n          _context8.next = 4;\n          return pool.request().input(\"technicianId\", sql.Int, technicianID).input(\"categoryId\", sql.Int, parsedCategoryId).query(\"\\n                DELETE FROM Technician_Category\\n                WHERE Technician_ID = @technicianId AND Category_ID = @categoryId\\n            \");\n        case 4:\n          result = _context8.sent;\n          res.status(200).json({\n            message: \"Specialty removed successfully.\"\n          });\n          _context8.next = 6;\n          break;\n        case 5:\n          _context8.prev = 5;\n          _t7 = _context8[\"catch\"](1);\n          console.error(\"Unexpected error occurred when trying to remove specialty: \", _t7);\n          res.status(500).json({\n            message: \"An unexpected error occurred while removing the specialty.\"\n          });\n        case 6:\n        case \"end\":\n          return _context8.stop();\n      }\n    }, _callee8, null, [[1, 5]]);\n  }));\n  return function (_x13, _x14) {\n    return _ref8.apply(this, arguments);\n  };\n}());\n\n// Getting technician's service areas\nvar getServiceAreas = asyncHandler(/*#__PURE__*/function () {\n  var _ref9 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee9(req, res) {\n    var technicianID, pool, result, serviceAreas, _t8;\n    return _regenerator[\"default\"].wrap(function (_context9) {\n      while (1) switch (_context9.prev = _context9.next) {\n        case 0:\n          technicianID = req.technicianID;\n          _context9.prev = 1;\n          pool = getPool(); // Get all service areas for this technician, sorted by priority\n          _context9.next = 2;\n          return pool.request().input(\"technicianId\", sql.Int, technicianID).query(\"\\n                SELECT \\n                    tec_area.Area_ID,\\n                    area.NameEN,\\n                    area.NameAR,\\n                    area.Region,\\n                    tec_area.Priority_Order,\\n                    tec_area.createdAt\\n                FROM Technician_Service_Area AS tec_area\\n                JOIN Service_Area AS area ON tec_area.Area_ID = area.Area_ID\\n                WHERE tec_area.Technician_ID = @technicianId\\n                ORDER BY tec_area.Priority_Order ASC, area.NameEN ASC\\n            \");\n        case 2:\n          result = _context9.sent;\n          // Format the response with consistent camelCase\n          serviceAreas = result.recordset.map(function (record) {\n            return {\n              areaId: record.Area_ID,\n              nameEN: record.NameEN,\n              nameAR: record.NameAR,\n              region: record.Region,\n              priority: record.Priority_Order,\n              addedAt: record.createdAt\n            };\n          });\n          res.status(200).json({\n            message: \"Service areas retrieved successfully.\",\n            count: serviceAreas.length,\n            serviceAreas: serviceAreas\n          });\n          _context9.next = 4;\n          break;\n        case 3:\n          _context9.prev = 3;\n          _t8 = _context9[\"catch\"](1);\n          console.error(\"Unexpected error occurred when trying to get service areas: \", _t8);\n          res.status(500).json({\n            message: \"An unexpected error occurred while retrieving service areas.\"\n          });\n        case 4:\n        case \"end\":\n          return _context9.stop();\n      }\n    }, _callee9, null, [[1, 3]]);\n  }));\n  return function (_x15, _x16) {\n    return _ref9.apply(this, arguments);\n  };\n}());\n\n// Setting technician service area - allows technicians to add areas they work in with priority\nvar settingTechnicianServiceArea = asyncHandler(/*#__PURE__*/function () {\n  var _ref0 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee0(req, res) {\n    var _req$body5, serviceAreaID, priority, technicianID, pool, checkArea, serviceArea, checkDuplicate, _t9;\n    return _regenerator[\"default\"].wrap(function (_context0) {\n      while (1) switch (_context0.prev = _context0.next) {\n        case 0:\n          // Getting the service area data from the body and the technicianID passed from the middleware\n          _req$body5 = req.body, serviceAreaID = _req$body5.serviceAreaID, priority = _req$body5.priority;\n          technicianID = req.technicianID; // If required fields are missing, throw a 400 error\n          if (!(!serviceAreaID || !priority)) {\n            _context0.next = 1;\n            break;\n          }\n          return _context0.abrupt(\"return\", res.status(400).json({\n            message: \"You have to specify from which service area you are and the priority of it.\"\n          }));\n        case 1:\n          if (!(!Number.isInteger(priority) || priority < 1 || priority > 100)) {\n            _context0.next = 2;\n            break;\n          }\n          return _context0.abrupt(\"return\", res.status(400).json({\n            message: \"Priority must be an integer between 1 and 100.\"\n          }));\n        case 2:\n          _context0.prev = 2;\n          pool = getPool(); // Check if the service area exists\n          _context0.next = 3;\n          return pool.request().input(\"serviceAreaID\", sql.Int, serviceAreaID).query(\"\\n                SELECT Area_ID, NameEN, NameAR, Region, isActive\\n                FROM Service_Area\\n                WHERE Area_ID = @serviceAreaID\\n                \");\n        case 3:\n          checkArea = _context0.sent;\n          if (!(checkArea.recordset.length === 0)) {\n            _context0.next = 4;\n            break;\n          }\n          return _context0.abrupt(\"return\", res.status(404).json({\n            message: \"Invalid service area chosen! You have to choose one of the available ones.\"\n          }));\n        case 4:\n          serviceArea = checkArea.recordset[0]; // Check if the service area is active\n          if (serviceArea.isActive) {\n            _context0.next = 5;\n            break;\n          }\n          return _context0.abrupt(\"return\", res.status(400).json({\n            message: \"Currently this service area is not active.\"\n          }));\n        case 5:\n          _context0.next = 6;\n          return pool.request().input(\"technicianID\", sql.Int, technicianID).input(\"serviceAreaID\", sql.Int, serviceAreaID).query(\"\\n                SELECT Technician_ID\\n                FROM Technician_Service_Area\\n                WHERE Technician_ID = @technicianID AND Area_ID = @serviceAreaID\\n                \");\n        case 6:\n          checkDuplicate = _context0.sent;\n          if (!(checkDuplicate.recordset.length > 0)) {\n            _context0.next = 7;\n            break;\n          }\n          return _context0.abrupt(\"return\", res.status(409).json({\n            message: \"You already have set this service area!\"\n          }));\n        case 7:\n          _context0.next = 8;\n          return pool.request().input(\"technicianID\", sql.Int, technicianID).input(\"serviceAreaID\", sql.Int, serviceAreaID).input(\"priority\", sql.Int, priority).query(\"\\n                INSERT INTO Technician_Service_Area (Technician_ID, Area_ID, Priority_Order)\\n                VALUES (@technicianID, @serviceAreaID, @priority)\\n                \");\n        case 8:\n          // Return success response with service area details\n          res.status(201).json({\n            message: \"Successfully set your service area.\",\n            areaID: serviceArea.Area_ID,\n            areaNameEN: serviceArea.NameEN,\n            areaNameAR: serviceArea.NameAR,\n            areaRegion: serviceArea.Region,\n            priority: priority\n          });\n          _context0.next = 12;\n          break;\n        case 9:\n          _context0.prev = 9;\n          _t9 = _context0[\"catch\"](2);\n          console.error(\"An unexpected error occurred when trying to set your service area:\", _t9);\n\n          // Foreign key constraint violation\n          if (!(_t9.number === 547)) {\n            _context0.next = 10;\n            break;\n          }\n          return _context0.abrupt(\"return\", res.status(400).json({\n            message: \"Invalid technician or service area ID.\"\n          }));\n        case 10:\n          if (!(_t9.number === 2627)) {\n            _context0.next = 11;\n            break;\n          }\n          return _context0.abrupt(\"return\", res.status(409).json({\n            message: \"You already have this service area set!\"\n          }));\n        case 11:\n          res.status(500).json({\n            message: \"An unexpected error occurred when trying to set your service area.\"\n          });\n        case 12:\n        case \"end\":\n          return _context0.stop();\n      }\n    }, _callee0, null, [[2, 9]]);\n  }));\n  return function (_x17, _x18) {\n    return _ref0.apply(this, arguments);\n  };\n}());\n\n// Removing a service area from technician's profile\nvar removeServiceArea = asyncHandler(/*#__PURE__*/function () {\n  var _ref1 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee1(req, res) {\n    var areaId, technicianID, parsedAreaId, pool, checkExists, result, _t0;\n    return _regenerator[\"default\"].wrap(function (_context1) {\n      while (1) switch (_context1.prev = _context1.next) {\n        case 0:\n          areaId = req.params.areaId; // Get from URL parameter\n          technicianID = req.technicianID; // Validate areaId\n          parsedAreaId = parseInt(areaId, 10);\n          if (!isNaN(parsedAreaId)) {\n            _context1.next = 1;\n            break;\n          }\n          return _context1.abrupt(\"return\", res.status(400).json({\n            message: \"Invalid area ID. Must be a number.\"\n          }));\n        case 1:\n          _context1.prev = 1;\n          pool = getPool(); // Check if the service area exists before deleting\n          _context1.next = 2;\n          return pool.request().input(\"technicianId\", sql.Int, technicianID).input(\"areaId\", sql.Int, parsedAreaId).query(\"\\n                SELECT Area_ID\\n                FROM Technician_Service_Area\\n                WHERE Technician_ID = @technicianId AND Area_ID = @areaId\\n            \");\n        case 2:\n          checkExists = _context1.sent;\n          if (!(checkExists.recordset.length === 0)) {\n            _context1.next = 3;\n            break;\n          }\n          return _context1.abrupt(\"return\", res.status(404).json({\n            message: \"Service area not found or not assigned to you.\"\n          }));\n        case 3:\n          _context1.next = 4;\n          return pool.request().input(\"technicianId\", sql.Int, technicianID).input(\"areaId\", sql.Int, parsedAreaId).query(\"\\n                DELETE FROM Technician_Service_Area\\n                WHERE Technician_ID = @technicianId AND Area_ID = @areaId\\n            \");\n        case 4:\n          result = _context1.sent;\n          res.status(200).json({\n            message: \"Service area removed successfully.\"\n          });\n          _context1.next = 6;\n          break;\n        case 5:\n          _context1.prev = 5;\n          _t0 = _context1[\"catch\"](1);\n          console.error(\"Unexpected error occurred when trying to remove service area: \", _t0);\n          res.status(500).json({\n            message: \"An unexpected error occurred while removing the service area.\"\n          });\n        case 6:\n        case \"end\":\n          return _context1.stop();\n      }\n    }, _callee1, null, [[1, 5]]);\n  }));\n  return function (_x19, _x20) {\n    return _ref1.apply(this, arguments);\n  };\n}());\nmodule.exports = {\n  registerTechnician: registerTechnician,\n  loginTechnician: loginTechnician,\n  logoutTechnician: logoutTechnician,\n  getProfile: getProfile,\n  updateProfile: updateProfile,\n  settingTechnicianSpecialty: settingTechnicianSpecialty,\n  getSpecialties: getSpecialties,\n  removeSpecialty: removeSpecialty,\n  settingTechnicianServiceArea: settingTechnicianServiceArea,\n  getServiceAreas: getServiceAreas,\n  removeServiceArea: removeServiceArea\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhc3luY0hhbmRsZXIiLCJyZXF1aXJlIiwiYmNyeXB0Iiwiand0IiwiX3JlcXVpcmUiLCJnZXRQb29sIiwic3FsIiwiX3JlcXVpcmUyIiwiaXNWYWxpZEVtYWlsIiwiaXNWYWxpZFBob25lIiwiaXNWYWxpZFBhc3N3b3JkIiwiaXNWYWxpZE5hbWUiLCJzYW5pdGl6ZVN0cmluZyIsInJlZ2lzdGVyVGVjaG5pY2lhbiIsIl9yZWYiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJfcmVnZW5lcmF0b3IiLCJtYXJrIiwiX2NhbGxlZSIsInJlcSIsInJlcyIsIl9yZXEkYm9keSIsImZpcnN0TmFtZSIsImxhc3ROYW1lIiwiZW1haWwiLCJwaG9uZSIsInBhc3N3b3JkIiwicGFzc3dvcmRWYWxpZGF0aW9uIiwicG9vbCIsImhhc2hlZFBhc3N3b3JkIiwicmVzdWx0IiwiX3QiLCJ3cmFwIiwiX2NvbnRleHQiLCJwcmV2IiwibmV4dCIsImJvZHkiLCJhYnJ1cHQiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsInZhbGlkIiwiaGFzaCIsInNlbnQiLCJyZXF1ZXN0IiwiaW5wdXQiLCJWYXJDaGFyIiwidG9Mb3dlckNhc2UiLCJxdWVyeSIsIm51bWJlciIsImNvbnNvbGUiLCJlcnJvciIsInN0b3AiLCJfeCIsIl94MiIsImFwcGx5IiwiYXJndW1lbnRzIiwibG9naW5UZWNobmljaWFuIiwiX3JlZjIiLCJfY2FsbGVlMiIsIl9yZXEkYm9keTIiLCJ0ZWNobmljaWFuIiwiaXNQYXNzd29yZFZhbGlkIiwidGVjaG5pY2lhblRva2VuIiwiX3QyIiwiX2NvbnRleHQyIiwicmVjb3Jkc2V0IiwibGVuZ3RoIiwiaXNBY3RpdmUiLCJWZXJpZmllZCIsImNvbXBhcmUiLCJQYXNzd29yZF9IYXNoIiwic2lnbiIsImlkIiwiVGVjaG5pY2lhbl9JRCIsIkZpcnN0X05hbWUiLCJMYXN0X05hbWUiLCJFbWFpbCIsInByb2Nlc3MiLCJlbnYiLCJURUNITklDSUFOX0FDQ0VTU19UT0tFTiIsImV4cGlyZXNJbiIsImNvb2tpZXMiLCJ0ZWNobmljaWFuX2FjY2Vzc190b2tlbiIsImNsZWFyQ29va2llIiwiY29va2llIiwiaHR0cE9ubHkiLCJzZWN1cmUiLCJOT0RFX0VOViIsInNhbWVTaXRlIiwibWF4QWdlIiwiX3gzIiwiX3g0IiwibG9nb3V0VGVjaG5pY2lhbiIsIl9yZWYzIiwiX2NhbGxlZTMiLCJfY29udGV4dDMiLCJfeDUiLCJfeDYiLCJnZXRQcm9maWxlIiwiX3JlZjQiLCJfY2FsbGVlNCIsInRlY2huaWNpYW5JRCIsInRlY2huaWNpYW5SZXN1bHQiLCJhcHBsaWFuY2VSZXN1bHQiLCJzZXJ2aWNlQXJlYVJlc3VsdCIsInRlY2huaWNpYW5EYXRhIiwiYXBwbGlhbmNlQ2F0ZWdvcmllcyIsInNlcnZpY2VBcmVhcyIsIl90MyIsIl9jb250ZXh0NCIsIkludCIsIm1hcCIsInJlY29yZCIsImNhdGVnb3J5SWQiLCJDYXRlZ29yeV9JRCIsIm5hbWVFTiIsIk5hbWVFTiIsIm5hbWVBUiIsIk5hbWVBUiIsImRlc2NyaXB0aW9uIiwiRGVzY3JpcHRpb24iLCJ5ZWFyc09mRXhwZXJpZW5jZSIsIlllYXJzX09mX0V4cGVyaWVuY2UiLCJjZXJ0aWZpY2F0aW9uRGF0ZSIsIkNlcnRpZmljYXRpb25fRGF0ZSIsImFyZWFJZCIsIkFyZWFfSUQiLCJyZWdpb24iLCJSZWdpb24iLCJwcmlvcml0eSIsIlByaW9yaXR5X09yZGVyIiwiUGhvbmUiLCJ2ZXJpZmllZCIsImF2ZXJhZ2VSYXRpbmciLCJBdmVyYWdlX1JhdGluZyIsInRvdGFsSm9icyIsIlRvdGFsX0pvYnMiLCJfeDciLCJfeDgiLCJ1cGRhdGVQcm9maWxlIiwiX3JlZjUiLCJfY2FsbGVlNSIsIl9yZXEkYm9keTMiLCJfdDQiLCJfY29udGV4dDUiLCJyb3dzQWZmZWN0ZWQiLCJfeDkiLCJfeDAiLCJnZXRTcGVjaWFsdGllcyIsIl9yZWY2IiwiX2NhbGxlZTYiLCJzcGVjaWFsdGllcyIsIl90NSIsIl9jb250ZXh0NiIsImFkZGVkQXQiLCJjcmVhdGVkQXQiLCJjb3VudCIsIl94MSIsIl94MTAiLCJzZXR0aW5nVGVjaG5pY2lhblNwZWNpYWx0eSIsIl9yZWY3IiwiX2NhbGxlZTciLCJfcmVxJGJvZHk0IiwiYXBwbGlhbmNlQ2F0ZWdvcnlJRCIsImNlcnRpZmljYXRlRGF0ZSIsImNlcnREYXRlIiwidG9kYXkiLCJmaWZ0eVllYXJzQWdvIiwiY2hlY2tDYXRlZ29yeSIsImNhdGVnb3J5IiwiY2hlY2tEdXBsaWNhdGUiLCJfdDYiLCJfY29udGV4dDciLCJ1bmRlZmluZWQiLCJOdW1iZXIiLCJpc0ludGVnZXIiLCJEYXRlIiwic2V0SG91cnMiLCJzZXRGdWxsWWVhciIsImdldEZ1bGxZZWFyIiwiU21hbGxJbnQiLCJjYXRlZ29yeUlEIiwiY2F0ZWdvcnlOYW1lRU4iLCJjYXRlZ29yeU5hbWVBUiIsIl94MTEiLCJfeDEyIiwicmVtb3ZlU3BlY2lhbHR5IiwiX3JlZjgiLCJfY2FsbGVlOCIsInBhcnNlZENhdGVnb3J5SWQiLCJjaGVja0V4aXN0cyIsIl90NyIsIl9jb250ZXh0OCIsInBhcmFtcyIsInBhcnNlSW50IiwiaXNOYU4iLCJfeDEzIiwiX3gxNCIsImdldFNlcnZpY2VBcmVhcyIsIl9yZWY5IiwiX2NhbGxlZTkiLCJfdDgiLCJfY29udGV4dDkiLCJfeDE1IiwiX3gxNiIsInNldHRpbmdUZWNobmljaWFuU2VydmljZUFyZWEiLCJfcmVmMCIsIl9jYWxsZWUwIiwiX3JlcSRib2R5NSIsInNlcnZpY2VBcmVhSUQiLCJjaGVja0FyZWEiLCJzZXJ2aWNlQXJlYSIsIl90OSIsIl9jb250ZXh0MCIsImFyZWFJRCIsImFyZWFOYW1lRU4iLCJhcmVhTmFtZUFSIiwiYXJlYVJlZ2lvbiIsIl94MTciLCJfeDE4IiwicmVtb3ZlU2VydmljZUFyZWEiLCJfcmVmMSIsIl9jYWxsZWUxIiwicGFyc2VkQXJlYUlkIiwiX3QwIiwiX2NvbnRleHQxIiwiX3gxOSIsIl94MjAiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9zZXJqL0RvY3VtZW50cy9HaXRIdWIvRml4QXBwbGlhbmNlLWJvb2tpbmdDb21tZXJjZS9iYWNrLWVuZC9zcmMvY29udHJvbGxlcnMvIiwic291cmNlcyI6WyJUZWNobmljaWFuQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFRoaXMgY29udHJvbGxlciBwcm92aWRlcyB0aGUgZm9sbG93aW5nIGZ1bmN0aW9uYWxpdGllcyBmb3IgYSB0ZWNobmljaWFuOiByZWdpc3RlcmluZywgbG9nZ2luZyBpbiwgbG9nZ2luZyBvdXQsXG4gKiBzZXR0aW5nIHNwZWNpYWx0eSAoYXBwbGlhbmNlIGNhdGVnb3JpZXMgdGhleSB3b3JrIHdpdGgpLCBhbmQgc2V0dGluZyBzZXJ2aWNlIGFyZWFzLlxuICogXG4gKiBGb3Igc3RvcmluZyB0aGUgcGFzc3dvcmQsIGJjcnlwdCBpcyB1c2VkIHRvIGhhc2ggYW5kIGp3dCAoanNvbndlYnRva2VuKSBpcyB1c2VkIHRvIHNpZ24gYSB0b2tlbiBhbmQgc3RvcmUgaXQgYXMgY29va2llLlxuICovXG5cbmNvbnN0IGFzeW5jSGFuZGxlciA9IHJlcXVpcmUoXCJleHByZXNzLWFzeW5jLWhhbmRsZXJcIik7XG5jb25zdCBiY3J5cHQgPSByZXF1aXJlKFwiYmNyeXB0XCIpO1xuY29uc3Qgand0ID0gcmVxdWlyZShcImpzb253ZWJ0b2tlblwiKTtcblxuLy8gc3FsIG5lZWRlZCBmb3IgdGhlIHR5cGUgZGVmaW5pdGlvbnMgaW4gLmlucHV0XG4vLyBnZXRQb29sIGlzIHRvIGRvIHF1ZXJpZXNcbmNvbnN0IHsgZ2V0UG9vbCwgc3FsIH0gPSByZXF1aXJlKFwiLi4vY29uZmlnL2RhdGFiYXNlXCIpO1xuXG4vLyBJbXBvcnQgdmFsaWRhdGlvbiB1dGlsaXRpZXNcbmNvbnN0IHsgaXNWYWxpZEVtYWlsLCBpc1ZhbGlkUGhvbmUsIGlzVmFsaWRQYXNzd29yZCwgaXNWYWxpZE5hbWUsIHNhbml0aXplU3RyaW5nIH0gPSByZXF1aXJlKFwiLi4vdXRpbHMvdmFsaWRhdG9yc1wiKTtcblxuXG4vLyBIYW5kbGVzIHRoZSB0ZWNobmljaWFuIHJlZ2lzdGVyaW5nIGZ1bmN0aW9uYWxpdHlcbmNvbnN0IHJlZ2lzdGVyVGVjaG5pY2lhbiA9IGFzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICAvLyBHZXR0aW5nIHRoZSBuZWVkZWQgZGF0YSBmcm9tIHRoZSByZXF1ZXN0IGJvZHlcbiAgICBjb25zdCB7IGZpcnN0TmFtZSwgbGFzdE5hbWUsIGVtYWlsLCBwaG9uZSwgcGFzc3dvcmR9ID0gcmVxLmJvZHk7XG5cbiAgICAvLyBDaGVja2luZyBpZiBhbnkgb2YgdGhlbSBpcyBlbXB0eSwgaWYgeWVzIHRoZW4gd2UgdGhyb3cgYSA0MDBcbiAgICBpZiAoIWZpcnN0TmFtZSB8fCAhbGFzdE5hbWUgfHwgIWVtYWlsIHx8ICFwaG9uZSB8fCAhcGFzc3dvcmQpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttZXNzYWdlOiBcIllvdSBoYXZlIHRvIGluc2VydCBhbGwgZGF0YSB0byByZWdpc3Rlci5cIn0pO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRlIGZpcnN0IG5hbWUgZm9ybWF0XG4gICAgaWYgKCFpc1ZhbGlkTmFtZShmaXJzdE5hbWUpKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJGaXJzdCBuYW1lIG11c3QgYmUgMi0zMCBjaGFyYWN0ZXJzIGFuZCBjb250YWluIG9ubHkgbGV0dGVycy5cIn0pO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRlIGxhc3QgbmFtZSBmb3JtYXRcbiAgICBpZiAoIWlzVmFsaWROYW1lKGxhc3ROYW1lKSkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiTGFzdCBuYW1lIG11c3QgYmUgMi0zMCBjaGFyYWN0ZXJzIGFuZCBjb250YWluIG9ubHkgbGV0dGVycy5cIn0pO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRlIGVtYWlsIGZvcm1hdFxuICAgIGlmICghaXNWYWxpZEVtYWlsKGVtYWlsKSkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiUGxlYXNlIGVudGVyIGEgdmFsaWQgZW1haWwgYWRkcmVzcy5cIn0pO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRlIHBob25lIGZvcm1hdFxuICAgIGlmICghaXNWYWxpZFBob25lKHBob25lKSkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiUGxlYXNlIGVudGVyIGEgdmFsaWQgcGhvbmUgbnVtYmVyLlwifSk7XG4gICAgfVxuXG4gICAgLy8gVmFsaWRhdGUgcGFzc3dvcmQgc3RyZW5ndGhcbiAgICBjb25zdCBwYXNzd29yZFZhbGlkYXRpb24gPSBpc1ZhbGlkUGFzc3dvcmQocGFzc3dvcmQpO1xuICAgIGlmICghcGFzc3dvcmRWYWxpZGF0aW9uLnZhbGlkKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogcGFzc3dvcmRWYWxpZGF0aW9uLm1lc3NhZ2V9KTtcbiAgICB9XG5cbiAgICAvLyBXZSBub3cgdHJ5IHRvIGFjY2VzcyB0aGUgZGF0YWJhc2UgdG8gaW5zZXJ0IHRoZSB0ZWNobmljaWFuXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcG9vbCA9IGdldFBvb2woKTtcblxuICAgICAgICAvLyBIYXNoaW5nIHRoZSBwYXNzd29yZCBiZWZvcmUgc3RvcmluZ1xuICAgICAgICBjb25zdCBoYXNoZWRQYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKHBhc3N3b3JkLCAxMSk7XG5cbiAgICAgICAgLy8gSW5zZXJ0aW5nIHRoZSB0ZWNobmljaWFuIGludG8gdGhlIGRhdGFiYXNlIFRlY2huaWNpYW4gdGFibGVcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcG9vbC5yZXF1ZXN0KClcbiAgICAgICAgICAgIC5pbnB1dChcImZpcnN0TmFtZVwiLCBzcWwuVmFyQ2hhciwgc2FuaXRpemVTdHJpbmcoZmlyc3ROYW1lKSlcbiAgICAgICAgICAgIC5pbnB1dChcImxhc3ROYW1lXCIsIHNxbC5WYXJDaGFyLCBzYW5pdGl6ZVN0cmluZyhsYXN0TmFtZSkpXG4gICAgICAgICAgICAuaW5wdXQoXCJlbWFpbFwiLCBzcWwuVmFyQ2hhciwgc2FuaXRpemVTdHJpbmcoZW1haWwpLnRvTG93ZXJDYXNlKCkpXG4gICAgICAgICAgICAuaW5wdXQoXCJwaG9uZVwiLCBzcWwuVmFyQ2hhciwgc2FuaXRpemVTdHJpbmcocGhvbmUpKVxuICAgICAgICAgICAgLmlucHV0KFwiaGFzaGVkUGFzc3dvcmRcIiwgc3FsLlZhckNoYXIsIGhhc2hlZFBhc3N3b3JkKVxuICAgICAgICAgICAgLnF1ZXJ5KGBcbiAgICAgICAgICAgIElOU0VSVCBJTlRPIFRlY2huaWNpYW4gKEZpcnN0X05hbWUsIExhc3RfTmFtZSwgRW1haWwsIFBob25lLCBQYXNzd29yZF9IYXNoKVxuICAgICAgICAgICAgVkFMVUVTKEBmaXJzdE5hbWUsIEBsYXN0TmFtZSwgQGVtYWlsLCBAcGhvbmUsIEBoYXNoZWRQYXNzd29yZClcbiAgICAgICAgICAgIGApO1xuXG4gICAgICAgIC8vIFNlbmRpbmcgc3VjY2VzcyBtZXNzYWdlXG4gICAgICAgIHJlcy5zdGF0dXMoMjAxKS5qc29uKHttZXNzYWdlOiBcIlRlY2huaWNpYW4gcmVnaXN0ZXJlZCBzdWNjZXNzZnVsbHkhXCJ9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAvLyBIYW5kbGluZyB0aGUgdW5pcXVlIGNvbnN0cmFpbnRzIGZvciBlbWFpbCBhbmQgcGhvbmUgbnVtYmVyc1xuICAgICAgICAvLyAyNjI3IGlzIGZvciB2aW9sYXRpb24gb2YgdGhlIHVuaXF1ZSBrZXkgY29uc3RyYWludCwgYW5kIDI2MDEgaXMgZm9yIHVuaXF1ZSBpbmRleCB2aW9sYXRpb25cbiAgICAgICAgaWYgKGVycm9yLm51bWJlciA9PT0gMjYyNyB8fCBlcnJvci5udW1iZXIgPT09IDI2MDEpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwOSkuanNvbih7bWVzc2FnZTogXCJBbm90aGVyIGFjY291bnQgZXhpc3RzIGFscmVhZHkgZWl0aGVyIHdpdGggdGhpcyBlbWFpbCBhZGRyZXNzIG9yIHBob25lIG51bWJlci4gSWYgeW91IGhhdmUgYW5vdGhlciBhY2NvdW50LCBwbGVhc2UgdXNlIHRoYXQgb25lIGluc3RlYWQuXCJ9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRocm93aW5nIHRoZSBjb25zb2xlIGVycm9yIGFuZCA1MDAgc3RhdHVzIGluIGNhc2Ugc29tZXRoaW5nIGdvZXMgd3JvbmdcbiAgICAgICAgY29uc29sZS5lcnJvcihcIlVuZXhwZWN0ZWQgZXJyb3IgcmVnaXN0ZXJpbmcgYSBuZXcgdGVjaG5pY2lhbiBhY2NvdW50OiBcIiwgZXJyb3IpO1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7bWVzc2FnZTogXCJBbiB1bmV4cGVjdGVkIGVycm9yIG9jY3VycmVkIHdoaWxlIHJlZ2lzdGVyaW5nIHRoZSB0ZWNobmljaWFuLlwifSk7XG4gICAgfVxufSk7XG5cbi8vIEhhbmRsaW5nIHRoZSBsb2dnaW5nIGluIGZ1bmN0aW9uYWxpdHkgZm9yIHRlY2huaWNpYW5zXG5jb25zdCBsb2dpblRlY2huaWNpYW4gPSBhc3luY0hhbmRsZXIoYXN5bmMgKHJlcSxyZXMpID0+IHtcbiAgICAvLyBHZXR0aW5nIHRoZSBlbWFpbCBhbmQgcGFzc3dvcmQgdGhhdCB0aGUgdGVjaG5pY2lhbiBpcyB0cnlpbmcgdG8gbG9naW4gd2l0aFxuICAgIGNvbnN0IHtlbWFpbCwgcGFzc3dvcmR9ID0gcmVxLmJvZHk7XG5cbiAgICAvLyBJbnB1dCB2YWxpZGF0aW9uLCBpZiBlaXRoZXIgZW1wdHkgdGhlbiBzZW5kIDQwMCBlcnJvclxuICAgIGlmICghZW1haWwgfHwgIXBhc3N3b3JkKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJZb3UgaGF2ZSB0byBlbnRlciBib3RoIHlvdXIgZW1haWwgYW5kIHlvdXIgcGFzc3dvcmRcIn0pO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRlIGVtYWlsIGZvcm1hdFxuICAgIGlmICghaXNWYWxpZEVtYWlsKGVtYWlsKSkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiUGxlYXNlIGVudGVyIGEgdmFsaWQgZW1haWwgYWRkcmVzcy5cIn0pO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHBvb2wgPSBnZXRQb29sKCk7XG5cbiAgICAgICAgLy8gU2VhcmNoaW5nIGluIHRoZSBkYXRhYmFzZSBmb3IgYSB0ZWNobmljaWFuIHdpdGggdGhlIHNhbWUgZW1haWwgcGFzc2VkIHRvIGNoZWNrIGlmIGV4aXN0c1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwb29sLnJlcXVlc3QoKVxuICAgICAgICAgICAgLmlucHV0KFwiZW1haWxcIiwgc3FsLlZhckNoYXIsIHNhbml0aXplU3RyaW5nKGVtYWlsKS50b0xvd2VyQ2FzZSgpKVxuICAgICAgICAgICAgLnF1ZXJ5KGBcbiAgICAgICAgICAgICAgICBTRUxFQ1QgVGVjaG5pY2lhbl9JRCwgRmlyc3RfTmFtZSwgTGFzdF9OYW1lLCBFbWFpbCwgUGFzc3dvcmRfSGFzaCwgaXNBY3RpdmUsIFZlcmlmaWVkXG4gICAgICAgICAgICAgICAgRlJPTSBUZWNobmljaWFuXG4gICAgICAgICAgICAgICAgV0hFUkUgRW1haWwgPSBAZW1haWxcbiAgICAgICAgICAgICAgICBgKTtcblxuICAgICAgICAvLyBJZiBubyByZXN1bHRzIHJldHVybmVkIGZyb20gdGhlIHF1ZXJ5LCB0aGVuIHRoZSBlbWFpbCBlbnRlcmVkIGlzIGludmFsaWRcbiAgICAgICAgaWYgKHJlc3VsdC5yZWNvcmRzZXQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oe21lc3NhZ2U6IFwiSW52YWxpZCBlbWFpbCBhZGRyZXNzIG9yIHBhc3N3b3JkLlwifSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBOb3cgd2UgYXJlIGdldHRpbmcgdGhlIGZpcnN0IHRlY2huaWNpYW4gdGhhdCB3ZSBnb3QgaGF2aW5nIHRoZSBzYW1lIGVtYWlsIGFkZHJlc3NcbiAgICAgICAgY29uc3QgdGVjaG5pY2lhbiA9IHJlc3VsdC5yZWNvcmRzZXRbMF07XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHRlY2huaWNpYW4gYWNjb3VudCBpcyBhY3RpdmVcbiAgICAgICAgaWYgKCF0ZWNobmljaWFuLmlzQWN0aXZlKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDMpLmpzb24oe21lc3NhZ2U6IFwiWW91ciBhY2NvdW50IGlzIGRlYWN0aXZhdGVkLiBQbGVhc2UgY29udGFjdCB1cyB0byByZXNvbHZlIHRoaXMgaXNzdWUuXCJ9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENoZWNrIGlmIHRoZSB0ZWNobmljaWFuIGFjY291bnQgaXMgdmVyaWZpZWQgYnkgYWRtaW5cbiAgICAgICAgaWYgKCF0ZWNobmljaWFuLlZlcmlmaWVkKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDMpLmpzb24oe21lc3NhZ2U6IFwiWW91ciBhY2NvdW50IGlzIG5vdCB2ZXJpZmllZCB5ZXQuIFBsZWFzZSB3YWl0IGZvciBhZG1pbiBhcHByb3ZhbC5cIn0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVXNpbmcgYmNyeXB0IHRvIGNoZWNrIGlmIHRoZSBwYXNzd29yZCBwYXNzZWQgaXMgdGhlIHNhbWUgYXMgdGhlIGhhc2hlZCBvbmUgc3RvcmVkIGluIHRoZSBkYXRhYmFzZVxuICAgICAgICAvLyBJZiBubywgdGhyb3cgYSA0MDEgZXJyb3JcbiAgICAgICAgY29uc3QgaXNQYXNzd29yZFZhbGlkID0gYXdhaXQgYmNyeXB0LmNvbXBhcmUocGFzc3dvcmQsIHRlY2huaWNpYW4uUGFzc3dvcmRfSGFzaCk7XG4gICAgICAgIGlmICghaXNQYXNzd29yZFZhbGlkKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oe21lc3NhZ2U6IFwiSW52YWxpZCBlbWFpbCBhZGRyZXNzIG9yIHBhc3N3b3JkLlwifSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiB0aGUgcGFzc3dvcmQgbWF0Y2hlcywgdGhlbiBjcmVhdGUgYSB0ZWNobmljaWFuIHRva2VuIHVzaW5nIGp3dCBieSBzaWduaW5nIGl0IHdpdGggdGhlIFRFQ0hOSUNJQU5fQUNDRVNTX1RPS0VOXG4gICAgICAgIC8vIHN0b3JlZCBpbiB0aGUgLmVudiBmaWxlLiBUaGUgdG9rZW4gZXhwaXJlcyBpbiAxIGRheS5cbiAgICAgICAgY29uc3QgdGVjaG5pY2lhblRva2VuID0gand0LnNpZ24oe1xuICAgICAgICAgICAgaWQ6IHRlY2huaWNpYW4uVGVjaG5pY2lhbl9JRCxcbiAgICAgICAgICAgIGZpcnN0TmFtZTogdGVjaG5pY2lhbi5GaXJzdF9OYW1lLFxuICAgICAgICAgICAgbGFzdE5hbWU6IHRlY2huaWNpYW4uTGFzdF9OYW1lLFxuICAgICAgICAgICAgZW1haWw6IHRlY2huaWNpYW4uRW1haWxcbiAgICAgICAgfSxcbiAgICAgICAgICAgIHByb2Nlc3MuZW52LlRFQ0hOSUNJQU5fQUNDRVNTX1RPS0VOLFxuICAgICAgICAgICAge2V4cGlyZXNJbjogXCIxZFwifVxuICAgICAgICApO1xuXG4gICAgICAgIC8vIElmIGEgY29va2llIGV4aXN0cyBhbHJlYWR5IGZvciB0aGUgdGVjaG5pY2lhbiwgY2xlYXIgaXRcbiAgICAgICAgaWYgKHJlcS5jb29raWVzLnRlY2huaWNpYW5fYWNjZXNzX3Rva2VuKSB7XG4gICAgICAgICAgICByZXMuY2xlYXJDb29raWUoJ3RlY2huaWNpYW5fYWNjZXNzX3Rva2VuJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTdG9yZSB0aGUgbmV3IGNvb2tpZSBzdWNoIHRoYXQgaXQgbGFzdHMgMSBkYXksIGFuZCB0aHJvdyBhIDIwMCBzdWNjZXNzIG1lc3NhZ2Ugd2l0aCBzb21lIGRhdGEgYWJvdXQgdGhlIHRlY2huaWNpYW5cbiAgICAgICAgLy8gKGlkLCBmaXJzdE5hbWUsIGxhc3ROYW1lLCBlbWFpbClcbiAgICAgICAgcmVzLmNvb2tpZSgndGVjaG5pY2lhbl9hY2Nlc3NfdG9rZW4nLCB0ZWNobmljaWFuVG9rZW4sIFxuICAgICAgICAgICAge2h0dHBPbmx5OiB0cnVlLCBcbiAgICAgICAgICAgIHNlY3VyZTogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiLFxuICAgICAgICAgICAgc2FtZVNpdGU6IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIiA/ICdzdHJpY3QnIDogJ2xheCcsXG4gICAgICAgICAgICBtYXhBZ2U6IDI0ICogNjAgKiA2MCAqIDEwMDB9KTtcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgbWVzc2FnZTogXCJTdWNjZXNzZnVsbHkgbG9nZ2VkIGluLlwiLFxuICAgICAgICAgICAgdGVjaG5pY2lhbjoge1xuICAgICAgICAgICAgICAgIGlkOiB0ZWNobmljaWFuLlRlY2huaWNpYW5fSUQsXG4gICAgICAgICAgICAgICAgZmlyc3ROYW1lOiB0ZWNobmljaWFuLkZpcnN0X05hbWUsXG4gICAgICAgICAgICAgICAgbGFzdE5hbWU6IHRlY2huaWNpYW4uTGFzdF9OYW1lLFxuICAgICAgICAgICAgICAgIGVtYWlsOiB0ZWNobmljaWFuLkVtYWlsXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG5cbiAgICAgICAgLy8gSWYgYW55dGhpbmcgZ29lcyB3cm9uZywgdGhyb3cgYW4gZXJyb3JcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiTG9naW4gZXJyb3I6XCIsIGVycm9yKTtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe21lc3NhZ2U6IFwiQW4gZXJyb3Igb2NjdXJyZWQgZHVyaW5nIGxvZ2luLlwifSk7XG4gICAgfVxufSk7XG5cbi8vIExvZ2dpbmcgb3V0IGZ1bmN0aW9uYWxpdHkgYnkgY2xlYXJpbmcgdGhlIHRlY2huaWNpYW4ncyBjb29raWUgYW5kIHNlbmRpbmcgYSBzdWNjZXNzIG1lc3NhZ2VcbmNvbnN0IGxvZ291dFRlY2huaWNpYW4gPSBhc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgcmVzLmNsZWFyQ29va2llKCd0ZWNobmljaWFuX2FjY2Vzc190b2tlbicpO1xuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHttZXNzYWdlOiBcIlN1Y2Nlc3NmdWxseSBsb2dnZWQgb3V0LlwifSk7XG59KVxuXG4vLyBHZXR0aW5nIHRlY2huaWNpYW4ncyBwcm9maWxlXG5jb25zdCBnZXRQcm9maWxlID0gYXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHRlY2huaWNpYW5JRCA9IHJlcS50ZWNobmljaWFuSUQ7XG5cbiAgICB0cnkge1xuICAgICAgICBjb25zdCBwb29sID0gZ2V0UG9vbCgpO1xuXG4gICAgICAgIGNvbnN0IHRlY2huaWNpYW5SZXN1bHQgPSBhd2FpdCBwb29sLnJlcXVlc3QoKVxuICAgICAgICAgICAgLmlucHV0KFwidGVjaG5pY2lhbklkXCIsIHNxbC5JbnQsIHRlY2huaWNpYW5JRClcbiAgICAgICAgICAgIC5xdWVyeShgXG4gICAgICAgICAgICBTRUxFQ1QgdGVjLlRlY2huaWNpYW5fSUQsIHRlYy5GaXJzdF9OYW1lLCB0ZWMuTGFzdF9OYW1lLCB0ZWMuRW1haWwsIHRlYy5QaG9uZSwgdGVjLmlzQWN0aXZlLCB0ZWMuVmVyaWZpZWQsIHRlYy5BdmVyYWdlX1JhdGluZywgdGVjLlRvdGFsX0pvYnNcbiAgICAgICAgICAgIEZST00gW1RlY2huaWNpYW5dIEFTIHRlY1xuICAgICAgICAgICAgV0hFUkUgdGVjLlRlY2huaWNpYW5fSUQgPSBAdGVjaG5pY2lhbklkXG4gICAgICAgICAgICBgKTtcblxuXG4gICAgICAgIGlmICh0ZWNobmljaWFuUmVzdWx0LnJlY29yZHNldC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7bWVzc2FnZTogXCJUZWNobmljaWFuIG5vdCBmb3VuZC5cIn0pO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYXBwbGlhbmNlUmVzdWx0ID0gYXdhaXQgcG9vbC5yZXF1ZXN0KClcbiAgICAgICAgICAgIC5pbnB1dChcInRlY2huaWNpYW5JZFwiLCBzcWwuSW50LCB0ZWNobmljaWFuSUQpXG4gICAgICAgICAgICAucXVlcnkoYFxuICAgICAgICAgICAgU0VMRUNUIHRlY19jYXQuQ2F0ZWdvcnlfSUQsIGNhdC5OYW1lRU4sIGNhdC5OYW1lQVIsIGNhdC5EZXNjcmlwdGlvbiwgdGVjX2NhdC5ZZWFyc19PZl9FeHBlcmllbmNlLCB0ZWNfY2F0LkNlcnRpZmljYXRpb25fRGF0ZVxuICAgICAgICAgICAgRlJPTSBUZWNobmljaWFuX0NhdGVnb3J5IEFTIHRlY19jYXRcbiAgICAgICAgICAgIEpPSU4gQXBwbGlhbmNlX0NhdGVnb3J5IEFTIGNhdCBPTiB0ZWNfY2F0LkNhdGVnb3J5X0lEID0gY2F0LkNhdGVnb3J5X0lEXG4gICAgICAgICAgICBXSEVSRSB0ZWNfY2F0LlRlY2huaWNpYW5fSUQgPSBAdGVjaG5pY2lhbklkXG4gICAgICAgICAgICBgKTtcblxuICAgICAgICBjb25zdCBzZXJ2aWNlQXJlYVJlc3VsdCA9IGF3YWl0IHBvb2wucmVxdWVzdCgpXG4gICAgICAgICAgICAuaW5wdXQoXCJ0ZWNobmljaWFuSWRcIiwgc3FsLkludCwgdGVjaG5pY2lhbklEKVxuICAgICAgICAgICAgLnF1ZXJ5KGBcbiAgICAgICAgICAgIFNFTEVDVCBhcmVhLkFyZWFfSUQsIGFyZWEuTmFtZUVOLCBhcmVhLk5hbWVBUiwgYXJlYS5SZWdpb24sIHRlY19hcmVhLlByaW9yaXR5X09yZGVyXG4gICAgICAgICAgICBGUk9NIFRlY2huaWNpYW5fU2VydmljZV9BcmVhIEFTIHRlY19hcmVhXG4gICAgICAgICAgICBKT0lOIFNlcnZpY2VfQXJlYSBBUyBhcmVhIE9OIHRlY19hcmVhLkFyZWFfSUQgPSBhcmVhLkFyZWFfSURcbiAgICAgICAgICAgIFdIRVJFIHRlY19hcmVhLlRlY2huaWNpYW5fSUQgPSBAdGVjaG5pY2lhbklkXG4gICAgICAgICAgICBPUkRFUiBCWSB0ZWNfYXJlYS5Qcmlvcml0eV9PcmRlciBBU0MsIGFyZWEuTmFtZUVOIEFTQ1xuICAgICAgICAgICAgYCk7XG5cbiAgICAgICAgY29uc3QgdGVjaG5pY2lhbkRhdGEgPSB0ZWNobmljaWFuUmVzdWx0LnJlY29yZHNldFswXTtcblxuICAgICAgICBjb25zdCBhcHBsaWFuY2VDYXRlZ29yaWVzID0gYXBwbGlhbmNlUmVzdWx0LnJlY29yZHNldC5tYXAocmVjb3JkID0+ICh7XG4gICAgICAgICAgICBjYXRlZ29yeUlkOiByZWNvcmQuQ2F0ZWdvcnlfSUQsXG4gICAgICAgICAgICBuYW1lRU46IHJlY29yZC5OYW1lRU4sXG4gICAgICAgICAgICBuYW1lQVI6IHJlY29yZC5OYW1lQVIsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogcmVjb3JkLkRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgeWVhcnNPZkV4cGVyaWVuY2U6IHJlY29yZC5ZZWFyc19PZl9FeHBlcmllbmNlLFxuICAgICAgICAgICAgY2VydGlmaWNhdGlvbkRhdGU6IHJlY29yZC5DZXJ0aWZpY2F0aW9uX0RhdGVcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIGNvbnN0IHNlcnZpY2VBcmVhcyA9IHNlcnZpY2VBcmVhUmVzdWx0LnJlY29yZHNldC5tYXAocmVjb3JkID0+ICh7XG4gICAgICAgICAgICBhcmVhSWQ6IHJlY29yZC5BcmVhX0lELFxuICAgICAgICAgICAgbmFtZUVOOiByZWNvcmQuTmFtZUVOLFxuICAgICAgICAgICAgbmFtZUFSOiByZWNvcmQuTmFtZUFSLFxuICAgICAgICAgICAgcmVnaW9uOiByZWNvcmQuUmVnaW9uLFxuICAgICAgICAgICAgcHJpb3JpdHk6IHJlY29yZC5Qcmlvcml0eV9PcmRlclxuICAgICAgICB9KSk7XG5cbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBcbiAgICAgICAgICAgIGZpcnN0TmFtZTogdGVjaG5pY2lhbkRhdGEuRmlyc3RfTmFtZSxcbiAgICAgICAgICAgIGxhc3ROYW1lOiB0ZWNobmljaWFuRGF0YS5MYXN0X05hbWUsXG4gICAgICAgICAgICBlbWFpbDogdGVjaG5pY2lhbkRhdGEuRW1haWwsXG4gICAgICAgICAgICBwaG9uZTogdGVjaG5pY2lhbkRhdGEuUGhvbmUsXG4gICAgICAgICAgICBpc0FjdGl2ZTogdGVjaG5pY2lhbkRhdGEuaXNBY3RpdmUsXG4gICAgICAgICAgICB2ZXJpZmllZDogdGVjaG5pY2lhbkRhdGEuVmVyaWZpZWQsXG4gICAgICAgICAgICBhdmVyYWdlUmF0aW5nOiB0ZWNobmljaWFuRGF0YS5BdmVyYWdlX1JhdGluZyxcbiAgICAgICAgICAgIHRvdGFsSm9iczogdGVjaG5pY2lhbkRhdGEuVG90YWxfSm9icyxcbiAgICAgICAgICAgIGFwcGxpYW5jZUNhdGVnb3JpZXM6IGFwcGxpYW5jZUNhdGVnb3JpZXMsXG4gICAgICAgICAgICBzZXJ2aWNlQXJlYXM6IHNlcnZpY2VBcmVhcyxcbiAgICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgLy8gVGhyb3dpbmcgdGhlIGNvbnNvbGUgZXJyb3IgYW5kIDUwMCBzdGF0dXMgaW4gY2FzZSBzb21ldGhpbmcgZ29lcyB3cm9uZy5cbiAgICAgICAgY29uc29sZS5lcnJvcihcIlVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQgd2hlbiB0cnlpbmcgdG8gZ2V0IHByb2ZpbGU6IFwiLCBlcnJvcik7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogXCJBbiB1bmV4cGVjdGVkIGVycm9yIG9jY3VycmVkIHdoaWxlIGdldHRpbmcgcHJvZmlsZS5cIiB9KTtcbiAgICB9XG59KVxuXG4vLyBVcGRhdGluZyB0ZWNobmljaWFuJ3MgcHJvZmlsZSBpbmZvcm1hdGlvblxuY29uc3QgdXBkYXRlUHJvZmlsZSA9IGFzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCB7IGZpcnN0TmFtZSwgbGFzdE5hbWUsIGVtYWlsLCBwaG9uZSB9ID0gcmVxLmJvZHk7XG4gICAgY29uc3QgdGVjaG5pY2lhbklEID0gcmVxLnRlY2huaWNpYW5JRDtcblxuICAgIC8vIENoZWNraW5nIGlmIGFueSBvZiB0aGVtIGlzIGVtcHR5LCBpZiB5ZXMgdGhlbiB3ZSB0aHJvdyBhIDQwMFxuICAgIGlmICghZmlyc3ROYW1lIHx8ICFsYXN0TmFtZSB8fCAhZW1haWwgfHwgIXBob25lKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6IFwiWW91IGhhdmUgdG8gaW5zZXJ0IGFsbCBwcm9maWxlIGRhdGEgdG8gdXBkYXRlLlwiIH0pO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRlIGZpcnN0IG5hbWUgZm9ybWF0XG4gICAgaWYgKCFpc1ZhbGlkTmFtZShmaXJzdE5hbWUpKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6IFwiRmlyc3QgbmFtZSBtdXN0IGJlIDItMzAgY2hhcmFjdGVycyBhbmQgY29udGFpbiBvbmx5IGxldHRlcnMuXCIgfSk7XG4gICAgfVxuXG4gICAgLy8gVmFsaWRhdGUgbGFzdCBuYW1lIGZvcm1hdFxuICAgIGlmICghaXNWYWxpZE5hbWUobGFzdE5hbWUpKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6IFwiTGFzdCBuYW1lIG11c3QgYmUgMi0zMCBjaGFyYWN0ZXJzIGFuZCBjb250YWluIG9ubHkgbGV0dGVycy5cIiB9KTtcbiAgICB9XG5cbiAgICAvLyBWYWxpZGF0ZSBlbWFpbCBmb3JtYXRcbiAgICBpZiAoIWlzVmFsaWRFbWFpbChlbWFpbCkpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogXCJQbGVhc2UgZW50ZXIgYSB2YWxpZCBlbWFpbCBhZGRyZXNzLlwiIH0pO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRlIHBob25lIGZvcm1hdFxuICAgIGlmICghaXNWYWxpZFBob25lKHBob25lKSkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiBcIlBsZWFzZSBlbnRlciBhIHZhbGlkIHBob25lIG51bWJlci5cIiB9KTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgICBjb25zdCBwb29sID0gZ2V0UG9vbCgpO1xuXG4gICAgICAgIC8vIFVwZGF0aW5nIHRoZSB0ZWNobmljaWFuIGRhdGFcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcG9vbC5yZXF1ZXN0KClcbiAgICAgICAgICAgIC5pbnB1dChcInRlY2huaWNpYW5JZFwiLCBzcWwuSW50LCB0ZWNobmljaWFuSUQpXG4gICAgICAgICAgICAuaW5wdXQoXCJmaXJzdE5hbWVcIiwgc3FsLlZhckNoYXIsIHNhbml0aXplU3RyaW5nKGZpcnN0TmFtZSkpXG4gICAgICAgICAgICAuaW5wdXQoXCJsYXN0TmFtZVwiLCBzcWwuVmFyQ2hhciwgc2FuaXRpemVTdHJpbmcobGFzdE5hbWUpKVxuICAgICAgICAgICAgLmlucHV0KFwiZW1haWxcIiwgc3FsLlZhckNoYXIsIHNhbml0aXplU3RyaW5nKGVtYWlsKS50b0xvd2VyQ2FzZSgpKVxuICAgICAgICAgICAgLmlucHV0KFwicGhvbmVcIiwgc3FsLlZhckNoYXIsIHNhbml0aXplU3RyaW5nKHBob25lKSlcbiAgICAgICAgICAgIC5xdWVyeShgXG4gICAgICAgICAgICAgICAgVVBEQVRFIFtUZWNobmljaWFuXSBcbiAgICAgICAgICAgICAgICBTRVQgRmlyc3RfTmFtZSA9IEBmaXJzdE5hbWUsIExhc3RfTmFtZSA9IEBsYXN0TmFtZSwgRW1haWwgPSBAZW1haWwsIFxuICAgICAgICAgICAgICAgICAgICBQaG9uZSA9IEBwaG9uZSwgbW9kaWZpZWRBdCA9IEdFVERBVEUoKVxuICAgICAgICAgICAgICAgIFdIRVJFIFRlY2huaWNpYW5fSUQgPSBAdGVjaG5pY2lhbklkXG4gICAgICAgICAgICBgKTtcblxuICAgICAgICAvLyBDaGVjayBpZiB1cGRhdGUgYWZmZWN0ZWQgYW55IHJvd3NcbiAgICAgICAgaWYgKHJlc3VsdC5yb3dzQWZmZWN0ZWRbMF0gPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IG1lc3NhZ2U6IFwiVGVjaG5pY2lhbiBub3QgZm91bmQgb3Igbm8gY2hhbmdlcyBtYWRlLlwiIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2VuZGluZyBzdWNjZXNzIG1lc3NhZ2VcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBtZXNzYWdlOiBcIlRlY2huaWNpYW4gcHJvZmlsZSB1cGRhdGVkIHN1Y2Nlc3NmdWxseSFcIiB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAvLyBIYW5kbGluZyB0aGUgdW5pcXVlIGNvbnN0cmFpbnRzIGZvciBlbWFpbCBhbmQgcGhvbmUgbnVtYmVyc1xuICAgICAgICBpZiAoZXJyb3IubnVtYmVyID09PSAyNjI3IHx8IGVycm9yLm51bWJlciA9PT0gMjYwMSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA5KS5qc29uKHsgbWVzc2FnZTogXCJBbm90aGVyIGFjY291bnQgZXhpc3RzIGFscmVhZHkgZWl0aGVyIHdpdGggdGhpcyBlbWFpbCBhZGRyZXNzIG9yIHBob25lIG51bWJlci4gSWYgeW91IGhhdmUgYW5vdGhlciBhY2NvdW50LCBwbGVhc2UgdXNlIHRoYXQgb25lIGluc3RlYWQuXCIgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUaHJvd2luZyB0aGUgY29uc29sZSBlcnJvciBhbmQgNTAwIHN0YXR1cyBpbiBjYXNlIHNvbWV0aGluZyBnb2VzIHdyb25nXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJVbmV4cGVjdGVkIGVycm9yIHdoZW4gdXBkYXRpbmcgdGVjaG5pY2lhbiBwcm9maWxlOiBcIiwgZXJyb3IpO1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IG1lc3NhZ2U6IFwiQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZCB3aGlsZSB1cGRhdGluZyB0aGUgdGVjaG5pY2lhbidzIHByb2ZpbGUuXCIgfSk7XG4gICAgfVxufSk7XG5cbi8vIEdldHRpbmcgdGVjaG5pY2lhbidzIHNwZWNpYWx0aWVzIChhcHBsaWFuY2UgY2F0ZWdvcmllcylcbmNvbnN0IGdldFNwZWNpYWx0aWVzID0gYXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHRlY2huaWNpYW5JRCA9IHJlcS50ZWNobmljaWFuSUQ7XG5cbiAgICB0cnkge1xuICAgICAgICBjb25zdCBwb29sID0gZ2V0UG9vbCgpO1xuXG4gICAgICAgIC8vIEdldCBhbGwgc3BlY2lhbHRpZXMgZm9yIHRoaXMgdGVjaG5pY2lhblxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwb29sLnJlcXVlc3QoKVxuICAgICAgICAgICAgLmlucHV0KFwidGVjaG5pY2lhbklkXCIsIHNxbC5JbnQsIHRlY2huaWNpYW5JRClcbiAgICAgICAgICAgIC5xdWVyeShgXG4gICAgICAgICAgICAgICAgU0VMRUNUIFxuICAgICAgICAgICAgICAgICAgICB0ZWNfY2F0LkNhdGVnb3J5X0lELCBcbiAgICAgICAgICAgICAgICAgICAgY2F0Lk5hbWVFTiwgXG4gICAgICAgICAgICAgICAgICAgIGNhdC5OYW1lQVIsIFxuICAgICAgICAgICAgICAgICAgICBjYXQuRGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgICAgIHRlY19jYXQuWWVhcnNfT2ZfRXhwZXJpZW5jZSwgXG4gICAgICAgICAgICAgICAgICAgIHRlY19jYXQuQ2VydGlmaWNhdGlvbl9EYXRlLFxuICAgICAgICAgICAgICAgICAgICB0ZWNfY2F0LmNyZWF0ZWRBdFxuICAgICAgICAgICAgICAgIEZST00gVGVjaG5pY2lhbl9DYXRlZ29yeSBBUyB0ZWNfY2F0XG4gICAgICAgICAgICAgICAgSk9JTiBBcHBsaWFuY2VfQ2F0ZWdvcnkgQVMgY2F0IE9OIHRlY19jYXQuQ2F0ZWdvcnlfSUQgPSBjYXQuQ2F0ZWdvcnlfSURcbiAgICAgICAgICAgICAgICBXSEVSRSB0ZWNfY2F0LlRlY2huaWNpYW5fSUQgPSBAdGVjaG5pY2lhbklkXG4gICAgICAgICAgICAgICAgT1JERVIgQlkgY2F0Lk5hbWVFTiBBU0NcbiAgICAgICAgICAgIGApO1xuXG4gICAgICAgIC8vIEZvcm1hdCB0aGUgcmVzcG9uc2UgYnkgY2FtZWxDYXNlXG4gICAgICAgIGNvbnN0IHNwZWNpYWx0aWVzID0gcmVzdWx0LnJlY29yZHNldC5tYXAocmVjb3JkID0+ICh7XG4gICAgICAgICAgICBjYXRlZ29yeUlkOiByZWNvcmQuQ2F0ZWdvcnlfSUQsXG4gICAgICAgICAgICBuYW1lRU46IHJlY29yZC5OYW1lRU4sXG4gICAgICAgICAgICBuYW1lQVI6IHJlY29yZC5OYW1lQVIsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogcmVjb3JkLkRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgeWVhcnNPZkV4cGVyaWVuY2U6IHJlY29yZC5ZZWFyc19PZl9FeHBlcmllbmNlLFxuICAgICAgICAgICAgY2VydGlmaWNhdGlvbkRhdGU6IHJlY29yZC5DZXJ0aWZpY2F0aW9uX0RhdGUsXG4gICAgICAgICAgICBhZGRlZEF0OiByZWNvcmQuY3JlYXRlZEF0XG4gICAgICAgIH0pKTtcblxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIlNwZWNpYWx0aWVzIHJldHJpZXZlZCBzdWNjZXNzZnVsbHkuXCIsXG4gICAgICAgICAgICBjb3VudDogc3BlY2lhbHRpZXMubGVuZ3RoLFxuICAgICAgICAgICAgc3BlY2lhbHRpZXM6IHNwZWNpYWx0aWVzXG4gICAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJVbmV4cGVjdGVkIGVycm9yIG9jY3VycmVkIHdoZW4gdHJ5aW5nIHRvIGdldCBzcGVjaWFsdGllczogXCIsIGVycm9yKTtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiBcIkFuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQgd2hpbGUgcmV0cmlldmluZyBzcGVjaWFsdGllcy5cIiB9KTtcbiAgICB9XG59KTtcblxuLy8gU2V0dGluZyB0ZWNobmljaWFuIHNwZWNpYWx0eSAtIGFsbG93cyB0ZWNobmljaWFucyB0byBhZGQgYXBwbGlhbmNlIGNhdGVnb3JpZXMgdGhleSBzcGVjaWFsaXplIGluXG5jb25zdCBzZXR0aW5nVGVjaG5pY2lhblNwZWNpYWx0eSA9IGFzeW5jSGFuZGxlcihhc3luYyAocmVxLHJlcykgPT4ge1xuICAgIC8vIEdldHRpbmcgdGhlIHNwZWNpYWx0eSBkYXRhIGZyb20gdGhlIGJvZHkgYW5kIHRoZSB0ZWNobmljaWFuSUQgcGFzc2VkIGZyb20gdGhlIG1pZGRsZXdhcmVcbiAgICBjb25zdCB7YXBwbGlhbmNlQ2F0ZWdvcnlJRCwgeWVhcnNPZkV4cGVyaWVuY2UsIGNlcnRpZmljYXRlRGF0ZX0gPSByZXEuYm9keTtcbiAgICBjb25zdCB0ZWNobmljaWFuSUQgPSByZXEudGVjaG5pY2lhbklEO1xuXG4gICAgLy8gSWYgcmVxdWlyZWQgZmllbGRzIGFyZSBtaXNzaW5nLCB0aHJvdyBhIDQwMCBlcnJvclxuICAgIC8vIE5vdGU6IHllYXJzT2ZFeHBlcmllbmNlIHVzZXMgIT09IHVuZGVmaW5lZCB0byBhbGxvdyAwIGFzIGEgdmFsaWQgdmFsdWVcbiAgICBpZiAoIWFwcGxpYW5jZUNhdGVnb3J5SUQgfHwgeWVhcnNPZkV4cGVyaWVuY2UgPT09IHVuZGVmaW5lZCB8fCB5ZWFyc09mRXhwZXJpZW5jZSA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiQ2F0ZWdvcnkgSUQgYW5kIHllYXJzIG9mIGV4cGVyaWVuY2UgYXJlIHJlcXVpcmVkIGZvciB5b3UgdG8gcGFzcyFcIn0pO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRpbmcgeWVhcnMgb2YgZXhwZXJpZW5jZSAtIG11c3QgYmUgYW4gaW50ZWdlciBiZXR3ZWVuIDAgYW5kIDUwXG4gICAgaWYgKCFOdW1iZXIuaXNJbnRlZ2VyKHllYXJzT2ZFeHBlcmllbmNlKSB8fCB5ZWFyc09mRXhwZXJpZW5jZSA8IDAgfHwgeWVhcnNPZkV4cGVyaWVuY2UgPiA1MCkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiWW91ciB5ZWFycyBvZiBleHBlcmllbmNlIHNob3VsZCBiZSBiZXR3ZWVuIDAgYW5kIDUwLlwifSk7XG4gICAgfVxuXG4gICAgLy8gSWYgY2VydGlmaWNhdGUgZGF0ZSBpcyBwcm92aWRlZCwgdmFsaWRhdGUgaXRcbiAgICBpZiAoY2VydGlmaWNhdGVEYXRlKSB7XG4gICAgICAgIGNvbnN0IGNlcnREYXRlID0gbmV3IERhdGUoY2VydGlmaWNhdGVEYXRlKTtcbiAgICAgICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpO1xuICAgICAgICB0b2RheS5zZXRIb3VycygwLDAsMCwwKTtcblxuICAgICAgICAvLyBDZXJ0aWZpY2F0ZSBkYXRlIGNhbm5vdCBiZSBpbiB0aGUgZnV0dXJlXG4gICAgICAgIGlmIChjZXJ0RGF0ZSA+IHRvZGF5KSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiQ2VydGlmaWNhdGlvbiBkYXRlIGNhbm5vdCBiZSBpbiB0aGUgZnV0dXJlIVwifSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDZXJ0aWZpY2F0ZSBkYXRlIGNhbm5vdCBiZSBtb3JlIHRoYW4gNTAgeWVhcnMgYWdvXG4gICAgICAgIGNvbnN0IGZpZnR5WWVhcnNBZ28gPSBuZXcgRGF0ZSgpO1xuICAgICAgICBmaWZ0eVllYXJzQWdvLnNldEZ1bGxZZWFyKGZpZnR5WWVhcnNBZ28uZ2V0RnVsbFllYXIoKSAtIDUwKTtcblxuICAgICAgICBpZiAoY2VydERhdGUgPCBmaWZ0eVllYXJzQWdvKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiQ2VydGlmaWNhdGlvbiBkYXRlIGNhbm5vdCBiZSBtb3JlIHRoYW4gNTAgeWVhcnMgYWdvIVwifSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgICBjb25zdCBwb29sID0gZ2V0UG9vbCgpO1xuXG4gICAgICAgIC8vIENoZWNrIGlmIHRoZSBhcHBsaWFuY2UgY2F0ZWdvcnkgZXhpc3RzIGFuZCBpcyBhY3RpdmVcbiAgICAgICAgY29uc3QgY2hlY2tDYXRlZ29yeSA9IGF3YWl0IHBvb2wucmVxdWVzdCgpXG4gICAgICAgICAgICAuaW5wdXQoXCJhcHBsaWFuY2VDYXRlZ29yeUlEXCIsIHNxbC5JbnQsIGFwcGxpYW5jZUNhdGVnb3J5SUQpXG4gICAgICAgICAgICAucXVlcnkoYFxuICAgICAgICAgICAgICAgIFNFTEVDVCBDYXRlZ29yeV9JRCwgTmFtZUVOLCBOYW1lQVIsIGlzQWN0aXZlXG4gICAgICAgICAgICAgICAgRlJPTSBBcHBsaWFuY2VfQ2F0ZWdvcnlcbiAgICAgICAgICAgICAgICBXSEVSRSBDYXRlZ29yeV9JRCA9IEBhcHBsaWFuY2VDYXRlZ29yeUlEXG4gICAgICAgICAgICAgICAgYCk7XG5cbiAgICAgICAgLy8gSWYgbm8gcmVzdWx0IHJldHVybmVkLCB0aGUgY2F0ZWdvcnkgSUQgaXMgaW52YWxpZFxuICAgICAgICBpZiAoY2hlY2tDYXRlZ29yeS5yZWNvcmRzZXQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe21lc3NhZ2U6IFwiSW52YWxpZCBjYXRlZ29yeSBwYXNzZWQhIFlvdSBzaG91bGQgcGljayBvbmUgb2YgdGhlIGF2YWlsYWJsZSBjYXRlZ29yeSBJRHMgb25seS5cIn0pO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY2F0ZWdvcnkgPSBjaGVja0NhdGVnb3J5LnJlY29yZHNldFswXTtcblxuICAgICAgICAvLyBDaGVjayBpZiB0aGUgY2F0ZWdvcnkgaXMgYWN0aXZlXG4gICAgICAgIGlmICghY2F0ZWdvcnkuaXNBY3RpdmUpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJUaGUgY2F0ZWdvcnkgY2hvc2VuIGlzIGN1cnJlbnRseSBub3QgYWN0aXZlIVwifSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDaGVja2luZyBmb3IgZHVwbGljYXRlIHNwZWNpYWx0eSAtIHRlY2huaWNpYW4gY2Fubm90IGFkZCBzYW1lIGNhdGVnb3J5IHR3aWNlXG4gICAgICAgIGNvbnN0IGNoZWNrRHVwbGljYXRlID0gYXdhaXQgcG9vbC5yZXF1ZXN0KClcbiAgICAgICAgICAgIC5pbnB1dChcInRlY2huaWNpYW5JRFwiLCBzcWwuSW50LCB0ZWNobmljaWFuSUQpXG4gICAgICAgICAgICAuaW5wdXQoXCJhcHBsaWFuY2VDYXRlZ29yeUlEXCIsIHNxbC5JbnQsIGFwcGxpYW5jZUNhdGVnb3J5SUQpXG4gICAgICAgICAgICAucXVlcnkoYFxuICAgICAgICAgICAgICAgIFNFTEVDVCBUZWNobmljaWFuX0lEXG4gICAgICAgICAgICAgICAgRlJPTSBUZWNobmljaWFuX0NhdGVnb3J5XG4gICAgICAgICAgICAgICAgV0hFUkUgVGVjaG5pY2lhbl9JRCA9IEB0ZWNobmljaWFuSUQgQU5EIENhdGVnb3J5X0lEID0gQGFwcGxpYW5jZUNhdGVnb3J5SURcbiAgICAgICAgICAgICAgICBgKTtcblxuICAgICAgICAvLyBJZiBkdXBsaWNhdGUgZm91bmQsIHRocm93IGEgNDA5IGNvbmZsaWN0IGVycm9yXG4gICAgICAgIGlmIChjaGVja0R1cGxpY2F0ZS5yZWNvcmRzZXQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA5KS5qc29uKHttZXNzYWdlOiBcIllvdSBhbHJlYWR5IGhhdmUgdGhpcyBzcGVjaWFsdHkgYWRkZWQuXCJ9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEluc2VydCB0aGUgbmV3IHNwZWNpYWx0eSBpbnRvIFRlY2huaWNpYW5fQ2F0ZWdvcnkgdGFibGVcbiAgICAgICAgYXdhaXQgcG9vbC5yZXF1ZXN0KClcbiAgICAgICAgICAgIC5pbnB1dChcInRlY2huaWNpYW5JRFwiLCBzcWwuSW50LCB0ZWNobmljaWFuSUQpXG4gICAgICAgICAgICAuaW5wdXQoXCJhcHBsaWFuY2VDYXRlZ29yeUlEXCIsIHNxbC5JbnQsIGFwcGxpYW5jZUNhdGVnb3J5SUQpXG4gICAgICAgICAgICAuaW5wdXQoXCJ5ZWFyc09mRXhwZXJpZW5jZVwiLCBzcWwuU21hbGxJbnQsIHllYXJzT2ZFeHBlcmllbmNlKVxuICAgICAgICAgICAgLmlucHV0KFwiY2VydGlmaWNhdGVEYXRlXCIsIHNxbC5EYXRlLCBjZXJ0aWZpY2F0ZURhdGUgfHwgbnVsbClcbiAgICAgICAgICAgIC5xdWVyeShgXG4gICAgICAgICAgICAgICAgSU5TRVJUIElOVE8gVGVjaG5pY2lhbl9DYXRlZ29yeSAoVGVjaG5pY2lhbl9JRCwgQ2F0ZWdvcnlfSUQsIFllYXJzX29mX0V4cGVyaWVuY2UsIENlcnRpZmljYXRpb25fRGF0ZSlcbiAgICAgICAgICAgICAgICBWQUxVRVMgKEB0ZWNobmljaWFuSUQsIEBhcHBsaWFuY2VDYXRlZ29yeUlELCBAeWVhcnNPZkV4cGVyaWVuY2UsIEBjZXJ0aWZpY2F0ZURhdGUpXG4gICAgICAgICAgICAgICAgYCk7XG5cbiAgICAgICAgLy8gUmV0dXJuIHN1Y2Nlc3MgcmVzcG9uc2Ugd2l0aCBzcGVjaWFsdHkgZGV0YWlsc1xuICAgICAgICByZXMuc3RhdHVzKDIwMSkuanNvbih7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIlN1Y2Nlc3NmdWxseSBzZXQgeW91ciBzcGVjaWFsdHkuXCIsXG4gICAgICAgICAgICBjYXRlZ29yeUlEOiBjYXRlZ29yeS5DYXRlZ29yeV9JRCxcbiAgICAgICAgICAgIGNhdGVnb3J5TmFtZUVOOiBjYXRlZ29yeS5OYW1lRU4sXG4gICAgICAgICAgICBjYXRlZ29yeU5hbWVBUjogY2F0ZWdvcnkuTmFtZUFSLFxuICAgICAgICAgICAgeWVhcnNPZkV4cGVyaWVuY2U6IHllYXJzT2ZFeHBlcmllbmNlLFxuICAgICAgICAgICAgY2VydGlmaWNhdGVEYXRlOiBjZXJ0aWZpY2F0ZURhdGUgfHwgbnVsbFxuICAgICAgICB9KTtcblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJBbiB1bmV4cGVjdGVkIGVycm9yIG9jY3VycmVkIHdoZW4gdHJ5aW5nIHRvIHNldCB5b3VyIHNwZWNpYWx0eTpcIiwgZXJyb3IpO1xuXG4gICAgICAgIC8vIEZvcmVpZ24ga2V5IGNvbnN0cmFpbnQgdmlvbGF0aW9uXG4gICAgICAgIGlmIChlcnJvci5udW1iZXIgPT09IDU0Nykge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttZXNzYWdlOiBcIkludmFsaWQgdGVjaG5pY2lhbiBvciBjYXRlZ29yeSBJRC5cIn0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVW5pcXVlIGNvbnN0cmFpbnQgdmlvbGF0aW9uIChkdXBsaWNhdGUgZW50cnkpXG4gICAgICAgIGlmIChlcnJvci5udW1iZXIgPT09IDI2MjcpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwOSkuanNvbih7bWVzc2FnZTogXCJZb3UgYWxyZWFkeSBoYXZlIHRoaXMgc3BlY2lhbHR5IGFkZGVkIVwifSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7bWVzc2FnZTogXCJBbiB1bmV4cGVjdGVkIGVycm9yIG9jY3VycmVkIHdoZW4gdHJ5aW5nIHRvIHNldCB5b3VyIHNwZWNpYWx0eS5cIn0pO1xuICAgIH1cbn0pXG5cbi8vIFJlbW92aW5nIGEgc3BlY2lhbHR5IGZyb20gdGVjaG5pY2lhbidzIHByb2ZpbGVcbmNvbnN0IHJlbW92ZVNwZWNpYWx0eSA9IGFzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCB7IGNhdGVnb3J5SWQgfSA9IHJlcS5wYXJhbXM7ICAvLyBHZXQgZnJvbSBVUkwgcGFyYW1ldGVyXG4gICAgY29uc3QgdGVjaG5pY2lhbklEID0gcmVxLnRlY2huaWNpYW5JRDtcblxuICAgIC8vIFZhbGlkYXRlIGNhdGVnb3J5SWRcbiAgICBjb25zdCBwYXJzZWRDYXRlZ29yeUlkID0gcGFyc2VJbnQoY2F0ZWdvcnlJZCwgMTApO1xuICAgIGlmIChpc05hTihwYXJzZWRDYXRlZ29yeUlkKSkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiBcIkludmFsaWQgY2F0ZWdvcnkgSUQuIE11c3QgYmUgYSBudW1iZXIuXCIgfSk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcG9vbCA9IGdldFBvb2woKTtcblxuICAgICAgICAvLyBDaGVjayBpZiB0aGUgc3BlY2lhbHR5IGV4aXN0cyBiZWZvcmUgZGVsZXRpbmdcbiAgICAgICAgY29uc3QgY2hlY2tFeGlzdHMgPSBhd2FpdCBwb29sLnJlcXVlc3QoKVxuICAgICAgICAgICAgLmlucHV0KFwidGVjaG5pY2lhbklkXCIsIHNxbC5JbnQsIHRlY2huaWNpYW5JRClcbiAgICAgICAgICAgIC5pbnB1dChcImNhdGVnb3J5SWRcIiwgc3FsLkludCwgcGFyc2VkQ2F0ZWdvcnlJZClcbiAgICAgICAgICAgIC5xdWVyeShgXG4gICAgICAgICAgICAgICAgU0VMRUNUIENhdGVnb3J5X0lEXG4gICAgICAgICAgICAgICAgRlJPTSBUZWNobmljaWFuX0NhdGVnb3J5XG4gICAgICAgICAgICAgICAgV0hFUkUgVGVjaG5pY2lhbl9JRCA9IEB0ZWNobmljaWFuSWQgQU5EIENhdGVnb3J5X0lEID0gQGNhdGVnb3J5SWRcbiAgICAgICAgICAgIGApO1xuXG4gICAgICAgIGlmIChjaGVja0V4aXN0cy5yZWNvcmRzZXQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBtZXNzYWdlOiBcIlNwZWNpYWx0eSBub3QgZm91bmQgb3Igbm90IGFzc2lnbmVkIHRvIHlvdS5cIiB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIERlbGV0ZSB0aGUgc3BlY2lhbHR5XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBvb2wucmVxdWVzdCgpXG4gICAgICAgICAgICAuaW5wdXQoXCJ0ZWNobmljaWFuSWRcIiwgc3FsLkludCwgdGVjaG5pY2lhbklEKVxuICAgICAgICAgICAgLmlucHV0KFwiY2F0ZWdvcnlJZFwiLCBzcWwuSW50LCBwYXJzZWRDYXRlZ29yeUlkKVxuICAgICAgICAgICAgLnF1ZXJ5KGBcbiAgICAgICAgICAgICAgICBERUxFVEUgRlJPTSBUZWNobmljaWFuX0NhdGVnb3J5XG4gICAgICAgICAgICAgICAgV0hFUkUgVGVjaG5pY2lhbl9JRCA9IEB0ZWNobmljaWFuSWQgQU5EIENhdGVnb3J5X0lEID0gQGNhdGVnb3J5SWRcbiAgICAgICAgICAgIGApO1xuXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgbWVzc2FnZTogXCJTcGVjaWFsdHkgcmVtb3ZlZCBzdWNjZXNzZnVsbHkuXCIgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIlVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQgd2hlbiB0cnlpbmcgdG8gcmVtb3ZlIHNwZWNpYWx0eTogXCIsIGVycm9yKTtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiBcIkFuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQgd2hpbGUgcmVtb3ZpbmcgdGhlIHNwZWNpYWx0eS5cIiB9KTtcbiAgICB9XG59KTtcblxuLy8gR2V0dGluZyB0ZWNobmljaWFuJ3Mgc2VydmljZSBhcmVhc1xuY29uc3QgZ2V0U2VydmljZUFyZWFzID0gYXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHRlY2huaWNpYW5JRCA9IHJlcS50ZWNobmljaWFuSUQ7XG5cbiAgICB0cnkge1xuICAgICAgICBjb25zdCBwb29sID0gZ2V0UG9vbCgpO1xuXG4gICAgICAgIC8vIEdldCBhbGwgc2VydmljZSBhcmVhcyBmb3IgdGhpcyB0ZWNobmljaWFuLCBzb3J0ZWQgYnkgcHJpb3JpdHlcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcG9vbC5yZXF1ZXN0KClcbiAgICAgICAgICAgIC5pbnB1dChcInRlY2huaWNpYW5JZFwiLCBzcWwuSW50LCB0ZWNobmljaWFuSUQpXG4gICAgICAgICAgICAucXVlcnkoYFxuICAgICAgICAgICAgICAgIFNFTEVDVCBcbiAgICAgICAgICAgICAgICAgICAgdGVjX2FyZWEuQXJlYV9JRCxcbiAgICAgICAgICAgICAgICAgICAgYXJlYS5OYW1lRU4sXG4gICAgICAgICAgICAgICAgICAgIGFyZWEuTmFtZUFSLFxuICAgICAgICAgICAgICAgICAgICBhcmVhLlJlZ2lvbixcbiAgICAgICAgICAgICAgICAgICAgdGVjX2FyZWEuUHJpb3JpdHlfT3JkZXIsXG4gICAgICAgICAgICAgICAgICAgIHRlY19hcmVhLmNyZWF0ZWRBdFxuICAgICAgICAgICAgICAgIEZST00gVGVjaG5pY2lhbl9TZXJ2aWNlX0FyZWEgQVMgdGVjX2FyZWFcbiAgICAgICAgICAgICAgICBKT0lOIFNlcnZpY2VfQXJlYSBBUyBhcmVhIE9OIHRlY19hcmVhLkFyZWFfSUQgPSBhcmVhLkFyZWFfSURcbiAgICAgICAgICAgICAgICBXSEVSRSB0ZWNfYXJlYS5UZWNobmljaWFuX0lEID0gQHRlY2huaWNpYW5JZFxuICAgICAgICAgICAgICAgIE9SREVSIEJZIHRlY19hcmVhLlByaW9yaXR5X09yZGVyIEFTQywgYXJlYS5OYW1lRU4gQVNDXG4gICAgICAgICAgICBgKTtcblxuICAgICAgICAvLyBGb3JtYXQgdGhlIHJlc3BvbnNlIHdpdGggY29uc2lzdGVudCBjYW1lbENhc2VcbiAgICAgICAgY29uc3Qgc2VydmljZUFyZWFzID0gcmVzdWx0LnJlY29yZHNldC5tYXAocmVjb3JkID0+ICh7XG4gICAgICAgICAgICBhcmVhSWQ6IHJlY29yZC5BcmVhX0lELFxuICAgICAgICAgICAgbmFtZUVOOiByZWNvcmQuTmFtZUVOLFxuICAgICAgICAgICAgbmFtZUFSOiByZWNvcmQuTmFtZUFSLFxuICAgICAgICAgICAgcmVnaW9uOiByZWNvcmQuUmVnaW9uLFxuICAgICAgICAgICAgcHJpb3JpdHk6IHJlY29yZC5Qcmlvcml0eV9PcmRlcixcbiAgICAgICAgICAgIGFkZGVkQXQ6IHJlY29yZC5jcmVhdGVkQXRcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiU2VydmljZSBhcmVhcyByZXRyaWV2ZWQgc3VjY2Vzc2Z1bGx5LlwiLFxuICAgICAgICAgICAgY291bnQ6IHNlcnZpY2VBcmVhcy5sZW5ndGgsXG4gICAgICAgICAgICBzZXJ2aWNlQXJlYXM6IHNlcnZpY2VBcmVhc1xuICAgICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiVW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZCB3aGVuIHRyeWluZyB0byBnZXQgc2VydmljZSBhcmVhczogXCIsIGVycm9yKTtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiBcIkFuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQgd2hpbGUgcmV0cmlldmluZyBzZXJ2aWNlIGFyZWFzLlwiIH0pO1xuICAgIH1cbn0pO1xuXG4vLyBTZXR0aW5nIHRlY2huaWNpYW4gc2VydmljZSBhcmVhIC0gYWxsb3dzIHRlY2huaWNpYW5zIHRvIGFkZCBhcmVhcyB0aGV5IHdvcmsgaW4gd2l0aCBwcmlvcml0eVxuY29uc3Qgc2V0dGluZ1RlY2huaWNpYW5TZXJ2aWNlQXJlYSA9IGFzeW5jSGFuZGxlcihhc3luYyAocmVxLHJlcykgPT4ge1xuICAgIC8vIEdldHRpbmcgdGhlIHNlcnZpY2UgYXJlYSBkYXRhIGZyb20gdGhlIGJvZHkgYW5kIHRoZSB0ZWNobmljaWFuSUQgcGFzc2VkIGZyb20gdGhlIG1pZGRsZXdhcmVcbiAgICBjb25zdCB7c2VydmljZUFyZWFJRCwgcHJpb3JpdHl9ID0gcmVxLmJvZHk7XG4gICAgY29uc3QgdGVjaG5pY2lhbklEID0gcmVxLnRlY2huaWNpYW5JRDtcblxuICAgIC8vIElmIHJlcXVpcmVkIGZpZWxkcyBhcmUgbWlzc2luZywgdGhyb3cgYSA0MDAgZXJyb3JcbiAgICBpZiAoIXNlcnZpY2VBcmVhSUQgfHwgIXByaW9yaXR5KSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJZb3UgaGF2ZSB0byBzcGVjaWZ5IGZyb20gd2hpY2ggc2VydmljZSBhcmVhIHlvdSBhcmUgYW5kIHRoZSBwcmlvcml0eSBvZiBpdC5cIn0pO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRpbmcgcHJpb3JpdHkgLSBtdXN0IGJlIGFuIGludGVnZXIgYmV0d2VlbiAxIGFuZCAxMDBcbiAgICBpZiAoIU51bWJlci5pc0ludGVnZXIocHJpb3JpdHkpIHx8IHByaW9yaXR5IDwgMSB8fCBwcmlvcml0eSA+IDEwMCkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiUHJpb3JpdHkgbXVzdCBiZSBhbiBpbnRlZ2VyIGJldHdlZW4gMSBhbmQgMTAwLlwifSk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcG9vbCA9IGdldFBvb2woKTtcblxuICAgICAgICAvLyBDaGVjayBpZiB0aGUgc2VydmljZSBhcmVhIGV4aXN0c1xuICAgICAgICBjb25zdCBjaGVja0FyZWEgPSBhd2FpdCBwb29sLnJlcXVlc3QoKVxuICAgICAgICAgICAgLmlucHV0KFwic2VydmljZUFyZWFJRFwiLCBzcWwuSW50LCBzZXJ2aWNlQXJlYUlEKVxuICAgICAgICAgICAgLnF1ZXJ5KGBcbiAgICAgICAgICAgICAgICBTRUxFQ1QgQXJlYV9JRCwgTmFtZUVOLCBOYW1lQVIsIFJlZ2lvbiwgaXNBY3RpdmVcbiAgICAgICAgICAgICAgICBGUk9NIFNlcnZpY2VfQXJlYVxuICAgICAgICAgICAgICAgIFdIRVJFIEFyZWFfSUQgPSBAc2VydmljZUFyZWFJRFxuICAgICAgICAgICAgICAgIGApO1xuXG4gICAgICAgIC8vIElmIG5vIHJlc3VsdCByZXR1cm5lZCwgdGhlIHNlcnZpY2UgYXJlYSBJRCBpcyBpbnZhbGlkXG4gICAgICAgIGlmIChjaGVja0FyZWEucmVjb3Jkc2V0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHttZXNzYWdlOiBcIkludmFsaWQgc2VydmljZSBhcmVhIGNob3NlbiEgWW91IGhhdmUgdG8gY2hvb3NlIG9uZSBvZiB0aGUgYXZhaWxhYmxlIG9uZXMuXCJ9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNlcnZpY2VBcmVhID0gY2hlY2tBcmVhLnJlY29yZHNldFswXTtcblxuICAgICAgICAvLyBDaGVjayBpZiB0aGUgc2VydmljZSBhcmVhIGlzIGFjdGl2ZVxuICAgICAgICBpZiAoIXNlcnZpY2VBcmVhLmlzQWN0aXZlKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiQ3VycmVudGx5IHRoaXMgc2VydmljZSBhcmVhIGlzIG5vdCBhY3RpdmUuXCJ9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENoZWNraW5nIGZvciBkdXBsaWNhdGUgc2VydmljZSBhcmVhIC0gdGVjaG5pY2lhbiBjYW5ub3QgYWRkIHNhbWUgYXJlYSB0d2ljZVxuICAgICAgICBjb25zdCBjaGVja0R1cGxpY2F0ZSA9IGF3YWl0IHBvb2wucmVxdWVzdCgpXG4gICAgICAgICAgICAuaW5wdXQoXCJ0ZWNobmljaWFuSURcIiwgc3FsLkludCwgdGVjaG5pY2lhbklEKVxuICAgICAgICAgICAgLmlucHV0KFwic2VydmljZUFyZWFJRFwiLCBzcWwuSW50LCBzZXJ2aWNlQXJlYUlEKVxuICAgICAgICAgICAgLnF1ZXJ5KGBcbiAgICAgICAgICAgICAgICBTRUxFQ1QgVGVjaG5pY2lhbl9JRFxuICAgICAgICAgICAgICAgIEZST00gVGVjaG5pY2lhbl9TZXJ2aWNlX0FyZWFcbiAgICAgICAgICAgICAgICBXSEVSRSBUZWNobmljaWFuX0lEID0gQHRlY2huaWNpYW5JRCBBTkQgQXJlYV9JRCA9IEBzZXJ2aWNlQXJlYUlEXG4gICAgICAgICAgICAgICAgYCk7XG5cbiAgICAgICAgLy8gSWYgZHVwbGljYXRlIGZvdW5kLCB0aHJvdyBhIDQwOSBjb25mbGljdCBlcnJvclxuICAgICAgICBpZiAoY2hlY2tEdXBsaWNhdGUucmVjb3Jkc2V0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwOSkuanNvbih7bWVzc2FnZTogXCJZb3UgYWxyZWFkeSBoYXZlIHNldCB0aGlzIHNlcnZpY2UgYXJlYSFcIn0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSW5zZXJ0IHRoZSBuZXcgc2VydmljZSBhcmVhIGludG8gVGVjaG5pY2lhbl9TZXJ2aWNlX0FyZWEgdGFibGVcbiAgICAgICAgYXdhaXQgcG9vbC5yZXF1ZXN0KClcbiAgICAgICAgICAgIC5pbnB1dChcInRlY2huaWNpYW5JRFwiLCBzcWwuSW50LCB0ZWNobmljaWFuSUQpXG4gICAgICAgICAgICAuaW5wdXQoXCJzZXJ2aWNlQXJlYUlEXCIsIHNxbC5JbnQsIHNlcnZpY2VBcmVhSUQpXG4gICAgICAgICAgICAuaW5wdXQoXCJwcmlvcml0eVwiLCBzcWwuSW50LCBwcmlvcml0eSlcbiAgICAgICAgICAgIC5xdWVyeShgXG4gICAgICAgICAgICAgICAgSU5TRVJUIElOVE8gVGVjaG5pY2lhbl9TZXJ2aWNlX0FyZWEgKFRlY2huaWNpYW5fSUQsIEFyZWFfSUQsIFByaW9yaXR5X09yZGVyKVxuICAgICAgICAgICAgICAgIFZBTFVFUyAoQHRlY2huaWNpYW5JRCwgQHNlcnZpY2VBcmVhSUQsIEBwcmlvcml0eSlcbiAgICAgICAgICAgICAgICBgKTtcblxuICAgICAgICAvLyBSZXR1cm4gc3VjY2VzcyByZXNwb25zZSB3aXRoIHNlcnZpY2UgYXJlYSBkZXRhaWxzXG4gICAgICAgIHJlcy5zdGF0dXMoMjAxKS5qc29uKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiU3VjY2Vzc2Z1bGx5IHNldCB5b3VyIHNlcnZpY2UgYXJlYS5cIixcbiAgICAgICAgICAgIGFyZWFJRDogc2VydmljZUFyZWEuQXJlYV9JRCxcbiAgICAgICAgICAgIGFyZWFOYW1lRU46IHNlcnZpY2VBcmVhLk5hbWVFTixcbiAgICAgICAgICAgIGFyZWFOYW1lQVI6IHNlcnZpY2VBcmVhLk5hbWVBUixcbiAgICAgICAgICAgIGFyZWFSZWdpb246IHNlcnZpY2VBcmVhLlJlZ2lvbixcbiAgICAgICAgICAgIHByaW9yaXR5OiBwcmlvcml0eVxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkFuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQgd2hlbiB0cnlpbmcgdG8gc2V0IHlvdXIgc2VydmljZSBhcmVhOlwiLCBlcnJvcik7XG5cbiAgICAgICAgLy8gRm9yZWlnbiBrZXkgY29uc3RyYWludCB2aW9sYXRpb25cbiAgICAgICAgaWYgKGVycm9yLm51bWJlciA9PT0gNTQ3KSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiSW52YWxpZCB0ZWNobmljaWFuIG9yIHNlcnZpY2UgYXJlYSBJRC5cIn0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVW5pcXVlIGNvbnN0cmFpbnQgdmlvbGF0aW9uIChkdXBsaWNhdGUgZW50cnkpXG4gICAgICAgIGlmIChlcnJvci5udW1iZXIgPT09IDI2MjcpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwOSkuanNvbih7bWVzc2FnZTogXCJZb3UgYWxyZWFkeSBoYXZlIHRoaXMgc2VydmljZSBhcmVhIHNldCFcIn0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe21lc3NhZ2U6IFwiQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZCB3aGVuIHRyeWluZyB0byBzZXQgeW91ciBzZXJ2aWNlIGFyZWEuXCJ9KTtcbiAgICB9XG59KVxuXG4vLyBSZW1vdmluZyBhIHNlcnZpY2UgYXJlYSBmcm9tIHRlY2huaWNpYW4ncyBwcm9maWxlXG5jb25zdCByZW1vdmVTZXJ2aWNlQXJlYSA9IGFzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCB7IGFyZWFJZCB9ID0gcmVxLnBhcmFtczsgIC8vIEdldCBmcm9tIFVSTCBwYXJhbWV0ZXJcbiAgICBjb25zdCB0ZWNobmljaWFuSUQgPSByZXEudGVjaG5pY2lhbklEO1xuXG4gICAgLy8gVmFsaWRhdGUgYXJlYUlkXG4gICAgY29uc3QgcGFyc2VkQXJlYUlkID0gcGFyc2VJbnQoYXJlYUlkLCAxMCk7XG4gICAgaWYgKGlzTmFOKHBhcnNlZEFyZWFJZCkpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogXCJJbnZhbGlkIGFyZWEgSUQuIE11c3QgYmUgYSBudW1iZXIuXCIgfSk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcG9vbCA9IGdldFBvb2woKTtcblxuICAgICAgICAvLyBDaGVjayBpZiB0aGUgc2VydmljZSBhcmVhIGV4aXN0cyBiZWZvcmUgZGVsZXRpbmdcbiAgICAgICAgY29uc3QgY2hlY2tFeGlzdHMgPSBhd2FpdCBwb29sLnJlcXVlc3QoKVxuICAgICAgICAgICAgLmlucHV0KFwidGVjaG5pY2lhbklkXCIsIHNxbC5JbnQsIHRlY2huaWNpYW5JRClcbiAgICAgICAgICAgIC5pbnB1dChcImFyZWFJZFwiLCBzcWwuSW50LCBwYXJzZWRBcmVhSWQpXG4gICAgICAgICAgICAucXVlcnkoYFxuICAgICAgICAgICAgICAgIFNFTEVDVCBBcmVhX0lEXG4gICAgICAgICAgICAgICAgRlJPTSBUZWNobmljaWFuX1NlcnZpY2VfQXJlYVxuICAgICAgICAgICAgICAgIFdIRVJFIFRlY2huaWNpYW5fSUQgPSBAdGVjaG5pY2lhbklkIEFORCBBcmVhX0lEID0gQGFyZWFJZFxuICAgICAgICAgICAgYCk7XG5cbiAgICAgICAgaWYgKGNoZWNrRXhpc3RzLnJlY29yZHNldC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IG1lc3NhZ2U6IFwiU2VydmljZSBhcmVhIG5vdCBmb3VuZCBvciBub3QgYXNzaWduZWQgdG8geW91LlwiIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRGVsZXRlIHRoZSBzZXJ2aWNlIGFyZWFcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcG9vbC5yZXF1ZXN0KClcbiAgICAgICAgICAgIC5pbnB1dChcInRlY2huaWNpYW5JZFwiLCBzcWwuSW50LCB0ZWNobmljaWFuSUQpXG4gICAgICAgICAgICAuaW5wdXQoXCJhcmVhSWRcIiwgc3FsLkludCwgcGFyc2VkQXJlYUlkKVxuICAgICAgICAgICAgLnF1ZXJ5KGBcbiAgICAgICAgICAgICAgICBERUxFVEUgRlJPTSBUZWNobmljaWFuX1NlcnZpY2VfQXJlYVxuICAgICAgICAgICAgICAgIFdIRVJFIFRlY2huaWNpYW5fSUQgPSBAdGVjaG5pY2lhbklkIEFORCBBcmVhX0lEID0gQGFyZWFJZFxuICAgICAgICAgICAgYCk7XG5cbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBtZXNzYWdlOiBcIlNlcnZpY2UgYXJlYSByZW1vdmVkIHN1Y2Nlc3NmdWxseS5cIiB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiVW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZCB3aGVuIHRyeWluZyB0byByZW1vdmUgc2VydmljZSBhcmVhOiBcIiwgZXJyb3IpO1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IG1lc3NhZ2U6IFwiQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZCB3aGlsZSByZW1vdmluZyB0aGUgc2VydmljZSBhcmVhLlwiIH0pO1xuICAgIH1cbn0pO1xuXG5cbm1vZHVsZS5leHBvcnRzID0ge3JlZ2lzdGVyVGVjaG5pY2lhbiwgbG9naW5UZWNobmljaWFuLCBsb2dvdXRUZWNobmljaWFuLCBnZXRQcm9maWxlLCB1cGRhdGVQcm9maWxlLCBzZXR0aW5nVGVjaG5pY2lhblNwZWNpYWx0eSwgZ2V0U3BlY2lhbHRpZXMsIHJlbW92ZVNwZWNpYWx0eSwgc2V0dGluZ1RlY2huaWNpYW5TZXJ2aWNlQXJlYSwgZ2V0U2VydmljZUFyZWFzLCByZW1vdmVTZXJ2aWNlQXJlYX07ICJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsSUFBTUEsWUFBWSxHQUFHQyxPQUFPLENBQUMsdUJBQXVCLENBQUM7QUFDckQsSUFBTUMsTUFBTSxHQUFHRCxPQUFPLENBQUMsUUFBUSxDQUFDO0FBQ2hDLElBQU1FLEdBQUcsR0FBR0YsT0FBTyxDQUFDLGNBQWMsQ0FBQzs7QUFFbkM7QUFDQTtBQUNBLElBQUFHLFFBQUEsR0FBeUJILE9BQU8sQ0FBQyxvQkFBb0IsQ0FBQztFQUE5Q0ksT0FBTyxHQUFBRCxRQUFBLENBQVBDLE9BQU87RUFBRUMsR0FBRyxHQUFBRixRQUFBLENBQUhFLEdB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","map":{"version":3,"names":["asyncHandler","require","bcrypt","jwt","_require","getPool","sql","_require2","isValidEmail","isValidPhone","isValidPassword","isValidName","sanitizeString","registerTechnician","_ref","_asyncToGenerator2","_regenerator","mark","_callee","req","res","_req$body","firstName","lastName","email","phone","password","passwordValidation","pool","hashedPassword","result","_t","wrap","_context","prev","next","body","abrupt","status","json","message","valid","hash","sent","request","input","VarChar","toLowerCase","query","number","console","error","stop","_x","_x2","apply","arguments","loginTechnician","_ref2","_callee2","_req$body2","technician","isPasswordValid","technicianToken","_t2","_context2","recordset","length","isActive","Verified","compare","Password_Hash","sign","id","Technician_ID","First_Name","Last_Name","Email","process","env","TECHNICIAN_ACCESS_TOKEN","expiresIn","cookies","technician_access_token","clearCookie","cookie","httpOnly","secure","NODE_ENV","sameSite","maxAge","_x3","_x4","logoutTechnician","_ref3","_callee3","_context3","_x5","_x6","getProfile","_ref4","_callee4","technicianID","technicianResult","applianceResult","serviceAreaResult","technicianData","applianceCategories","serviceAreas","_t3","_context4","Int","map","record","categoryId","Category_ID","nameEN","NameEN","nameAR","NameAR","description","Description","yearsOfExperience","Years_Of_Experience","certificationDate","Certification_Date","areaId","Area_ID","region","Region","priority","Priority_Order","Phone","verified","averageRating","Average_Rating","totalJobs","Total_Jobs","_x7","_x8","updateProfile","_ref5","_callee5","_req$body3","_t4","_context5","rowsAffected","_x9","_x0","getSpecialties","_ref6","_callee6","specialties","_t5","_context6","addedAt","createdAt","count","_x1","_x10","settingTechnicianSpecialty","_ref7","_callee7","_req$body4","applianceCategoryID","certificateDate","certDate","today","fiftyYearsAgo","checkCategory","category","checkDuplicate","_t6","_context7","undefined","Number","isInteger","Date","setHours","setFullYear","getFullYear","SmallInt","categoryID","categoryNameEN","categoryNameAR","_x11","_x12","removeSpecialty","_ref8","_callee8","parsedCategoryId","checkExists","_t7","_context8","params","parseInt","isNaN","_x13","_x14","getServiceAreas","_ref9","_callee9","_t8","_context9","_x15","_x16","settingTechnicianServiceArea","_ref0","_callee0","_req$body5","serviceAreaID","checkArea","serviceArea","_t9","_context0","areaID","areaNameEN","areaNameAR","areaRegion","_x17","_x18","removeServiceArea","_ref1","_callee1","parsedAreaId","_t0","_context1","_x19","_x20","module","exports"],"sourceRoot":"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/controllers/","sources":["TechnicianController.js"],"sourcesContent":["/**\n * This controller provides the following functionalities for a technician: registering, logging in, logging out,\n * setting specialty (appliance categories they work with), and setting service areas.\n * \n * For storing the password, bcrypt is used to hash and jwt (jsonwebtoken) is used to sign a token and store it as cookie.\n */\n\nconst asyncHandler = require(\"express-async-handler\");\nconst bcrypt = require(\"bcrypt\");\nconst jwt = require(\"jsonwebtoken\");\n\n// sql needed for the type definitions in .input\n// getPool is to do queries\nconst { getPool, sql } = require(\"../config/database\");\n\n// Import validation utilities\nconst { isValidEmail, isValidPhone, isValidPassword, isValidName, sanitizeString } = require(\"../utils/validators\");\n\n\n// Handles the technician registering functionality\nconst registerTechnician = asyncHandler(async (req, res) => {\n    // Getting the needed data from the request body\n    const { firstName, lastName, email, phone, password} = req.body;\n\n    // Checking if any of them is empty, if yes then we throw a 400\n    if (!firstName || !lastName || !email || !phone || !password) {\n        return res.status(400).json({message: \"You have to insert all data to register.\"});\n    }\n\n    // Validate first name format\n    if (!isValidName(firstName)) {\n        return res.status(400).json({message: \"First name must be 2-30 characters and contain only letters.\"});\n    }\n\n    // Validate last name format\n    if (!isValidName(lastName)) {\n        return res.status(400).json({message: \"Last name must be 2-30 characters and contain only letters.\"});\n    }\n\n    // Validate email format\n    if (!isValidEmail(email)) {\n        return res.status(400).json({message: \"Please enter a valid email address.\"});\n    }\n\n    // Validate phone format\n    if (!isValidPhone(phone)) {\n        return res.status(400).json({message: \"Please enter a valid phone number.\"});\n    }\n\n    // Validate password strength\n    const passwordValidation = isValidPassword(password);\n    if (!passwordValidation.valid) {\n        return res.status(400).json({message: passwordValidation.message});\n    }\n\n    // We now try to access the database to insert the technician\n    try {\n        const pool = getPool();\n\n        // Hashing the password before storing\n        const hashedPassword = await bcrypt.hash(password, 11);\n\n        // Inserting the technician into the database Technician table\n        const result = await pool.request()\n            .input(\"firstName\", sql.VarChar, sanitizeString(firstName))\n            .input(\"lastName\", sql.VarChar, sanitizeString(lastName))\n            .input(\"email\", sql.VarChar, sanitizeString(email).toLowerCase())\n            .input(\"phone\", sql.VarChar, sanitizeString(phone))\n            .input(\"hashedPassword\", sql.VarChar, hashedPassword)\n            .query(`\n            INSERT INTO Technician (First_Name, Last_Name, Email, Phone, Password_Hash)\n            VALUES(@firstName, @lastName, @email, @phone, @hashedPassword)\n            `);\n\n        // Sending success message\n        res.status(201).json({message: \"Technician registered successfully!\"});\n    } catch (error) {\n        // Handling the unique constraints for email and phone numbers\n        // 2627 is for violation of the unique key constraint, and 2601 is for unique index violation\n        if (error.number === 2627 || error.number === 2601) {\n            return res.status(409).json({message: \"Another account exists already either with this email address or phone number. If you have another account, please use that one instead.\"});\n        }\n\n        // Throwing the console error and 500 status in case something goes wrong\n        console.error(\"Unexpected error registering a new technician account: \", error);\n        res.status(500).json({message: \"An unexpected error occurred while registering the technician.\"});\n    }\n});\n\n// Handling the logging in functionality for technicians\nconst loginTechnician = asyncHandler(async (req,res) => {\n    // Getting the email and password that the technician is trying to login with\n    const {email, password} = req.body;\n\n    // Input validation, if either empty then send 400 error\n    if (!email || !password) {\n        return res.status(400).json({message: \"You have to enter both your email and your password\"});\n    }\n\n    // Validate email format\n    if (!isValidEmail(email)) {\n        return res.status(400).json({message: \"Please enter a valid email address.\"});\n    }\n\n    try {\n        const pool = getPool();\n\n        // Searching in the database for a technician with the same email passed to check if exists\n        const result = await pool.request()\n            .input(\"email\", sql.VarChar, sanitizeString(email).toLowerCase())\n            .query(`\n                SELECT Technician_ID, First_Name, Last_Name, Email, Password_Hash, isActive, Verified\n                FROM Technician\n                WHERE Email = @email\n                `);\n\n        // If no results returned from the query, then the email entered is invalid\n        if (result.recordset.length === 0) {\n            return res.status(401).json({message: \"Invalid email address or password.\"});\n        }\n\n        // Now we are getting the first technician that we got having the same email address\n        const technician = result.recordset[0];\n\n        // Check if the technician account is active\n        if (!technician.isActive) {\n            return res.status(403).json({message: \"Your account is deactivated. Please contact us to resolve this issue.\"});\n        }\n\n        // Check if the technician account is verified by admin\n        if (!technician.Verified) {\n            return res.status(403).json({message: \"Your account is not verified yet. Please wait for admin approval.\"});\n        }\n\n        // Using bcrypt to check if the password passed is the same as the hashed one stored in the database\n        // If no, throw a 401 error\n        const isPasswordValid = await bcrypt.compare(password, technician.Password_Hash);\n        if (!isPasswordValid) {\n            return res.status(401).json({message: \"Invalid email address or password.\"});\n        }\n\n        // If the password matches, then create a technician token using jwt by signing it with the TECHNICIAN_ACCESS_TOKEN\n        // stored in the .env file. The token expires in 1 day.\n        const technicianToken = jwt.sign({\n            id: technician.Technician_ID,\n            firstName: technician.First_Name,\n            lastName: technician.Last_Name,\n            email: technician.Email\n        },\n            process.env.TECHNICIAN_ACCESS_TOKEN,\n            {expiresIn: \"1d\"}\n        );\n\n        // If a cookie exists already for the technician, clear it\n        if (req.cookies.technician_access_token) {\n            res.clearCookie('technician_access_token');\n        }\n\n        // Store the new cookie such that it lasts 1 day, and throw a 200 success message with some data about the technician\n        // (id, firstName, lastName, email)\n        res.cookie('technician_access_token', technicianToken, \n            {httpOnly: true, \n            secure: process.env.NODE_ENV === \"production\",\n            sameSite: process.env.NODE_ENV === \"production\" ? 'strict' : 'lax',\n            maxAge: 24 * 60 * 60 * 1000});\n        res.status(200).json({\n            message: \"Successfully logged in.\",\n            technician: {\n                id: technician.Technician_ID,\n                firstName: technician.First_Name,\n                lastName: technician.Last_Name,\n                email: technician.Email\n            }\n        })\n\n        // If anything goes wrong, throw an error\n    } catch (error) {\n        console.error(\"Login error:\", error);\n        res.status(500).json({message: \"An error occurred during login.\"});\n    }\n});\n\n// Logging out functionality by clearing the technician's cookie and sending a success message\nconst logoutTechnician = asyncHandler(async (req, res) => {\n    res.clearCookie('technician_access_token');\n    res.status(200).json({message: \"Successfully logged out.\"});\n})\n\n// Getting technician's profile\nconst getProfile = asyncHandler(async (req, res) => {\n    const technicianID = req.technicianID;\n\n    try {\n        const pool = getPool();\n\n        const technicianResult = await pool.request()\n            .input(\"technicianId\", sql.Int, technicianID)\n            .query(`\n            SELECT tec.Technician_ID, tec.First_Name, tec.Last_Name, tec.Email, tec.Phone, tec.isActive, tec.Verified, tec.Average_Rating, tec.Total_Jobs\n            FROM [Technician] AS tec\n            WHERE tec.Technician_ID = @technicianId\n            `);\n\n\n        if (technicianResult.recordset.length === 0) {\n            return res.status(404).json({message: \"Technician not found.\"});\n        }\n\n        const applianceResult = await pool.request()\n            .input(\"technicianId\", sql.Int, technicianID)\n            .query(`\n            SELECT tec_cat.Category_ID, cat.NameEN, cat.NameAR, cat.Description, tec_cat.Years_Of_Experience, tec_cat.Certification_Date\n            FROM Technician_Category AS tec_cat\n            JOIN Appliance_Category AS cat ON tec_cat.Category_ID = cat.Category_ID\n            WHERE tec_cat.Technician_ID = @technicianId\n            `);\n\n        const serviceAreaResult = await pool.request()\n            .input(\"technicianId\", sql.Int, technicianID)\n            .query(`\n            SELECT area.Area_ID, area.NameEN, area.NameAR, area.Region, tec_area.Priority_Order\n            FROM Technician_Service_Area AS tec_area\n            JOIN Service_Area AS area ON tec_area.Area_ID = area.Area_ID\n            WHERE tec_area.Technician_ID = @technicianId\n            ORDER BY tec_area.Priority_Order ASC, area.NameEN ASC\n            `);\n\n        const technicianData = technicianResult.recordset[0];\n\n        const applianceCategories = applianceResult.recordset.map(record => ({\n            categoryId: record.Category_ID,\n            nameEN: record.NameEN,\n            nameAR: record.NameAR,\n            description: record.Description,\n            yearsOfExperience: record.Years_Of_Experience,\n            certificationDate: record.Certification_Date\n        }));\n\n        const serviceAreas = serviceAreaResult.recordset.map(record => ({\n            areaId: record.Area_ID,\n            nameEN: record.NameEN,\n            nameAR: record.NameAR,\n            region: record.Region,\n            priority: record.Priority_Order\n        }));\n\n        res.status(200).json({ \n            firstName: technicianData.First_Name,\n            lastName: technicianData.Last_Name,\n            email: technicianData.Email,\n            phone: technicianData.Phone,\n            isActive: technicianData.isActive,\n            verified: technicianData.Verified,\n            averageRating: technicianData.Average_Rating,\n            totalJobs: technicianData.Total_Jobs,\n            applianceCategories: applianceCategories,\n            serviceAreas: serviceAreas,\n        });\n    } catch (error) {\n        // Throwing the console error and 500 status in case something goes wrong.\n        console.error(\"Unexpected error occurred when trying to get profile: \", error);\n        res.status(500).json({ message: \"An unexpected error occurred while getting profile.\" });\n    }\n})\n\n// Updating technician's profile information\nconst updateProfile = asyncHandler(async (req, res) => {\n    const { firstName, lastName, email, phone } = req.body;\n    const technicianID = req.technicianID;\n\n    // Checking if any of them is empty, if yes then we throw a 400\n    if (!firstName || !lastName || !email || !phone) {\n        return res.status(400).json({ message: \"You have to insert all profile data to update.\" });\n    }\n\n    // Validate first name format\n    if (!isValidName(firstName)) {\n        return res.status(400).json({ message: \"First name must be 2-30 characters and contain only letters.\" });\n    }\n\n    // Validate last name format\n    if (!isValidName(lastName)) {\n        return res.status(400).json({ message: \"Last name must be 2-30 characters and contain only letters.\" });\n    }\n\n    // Validate email format\n    if (!isValidEmail(email)) {\n        return res.status(400).json({ message: \"Please enter a valid email address.\" });\n    }\n\n    // Validate phone format\n    if (!isValidPhone(phone)) {\n        return res.status(400).json({ message: \"Please enter a valid phone number.\" });\n    }\n\n    try {\n        const pool = getPool();\n\n        // Updating the technician data\n        const result = await pool.request()\n            .input(\"technicianId\", sql.Int, technicianID)\n            .input(\"firstName\", sql.VarChar, sanitizeString(firstName))\n            .input(\"lastName\", sql.VarChar, sanitizeString(lastName))\n            .input(\"email\", sql.VarChar, sanitizeString(email).toLowerCase())\n            .input(\"phone\", sql.VarChar, sanitizeString(phone))\n            .query(`\n                UPDATE [Technician] \n                SET First_Name = @firstName, Last_Name = @lastName, Email = @email, \n                    Phone = @phone, modifiedAt = GETDATE()\n                WHERE Technician_ID = @technicianId\n            `);\n\n        // Check if update affected any rows\n        if (result.rowsAffected[0] === 0) {\n            return res.status(404).json({ message: \"Technician not found or no changes made.\" });\n        }\n\n        // Sending success message\n        res.status(200).json({ message: \"Technician profile updated successfully!\" });\n    } catch (error) {\n        // Handling the unique constraints for email and phone numbers\n        if (error.number === 2627 || error.number === 2601) {\n            return res.status(409).json({ message: \"Another account exists already either with this email address or phone number. If you have another account, please use that one instead.\" });\n        }\n\n        // Throwing the console error and 500 status in case something goes wrong\n        console.error(\"Unexpected error when updating technician profile: \", error);\n        res.status(500).json({ message: \"An unexpected error occurred while updating the technician's profile.\" });\n    }\n});\n\n// Getting technician's specialties (appliance categories)\nconst getSpecialties = asyncHandler(async (req, res) => {\n    const technicianID = req.technicianID;\n\n    try {\n        const pool = getPool();\n\n        // Get all specialties for this technician\n        const result = await pool.request()\n            .input(\"technicianId\", sql.Int, technicianID)\n            .query(`\n                SELECT \n                    tec_cat.Category_ID, \n                    cat.NameEN, \n                    cat.NameAR, \n                    cat.Description,\n                    tec_cat.Years_Of_Experience, \n                    tec_cat.Certification_Date,\n                    tec_cat.createdAt\n                FROM Technician_Category AS tec_cat\n                JOIN Appliance_Category AS cat ON tec_cat.Category_ID = cat.Category_ID\n                WHERE tec_cat.Technician_ID = @technicianId\n                ORDER BY cat.NameEN ASC\n            `);\n\n        // Format the response by camelCase\n        const specialties = result.recordset.map(record => ({\n            categoryId: record.Category_ID,\n            nameEN: record.NameEN,\n            nameAR: record.NameAR,\n            description: record.Description,\n            yearsOfExperience: record.Years_Of_Experience,\n            certificationDate: record.Certification_Date,\n            addedAt: record.createdAt\n        }));\n\n        res.status(200).json({\n            message: \"Specialties retrieved successfully.\",\n            count: specialties.length,\n            specialties: specialties\n        });\n    } catch (error) {\n        console.error(\"Unexpected error occurred when trying to get specialties: \", error);\n        res.status(500).json({ message: \"An unexpected error occurred while retrieving specialties.\" });\n    }\n});\n\n// Setting technician specialty - allows technicians to add appliance categories they specialize in\nconst settingTechnicianSpecialty = asyncHandler(async (req,res) => {\n    // Getting the specialty data from the body and the technicianID passed from the middleware\n    const {applianceCategoryID, yearsOfExperience, certificateDate} = req.body;\n    const technicianID = req.technicianID;\n\n    // If required fields are missing, throw a 400 error\n    // Note: yearsOfExperience uses !== undefined to allow 0 as a valid value\n    if (!applianceCategoryID || yearsOfExperience === undefined || yearsOfExperience === null) {\n        return res.status(400).json({message: \"Category ID and years of experience are required for you to pass!\"});\n    }\n\n    // Validating years of experience - must be an integer between 0 and 50\n    if (!Number.isInteger(yearsOfExperience) || yearsOfExperience < 0 || yearsOfExperience > 50) {\n        return res.status(400).json({message: \"Your years of experience should be between 0 and 50.\"});\n    }\n\n    // If certificate date is provided, validate it\n    if (certificateDate) {\n        const certDate = new Date(certificateDate);\n        const today = new Date();\n        today.setHours(0,0,0,0);\n\n        // Certificate date cannot be in the future\n        if (certDate > today) {\n            return res.status(400).json({message: \"Certification date cannot be in the future!\"});\n        }\n\n        // Certificate date cannot be more than 50 years ago\n        const fiftyYearsAgo = new Date();\n        fiftyYearsAgo.setFullYear(fiftyYearsAgo.getFullYear() - 50);\n\n        if (certDate < fiftyYearsAgo) {\n            return res.status(400).json({message: \"Certification date cannot be more than 50 years ago!\"});\n        }\n    }\n\n    try {\n        const pool = getPool();\n\n        // Check if the appliance category exists and is active\n        const checkCategory = await pool.request()\n            .input(\"applianceCategoryID\", sql.Int, applianceCategoryID)\n            .query(`\n                SELECT Category_ID, NameEN, NameAR, isActive\n                FROM Appliance_Category\n                WHERE Category_ID = @applianceCategoryID\n                `);\n\n        // If no result returned, the category ID is invalid\n        if (checkCategory.recordset.length === 0) {\n            return res.status(404).json({message: \"Invalid category passed! You should pick one of the available category IDs only.\"});\n        }\n\n        const category = checkCategory.recordset[0];\n\n        // Check if the category is active\n        if (!category.isActive) {\n            return res.status(400).json({message: \"The category chosen is currently not active!\"});\n        }\n\n        // Checking for duplicate specialty - technician cannot add same category twice\n        const checkDuplicate = await pool.request()\n            .input(\"technicianID\", sql.Int, technicianID)\n            .input(\"applianceCategoryID\", sql.Int, applianceCategoryID)\n            .query(`\n                SELECT Technician_ID\n                FROM Technician_Category\n                WHERE Technician_ID = @technicianID AND Category_ID = @applianceCategoryID\n                `);\n\n        // If duplicate found, throw a 409 conflict error\n        if (checkDuplicate.recordset.length > 0) {\n            return res.status(409).json({message: \"You already have this specialty added.\"});\n        }\n\n        // Insert the new specialty into Technician_Category table\n        await pool.request()\n            .input(\"technicianID\", sql.Int, technicianID)\n            .input(\"applianceCategoryID\", sql.Int, applianceCategoryID)\n            .input(\"yearsOfExperience\", sql.SmallInt, yearsOfExperience)\n            .input(\"certificateDate\", sql.Date, certificateDate || null)\n            .query(`\n                INSERT INTO Technician_Category (Technician_ID, Category_ID, Years_of_Experience, Certification_Date)\n                VALUES (@technicianID, @applianceCategoryID, @yearsOfExperience, @certificateDate)\n                `);\n\n        // Return success response with specialty details\n        res.status(201).json({\n            message: \"Successfully set your specialty.\",\n            categoryID: category.Category_ID,\n            categoryNameEN: category.NameEN,\n            categoryNameAR: category.NameAR,\n            yearsOfExperience: yearsOfExperience,\n            certificateDate: certificateDate || null\n        });\n\n    } catch (error) {\n        console.error(\"An unexpected error occurred when trying to set your specialty:\", error);\n\n        // Foreign key constraint violation\n        if (error.number === 547) {\n            return res.status(400).json({message: \"Invalid technician or category ID.\"});\n        }\n\n        // Unique constraint violation (duplicate entry)\n        if (error.number === 2627) {\n            return res.status(409).json({message: \"You already have this specialty added!\"});\n        }\n\n        res.status(500).json({message: \"An unexpected error occurred when trying to set your specialty.\"});\n    }\n})\n\n// Removing a specialty from technician's profile\nconst removeSpecialty = asyncHandler(async (req, res) => {\n    const { categoryId } = req.params;  // Get from URL parameter\n    const technicianID = req.technicianID;\n\n    // Validate categoryId\n    const parsedCategoryId = parseInt(categoryId, 10);\n    if (isNaN(parsedCategoryId)) {\n        return res.status(400).json({ message: \"Invalid category ID. Must be a number.\" });\n    }\n\n    try {\n        const pool = getPool();\n\n        // Check if the specialty exists before deleting\n        const checkExists = await pool.request()\n            .input(\"technicianId\", sql.Int, technicianID)\n            .input(\"categoryId\", sql.Int, parsedCategoryId)\n            .query(`\n                SELECT Category_ID\n                FROM Technician_Category\n                WHERE Technician_ID = @technicianId AND Category_ID = @categoryId\n            `);\n\n        if (checkExists.recordset.length === 0) {\n            return res.status(404).json({ message: \"Specialty not found or not assigned to you.\" });\n        }\n\n        // Delete the specialty\n        const result = await pool.request()\n            .input(\"technicianId\", sql.Int, technicianID)\n            .input(\"categoryId\", sql.Int, parsedCategoryId)\n            .query(`\n                DELETE FROM Technician_Category\n                WHERE Technician_ID = @technicianId AND Category_ID = @categoryId\n            `);\n\n        res.status(200).json({ message: \"Specialty removed successfully.\" });\n    } catch (error) {\n        console.error(\"Unexpected error occurred when trying to remove specialty: \", error);\n        res.status(500).json({ message: \"An unexpected error occurred while removing the specialty.\" });\n    }\n});\n\n// Getting technician's service areas\nconst getServiceAreas = asyncHandler(async (req, res) => {\n    const technicianID = req.technicianID;\n\n    try {\n        const pool = getPool();\n\n        // Get all service areas for this technician, sorted by priority\n        const result = await pool.request()\n            .input(\"technicianId\", sql.Int, technicianID)\n            .query(`\n                SELECT \n                    tec_area.Area_ID,\n                    area.NameEN,\n                    area.NameAR,\n                    area.Region,\n                    tec_area.Priority_Order,\n                    tec_area.createdAt\n                FROM Technician_Service_Area AS tec_area\n                JOIN Service_Area AS area ON tec_area.Area_ID = area.Area_ID\n                WHERE tec_area.Technician_ID = @technicianId\n                ORDER BY tec_area.Priority_Order ASC, area.NameEN ASC\n            `);\n\n        // Format the response with consistent camelCase\n        const serviceAreas = result.recordset.map(record => ({\n            areaId: record.Area_ID,\n            nameEN: record.NameEN,\n            nameAR: record.NameAR,\n            region: record.Region,\n            priority: record.Priority_Order,\n            addedAt: record.createdAt\n        }));\n\n        res.status(200).json({\n            message: \"Service areas retrieved successfully.\",\n            count: serviceAreas.length,\n            serviceAreas: serviceAreas\n        });\n    } catch (error) {\n        console.error(\"Unexpected error occurred when trying to get service areas: \", error);\n        res.status(500).json({ message: \"An unexpected error occurred while retrieving service areas.\" });\n    }\n});\n\n// Setting technician service area - allows technicians to add areas they work in with priority\nconst settingTechnicianServiceArea = asyncHandler(async (req,res) => {\n    // Getting the service area data from the body and the technicianID passed from the middleware\n    const {serviceAreaID, priority} = req.body;\n    const technicianID = req.technicianID;\n\n    // If required fields are missing, throw a 400 error\n    if (!serviceAreaID || !priority) {\n        return res.status(400).json({message: \"You have to specify from which service area you are and the priority of it.\"});\n    }\n\n    // Validating priority - must be an integer between 1 and 100\n    if (!Number.isInteger(priority) || priority < 1 || priority > 100) {\n        return res.status(400).json({message: \"Priority must be an integer between 1 and 100.\"});\n    }\n\n    try {\n        const pool = getPool();\n\n        // Check if the service area exists\n        const checkArea = await pool.request()\n            .input(\"serviceAreaID\", sql.Int, serviceAreaID)\n            .query(`\n                SELECT Area_ID, NameEN, NameAR, Region, isActive\n                FROM Service_Area\n                WHERE Area_ID = @serviceAreaID\n                `);\n\n        // If no result returned, the service area ID is invalid\n        if (checkArea.recordset.length === 0) {\n            return res.status(404).json({message: \"Invalid service area chosen! You have to choose one of the available ones.\"});\n        }\n\n        const serviceArea = checkArea.recordset[0];\n\n        // Check if the service area is active\n        if (!serviceArea.isActive) {\n            return res.status(400).json({message: \"Currently this service area is not active.\"});\n        }\n\n        // Checking for duplicate service area - technician cannot add same area twice\n        const checkDuplicate = await pool.request()\n            .input(\"technicianID\", sql.Int, technicianID)\n            .input(\"serviceAreaID\", sql.Int, serviceAreaID)\n            .query(`\n                SELECT Technician_ID\n                FROM Technician_Service_Area\n                WHERE Technician_ID = @technicianID AND Area_ID = @serviceAreaID\n                `);\n\n        // If duplicate found, throw a 409 conflict error\n        if (checkDuplicate.recordset.length > 0) {\n            return res.status(409).json({message: \"You already have set this service area!\"});\n        }\n\n        // Insert the new service area into Technician_Service_Area table\n        await pool.request()\n            .input(\"technicianID\", sql.Int, technicianID)\n            .input(\"serviceAreaID\", sql.Int, serviceAreaID)\n            .input(\"priority\", sql.Int, priority)\n            .query(`\n                INSERT INTO Technician_Service_Area (Technician_ID, Area_ID, Priority_Order)\n                VALUES (@technicianID, @serviceAreaID, @priority)\n                `);\n\n        // Return success response with service area details\n        res.status(201).json({\n            message: \"Successfully set your service area.\",\n            areaID: serviceArea.Area_ID,\n            areaNameEN: serviceArea.NameEN,\n            areaNameAR: serviceArea.NameAR,\n            areaRegion: serviceArea.Region,\n            priority: priority\n        });\n        \n    } catch (error) {\n        console.error(\"An unexpected error occurred when trying to set your service area:\", error);\n\n        // Foreign key constraint violation\n        if (error.number === 547) {\n            return res.status(400).json({message: \"Invalid technician or service area ID.\"});\n        }\n\n        // Unique constraint violation (duplicate entry)\n        if (error.number === 2627) {\n            return res.status(409).json({message: \"You already have this service area set!\"});\n        }\n\n        res.status(500).json({message: \"An unexpected error occurred when trying to set your service area.\"});\n    }\n})\n\n// Removing a service area from technician's profile\nconst removeServiceArea = asyncHandler(async (req, res) => {\n    const { areaId } = req.params;  // Get from URL parameter\n    const technicianID = req.technicianID;\n\n    // Validate areaId\n    const parsedAreaId = parseInt(areaId, 10);\n    if (isNaN(parsedAreaId)) {\n        return res.status(400).json({ message: \"Invalid area ID. Must be a number.\" });\n    }\n\n    try {\n        const pool = getPool();\n\n        // Check if the service area exists before deleting\n        const checkExists = await pool.request()\n            .input(\"technicianId\", sql.Int, technicianID)\n            .input(\"areaId\", sql.Int, parsedAreaId)\n            .query(`\n                SELECT Area_ID\n                FROM Technician_Service_Area\n                WHERE Technician_ID = @technicianId AND Area_ID = @areaId\n            `);\n\n        if (checkExists.recordset.length === 0) {\n            return res.status(404).json({ message: \"Service area not found or not assigned to you.\" });\n        }\n\n        // Delete the service area\n        const result = await pool.request()\n            .input(\"technicianId\", sql.Int, technicianID)\n            .input(\"areaId\", sql.Int, parsedAreaId)\n            .query(`\n                DELETE FROM Technician_Service_Area\n                WHERE Technician_ID = @technicianId AND Area_ID = @areaId\n            `);\n\n        res.status(200).json({ message: \"Service area removed successfully.\" });\n    } catch (error) {\n        console.error(\"Unexpected error occurred when trying to remove service area: \", error);\n        res.status(500).json({ message: \"An unexpected error occurred while removing the service area.\" });\n    }\n});\n\n\nmodule.exports = {registerTechnician, loginTechnician, logoutTechnician, getProfile, updateProfile, settingTechnicianSpecialty, getSpecialties, removeSpecialty, settingTechnicianServiceArea, getServiceAreas, removeServiceArea}; "],"mappings":"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","ignoreList":[]}},"mtime":1764708215026},"{\"assumptions\":{},\"sourceRoot\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end\",\"filename\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/controllers/TechnicianBookingController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"_exploded\":true,\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"VoidPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$48\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$49\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n/**\n * This controller handles everything related to booking and the technician:\n *  1. Technician accepting a pending booking\n *  2. Technician getting all pending bookings available to accept\n */\n\nvar asyncHandler = require(\"express-async-handler\");\n\n// sql needed for the type definitions in .input\n// getPool is to do queries\nvar _require = require(\"../config/database\"),\n  getPool = _require.getPool,\n  sql = _require.sql;\n\n// Technician accepting a pending booking\nvar acceptPendingBooking = asyncHandler(/*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee(req, res) {\n    var bookingID, technicianID, pool, checkBooking, booking, result, _t;\n    return _regenerator[\"default\"].wrap(function (_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          // Getting the booking ID from the body and the technician ID passed from the middleware\n          bookingID = req.body.bookingID;\n          technicianID = req.technicianID; // If no booking ID is passed, throw a 400 error\n          if (bookingID) {\n            _context.next = 1;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"You need to pass a booking ID.\"\n          }));\n        case 1:\n          _context.prev = 1;\n          pool = getPool(); // Check if the booking exists and get its current status and assigned technician\n          _context.next = 2;\n          return pool.request().input(\"bookingID\", sql.Int, bookingID).query(\"\\n                    SELECT Booking_ID, [Status], Technician_ID\\n                    FROM Booking\\n                    WHERE Booking_ID = @bookingID\\n                    \");\n        case 2:\n          checkBooking = _context.sent;\n          if (!(checkBooking.recordset.length === 0)) {\n            _context.next = 3;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(404).json({\n            message: \"Booking not found.\"\n          }));\n        case 3:\n          booking = checkBooking.recordset[0]; // Check if booking is already assigned to another technician\n          if (!(booking.Technician_ID !== null)) {\n            _context.next = 4;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(409).json({\n            message: \"This booking is already assigned to another technician.\"\n          }));\n        case 4:\n          if (!(booking.Status !== 'pending')) {\n            _context.next = 5;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"This booking is \".concat(booking.Status, \" and cannot be accepted.\")\n          }));\n        case 5:\n          _context.next = 6;\n          return pool.request().input(\"bookingID\", sql.Int, bookingID).input(\"technicianID\", sql.Int, technicianID).query(\"\\n                    UPDATE Booking\\n                    SET Technician_ID = @technicianID,\\n                        [Status] = 'confirmed',\\n                        modifiedAt = GETDATE()\\n                    WHERE Booking_ID = @bookingID\\n                    \");\n        case 6:\n          result = _context.sent;\n          // Return success response with booking and technician details\n          res.status(200).json({\n            message: \"Booking accepted successfully.\",\n            bookingID: bookingID,\n            technicianID: technicianID\n          });\n          _context.next = 9;\n          break;\n        case 7:\n          _context.prev = 7;\n          _t = _context[\"catch\"](1);\n          console.error(\"Unexpected error occurred when trying to apply booking to technician: \", _t);\n\n          // Foreign key constraint violation\n          if (!(_t.number === 547)) {\n            _context.next = 8;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"Invalid booking or technician ID.\"\n          }));\n        case 8:\n          res.status(500).json({\n            message: \"Unexpected error occurred when trying to set booking to technician.\"\n          });\n        case 9:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[1, 7]]);\n  }));\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}());\n\n// Technician starting work on a confirmed booking\nvar startBooking = asyncHandler(/*#__PURE__*/function () {\n  var _ref2 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(req, res) {\n    var bookingID, technicianID, pool, checkBooking, booking, _t2;\n    return _regenerator[\"default\"].wrap(function (_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          bookingID = req.body.bookingID;\n          technicianID = req.technicianID; // If no booking ID is passed, throw a 400 error\n          if (bookingID) {\n            _context2.next = 1;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(400).json({\n            message: \"You need to pass a booking ID.\"\n          }));\n        case 1:\n          _context2.prev = 1;\n          pool = getPool(); // Check if the booking exists and belongs to this technician\n          _context2.next = 2;\n          return pool.request().input(\"bookingID\", sql.Int, bookingID).input(\"technicianID\", sql.Int, technicianID).query(\"\\n                SELECT Booking_ID, [Status], Technician_ID, Booking_Date, Booking_Time\\n                FROM Booking\\n                WHERE Booking_ID = @bookingID\\n            \");\n        case 2:\n          checkBooking = _context2.sent;\n          if (!(checkBooking.recordset.length === 0)) {\n            _context2.next = 3;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(404).json({\n            message: \"Booking not found.\"\n          }));\n        case 3:\n          booking = checkBooking.recordset[0]; // Check if booking is assigned to this technician\n          if (!(booking.Technician_ID !== technicianID)) {\n            _context2.next = 4;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(403).json({\n            message: \"You are not authorized to start this booking as it's not assigned to you.\"\n          }));\n        case 4:\n          if (!(booking.Status !== 'confirmed')) {\n            _context2.next = 5;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(400).json({\n            message: \"This booking is \".concat(booking.Status, \" and cannot be started. Only confirmed bookings can be started.\")\n          }));\n        case 5:\n          _context2.next = 6;\n          return pool.request().input(\"bookingID\", sql.Int, bookingID).query(\"\\n                UPDATE Booking\\n                SET [Status] = 'in_progress',\\n                    modifiedAt = GETDATE()\\n                WHERE Booking_ID = @bookingID\\n            \");\n        case 6:\n          // Return success response\n          res.status(200).json({\n            message: \"Booking started successfully.\",\n            bookingID: bookingID,\n            status: \"in_progress\"\n          });\n          _context2.next = 8;\n          break;\n        case 7:\n          _context2.prev = 7;\n          _t2 = _context2[\"catch\"](1);\n          console.error(\"Unexpected error occurred when trying to start booking: \", _t2);\n          res.status(500).json({\n            message: \"An unexpected error occurred when trying to start the booking.\"\n          });\n        case 8:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[1, 7]]);\n  }));\n  return function (_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}());\n\n// Technician completing a booking\nvar completeBooking = asyncHandler(/*#__PURE__*/function () {\n  var _ref3 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee3(req, res) {\n    var bookingID, technicianID, pool, checkBooking, booking, _t3;\n    return _regenerator[\"default\"].wrap(function (_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          bookingID = req.body.bookingID;\n          technicianID = req.technicianID; // If no booking ID is passed, throw a 400 error\n          if (bookingID) {\n            _context3.next = 1;\n            break;\n          }\n          return _context3.abrupt(\"return\", res.status(400).json({\n            message: \"You need to pass a booking ID.\"\n          }));\n        case 1:\n          _context3.prev = 1;\n          pool = getPool(); // Check if the booking exists and belongs to this technician\n          _context3.next = 2;\n          return pool.request().input(\"bookingID\", sql.Int, bookingID).input(\"technicianID\", sql.Int, technicianID).query(\"\\n                SELECT b.Booking_ID, b.[Status], b.Technician_ID, p.[Status] AS Payment_Status\\n                FROM Booking b\\n                JOIN Payment p ON b.Booking_ID = p.Booking_ID\\n                WHERE b.Booking_ID = @bookingID\\n            \");\n        case 2:\n          checkBooking = _context3.sent;\n          if (!(checkBooking.recordset.length === 0)) {\n            _context3.next = 3;\n            break;\n          }\n          return _context3.abrupt(\"return\", res.status(404).json({\n            message: \"Booking not found.\"\n          }));\n        case 3:\n          booking = checkBooking.recordset[0]; // Check if booking is assigned to this technician\n          if (!(booking.Technician_ID !== technicianID)) {\n            _context3.next = 4;\n            break;\n          }\n          return _context3.abrupt(\"return\", res.status(403).json({\n            message: \"You are not authorized to complete this booking as it's not assigned to you.\"\n          }));\n        case 4:\n          if (!(booking.Status !== 'in_progress')) {\n            _context3.next = 5;\n            break;\n          }\n          return _context3.abrupt(\"return\", res.status(400).json({\n            message: \"This booking is \".concat(booking.Status, \" and cannot be completed. Only in-progress bookings can be marked as completed.\")\n          }));\n        case 5:\n          if (!(booking.Payment_Status !== 'completed')) {\n            _context3.next = 6;\n            break;\n          }\n          return _context3.abrupt(\"return\", res.status(400).json({\n            message: \"Cannot complete booking until payment is completed.\"\n          }));\n        case 6:\n          _context3.next = 7;\n          return pool.request().input(\"bookingID\", sql.Int, bookingID).query(\"\\n                UPDATE Booking\\n                SET [Status] = 'completed',\\n                    completedAt = GETDATE(),\\n                    modifiedAt = GETDATE()\\n                WHERE Booking_ID = @bookingID\\n            \");\n        case 7:\n          _context3.next = 8;\n          return pool.request().input(\"technicianID\", sql.Int, technicianID).query(\"\\n                UPDATE Technician\\n                SET Total_Jobs = Total_Jobs + 1\\n                WHERE Technician_ID = @technicianID\\n            \");\n        case 8:\n          // Return success response\n          res.status(200).json({\n            message: \"Booking completed successfully.\",\n            bookingID: bookingID,\n            status: \"completed\"\n          });\n          _context3.next = 10;\n          break;\n        case 9:\n          _context3.prev = 9;\n          _t3 = _context3[\"catch\"](1);\n          console.error(\"Unexpected error occurred when trying to complete booking: \", _t3);\n          res.status(500).json({\n            message: \"An unexpected error occurred when trying to complete the booking.\"\n          });\n        case 10:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3, null, [[1, 9]]);\n  }));\n  return function (_x5, _x6) {\n    return _ref3.apply(this, arguments);\n  };\n}());\n\n// Technician declining a pending booking\nvar declineBooking = asyncHandler(/*#__PURE__*/function () {\n  var _ref4 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee4(req, res) {\n    var bookingID, technicianID, pool, checkBooking, booking, bookingDate, today, newStatus, _t4;\n    return _regenerator[\"default\"].wrap(function (_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          bookingID = req.body.bookingID;\n          technicianID = req.technicianID; // If no booking ID is passed, throw a 400 error\n          if (bookingID) {\n            _context4.next = 1;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(400).json({\n            message: \"You need to pass a booking ID.\"\n          }));\n        case 1:\n          _context4.prev = 1;\n          pool = getPool(); // Check if the booking exists and is assigned to this technician\n          // Also get Booking_Date and Payment_Status to validate decline request\n          _context4.next = 2;\n          return pool.request().input(\"bookingID\", sql.Int, bookingID).query(\"\\n                SELECT b.Booking_ID, b.[Status], b.Technician_ID, b.Booking_Date, p.[Status] AS Payment_Status\\n                FROM Booking b\\n                LEFT JOIN Payment p ON b.Booking_ID = p.Booking_ID\\n                WHERE b.Booking_ID = @bookingID\\n            \");\n        case 2:\n          checkBooking = _context4.sent;\n          if (!(checkBooking.recordset.length === 0)) {\n            _context4.next = 3;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(404).json({\n            message: \"Booking not found.\"\n          }));\n        case 3:\n          booking = checkBooking.recordset[0]; // Check if booking is assigned to this technician\n          if (!(booking.Technician_ID !== technicianID)) {\n            _context4.next = 4;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(403).json({\n            message: \"You are not authorized to decline this booking as it's not assigned to you.\"\n          }));\n        case 4:\n          if (!(booking.Status !== 'confirmed')) {\n            _context4.next = 5;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(400).json({\n            message: \"This booking is \".concat(booking.Status, \" and cannot be declined. Only confirmed bookings can be declined.\")\n          }));\n        case 5:\n          if (!(booking.Payment_Status === 'completed')) {\n            _context4.next = 6;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(400).json({\n            message: \"Cannot decline a booking that has already been paid. Please contact the customer or support.\"\n          }));\n        case 6:\n          // Determine new status based on booking date\n          // Constraint: pending bookings MUST have Booking_Date >= today's date\n          bookingDate = new Date(booking.Booking_Date);\n          today = new Date();\n          today.setHours(0, 0, 0, 0);\n          bookingDate.setHours(0, 0, 0, 0);\n          newStatus = bookingDate >= today ? 'pending' : 'cancelled'; // Update the booking - remove technician assignment and change status\n          _context4.next = 7;\n          return pool.request().input(\"bookingID\", sql.Int, bookingID).input(\"newStatus\", sql.VarChar, newStatus).query(\"\\n                UPDATE Booking\\n                SET Technician_ID = NULL,\\n                    [Status] = @newStatus,\\n                    modifiedAt = GETDATE()\\n                WHERE Booking_ID = @bookingID\\n            \");\n        case 7:\n          // Return success response\n          res.status(200).json({\n            message: newStatus === 'pending' ? \"Booking declined successfully. It is now available for other technicians.\" : \"Booking declined successfully. It has been cancelled as the scheduled date has passed.\",\n            bookingID: bookingID,\n            status: newStatus\n          });\n          _context4.next = 9;\n          break;\n        case 8:\n          _context4.prev = 8;\n          _t4 = _context4[\"catch\"](1);\n          console.error(\"Unexpected error occurred when trying to decline booking: \", _t4);\n          res.status(500).json({\n            message: \"An unexpected error occurred when trying to decline the booking.\"\n          });\n        case 9:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4, null, [[1, 8]]);\n  }));\n  return function (_x7, _x8) {\n    return _ref4.apply(this, arguments);\n  };\n}());\n\n// Get all pending bookings available for technicians to accept\nvar getPendingBookings = asyncHandler(/*#__PURE__*/function () {\n  var _ref5 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee5(req, res) {\n    var pool, result, _t5;\n    return _regenerator[\"default\"].wrap(function (_context5) {\n      while (1) switch (_context5.prev = _context5.next) {\n        case 0:\n          _context5.prev = 0;\n          pool = getPool(); // Query all pending bookings with user and appliance details\n          // Ordered by date and time (earliest first)\n          _context5.next = 1;\n          return pool.request().query(\"\\n                SELECT \\n                    Booking.Booking_ID, \\n                    Booking.Booking_Date AS \\\"Scheduled Date\\\", \\n                    Booking.Booking_Time AS \\\"Scheduled Time\\\", \\n                    Booking.Total_Price AS \\\"Total Price\\\", \\n                    Appliance_Type.nameEN AS \\\"Appliance's Name (EN)\\\", \\n                    Appliance_Type.nameAR AS \\\"Appliance's Name (AR)\\\",\\n                    Booking.Issue_Description AS \\\"Issue Description\\\",\\n                    [User].First_Name AS \\\"First Name\\\",\\n                    [User].Last_Name AS \\\"Last Name\\\", \\n                    [User].Phone AS \\\"Phone Number\\\",\\n                    [User].City AS \\\"City\\\",\\n                    [User].Street_Address AS \\\"Street Address\\\", \\n                    [User].Building_Name AS \\\"Building Name\\\", \\n                    [User].Floor AS \\\"Building Floor\\\", \\n                    [User].Postal_Code AS \\\"Postal Code\\\"\\n                FROM Booking\\n                JOIN [User] ON Booking.UserID = [User].User_ID\\n                JOIN Appliance_Type ON Booking.Appliance_Type_ID = Appliance_Type.Appliance_Type_ID\\n                WHERE Booking.[Status] = 'pending'\\n                ORDER BY Booking.Booking_Date ASC, Booking.Booking_Time ASC\\n            \");\n        case 1:\n          result = _context5.sent;\n          if (!(result.recordset.length === 0)) {\n            _context5.next = 2;\n            break;\n          }\n          return _context5.abrupt(\"return\", res.status(200).json({\n            message: \"No pending bookings found.\",\n            bookings: []\n          }));\n        case 2:\n          // Return pending bookings with count\n          res.status(200).json({\n            message: \"There are pending bookings.\",\n            count: result.recordset.length,\n            bookings: result.recordset\n          });\n          _context5.next = 4;\n          break;\n        case 3:\n          _context5.prev = 3;\n          _t5 = _context5[\"catch\"](0);\n          console.error(\"Unexpected error occurred while fetching pending bookings:\", _t5);\n          res.status(500).json({\n            message: \"An unexpected error occurred while fetching pending bookings.\"\n          });\n        case 4:\n        case \"end\":\n          return _context5.stop();\n      }\n    }, _callee5, null, [[0, 3]]);\n  }));\n  return function (_x9, _x0) {\n    return _ref5.apply(this, arguments);\n  };\n}());\n\n// Get active bookings assigned to a technician (confirmed + in_progress)\nvar getActiveBookings = asyncHandler(/*#__PURE__*/function () {\n  var _ref6 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee6(req, res) {\n    var technicianID, pool, result, _t6;\n    return _regenerator[\"default\"].wrap(function (_context6) {\n      while (1) switch (_context6.prev = _context6.next) {\n        case 0:\n          technicianID = req.technicianID;\n          _context6.prev = 1;\n          pool = getPool();\n          _context6.next = 2;\n          return pool.request().input(\"technicianID\", sql.Int, technicianID).query(\"\\n                SELECT \\n                    Booking.Booking_ID, \\n                    Booking.[Status],\\n                    Booking.Booking_Date AS \\\"Scheduled Date\\\", \\n                    Booking.Booking_Time AS \\\"Scheduled Time\\\", \\n                    Booking.Total_Price AS \\\"Total Price\\\", \\n                    Appliance_Type.nameEN AS \\\"Appliance's Name (EN)\\\", \\n                    Appliance_Type.nameAR AS \\\"Appliance's Name (AR)\\\",\\n                    Booking.Issue_Description AS \\\"Issue Description\\\",\\n                    [User].First_Name AS \\\"First Name\\\",\\n                    [User].Last_Name AS \\\"Last Name\\\", \\n                    [User].Phone AS \\\"Phone Number\\\",\\n                    [User].City AS \\\"City\\\",\\n                    [User].Street_Address AS \\\"Street Address\\\", \\n                    [User].Building_Name AS \\\"Building Name\\\", \\n                    [User].Floor AS \\\"Building Floor\\\", \\n                    [User].Postal_Code AS \\\"Postal Code\\\",\\n                    Payment.[Status] AS \\\"Payment Status\\\"\\n                FROM Booking\\n                JOIN [User] ON Booking.UserID = [User].User_ID\\n                JOIN Appliance_Type ON Booking.Appliance_Type_ID = Appliance_Type.Appliance_Type_ID\\n                LEFT JOIN Payment ON Booking.Booking_ID = Payment.Booking_ID\\n                WHERE Booking.Technician_ID = @technicianID \\n                    AND Booking.[Status] IN ('confirmed', 'in_progress')\\n                ORDER BY Booking.Booking_Date ASC, Booking.Booking_Time ASC\\n            \");\n        case 2:\n          result = _context6.sent;\n          res.status(200).json({\n            message: result.recordset.length > 0 ? \"Active bookings found.\" : \"No active bookings.\",\n            count: result.recordset.length,\n            bookings: result.recordset\n          });\n          _context6.next = 4;\n          break;\n        case 3:\n          _context6.prev = 3;\n          _t6 = _context6[\"catch\"](1);\n          console.error(\"Unexpected error occurred while fetching active bookings:\", _t6);\n          res.status(500).json({\n            message: \"An unexpected error occurred while fetching active bookings.\"\n          });\n        case 4:\n        case \"end\":\n          return _context6.stop();\n      }\n    }, _callee6, null, [[1, 3]]);\n  }));\n  return function (_x1, _x10) {\n    return _ref6.apply(this, arguments);\n  };\n}());\n\n// Get completed bookings for a technician\nvar getCompletedBookings = asyncHandler(/*#__PURE__*/function () {\n  var _ref7 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee7(req, res) {\n    var technicianID, pool, result, _t7;\n    return _regenerator[\"default\"].wrap(function (_context7) {\n      while (1) switch (_context7.prev = _context7.next) {\n        case 0:\n          technicianID = req.technicianID;\n          _context7.prev = 1;\n          pool = getPool();\n          _context7.next = 2;\n          return pool.request().input(\"technicianID\", sql.Int, technicianID).query(\"\\n                SELECT \\n                    Booking.Booking_ID, \\n                    Booking.[Status],\\n                    Booking.Booking_Date AS \\\"Scheduled Date\\\", \\n                    Booking.Booking_Time AS \\\"Scheduled Time\\\", \\n                    Booking.Total_Price AS \\\"Total Price\\\",\\n                    Booking.completedAt AS \\\"Completed At\\\",\\n                    Appliance_Type.nameEN AS \\\"Appliance's Name (EN)\\\", \\n                    Appliance_Type.nameAR AS \\\"Appliance's Name (AR)\\\",\\n                    Booking.Issue_Description AS \\\"Issue Description\\\",\\n                    [User].First_Name AS \\\"First Name\\\",\\n                    [User].Last_Name AS \\\"Last Name\\\", \\n                    [User].City AS \\\"City\\\",\\n                    Rating.Rating_Score AS \\\"Rating\\\",\\n                    Rating.Review_Text AS \\\"Review\\\"\\n                FROM Booking\\n                JOIN [User] ON Booking.UserID = [User].User_ID\\n                JOIN Appliance_Type ON Booking.Appliance_Type_ID = Appliance_Type.Appliance_Type_ID\\n                LEFT JOIN Rating ON Booking.Booking_ID = Rating.Booking_ID\\n                WHERE Booking.Technician_ID = @technicianID \\n                    AND Booking.[Status] = 'completed'\\n                ORDER BY Booking.completedAt DESC\\n            \");\n        case 2:\n          result = _context7.sent;\n          res.status(200).json({\n            message: result.recordset.length > 0 ? \"Completed bookings found.\" : \"No completed bookings.\",\n            count: result.recordset.length,\n            bookings: result.recordset\n          });\n          _context7.next = 4;\n          break;\n        case 3:\n          _context7.prev = 3;\n          _t7 = _context7[\"catch\"](1);\n          console.error(\"Unexpected error occurred while fetching completed bookings:\", _t7);\n          res.status(500).json({\n            message: \"An unexpected error occurred while fetching completed bookings.\"\n          });\n        case 4:\n        case \"end\":\n          return _context7.stop();\n      }\n    }, _callee7, null, [[1, 3]]);\n  }));\n  return function (_x11, _x12) {\n    return _ref7.apply(this, arguments);\n  };\n}());\nmodule.exports = {\n  getPendingBookings: getPendingBookings,\n  acceptPendingBooking: acceptPendingBooking,\n  startBooking: startBooking,\n  completeBooking: completeBooking,\n  declineBooking: declineBooking,\n  getActiveBookings: getActiveBookings,\n  getCompletedBookings: getCompletedBookings\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhc3luY0hhbmRsZXIiLCJyZXF1aXJlIiwiX3JlcXVpcmUiLCJnZXRQb29sIiwic3FsIiwiYWNjZXB0UGVuZGluZ0Jvb2tpbmciLCJfcmVmIiwiX2FzeW5jVG9HZW5lcmF0b3IyIiwiX3JlZ2VuZXJhdG9yIiwibWFyayIsIl9jYWxsZWUiLCJyZXEiLCJyZXMiLCJib29raW5nSUQiLCJ0ZWNobmljaWFuSUQiLCJwb29sIiwiY2hlY2tCb29raW5nIiwiYm9va2luZyIsInJlc3VsdCIsIl90Iiwid3JhcCIsIl9jb250ZXh0IiwicHJldiIsIm5leHQiLCJib2R5IiwiYWJydXB0Iiwic3RhdHVzIiwianNvbiIsIm1lc3NhZ2UiLCJyZXF1ZXN0IiwiaW5wdXQiLCJJbnQiLCJxdWVyeSIsInNlbnQiLCJyZWNvcmRzZXQiLCJsZW5ndGgiLCJUZWNobmljaWFuX0lEIiwiU3RhdHVzIiwiY29uY2F0IiwiY29uc29sZSIsImVycm9yIiwibnVtYmVyIiwic3RvcCIsIl94IiwiX3gyIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJzdGFydEJvb2tpbmciLCJfcmVmMiIsIl9jYWxsZWUyIiwiX3QyIiwiX2NvbnRleHQyIiwiX3gzIiwiX3g0IiwiY29tcGxldGVCb29raW5nIiwiX3JlZjMiLCJfY2FsbGVlMyIsIl90MyIsIl9jb250ZXh0MyIsIlBheW1lbnRfU3RhdHVzIiwiX3g1IiwiX3g2IiwiZGVjbGluZUJvb2tpbmciLCJfcmVmNCIsIl9jYWxsZWU0IiwiYm9va2luZ0RhdGUiLCJ0b2RheSIsIm5ld1N0YXR1cyIsIl90NCIsIl9jb250ZXh0NCIsIkRhdGUiLCJCb29raW5nX0RhdGUiLCJzZXRIb3VycyIsIlZhckNoYXIiLCJfeDciLCJfeDgiLCJnZXRQZW5kaW5nQm9va2luZ3MiLCJfcmVmNSIsIl9jYWxsZWU1IiwiX3Q1IiwiX2NvbnRleHQ1IiwiYm9va2luZ3MiLCJjb3VudCIsIl94OSIsIl94MCIsImdldEFjdGl2ZUJvb2tpbmdzIiwiX3JlZjYiLCJfY2FsbGVlNiIsIl90NiIsIl9jb250ZXh0NiIsIl94MSIsIl94MTAiLCJnZXRDb21wbGV0ZWRCb29raW5ncyIsIl9yZWY3IiwiX2NhbGxlZTciLCJfdDciLCJfY29udGV4dDciLCJfeDExIiwiX3gxMiIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9ob21lL3NlcmovRG9jdW1lbnRzL0dpdEh1Yi9GaXhBcHBsaWFuY2UtYm9va2luZ0NvbW1lcmNlL2JhY2stZW5kL3NyYy9jb250cm9sbGVycy8iLCJzb3VyY2VzIjpbIlRlY2huaWNpYW5Cb29raW5nQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFRoaXMgY29udHJvbGxlciBoYW5kbGVzIGV2ZXJ5dGhpbmcgcmVsYXRlZCB0byBib29raW5nIGFuZCB0aGUgdGVjaG5pY2lhbjpcbiAqICAxLiBUZWNobmljaWFuIGFjY2VwdGluZyBhIHBlbmRpbmcgYm9va2luZ1xuICogIDIuIFRlY2huaWNpYW4gZ2V0dGluZyBhbGwgcGVuZGluZyBib29raW5ncyBhdmFpbGFibGUgdG8gYWNjZXB0XG4gKi9cblxuY29uc3QgYXN5bmNIYW5kbGVyID0gcmVxdWlyZShcImV4cHJlc3MtYXN5bmMtaGFuZGxlclwiKTtcblxuXG4vLyBzcWwgbmVlZGVkIGZvciB0aGUgdHlwZSBkZWZpbml0aW9ucyBpbiAuaW5wdXRcbi8vIGdldFBvb2wgaXMgdG8gZG8gcXVlcmllc1xuY29uc3QgeyBnZXRQb29sLCBzcWwgfSA9IHJlcXVpcmUoXCIuLi9jb25maWcvZGF0YWJhc2VcIik7XG5cblxuLy8gVGVjaG5pY2lhbiBhY2NlcHRpbmcgYSBwZW5kaW5nIGJvb2tpbmdcbmNvbnN0IGFjY2VwdFBlbmRpbmdCb29raW5nID0gYXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgICAgICAvLyBHZXR0aW5nIHRoZSBib29raW5nIElEIGZyb20gdGhlIGJvZHkgYW5kIHRoZSB0ZWNobmljaWFuIElEIHBhc3NlZCBmcm9tIHRoZSBtaWRkbGV3YXJlXG4gICAgICAgIGNvbnN0IHsgYm9va2luZ0lEIH0gPSByZXEuYm9keTtcbiAgICAgICAgY29uc3QgdGVjaG5pY2lhbklEID0gcmVxLnRlY2huaWNpYW5JRDtcblxuICAgICAgICAvLyBJZiBubyBib29raW5nIElEIGlzIHBhc3NlZCwgdGhyb3cgYSA0MDAgZXJyb3JcbiAgICAgICAgaWYgKCFib29raW5nSUQpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJZb3UgbmVlZCB0byBwYXNzIGEgYm9va2luZyBJRC5cIn0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHBvb2wgPSBnZXRQb29sKCk7XG5cbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBib29raW5nIGV4aXN0cyBhbmQgZ2V0IGl0cyBjdXJyZW50IHN0YXR1cyBhbmQgYXNzaWduZWQgdGVjaG5pY2lhblxuICAgICAgICAgICAgY29uc3QgY2hlY2tCb29raW5nID0gYXdhaXQgcG9vbC5yZXF1ZXN0KClcbiAgICAgICAgICAgICAgICAuaW5wdXQoXCJib29raW5nSURcIiwgc3FsLkludCwgYm9va2luZ0lEKVxuICAgICAgICAgICAgICAgIC5xdWVyeShgXG4gICAgICAgICAgICAgICAgICAgIFNFTEVDVCBCb29raW5nX0lELCBbU3RhdHVzXSwgVGVjaG5pY2lhbl9JRFxuICAgICAgICAgICAgICAgICAgICBGUk9NIEJvb2tpbmdcbiAgICAgICAgICAgICAgICAgICAgV0hFUkUgQm9va2luZ19JRCA9IEBib29raW5nSURcbiAgICAgICAgICAgICAgICAgICAgYCk7XG5cbiAgICAgICAgICAgIC8vIElmIG5vIHJlc3VsdCByZXR1cm5lZCwgdGhlIGJvb2tpbmcgZG9lc24ndCBleGlzdFxuICAgICAgICAgICAgaWYgKGNoZWNrQm9va2luZy5yZWNvcmRzZXQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHttZXNzYWdlOiBcIkJvb2tpbmcgbm90IGZvdW5kLlwifSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGJvb2tpbmcgPSBjaGVja0Jvb2tpbmcucmVjb3Jkc2V0WzBdO1xuXG4gICAgICAgICAgICAvLyBDaGVjayBpZiBib29raW5nIGlzIGFscmVhZHkgYXNzaWduZWQgdG8gYW5vdGhlciB0ZWNobmljaWFuXG4gICAgICAgICAgICBpZiAoYm9va2luZy5UZWNobmljaWFuX0lEICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA5KS5qc29uKHttZXNzYWdlOiBcIlRoaXMgYm9va2luZyBpcyBhbHJlYWR5IGFzc2lnbmVkIHRvIGFub3RoZXIgdGVjaG5pY2lhbi5cIn0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDaGVjayBpZiBib29raW5nIHN0YXR1cyBpcyBwZW5kaW5nIC0gb25seSBwZW5kaW5nIGJvb2tpbmdzIGNhbiBiZSBhY2NlcHRlZFxuICAgICAgICAgICAgaWYgKGJvb2tpbmcuU3RhdHVzICE9PSAncGVuZGluZycpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IGBUaGlzIGJvb2tpbmcgaXMgJHtib29raW5nLlN0YXR1c30gYW5kIGNhbm5vdCBiZSBhY2NlcHRlZC5gfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgYm9va2luZyAtIGFzc2lnbiB0ZWNobmljaWFuIGFuZCBjaGFuZ2Ugc3RhdHVzIHRvIGNvbmZpcm1lZFxuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcG9vbC5yZXF1ZXN0KClcbiAgICAgICAgICAgICAgICAuaW5wdXQoXCJib29raW5nSURcIiwgc3FsLkludCwgYm9va2luZ0lEKVxuICAgICAgICAgICAgICAgIC5pbnB1dChcInRlY2huaWNpYW5JRFwiLCBzcWwuSW50LCB0ZWNobmljaWFuSUQpXG4gICAgICAgICAgICAgICAgLnF1ZXJ5KGBcbiAgICAgICAgICAgICAgICAgICAgVVBEQVRFIEJvb2tpbmdcbiAgICAgICAgICAgICAgICAgICAgU0VUIFRlY2huaWNpYW5fSUQgPSBAdGVjaG5pY2lhbklELFxuICAgICAgICAgICAgICAgICAgICAgICAgW1N0YXR1c10gPSAnY29uZmlybWVkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGlmaWVkQXQgPSBHRVREQVRFKClcbiAgICAgICAgICAgICAgICAgICAgV0hFUkUgQm9va2luZ19JRCA9IEBib29raW5nSURcbiAgICAgICAgICAgICAgICAgICAgYCk7XG5cbiAgICAgICAgICAgIC8vIFJldHVybiBzdWNjZXNzIHJlc3BvbnNlIHdpdGggYm9va2luZyBhbmQgdGVjaG5pY2lhbiBkZXRhaWxzXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJCb29raW5nIGFjY2VwdGVkIHN1Y2Nlc3NmdWxseS5cIixcbiAgICAgICAgICAgICAgICBib29raW5nSUQ6IGJvb2tpbmdJRCxcbiAgICAgICAgICAgICAgICB0ZWNobmljaWFuSUQ6IHRlY2huaWNpYW5JRFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIFxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQgd2hlbiB0cnlpbmcgdG8gYXBwbHkgYm9va2luZyB0byB0ZWNobmljaWFuOiBcIiwgZXJyb3IpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBGb3JlaWduIGtleSBjb25zdHJhaW50IHZpb2xhdGlvblxuICAgICAgICAgICAgaWYgKGVycm9yLm51bWJlciA9PT0gNTQ3KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttZXNzYWdlOiBcIkludmFsaWQgYm9va2luZyBvciB0ZWNobmljaWFuIElELlwifSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHttZXNzYWdlOiBcIlVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQgd2hlbiB0cnlpbmcgdG8gc2V0IGJvb2tpbmcgdG8gdGVjaG5pY2lhbi5cIn0pO1xuICAgICAgICB9XG59KVxuXG4vLyBUZWNobmljaWFuIHN0YXJ0aW5nIHdvcmsgb24gYSBjb25maXJtZWQgYm9va2luZ1xuY29uc3Qgc3RhcnRCb29raW5nID0gYXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHsgYm9va2luZ0lEIH0gPSByZXEuYm9keTtcbiAgICBjb25zdCB0ZWNobmljaWFuSUQgPSByZXEudGVjaG5pY2lhbklEO1xuXG4gICAgLy8gSWYgbm8gYm9va2luZyBJRCBpcyBwYXNzZWQsIHRocm93IGEgNDAwIGVycm9yXG4gICAgaWYgKCFib29raW5nSUQpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogXCJZb3UgbmVlZCB0byBwYXNzIGEgYm9va2luZyBJRC5cIiB9KTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgICBjb25zdCBwb29sID0gZ2V0UG9vbCgpO1xuXG4gICAgICAgIC8vIENoZWNrIGlmIHRoZSBib29raW5nIGV4aXN0cyBhbmQgYmVsb25ncyB0byB0aGlzIHRlY2huaWNpYW5cbiAgICAgICAgY29uc3QgY2hlY2tCb29raW5nID0gYXdhaXQgcG9vbC5yZXF1ZXN0KClcbiAgICAgICAgICAgIC5pbnB1dChcImJvb2tpbmdJRFwiLCBzcWwuSW50LCBib29raW5nSUQpXG4gICAgICAgICAgICAuaW5wdXQoXCJ0ZWNobmljaWFuSURcIiwgc3FsLkludCwgdGVjaG5pY2lhbklEKVxuICAgICAgICAgICAgLnF1ZXJ5KGBcbiAgICAgICAgICAgICAgICBTRUxFQ1QgQm9va2luZ19JRCwgW1N0YXR1c10sIFRlY2huaWNpYW5fSUQsIEJvb2tpbmdfRGF0ZSwgQm9va2luZ19UaW1lXG4gICAgICAgICAgICAgICAgRlJPTSBCb29raW5nXG4gICAgICAgICAgICAgICAgV0hFUkUgQm9va2luZ19JRCA9IEBib29raW5nSURcbiAgICAgICAgICAgIGApO1xuXG4gICAgICAgIC8vIElmIG5vIHJlc3VsdCByZXR1cm5lZCwgdGhlIGJvb2tpbmcgZG9lc24ndCBleGlzdFxuICAgICAgICBpZiAoY2hlY2tCb29raW5nLnJlY29yZHNldC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IG1lc3NhZ2U6IFwiQm9va2luZyBub3QgZm91bmQuXCIgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBib29raW5nID0gY2hlY2tCb29raW5nLnJlY29yZHNldFswXTtcblxuICAgICAgICAvLyBDaGVjayBpZiBib29raW5nIGlzIGFzc2lnbmVkIHRvIHRoaXMgdGVjaG5pY2lhblxuICAgICAgICBpZiAoYm9va2luZy5UZWNobmljaWFuX0lEICE9PSB0ZWNobmljaWFuSUQpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMykuanNvbih7IG1lc3NhZ2U6IFwiWW91IGFyZSBub3QgYXV0aG9yaXplZCB0byBzdGFydCB0aGlzIGJvb2tpbmcgYXMgaXQncyBub3QgYXNzaWduZWQgdG8geW91LlwiIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgYm9va2luZyBzdGF0dXMgaXMgY29uZmlybWVkIC0gb25seSBjb25maXJtZWQgYm9va2luZ3MgY2FuIGJlIHN0YXJ0ZWRcbiAgICAgICAgaWYgKGJvb2tpbmcuU3RhdHVzICE9PSAnY29uZmlybWVkJykge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogYFRoaXMgYm9va2luZyBpcyAke2Jvb2tpbmcuU3RhdHVzfSBhbmQgY2Fubm90IGJlIHN0YXJ0ZWQuIE9ubHkgY29uZmlybWVkIGJvb2tpbmdzIGNhbiBiZSBzdGFydGVkLmAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBVcGRhdGUgdGhlIGJvb2tpbmcgc3RhdHVzIHRvIGluX3Byb2dyZXNzXG4gICAgICAgIGF3YWl0IHBvb2wucmVxdWVzdCgpXG4gICAgICAgICAgICAuaW5wdXQoXCJib29raW5nSURcIiwgc3FsLkludCwgYm9va2luZ0lEKVxuICAgICAgICAgICAgLnF1ZXJ5KGBcbiAgICAgICAgICAgICAgICBVUERBVEUgQm9va2luZ1xuICAgICAgICAgICAgICAgIFNFVCBbU3RhdHVzXSA9ICdpbl9wcm9ncmVzcycsXG4gICAgICAgICAgICAgICAgICAgIG1vZGlmaWVkQXQgPSBHRVREQVRFKClcbiAgICAgICAgICAgICAgICBXSEVSRSBCb29raW5nX0lEID0gQGJvb2tpbmdJRFxuICAgICAgICAgICAgYCk7XG5cbiAgICAgICAgLy8gUmV0dXJuIHN1Y2Nlc3MgcmVzcG9uc2VcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgbWVzc2FnZTogXCJCb29raW5nIHN0YXJ0ZWQgc3VjY2Vzc2Z1bGx5LlwiLFxuICAgICAgICAgICAgYm9va2luZ0lEOiBib29raW5nSUQsXG4gICAgICAgICAgICBzdGF0dXM6IFwiaW5fcHJvZ3Jlc3NcIlxuICAgICAgICB9KTtcblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJVbmV4cGVjdGVkIGVycm9yIG9jY3VycmVkIHdoZW4gdHJ5aW5nIHRvIHN0YXJ0IGJvb2tpbmc6IFwiLCBlcnJvcik7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogXCJBbiB1bmV4cGVjdGVkIGVycm9yIG9jY3VycmVkIHdoZW4gdHJ5aW5nIHRvIHN0YXJ0IHRoZSBib29raW5nLlwiIH0pO1xuICAgIH1cbn0pO1xuXG4vLyBUZWNobmljaWFuIGNvbXBsZXRpbmcgYSBib29raW5nXG5jb25zdCBjb21wbGV0ZUJvb2tpbmcgPSBhc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3QgeyBib29raW5nSUQgfSA9IHJlcS5ib2R5O1xuICAgIGNvbnN0IHRlY2huaWNpYW5JRCA9IHJlcS50ZWNobmljaWFuSUQ7XG5cbiAgICAvLyBJZiBubyBib29raW5nIElEIGlzIHBhc3NlZCwgdGhyb3cgYSA0MDAgZXJyb3JcbiAgICBpZiAoIWJvb2tpbmdJRCkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiBcIllvdSBuZWVkIHRvIHBhc3MgYSBib29raW5nIElELlwiIH0pO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHBvb2wgPSBnZXRQb29sKCk7XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGJvb2tpbmcgZXhpc3RzIGFuZCBiZWxvbmdzIHRvIHRoaXMgdGVjaG5pY2lhblxuICAgICAgICBjb25zdCBjaGVja0Jvb2tpbmcgPSBhd2FpdCBwb29sLnJlcXVlc3QoKVxuICAgICAgICAgICAgLmlucHV0KFwiYm9va2luZ0lEXCIsIHNxbC5JbnQsIGJvb2tpbmdJRClcbiAgICAgICAgICAgIC5pbnB1dChcInRlY2huaWNpYW5JRFwiLCBzcWwuSW50LCB0ZWNobmljaWFuSUQpXG4gICAgICAgICAgICAucXVlcnkoYFxuICAgICAgICAgICAgICAgIFNFTEVDVCBiLkJvb2tpbmdfSUQsIGIuW1N0YXR1c10sIGIuVGVjaG5pY2lhbl9JRCwgcC5bU3RhdHVzXSBBUyBQYXltZW50X1N0YXR1c1xuICAgICAgICAgICAgICAgIEZST00gQm9va2luZyBiXG4gICAgICAgICAgICAgICAgSk9JTiBQYXltZW50IHAgT04gYi5Cb29raW5nX0lEID0gcC5Cb29raW5nX0lEXG4gICAgICAgICAgICAgICAgV0hFUkUgYi5Cb29raW5nX0lEID0gQGJvb2tpbmdJRFxuICAgICAgICAgICAgYCk7XG5cbiAgICAgICAgLy8gSWYgbm8gcmVzdWx0IHJldHVybmVkLCB0aGUgYm9va2luZyBkb2Vzbid0IGV4aXN0XG4gICAgICAgIGlmIChjaGVja0Jvb2tpbmcucmVjb3Jkc2V0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgbWVzc2FnZTogXCJCb29raW5nIG5vdCBmb3VuZC5cIiB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGJvb2tpbmcgPSBjaGVja0Jvb2tpbmcucmVjb3Jkc2V0WzBdO1xuXG4gICAgICAgIC8vIENoZWNrIGlmIGJvb2tpbmcgaXMgYXNzaWduZWQgdG8gdGhpcyB0ZWNobmljaWFuXG4gICAgICAgIGlmIChib29raW5nLlRlY2huaWNpYW5fSUQgIT09IHRlY2huaWNpYW5JRCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAzKS5qc29uKHsgbWVzc2FnZTogXCJZb3UgYXJlIG5vdCBhdXRob3JpemVkIHRvIGNvbXBsZXRlIHRoaXMgYm9va2luZyBhcyBpdCdzIG5vdCBhc3NpZ25lZCB0byB5b3UuXCIgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDaGVjayBpZiBib29raW5nIHN0YXR1cyBpcyBpbl9wcm9ncmVzcyAtIG9ubHkgaW5fcHJvZ3Jlc3MgYm9va2luZ3MgY2FuIGJlIGNvbXBsZXRlZFxuICAgICAgICBpZiAoYm9va2luZy5TdGF0dXMgIT09ICdpbl9wcm9ncmVzcycpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6IGBUaGlzIGJvb2tpbmcgaXMgJHtib29raW5nLlN0YXR1c30gYW5kIGNhbm5vdCBiZSBjb21wbGV0ZWQuIE9ubHkgaW4tcHJvZ3Jlc3MgYm9va2luZ3MgY2FuIGJlIG1hcmtlZCBhcyBjb21wbGV0ZWQuYCB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENoZWNrIGlmIHBheW1lbnQgaXMgY29tcGxldGVkIGJlZm9yZSBhbGxvd2luZyBjb21wbGV0aW9uXG4gICAgICAgIGlmIChib29raW5nLlBheW1lbnRfU3RhdHVzICE9PSAnY29tcGxldGVkJykge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogXCJDYW5ub3QgY29tcGxldGUgYm9va2luZyB1bnRpbCBwYXltZW50IGlzIGNvbXBsZXRlZC5cIiB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgYm9va2luZyBzdGF0dXMgdG8gY29tcGxldGVkIGFuZCBzZXQgY29tcGxldGVkQXQgdGltZXN0YW1wXG4gICAgICAgIGF3YWl0IHBvb2wucmVxdWVzdCgpXG4gICAgICAgICAgICAuaW5wdXQoXCJib29raW5nSURcIiwgc3FsLkludCwgYm9va2luZ0lEKVxuICAgICAgICAgICAgLnF1ZXJ5KGBcbiAgICAgICAgICAgICAgICBVUERBVEUgQm9va2luZ1xuICAgICAgICAgICAgICAgIFNFVCBbU3RhdHVzXSA9ICdjb21wbGV0ZWQnLFxuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZWRBdCA9IEdFVERBVEUoKSxcbiAgICAgICAgICAgICAgICAgICAgbW9kaWZpZWRBdCA9IEdFVERBVEUoKVxuICAgICAgICAgICAgICAgIFdIRVJFIEJvb2tpbmdfSUQgPSBAYm9va2luZ0lEXG4gICAgICAgICAgICBgKTtcblxuICAgICAgICAvLyBVcGRhdGUgdGVjaG5pY2lhbidzIHRvdGFsIGpvYnMgY291bnRcbiAgICAgICAgYXdhaXQgcG9vbC5yZXF1ZXN0KClcbiAgICAgICAgICAgIC5pbnB1dChcInRlY2huaWNpYW5JRFwiLCBzcWwuSW50LCB0ZWNobmljaWFuSUQpXG4gICAgICAgICAgICAucXVlcnkoYFxuICAgICAgICAgICAgICAgIFVQREFURSBUZWNobmljaWFuXG4gICAgICAgICAgICAgICAgU0VUIFRvdGFsX0pvYnMgPSBUb3RhbF9Kb2JzICsgMVxuICAgICAgICAgICAgICAgIFdIRVJFIFRlY2huaWNpYW5fSUQgPSBAdGVjaG5pY2lhbklEXG4gICAgICAgICAgICBgKTtcblxuICAgICAgICAvLyBSZXR1cm4gc3VjY2VzcyByZXNwb25zZVxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIkJvb2tpbmcgY29tcGxldGVkIHN1Y2Nlc3NmdWxseS5cIixcbiAgICAgICAgICAgIGJvb2tpbmdJRDogYm9va2luZ0lELFxuICAgICAgICAgICAgc3RhdHVzOiBcImNvbXBsZXRlZFwiXG4gICAgICAgIH0pO1xuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIlVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQgd2hlbiB0cnlpbmcgdG8gY29tcGxldGUgYm9va2luZzogXCIsIGVycm9yKTtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiBcIkFuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQgd2hlbiB0cnlpbmcgdG8gY29tcGxldGUgdGhlIGJvb2tpbmcuXCIgfSk7XG4gICAgfVxufSk7XG5cbi8vIFRlY2huaWNpYW4gZGVjbGluaW5nIGEgcGVuZGluZyBib29raW5nXG5jb25zdCBkZWNsaW5lQm9va2luZyA9IGFzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCB7IGJvb2tpbmdJRCB9ID0gcmVxLmJvZHk7XG4gICAgY29uc3QgdGVjaG5pY2lhbklEID0gcmVxLnRlY2huaWNpYW5JRDtcblxuICAgIC8vIElmIG5vIGJvb2tpbmcgSUQgaXMgcGFzc2VkLCB0aHJvdyBhIDQwMCBlcnJvclxuICAgIGlmICghYm9va2luZ0lEKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6IFwiWW91IG5lZWQgdG8gcGFzcyBhIGJvb2tpbmcgSUQuXCIgfSk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcG9vbCA9IGdldFBvb2woKTtcblxuICAgICAgICAvLyBDaGVjayBpZiB0aGUgYm9va2luZyBleGlzdHMgYW5kIGlzIGFzc2lnbmVkIHRvIHRoaXMgdGVjaG5pY2lhblxuICAgICAgICAvLyBBbHNvIGdldCBCb29raW5nX0RhdGUgYW5kIFBheW1lbnRfU3RhdHVzIHRvIHZhbGlkYXRlIGRlY2xpbmUgcmVxdWVzdFxuICAgICAgICBjb25zdCBjaGVja0Jvb2tpbmcgPSBhd2FpdCBwb29sLnJlcXVlc3QoKVxuICAgICAgICAgICAgLmlucHV0KFwiYm9va2luZ0lEXCIsIHNxbC5JbnQsIGJvb2tpbmdJRClcbiAgICAgICAgICAgIC5xdWVyeShgXG4gICAgICAgICAgICAgICAgU0VMRUNUIGIuQm9va2luZ19JRCwgYi5bU3RhdHVzXSwgYi5UZWNobmljaWFuX0lELCBiLkJvb2tpbmdfRGF0ZSwgcC5bU3RhdHVzXSBBUyBQYXltZW50X1N0YXR1c1xuICAgICAgICAgICAgICAgIEZST00gQm9va2luZyBiXG4gICAgICAgICAgICAgICAgTEVGVCBKT0lOIFBheW1lbnQgcCBPTiBiLkJvb2tpbmdfSUQgPSBwLkJvb2tpbmdfSURcbiAgICAgICAgICAgICAgICBXSEVSRSBiLkJvb2tpbmdfSUQgPSBAYm9va2luZ0lEXG4gICAgICAgICAgICBgKTtcblxuICAgICAgICAvLyBJZiBubyByZXN1bHQgcmV0dXJuZWQsIHRoZSBib29raW5nIGRvZXNuJ3QgZXhpc3RcbiAgICAgICAgaWYgKGNoZWNrQm9va2luZy5yZWNvcmRzZXQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBtZXNzYWdlOiBcIkJvb2tpbmcgbm90IGZvdW5kLlwiIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYm9va2luZyA9IGNoZWNrQm9va2luZy5yZWNvcmRzZXRbMF07XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgYm9va2luZyBpcyBhc3NpZ25lZCB0byB0aGlzIHRlY2huaWNpYW5cbiAgICAgICAgaWYgKGJvb2tpbmcuVGVjaG5pY2lhbl9JRCAhPT0gdGVjaG5pY2lhbklEKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDMpLmpzb24oeyBtZXNzYWdlOiBcIllvdSBhcmUgbm90IGF1dGhvcml6ZWQgdG8gZGVjbGluZSB0aGlzIGJvb2tpbmcgYXMgaXQncyBub3QgYXNzaWduZWQgdG8geW91LlwiIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgYm9va2luZyBzdGF0dXMgaXMgY29uZmlybWVkIC0gb25seSBjb25maXJtZWQgYm9va2luZ3MgY2FuIGJlIGRlY2xpbmVkIGJ5IHRlY2huaWNpYW5cbiAgICAgICAgaWYgKGJvb2tpbmcuU3RhdHVzICE9PSAnY29uZmlybWVkJykge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogYFRoaXMgYm9va2luZyBpcyAke2Jvb2tpbmcuU3RhdHVzfSBhbmQgY2Fubm90IGJlIGRlY2xpbmVkLiBPbmx5IGNvbmZpcm1lZCBib29raW5ncyBjYW4gYmUgZGVjbGluZWQuYCB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENoZWNrIGlmIHBheW1lbnQgaXMgYWxyZWFkeSBjb21wbGV0ZWQgLSBjYW5ub3QgZGVjbGluZSBhIHBhaWQgYm9va2luZ1xuICAgICAgICBpZiAoYm9va2luZy5QYXltZW50X1N0YXR1cyA9PT0gJ2NvbXBsZXRlZCcpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6IFwiQ2Fubm90IGRlY2xpbmUgYSBib29raW5nIHRoYXQgaGFzIGFscmVhZHkgYmVlbiBwYWlkLiBQbGVhc2UgY29udGFjdCB0aGUgY3VzdG9tZXIgb3Igc3VwcG9ydC5cIiB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIERldGVybWluZSBuZXcgc3RhdHVzIGJhc2VkIG9uIGJvb2tpbmcgZGF0ZVxuICAgICAgICAvLyBDb25zdHJhaW50OiBwZW5kaW5nIGJvb2tpbmdzIE1VU1QgaGF2ZSBCb29raW5nX0RhdGUgPj0gdG9kYXkncyBkYXRlXG4gICAgICAgIGNvbnN0IGJvb2tpbmdEYXRlID0gbmV3IERhdGUoYm9va2luZy5Cb29raW5nX0RhdGUpO1xuICAgICAgICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCk7XG4gICAgICAgIHRvZGF5LnNldEhvdXJzKDAsIDAsIDAsIDApO1xuICAgICAgICBib29raW5nRGF0ZS5zZXRIb3VycygwLCAwLCAwLCAwKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IG5ld1N0YXR1cyA9IGJvb2tpbmdEYXRlID49IHRvZGF5ID8gJ3BlbmRpbmcnIDogJ2NhbmNlbGxlZCc7XG5cbiAgICAgICAgLy8gVXBkYXRlIHRoZSBib29raW5nIC0gcmVtb3ZlIHRlY2huaWNpYW4gYXNzaWdubWVudCBhbmQgY2hhbmdlIHN0YXR1c1xuICAgICAgICBhd2FpdCBwb29sLnJlcXVlc3QoKVxuICAgICAgICAgICAgLmlucHV0KFwiYm9va2luZ0lEXCIsIHNxbC5JbnQsIGJvb2tpbmdJRClcbiAgICAgICAgICAgIC5pbnB1dChcIm5ld1N0YXR1c1wiLCBzcWwuVmFyQ2hhciwgbmV3U3RhdHVzKVxuICAgICAgICAgICAgLnF1ZXJ5KGBcbiAgICAgICAgICAgICAgICBVUERBVEUgQm9va2luZ1xuICAgICAgICAgICAgICAgIFNFVCBUZWNobmljaWFuX0lEID0gTlVMTCxcbiAgICAgICAgICAgICAgICAgICAgW1N0YXR1c10gPSBAbmV3U3RhdHVzLFxuICAgICAgICAgICAgICAgICAgICBtb2RpZmllZEF0ID0gR0VUREFURSgpXG4gICAgICAgICAgICAgICAgV0hFUkUgQm9va2luZ19JRCA9IEBib29raW5nSURcbiAgICAgICAgICAgIGApO1xuXG4gICAgICAgIC8vIFJldHVybiBzdWNjZXNzIHJlc3BvbnNlXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IG5ld1N0YXR1cyA9PT0gJ3BlbmRpbmcnIFxuICAgICAgICAgICAgICAgID8gXCJCb29raW5nIGRlY2xpbmVkIHN1Y2Nlc3NmdWxseS4gSXQgaXMgbm93IGF2YWlsYWJsZSBmb3Igb3RoZXIgdGVjaG5pY2lhbnMuXCJcbiAgICAgICAgICAgICAgICA6IFwiQm9va2luZyBkZWNsaW5lZCBzdWNjZXNzZnVsbHkuIEl0IGhhcyBiZWVuIGNhbmNlbGxlZCBhcyB0aGUgc2NoZWR1bGVkIGRhdGUgaGFzIHBhc3NlZC5cIixcbiAgICAgICAgICAgIGJvb2tpbmdJRDogYm9va2luZ0lELFxuICAgICAgICAgICAgc3RhdHVzOiBuZXdTdGF0dXNcbiAgICAgICAgfSk7XG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiVW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZCB3aGVuIHRyeWluZyB0byBkZWNsaW5lIGJvb2tpbmc6IFwiLCBlcnJvcik7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogXCJBbiB1bmV4cGVjdGVkIGVycm9yIG9jY3VycmVkIHdoZW4gdHJ5aW5nIHRvIGRlY2xpbmUgdGhlIGJvb2tpbmcuXCIgfSk7XG4gICAgfVxufSk7XG5cbi8vIEdldCBhbGwgcGVuZGluZyBib29raW5ncyBhdmFpbGFibGUgZm9yIHRlY2huaWNpYW5zIHRvIGFjY2VwdFxuY29uc3QgZ2V0UGVuZGluZ0Jvb2tpbmdzID0gYXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHBvb2wgPSBnZXRQb29sKCk7XG4gICAgICAgXG4gICAgICAgIC8vIFF1ZXJ5IGFsbCBwZW5kaW5nIGJvb2tpbmdzIHdpdGggdXNlciBhbmQgYXBwbGlhbmNlIGRldGFpbHNcbiAgICAgICAgLy8gT3JkZXJlZCBieSBkYXRlIGFuZCB0aW1lIChlYXJsaWVzdCBmaXJzdClcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcG9vbC5yZXF1ZXN0KClcbiAgICAgICAgICAgIC5xdWVyeShgXG4gICAgICAgICAgICAgICAgU0VMRUNUIFxuICAgICAgICAgICAgICAgICAgICBCb29raW5nLkJvb2tpbmdfSUQsIFxuICAgICAgICAgICAgICAgICAgICBCb29raW5nLkJvb2tpbmdfRGF0ZSBBUyBcIlNjaGVkdWxlZCBEYXRlXCIsIFxuICAgICAgICAgICAgICAgICAgICBCb29raW5nLkJvb2tpbmdfVGltZSBBUyBcIlNjaGVkdWxlZCBUaW1lXCIsIFxuICAgICAgICAgICAgICAgICAgICBCb29raW5nLlRvdGFsX1ByaWNlIEFTIFwiVG90YWwgUHJpY2VcIiwgXG4gICAgICAgICAgICAgICAgICAgIEFwcGxpYW5jZV9UeXBlLm5hbWVFTiBBUyBcIkFwcGxpYW5jZSdzIE5hbWUgKEVOKVwiLCBcbiAgICAgICAgICAgICAgICAgICAgQXBwbGlhbmNlX1R5cGUubmFtZUFSIEFTIFwiQXBwbGlhbmNlJ3MgTmFtZSAoQVIpXCIsXG4gICAgICAgICAgICAgICAgICAgIEJvb2tpbmcuSXNzdWVfRGVzY3JpcHRpb24gQVMgXCJJc3N1ZSBEZXNjcmlwdGlvblwiLFxuICAgICAgICAgICAgICAgICAgICBbVXNlcl0uRmlyc3RfTmFtZSBBUyBcIkZpcnN0IE5hbWVcIixcbiAgICAgICAgICAgICAgICAgICAgW1VzZXJdLkxhc3RfTmFtZSBBUyBcIkxhc3QgTmFtZVwiLCBcbiAgICAgICAgICAgICAgICAgICAgW1VzZXJdLlBob25lIEFTIFwiUGhvbmUgTnVtYmVyXCIsXG4gICAgICAgICAgICAgICAgICAgIFtVc2VyXS5DaXR5IEFTIFwiQ2l0eVwiLFxuICAgICAgICAgICAgICAgICAgICBbVXNlcl0uU3RyZWV0X0FkZHJlc3MgQVMgXCJTdHJlZXQgQWRkcmVzc1wiLCBcbiAgICAgICAgICAgICAgICAgICAgW1VzZXJdLkJ1aWxkaW5nX05hbWUgQVMgXCJCdWlsZGluZyBOYW1lXCIsIFxuICAgICAgICAgICAgICAgICAgICBbVXNlcl0uRmxvb3IgQVMgXCJCdWlsZGluZyBGbG9vclwiLCBcbiAgICAgICAgICAgICAgICAgICAgW1VzZXJdLlBvc3RhbF9Db2RlIEFTIFwiUG9zdGFsIENvZGVcIlxuICAgICAgICAgICAgICAgIEZST00gQm9va2luZ1xuICAgICAgICAgICAgICAgIEpPSU4gW1VzZXJdIE9OIEJvb2tpbmcuVXNlcklEID0gW1VzZXJdLlVzZXJfSURcbiAgICAgICAgICAgICAgICBKT0lOIEFwcGxpYW5jZV9UeXBlIE9OIEJvb2tpbmcuQXBwbGlhbmNlX1R5cGVfSUQgPSBBcHBsaWFuY2VfVHlwZS5BcHBsaWFuY2VfVHlwZV9JRFxuICAgICAgICAgICAgICAgIFdIRVJFIEJvb2tpbmcuW1N0YXR1c10gPSAncGVuZGluZydcbiAgICAgICAgICAgICAgICBPUkRFUiBCWSBCb29raW5nLkJvb2tpbmdfRGF0ZSBBU0MsIEJvb2tpbmcuQm9va2luZ19UaW1lIEFTQ1xuICAgICAgICAgICAgYCk7XG5cbiAgICAgICAgLy8gSWYgbm8gcGVuZGluZyBib29raW5ncyBmb3VuZCwgcmV0dXJuIGVtcHR5IGFycmF5IHdpdGggaW5mb3JtYXRpdmUgbWVzc2FnZVxuICAgICAgICBpZiAocmVzdWx0LnJlY29yZHNldC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJObyBwZW5kaW5nIGJvb2tpbmdzIGZvdW5kLlwiLFxuICAgICAgICAgICAgICAgIGJvb2tpbmdzOiBbXVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZXR1cm4gcGVuZGluZyBib29raW5ncyB3aXRoIGNvdW50XG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiVGhlcmUgYXJlIHBlbmRpbmcgYm9va2luZ3MuXCIsXG4gICAgICAgICAgICBjb3VudDogcmVzdWx0LnJlY29yZHNldC5sZW5ndGgsXG4gICAgICAgICAgICBib29raW5nczogcmVzdWx0LnJlY29yZHNldFxuICAgICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiVW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZCB3aGlsZSBmZXRjaGluZyBwZW5kaW5nIGJvb2tpbmdzOlwiLCBlcnJvcik7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHttZXNzYWdlOiBcIkFuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQgd2hpbGUgZmV0Y2hpbmcgcGVuZGluZyBib29raW5ncy5cIn0pO1xuICAgIH1cbn0pXG5cbi8vIEdldCBhY3RpdmUgYm9va2luZ3MgYXNzaWduZWQgdG8gYSB0ZWNobmljaWFuIChjb25maXJtZWQgKyBpbl9wcm9ncmVzcylcbmNvbnN0IGdldEFjdGl2ZUJvb2tpbmdzID0gYXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHRlY2huaWNpYW5JRCA9IHJlcS50ZWNobmljaWFuSUQ7XG5cbiAgICB0cnkge1xuICAgICAgICBjb25zdCBwb29sID0gZ2V0UG9vbCgpO1xuICAgICAgIFxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwb29sLnJlcXVlc3QoKVxuICAgICAgICAgICAgLmlucHV0KFwidGVjaG5pY2lhbklEXCIsIHNxbC5JbnQsIHRlY2huaWNpYW5JRClcbiAgICAgICAgICAgIC5xdWVyeShgXG4gICAgICAgICAgICAgICAgU0VMRUNUIFxuICAgICAgICAgICAgICAgICAgICBCb29raW5nLkJvb2tpbmdfSUQsIFxuICAgICAgICAgICAgICAgICAgICBCb29raW5nLltTdGF0dXNdLFxuICAgICAgICAgICAgICAgICAgICBCb29raW5nLkJvb2tpbmdfRGF0ZSBBUyBcIlNjaGVkdWxlZCBEYXRlXCIsIFxuICAgICAgICAgICAgICAgICAgICBCb29raW5nLkJvb2tpbmdfVGltZSBBUyBcIlNjaGVkdWxlZCBUaW1lXCIsIFxuICAgICAgICAgICAgICAgICAgICBCb29raW5nLlRvdGFsX1ByaWNlIEFTIFwiVG90YWwgUHJpY2VcIiwgXG4gICAgICAgICAgICAgICAgICAgIEFwcGxpYW5jZV9UeXBlLm5hbWVFTiBBUyBcIkFwcGxpYW5jZSdzIE5hbWUgKEVOKVwiLCBcbiAgICAgICAgICAgICAgICAgICAgQXBwbGlhbmNlX1R5cGUubmFtZUFSIEFTIFwiQXBwbGlhbmNlJ3MgTmFtZSAoQVIpXCIsXG4gICAgICAgICAgICAgICAgICAgIEJvb2tpbmcuSXNzdWVfRGVzY3JpcHRpb24gQVMgXCJJc3N1ZSBEZXNjcmlwdGlvblwiLFxuICAgICAgICAgICAgICAgICAgICBbVXNlcl0uRmlyc3RfTmFtZSBBUyBcIkZpcnN0IE5hbWVcIixcbiAgICAgICAgICAgICAgICAgICAgW1VzZXJdLkxhc3RfTmFtZSBBUyBcIkxhc3QgTmFtZVwiLCBcbiAgICAgICAgICAgICAgICAgICAgW1VzZXJdLlBob25lIEFTIFwiUGhvbmUgTnVtYmVyXCIsXG4gICAgICAgICAgICAgICAgICAgIFtVc2VyXS5DaXR5IEFTIFwiQ2l0eVwiLFxuICAgICAgICAgICAgICAgICAgICBbVXNlcl0uU3RyZWV0X0FkZHJlc3MgQVMgXCJTdHJlZXQgQWRkcmVzc1wiLCBcbiAgICAgICAgICAgICAgICAgICAgW1VzZXJdLkJ1aWxkaW5nX05hbWUgQVMgXCJCdWlsZGluZyBOYW1lXCIsIFxuICAgICAgICAgICAgICAgICAgICBbVXNlcl0uRmxvb3IgQVMgXCJCdWlsZGluZyBGbG9vclwiLCBcbiAgICAgICAgICAgICAgICAgICAgW1VzZXJdLlBvc3RhbF9Db2RlIEFTIFwiUG9zdGFsIENvZGVcIixcbiAgICAgICAgICAgICAgICAgICAgUGF5bWVudC5bU3RhdHVzXSBBUyBcIlBheW1lbnQgU3RhdHVzXCJcbiAgICAgICAgICAgICAgICBGUk9NIEJvb2tpbmdcbiAgICAgICAgICAgICAgICBKT0lOIFtVc2VyXSBPTiBCb29raW5nLlVzZXJJRCA9IFtVc2VyXS5Vc2VyX0lEXG4gICAgICAgICAgICAgICAgSk9JTiBBcHBsaWFuY2VfVHlwZSBPTiBCb29raW5nLkFwcGxpYW5jZV9UeXBlX0lEID0gQXBwbGlhbmNlX1R5cGUuQXBwbGlhbmNlX1R5cGVfSURcbiAgICAgICAgICAgICAgICBMRUZUIEpPSU4gUGF5bWVudCBPTiBCb29raW5nLkJvb2tpbmdfSUQgPSBQYXltZW50LkJvb2tpbmdfSURcbiAgICAgICAgICAgICAgICBXSEVSRSBCb29raW5nLlRlY2huaWNpYW5fSUQgPSBAdGVjaG5pY2lhbklEIFxuICAgICAgICAgICAgICAgICAgICBBTkQgQm9va2luZy5bU3RhdHVzXSBJTiAoJ2NvbmZpcm1lZCcsICdpbl9wcm9ncmVzcycpXG4gICAgICAgICAgICAgICAgT1JERVIgQlkgQm9va2luZy5Cb29raW5nX0RhdGUgQVNDLCBCb29raW5nLkJvb2tpbmdfVGltZSBBU0NcbiAgICAgICAgICAgIGApO1xuXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IHJlc3VsdC5yZWNvcmRzZXQubGVuZ3RoID4gMCA/IFwiQWN0aXZlIGJvb2tpbmdzIGZvdW5kLlwiIDogXCJObyBhY3RpdmUgYm9va2luZ3MuXCIsXG4gICAgICAgICAgICBjb3VudDogcmVzdWx0LnJlY29yZHNldC5sZW5ndGgsXG4gICAgICAgICAgICBib29raW5nczogcmVzdWx0LnJlY29yZHNldFxuICAgICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiVW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZCB3aGlsZSBmZXRjaGluZyBhY3RpdmUgYm9va2luZ3M6XCIsIGVycm9yKTtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe21lc3NhZ2U6IFwiQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZCB3aGlsZSBmZXRjaGluZyBhY3RpdmUgYm9va2luZ3MuXCJ9KTtcbiAgICB9XG59KVxuXG4vLyBHZXQgY29tcGxldGVkIGJvb2tpbmdzIGZvciBhIHRlY2huaWNpYW5cbmNvbnN0IGdldENvbXBsZXRlZEJvb2tpbmdzID0gYXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHRlY2huaWNpYW5JRCA9IHJlcS50ZWNobmljaWFuSUQ7XG5cbiAgICB0cnkge1xuICAgICAgICBjb25zdCBwb29sID0gZ2V0UG9vbCgpO1xuICAgICAgIFxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwb29sLnJlcXVlc3QoKVxuICAgICAgICAgICAgLmlucHV0KFwidGVjaG5pY2lhbklEXCIsIHNxbC5JbnQsIHRlY2huaWNpYW5JRClcbiAgICAgICAgICAgIC5xdWVyeShgXG4gICAgICAgICAgICAgICAgU0VMRUNUIFxuICAgICAgICAgICAgICAgICAgICBCb29raW5nLkJvb2tpbmdfSUQsIFxuICAgICAgICAgICAgICAgICAgICBCb29raW5nLltTdGF0dXNdLFxuICAgICAgICAgICAgICAgICAgICBCb29raW5nLkJvb2tpbmdfRGF0ZSBBUyBcIlNjaGVkdWxlZCBEYXRlXCIsIFxuICAgICAgICAgICAgICAgICAgICBCb29raW5nLkJvb2tpbmdfVGltZSBBUyBcIlNjaGVkdWxlZCBUaW1lXCIsIFxuICAgICAgICAgICAgICAgICAgICBCb29raW5nLlRvdGFsX1ByaWNlIEFTIFwiVG90YWwgUHJpY2VcIixcbiAgICAgICAgICAgICAgICAgICAgQm9va2luZy5jb21wbGV0ZWRBdCBBUyBcIkNvbXBsZXRlZCBBdFwiLFxuICAgICAgICAgICAgICAgICAgICBBcHBsaWFuY2VfVHlwZS5uYW1lRU4gQVMgXCJBcHBsaWFuY2UncyBOYW1lIChFTilcIiwgXG4gICAgICAgICAgICAgICAgICAgIEFwcGxpYW5jZV9UeXBlLm5hbWVBUiBBUyBcIkFwcGxpYW5jZSdzIE5hbWUgKEFSKVwiLFxuICAgICAgICAgICAgICAgICAgICBCb29raW5nLklzc3VlX0Rlc2NyaXB0aW9uIEFTIFwiSXNzdWUgRGVzY3JpcHRpb25cIixcbiAgICAgICAgICAgICAgICAgICAgW1VzZXJdLkZpcnN0X05hbWUgQVMgXCJGaXJzdCBOYW1lXCIsXG4gICAgICAgICAgICAgICAgICAgIFtVc2VyXS5MYXN0X05hbWUgQVMgXCJMYXN0IE5hbWVcIiwgXG4gICAgICAgICAgICAgICAgICAgIFtVc2VyXS5DaXR5IEFTIFwiQ2l0eVwiLFxuICAgICAgICAgICAgICAgICAgICBSYXRpbmcuUmF0aW5nX1Njb3JlIEFTIFwiUmF0aW5nXCIsXG4gICAgICAgICAgICAgICAgICAgIFJhdGluZy5SZXZpZXdfVGV4dCBBUyBcIlJldmlld1wiXG4gICAgICAgICAgICAgICAgRlJPTSBCb29raW5nXG4gICAgICAgICAgICAgICAgSk9JTiBbVXNlcl0gT04gQm9va2luZy5Vc2VySUQgPSBbVXNlcl0uVXNlcl9JRFxuICAgICAgICAgICAgICAgIEpPSU4gQXBwbGlhbmNlX1R5cGUgT04gQm9va2luZy5BcHBsaWFuY2VfVHlwZV9JRCA9IEFwcGxpYW5jZV9UeXBlLkFwcGxpYW5jZV9UeXBlX0lEXG4gICAgICAgICAgICAgICAgTEVGVCBKT0lOIFJhdGluZyBPTiBCb29raW5nLkJvb2tpbmdfSUQgPSBSYXRpbmcuQm9va2luZ19JRFxuICAgICAgICAgICAgICAgIFdIRVJFIEJvb2tpbmcuVGVjaG5pY2lhbl9JRCA9IEB0ZWNobmljaWFuSUQgXG4gICAgICAgICAgICAgICAgICAgIEFORCBCb29raW5nLltTdGF0dXNdID0gJ2NvbXBsZXRlZCdcbiAgICAgICAgICAgICAgICBPUkRFUiBCWSBCb29raW5nLmNvbXBsZXRlZEF0IERFU0NcbiAgICAgICAgICAgIGApO1xuXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IHJlc3VsdC5yZWNvcmRzZXQubGVuZ3RoID4gMCA/IFwiQ29tcGxldGVkIGJvb2tpbmdzIGZvdW5kLlwiIDogXCJObyBjb21wbGV0ZWQgYm9va2luZ3MuXCIsXG4gICAgICAgICAgICBjb3VudDogcmVzdWx0LnJlY29yZHNldC5sZW5ndGgsXG4gICAgICAgICAgICBib29raW5nczogcmVzdWx0LnJlY29yZHNldFxuICAgICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiVW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZCB3aGlsZSBmZXRjaGluZyBjb21wbGV0ZWQgYm9va2luZ3M6XCIsIGVycm9yKTtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe21lc3NhZ2U6IFwiQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZCB3aGlsZSBmZXRjaGluZyBjb21wbGV0ZWQgYm9va2luZ3MuXCJ9KTtcbiAgICB9XG59KVxuXG5cbm1vZHVsZS5leHBvcnRzID0ge2dldFBlbmRpbmdCb29raW5ncywgYWNjZXB0UGVuZGluZ0Jvb2tpbmcsIHN0YXJ0Qm9va2luZywgY29tcGxldGVCb29raW5nLCBkZWNsaW5lQm9va2luZywgZ2V0QWN0aXZlQm9va2luZ3MsIGdldENvbXBsZXRlZEJvb2tpbmdzfTsiXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxJQUFNQSxZQUFZLEdBQUdDLE9BQU8sQ0FBQyx1QkFBdUIsQ0FBQzs7QUFHckQ7QUFDQTtBQUNBLElBQUFDLFFBQUEsR0FBeUJELE9BQU8sQ0FBQyxvQkFBb0IsQ0FBQztFQUE5Q0UsT0FBTyxHQUFBRCxRQUFBLENBQVBDLE9BQU87RUFBRUMsR0FBRyxHQUFBRixRQUFBLENBQUhFLEdBQUc7O0FBR3BCO0FBQ0EsSUFBTUMsb0JBQW9CLEdBQUdMLFlBQVk7RUFBQSxJQUFBTSxJQUFBLE9BQUFDLGtCQUFBLDBCQUFBQyxZQUFBLFlBQUFDLElBQUEsQ0FBQyxTQUFBQyxRQUFPQyxHQUFHLEVBQUVDLEdBQUc7SUFBQSxJQUFBQyxTQUFBLEVBQUFDLFlBQUEsRUFBQUMsSUFBQSxFQUFBQyxZQUFBLEVBQUFDLE9BQUEsRUFBQUMsTUFBQSxFQUFBQyxFQUFBO0lBQUEsT0FBQVgsWUFBQSxZQUFBWSxJQUFBLFdBQUFDLFFBQUE7TUFBQSxrQkFBQUEsUUFBQSxDQUFB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","map":{"version":3,"names":["asyncHandler","require","_require","getPool","sql","acceptPendingBooking","_ref","_asyncToGenerator2","_regenerator","mark","_callee","req","res","bookingID","technicianID","pool","checkBooking","booking","result","_t","wrap","_context","prev","next","body","abrupt","status","json","message","request","input","Int","query","sent","recordset","length","Technician_ID","Status","concat","console","error","number","stop","_x","_x2","apply","arguments","startBooking","_ref2","_callee2","_t2","_context2","_x3","_x4","completeBooking","_ref3","_callee3","_t3","_context3","Payment_Status","_x5","_x6","declineBooking","_ref4","_callee4","bookingDate","today","newStatus","_t4","_context4","Date","Booking_Date","setHours","VarChar","_x7","_x8","getPendingBookings","_ref5","_callee5","_t5","_context5","bookings","count","_x9","_x0","getActiveBookings","_ref6","_callee6","_t6","_context6","_x1","_x10","getCompletedBookings","_ref7","_callee7","_t7","_context7","_x11","_x12","module","exports"],"sourceRoot":"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/controllers/","sources":["TechnicianBookingController.js"],"sourcesContent":["/**\n * This controller handles everything related to booking and the technician:\n *  1. Technician accepting a pending booking\n *  2. Technician getting all pending bookings available to accept\n */\n\nconst asyncHandler = require(\"express-async-handler\");\n\n\n// sql needed for the type definitions in .input\n// getPool is to do queries\nconst { getPool, sql } = require(\"../config/database\");\n\n\n// Technician accepting a pending booking\nconst acceptPendingBooking = asyncHandler(async (req, res) => {\n        // Getting the booking ID from the body and the technician ID passed from the middleware\n        const { bookingID } = req.body;\n        const technicianID = req.technicianID;\n\n        // If no booking ID is passed, throw a 400 error\n        if (!bookingID) {\n            return res.status(400).json({message: \"You need to pass a booking ID.\"});\n        }\n\n        try {\n            const pool = getPool();\n\n            // Check if the booking exists and get its current status and assigned technician\n            const checkBooking = await pool.request()\n                .input(\"bookingID\", sql.Int, bookingID)\n                .query(`\n                    SELECT Booking_ID, [Status], Technician_ID\n                    FROM Booking\n                    WHERE Booking_ID = @bookingID\n                    `);\n\n            // If no result returned, the booking doesn't exist\n            if (checkBooking.recordset.length === 0) {\n                return res.status(404).json({message: \"Booking not found.\"});\n            }\n\n            const booking = checkBooking.recordset[0];\n\n            // Check if booking is already assigned to another technician\n            if (booking.Technician_ID !== null) {\n                return res.status(409).json({message: \"This booking is already assigned to another technician.\"});\n            }\n\n            // Check if booking status is pending - only pending bookings can be accepted\n            if (booking.Status !== 'pending') {\n                return res.status(400).json({message: `This booking is ${booking.Status} and cannot be accepted.`});\n            }\n\n            // Update the booking - assign technician and change status to confirmed\n            const result = await pool.request()\n                .input(\"bookingID\", sql.Int, bookingID)\n                .input(\"technicianID\", sql.Int, technicianID)\n                .query(`\n                    UPDATE Booking\n                    SET Technician_ID = @technicianID,\n                        [Status] = 'confirmed',\n                        modifiedAt = GETDATE()\n                    WHERE Booking_ID = @bookingID\n                    `);\n\n            // Return success response with booking and technician details\n            res.status(200).json({\n                message: \"Booking accepted successfully.\",\n                bookingID: bookingID,\n                technicianID: technicianID\n            });\n\n            \n        } catch (error) {\n            console.error(\"Unexpected error occurred when trying to apply booking to technician: \", error);\n            \n            // Foreign key constraint violation\n            if (error.number === 547) {\n                return res.status(400).json({message: \"Invalid booking or technician ID.\"});\n            }\n\n            res.status(500).json({message: \"Unexpected error occurred when trying to set booking to technician.\"});\n        }\n})\n\n// Technician starting work on a confirmed booking\nconst startBooking = asyncHandler(async (req, res) => {\n    const { bookingID } = req.body;\n    const technicianID = req.technicianID;\n\n    // If no booking ID is passed, throw a 400 error\n    if (!bookingID) {\n        return res.status(400).json({ message: \"You need to pass a booking ID.\" });\n    }\n\n    try {\n        const pool = getPool();\n\n        // Check if the booking exists and belongs to this technician\n        const checkBooking = await pool.request()\n            .input(\"bookingID\", sql.Int, bookingID)\n            .input(\"technicianID\", sql.Int, technicianID)\n            .query(`\n                SELECT Booking_ID, [Status], Technician_ID, Booking_Date, Booking_Time\n                FROM Booking\n                WHERE Booking_ID = @bookingID\n            `);\n\n        // If no result returned, the booking doesn't exist\n        if (checkBooking.recordset.length === 0) {\n            return res.status(404).json({ message: \"Booking not found.\" });\n        }\n\n        const booking = checkBooking.recordset[0];\n\n        // Check if booking is assigned to this technician\n        if (booking.Technician_ID !== technicianID) {\n            return res.status(403).json({ message: \"You are not authorized to start this booking as it's not assigned to you.\" });\n        }\n\n        // Check if booking status is confirmed - only confirmed bookings can be started\n        if (booking.Status !== 'confirmed') {\n            return res.status(400).json({ message: `This booking is ${booking.Status} and cannot be started. Only confirmed bookings can be started.` });\n        }\n\n        // Update the booking status to in_progress\n        await pool.request()\n            .input(\"bookingID\", sql.Int, bookingID)\n            .query(`\n                UPDATE Booking\n                SET [Status] = 'in_progress',\n                    modifiedAt = GETDATE()\n                WHERE Booking_ID = @bookingID\n            `);\n\n        // Return success response\n        res.status(200).json({\n            message: \"Booking started successfully.\",\n            bookingID: bookingID,\n            status: \"in_progress\"\n        });\n\n    } catch (error) {\n        console.error(\"Unexpected error occurred when trying to start booking: \", error);\n        res.status(500).json({ message: \"An unexpected error occurred when trying to start the booking.\" });\n    }\n});\n\n// Technician completing a booking\nconst completeBooking = asyncHandler(async (req, res) => {\n    const { bookingID } = req.body;\n    const technicianID = req.technicianID;\n\n    // If no booking ID is passed, throw a 400 error\n    if (!bookingID) {\n        return res.status(400).json({ message: \"You need to pass a booking ID.\" });\n    }\n\n    try {\n        const pool = getPool();\n\n        // Check if the booking exists and belongs to this technician\n        const checkBooking = await pool.request()\n            .input(\"bookingID\", sql.Int, bookingID)\n            .input(\"technicianID\", sql.Int, technicianID)\n            .query(`\n                SELECT b.Booking_ID, b.[Status], b.Technician_ID, p.[Status] AS Payment_Status\n                FROM Booking b\n                JOIN Payment p ON b.Booking_ID = p.Booking_ID\n                WHERE b.Booking_ID = @bookingID\n            `);\n\n        // If no result returned, the booking doesn't exist\n        if (checkBooking.recordset.length === 0) {\n            return res.status(404).json({ message: \"Booking not found.\" });\n        }\n\n        const booking = checkBooking.recordset[0];\n\n        // Check if booking is assigned to this technician\n        if (booking.Technician_ID !== technicianID) {\n            return res.status(403).json({ message: \"You are not authorized to complete this booking as it's not assigned to you.\" });\n        }\n\n        // Check if booking status is in_progress - only in_progress bookings can be completed\n        if (booking.Status !== 'in_progress') {\n            return res.status(400).json({ message: `This booking is ${booking.Status} and cannot be completed. Only in-progress bookings can be marked as completed.` });\n        }\n\n        // Check if payment is completed before allowing completion\n        if (booking.Payment_Status !== 'completed') {\n            return res.status(400).json({ message: \"Cannot complete booking until payment is completed.\" });\n        }\n\n        // Update the booking status to completed and set completedAt timestamp\n        await pool.request()\n            .input(\"bookingID\", sql.Int, bookingID)\n            .query(`\n                UPDATE Booking\n                SET [Status] = 'completed',\n                    completedAt = GETDATE(),\n                    modifiedAt = GETDATE()\n                WHERE Booking_ID = @bookingID\n            `);\n\n        // Update technician's total jobs count\n        await pool.request()\n            .input(\"technicianID\", sql.Int, technicianID)\n            .query(`\n                UPDATE Technician\n                SET Total_Jobs = Total_Jobs + 1\n                WHERE Technician_ID = @technicianID\n            `);\n\n        // Return success response\n        res.status(200).json({\n            message: \"Booking completed successfully.\",\n            bookingID: bookingID,\n            status: \"completed\"\n        });\n\n    } catch (error) {\n        console.error(\"Unexpected error occurred when trying to complete booking: \", error);\n        res.status(500).json({ message: \"An unexpected error occurred when trying to complete the booking.\" });\n    }\n});\n\n// Technician declining a pending booking\nconst declineBooking = asyncHandler(async (req, res) => {\n    const { bookingID } = req.body;\n    const technicianID = req.technicianID;\n\n    // If no booking ID is passed, throw a 400 error\n    if (!bookingID) {\n        return res.status(400).json({ message: \"You need to pass a booking ID.\" });\n    }\n\n    try {\n        const pool = getPool();\n\n        // Check if the booking exists and is assigned to this technician\n        // Also get Booking_Date and Payment_Status to validate decline request\n        const checkBooking = await pool.request()\n            .input(\"bookingID\", sql.Int, bookingID)\n            .query(`\n                SELECT b.Booking_ID, b.[Status], b.Technician_ID, b.Booking_Date, p.[Status] AS Payment_Status\n                FROM Booking b\n                LEFT JOIN Payment p ON b.Booking_ID = p.Booking_ID\n                WHERE b.Booking_ID = @bookingID\n            `);\n\n        // If no result returned, the booking doesn't exist\n        if (checkBooking.recordset.length === 0) {\n            return res.status(404).json({ message: \"Booking not found.\" });\n        }\n\n        const booking = checkBooking.recordset[0];\n\n        // Check if booking is assigned to this technician\n        if (booking.Technician_ID !== technicianID) {\n            return res.status(403).json({ message: \"You are not authorized to decline this booking as it's not assigned to you.\" });\n        }\n\n        // Check if booking status is confirmed - only confirmed bookings can be declined by technician\n        if (booking.Status !== 'confirmed') {\n            return res.status(400).json({ message: `This booking is ${booking.Status} and cannot be declined. Only confirmed bookings can be declined.` });\n        }\n\n        // Check if payment is already completed - cannot decline a paid booking\n        if (booking.Payment_Status === 'completed') {\n            return res.status(400).json({ message: \"Cannot decline a booking that has already been paid. Please contact the customer or support.\" });\n        }\n\n        // Determine new status based on booking date\n        // Constraint: pending bookings MUST have Booking_Date >= today's date\n        const bookingDate = new Date(booking.Booking_Date);\n        const today = new Date();\n        today.setHours(0, 0, 0, 0);\n        bookingDate.setHours(0, 0, 0, 0);\n        \n        const newStatus = bookingDate >= today ? 'pending' : 'cancelled';\n\n        // Update the booking - remove technician assignment and change status\n        await pool.request()\n            .input(\"bookingID\", sql.Int, bookingID)\n            .input(\"newStatus\", sql.VarChar, newStatus)\n            .query(`\n                UPDATE Booking\n                SET Technician_ID = NULL,\n                    [Status] = @newStatus,\n                    modifiedAt = GETDATE()\n                WHERE Booking_ID = @bookingID\n            `);\n\n        // Return success response\n        res.status(200).json({\n            message: newStatus === 'pending' \n                ? \"Booking declined successfully. It is now available for other technicians.\"\n                : \"Booking declined successfully. It has been cancelled as the scheduled date has passed.\",\n            bookingID: bookingID,\n            status: newStatus\n        });\n\n    } catch (error) {\n        console.error(\"Unexpected error occurred when trying to decline booking: \", error);\n        res.status(500).json({ message: \"An unexpected error occurred when trying to decline the booking.\" });\n    }\n});\n\n// Get all pending bookings available for technicians to accept\nconst getPendingBookings = asyncHandler(async (req, res) => {\n    try {\n        const pool = getPool();\n       \n        // Query all pending bookings with user and appliance details\n        // Ordered by date and time (earliest first)\n        const result = await pool.request()\n            .query(`\n                SELECT \n                    Booking.Booking_ID, \n                    Booking.Booking_Date AS \"Scheduled Date\", \n                    Booking.Booking_Time AS \"Scheduled Time\", \n                    Booking.Total_Price AS \"Total Price\", \n                    Appliance_Type.nameEN AS \"Appliance's Name (EN)\", \n                    Appliance_Type.nameAR AS \"Appliance's Name (AR)\",\n                    Booking.Issue_Description AS \"Issue Description\",\n                    [User].First_Name AS \"First Name\",\n                    [User].Last_Name AS \"Last Name\", \n                    [User].Phone AS \"Phone Number\",\n                    [User].City AS \"City\",\n                    [User].Street_Address AS \"Street Address\", \n                    [User].Building_Name AS \"Building Name\", \n                    [User].Floor AS \"Building Floor\", \n                    [User].Postal_Code AS \"Postal Code\"\n                FROM Booking\n                JOIN [User] ON Booking.UserID = [User].User_ID\n                JOIN Appliance_Type ON Booking.Appliance_Type_ID = Appliance_Type.Appliance_Type_ID\n                WHERE Booking.[Status] = 'pending'\n                ORDER BY Booking.Booking_Date ASC, Booking.Booking_Time ASC\n            `);\n\n        // If no pending bookings found, return empty array with informative message\n        if (result.recordset.length === 0) {\n            return res.status(200).json({\n                message: \"No pending bookings found.\",\n                bookings: []\n            });\n        }\n\n        // Return pending bookings with count\n        res.status(200).json({\n            message: \"There are pending bookings.\",\n            count: result.recordset.length,\n            bookings: result.recordset\n        });\n    } catch (error) {\n        console.error(\"Unexpected error occurred while fetching pending bookings:\", error);\n        res.status(500).json({message: \"An unexpected error occurred while fetching pending bookings.\"});\n    }\n})\n\n// Get active bookings assigned to a technician (confirmed + in_progress)\nconst getActiveBookings = asyncHandler(async (req, res) => {\n    const technicianID = req.technicianID;\n\n    try {\n        const pool = getPool();\n       \n        const result = await pool.request()\n            .input(\"technicianID\", sql.Int, technicianID)\n            .query(`\n                SELECT \n                    Booking.Booking_ID, \n                    Booking.[Status],\n                    Booking.Booking_Date AS \"Scheduled Date\", \n                    Booking.Booking_Time AS \"Scheduled Time\", \n                    Booking.Total_Price AS \"Total Price\", \n                    Appliance_Type.nameEN AS \"Appliance's Name (EN)\", \n                    Appliance_Type.nameAR AS \"Appliance's Name (AR)\",\n                    Booking.Issue_Description AS \"Issue Description\",\n                    [User].First_Name AS \"First Name\",\n                    [User].Last_Name AS \"Last Name\", \n                    [User].Phone AS \"Phone Number\",\n                    [User].City AS \"City\",\n                    [User].Street_Address AS \"Street Address\", \n                    [User].Building_Name AS \"Building Name\", \n                    [User].Floor AS \"Building Floor\", \n                    [User].Postal_Code AS \"Postal Code\",\n                    Payment.[Status] AS \"Payment Status\"\n                FROM Booking\n                JOIN [User] ON Booking.UserID = [User].User_ID\n                JOIN Appliance_Type ON Booking.Appliance_Type_ID = Appliance_Type.Appliance_Type_ID\n                LEFT JOIN Payment ON Booking.Booking_ID = Payment.Booking_ID\n                WHERE Booking.Technician_ID = @technicianID \n                    AND Booking.[Status] IN ('confirmed', 'in_progress')\n                ORDER BY Booking.Booking_Date ASC, Booking.Booking_Time ASC\n            `);\n\n        res.status(200).json({\n            message: result.recordset.length > 0 ? \"Active bookings found.\" : \"No active bookings.\",\n            count: result.recordset.length,\n            bookings: result.recordset\n        });\n    } catch (error) {\n        console.error(\"Unexpected error occurred while fetching active bookings:\", error);\n        res.status(500).json({message: \"An unexpected error occurred while fetching active bookings.\"});\n    }\n})\n\n// Get completed bookings for a technician\nconst getCompletedBookings = asyncHandler(async (req, res) => {\n    const technicianID = req.technicianID;\n\n    try {\n        const pool = getPool();\n       \n        const result = await pool.request()\n            .input(\"technicianID\", sql.Int, technicianID)\n            .query(`\n                SELECT \n                    Booking.Booking_ID, \n                    Booking.[Status],\n                    Booking.Booking_Date AS \"Scheduled Date\", \n                    Booking.Booking_Time AS \"Scheduled Time\", \n                    Booking.Total_Price AS \"Total Price\",\n                    Booking.completedAt AS \"Completed At\",\n                    Appliance_Type.nameEN AS \"Appliance's Name (EN)\", \n                    Appliance_Type.nameAR AS \"Appliance's Name (AR)\",\n                    Booking.Issue_Description AS \"Issue Description\",\n                    [User].First_Name AS \"First Name\",\n                    [User].Last_Name AS \"Last Name\", \n                    [User].City AS \"City\",\n                    Rating.Rating_Score AS \"Rating\",\n                    Rating.Review_Text AS \"Review\"\n                FROM Booking\n                JOIN [User] ON Booking.UserID = [User].User_ID\n                JOIN Appliance_Type ON Booking.Appliance_Type_ID = Appliance_Type.Appliance_Type_ID\n                LEFT JOIN Rating ON Booking.Booking_ID = Rating.Booking_ID\n                WHERE Booking.Technician_ID = @technicianID \n                    AND Booking.[Status] = 'completed'\n                ORDER BY Booking.completedAt DESC\n            `);\n\n        res.status(200).json({\n            message: result.recordset.length > 0 ? \"Completed bookings found.\" : \"No completed bookings.\",\n            count: result.recordset.length,\n            bookings: result.recordset\n        });\n    } catch (error) {\n        console.error(\"Unexpected error occurred while fetching completed bookings:\", error);\n        res.status(500).json({message: \"An unexpected error occurred while fetching completed bookings.\"});\n    }\n})\n\n\nmodule.exports = {getPendingBookings, acceptPendingBooking, startBooking, completeBooking, declineBooking, getActiveBookings, getCompletedBookings};"],"mappings":"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","ignoreList":[]}},"mtime":1765035707326},"{\"assumptions\":{},\"sourceRoot\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end\",\"filename\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/routes/freelancerRoutes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"_exploded\":true,\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"VoidPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$48\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$49\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"\"use strict\";\n\n/**\n * This express file sets up the routes of the freelancer, which consist of:\n *      Non-validation required routes: register and login\n *      Validation required routes: logout\n * \n * Validation requirement is to have the cookie with the right credintials without being expired.\n * \n * The functionalities for the routes themselves can be found in:\n *      1. middlewares/auth.js for authenticating the freelancer's credentials that are either stored or not stored\n * \n * No full implementation for freelancers is added yet.\n */\n\nvar express = require(\"express\");\nvar _require = require(\"../controllers/FreelancerController\"),\n  registerFreelancer = _require.registerFreelancer,\n  loginFreelancer = _require.loginFreelancer,\n  logoutFreelancer = _require.logoutFreelancer;\nvar _require2 = require(\"../middlewares/auth\"),\n  freelancerValidation = _require2.freelancerValidation;\nvar router = express.Router();\nrouter.post(\"/register\", registerFreelancer);\nrouter.post(\"/login\", loginFreelancer);\nrouter.post(\"/logout\", freelancerValidation, logoutFreelancer);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsIl9yZXF1aXJlIiwicmVnaXN0ZXJGcmVlbGFuY2VyIiwibG9naW5GcmVlbGFuY2VyIiwibG9nb3V0RnJlZWxhbmNlciIsIl9yZXF1aXJlMiIsImZyZWVsYW5jZXJWYWxpZGF0aW9uIiwicm91dGVyIiwiUm91dGVyIiwicG9zdCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9ob21lL3NlcmovRG9jdW1lbnRzL0dpdEh1Yi9GaXhBcHBsaWFuY2UtYm9va2luZ0NvbW1lcmNlL2JhY2stZW5kL3NyYy9yb3V0ZXMvIiwic291cmNlcyI6WyJmcmVlbGFuY2VyUm91dGVzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGhpcyBleHByZXNzIGZpbGUgc2V0cyB1cCB0aGUgcm91dGVzIG9mIHRoZSBmcmVlbGFuY2VyLCB3aGljaCBjb25zaXN0IG9mOlxuICogICAgICBOb24tdmFsaWRhdGlvbiByZXF1aXJlZCByb3V0ZXM6IHJlZ2lzdGVyIGFuZCBsb2dpblxuICogICAgICBWYWxpZGF0aW9uIHJlcXVpcmVkIHJvdXRlczogbG9nb3V0XG4gKiBcbiAqIFZhbGlkYXRpb24gcmVxdWlyZW1lbnQgaXMgdG8gaGF2ZSB0aGUgY29va2llIHdpdGggdGhlIHJpZ2h0IGNyZWRpbnRpYWxzIHdpdGhvdXQgYmVpbmcgZXhwaXJlZC5cbiAqIFxuICogVGhlIGZ1bmN0aW9uYWxpdGllcyBmb3IgdGhlIHJvdXRlcyB0aGVtc2VsdmVzIGNhbiBiZSBmb3VuZCBpbjpcbiAqICAgICAgMS4gbWlkZGxld2FyZXMvYXV0aC5qcyBmb3IgYXV0aGVudGljYXRpbmcgdGhlIGZyZWVsYW5jZXIncyBjcmVkZW50aWFscyB0aGF0IGFyZSBlaXRoZXIgc3RvcmVkIG9yIG5vdCBzdG9yZWRcbiAqIFxuICogTm8gZnVsbCBpbXBsZW1lbnRhdGlvbiBmb3IgZnJlZWxhbmNlcnMgaXMgYWRkZWQgeWV0LlxuICovXG5cbmNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKFwiZXhwcmVzc1wiKTtcbmNvbnN0IHtyZWdpc3RlckZyZWVsYW5jZXIsIGxvZ2luRnJlZWxhbmNlciwgbG9nb3V0RnJlZWxhbmNlcn0gPSByZXF1aXJlKFwiLi4vY29udHJvbGxlcnMvRnJlZWxhbmNlckNvbnRyb2xsZXJcIik7XG5jb25zdCB7ZnJlZWxhbmNlclZhbGlkYXRpb259ID0gcmVxdWlyZShcIi4uL21pZGRsZXdhcmVzL2F1dGhcIik7XG5cbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cbnJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyXCIsIHJlZ2lzdGVyRnJlZWxhbmNlcik7XG5yb3V0ZXIucG9zdChcIi9sb2dpblwiLCBsb2dpbkZyZWVsYW5jZXIpO1xucm91dGVyLnBvc3QoXCIvbG9nb3V0XCIsIGZyZWVsYW5jZXJWYWxpZGF0aW9uLCBsb2dvdXRGcmVlbGFuY2VyKTtcblxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxJQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFTLENBQUM7QUFDbEMsSUFBQUMsUUFBQSxHQUFnRUQsT0FBTyxDQUFDLHFDQUFxQyxDQUFDO0VBQXZHRSxrQkFBa0IsR0FBQUQsUUFBQSxDQUFsQkMsa0JBQWtCO0VBQUVDLGVBQWUsR0FBQUYsUUFBQSxDQUFmRSxlQUFlO0VBQUVDLGdCQUFnQixHQUFBSCxRQUFBLENBQWhCRyxnQkFBZ0I7QUFDNUQsSUFBQUMsU0FBQSxHQUErQkwsT0FBTyxDQUFDLHFCQUFxQixDQUFDO0VBQXRETSxvQkFBb0IsR0FBQUQsU0FBQSxDQUFwQkMsb0JBQW9CO0FBRTNCLElBQU1DLE1BQU0sR0FBR1IsT0FBTyxDQUFDUyxNQUFNLENBQUMsQ0FBQztBQUUvQkQsTUFBTSxDQUFDRSxJQUFJLENBQUMsV0FBVyxFQUFFUCxrQkFBa0IsQ0FBQztBQUM1Q0ssTUFBTSxDQUFDRSxJQUFJLENBQUMsUUFBUSxFQUFFTixlQUFlLENBQUM7QUFDdENJLE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLFNBQVMsRUFBRUgsb0JBQW9CLEVBQUVGLGdCQUFnQixDQUFDO0FBRTlETSxNQUFNLENBQUNDLE9BQU8sR0FBR0osTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["express","require","_require","registerFreelancer","loginFreelancer","logoutFreelancer","_require2","freelancerValidation","router","Router","post","module","exports"],"sourceRoot":"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/routes/","sources":["freelancerRoutes.js"],"sourcesContent":["/**\n * This express file sets up the routes of the freelancer, which consist of:\n *      Non-validation required routes: register and login\n *      Validation required routes: logout\n * \n * Validation requirement is to have the cookie with the right credintials without being expired.\n * \n * The functionalities for the routes themselves can be found in:\n *      1. middlewares/auth.js for authenticating the freelancer's credentials that are either stored or not stored\n * \n * No full implementation for freelancers is added yet.\n */\n\nconst express = require(\"express\");\nconst {registerFreelancer, loginFreelancer, logoutFreelancer} = require(\"../controllers/FreelancerController\");\nconst {freelancerValidation} = require(\"../middlewares/auth\");\n\nconst router = express.Router();\n\nrouter.post(\"/register\", registerFreelancer);\nrouter.post(\"/login\", loginFreelancer);\nrouter.post(\"/logout\", freelancerValidation, logoutFreelancer);\n\nmodule.exports = router;"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAMA,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAClC,IAAAC,QAAA,GAAgED,OAAO,CAAC,qCAAqC,CAAC;EAAvGE,kBAAkB,GAAAD,QAAA,CAAlBC,kBAAkB;EAAEC,eAAe,GAAAF,QAAA,CAAfE,eAAe;EAAEC,gBAAgB,GAAAH,QAAA,CAAhBG,gBAAgB;AAC5D,IAAAC,SAAA,GAA+BL,OAAO,CAAC,qBAAqB,CAAC;EAAtDM,oBAAoB,GAAAD,SAAA,CAApBC,oBAAoB;AAE3B,IAAMC,MAAM,GAAGR,OAAO,CAACS,MAAM,CAAC,CAAC;AAE/BD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAEP,kBAAkB,CAAC;AAC5CK,MAAM,CAACE,IAAI,CAAC,QAAQ,EAAEN,eAAe,CAAC;AACtCI,MAAM,CAACE,IAAI,CAAC,SAAS,EAAEH,oBAAoB,EAAEF,gBAAgB,CAAC;AAE9DM,MAAM,CAACC,OAAO,GAAGJ,MAAM","ignoreList":[]}},"mtime":1764487126139},"{\"assumptions\":{},\"sourceRoot\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end\",\"filename\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/controllers/FreelancerController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"_exploded\":true,\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"VoidPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$48\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$49\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n/**\n * This controller provides the following functionalities for a freelancer: registering, logging in, and logging out.\n * \n * For storing the password, bcrypt is used to hash and jwt (jsonwebtoken) is used to sign a token and store it as cookie.\n * \n * Freelancers create DIY content (videos/articles) for appliance repairs and are paid per content.\n * New freelancers start with isActive = 0 and Rate_Per_Content = 0, requiring admin approval.\n */\n\nvar asyncHandler = require(\"express-async-handler\");\nvar bcrypt = require(\"bcrypt\");\nvar jwt = require(\"jsonwebtoken\");\n\n// sql needed for the type definitions in .input\n// getPool is to do queries\nvar _require = require(\"../config/database\"),\n  getPool = _require.getPool,\n  sql = _require.sql;\n\n// Import validation utilities\nvar _require2 = require(\"../utils/validators\"),\n  isValidEmail = _require2.isValidEmail,\n  isValidPhone = _require2.isValidPhone,\n  isValidPassword = _require2.isValidPassword,\n  isValidName = _require2.isValidName,\n  sanitizeString = _require2.sanitizeString;\n\n// Handles the freelancer registering functionality\nvar registerFreelancer = asyncHandler(/*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee(req, res) {\n    var _req$body, firstName, lastName, email, phone, password, content_type_specialty, portfolio_url, passwordValidation, pool, hashedPassword, result, _t;\n    return _regenerator[\"default\"].wrap(function (_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          // Getting the needed data from the request body\n          _req$body = req.body, firstName = _req$body.firstName, lastName = _req$body.lastName, email = _req$body.email, phone = _req$body.phone, password = _req$body.password, content_type_specialty = _req$body.content_type_specialty, portfolio_url = _req$body.portfolio_url; // Checking if required fields are empty, if yes then we throw a 400\n          if (!(!firstName || !lastName || !email || !phone || !password || !content_type_specialty)) {\n            _context.next = 1;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"Required fields are missing.\"\n          }));\n        case 1:\n          if (isValidName(firstName)) {\n            _context.next = 2;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"First name must be 2-30 characters and contain only letters.\"\n          }));\n        case 2:\n          if (isValidName(lastName)) {\n            _context.next = 3;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"Last name must be 2-30 characters and contain only letters.\"\n          }));\n        case 3:\n          if (isValidEmail(email)) {\n            _context.next = 4;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"Please enter a valid email address.\"\n          }));\n        case 4:\n          if (isValidPhone(phone)) {\n            _context.next = 5;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"Please enter a valid phone number.\"\n          }));\n        case 5:\n          // Validate password strength\n          passwordValidation = isValidPassword(password);\n          if (passwordValidation.valid) {\n            _context.next = 6;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: passwordValidation.message\n          }));\n        case 6:\n          if (['video', 'article'].includes(content_type_specialty)) {\n            _context.next = 7;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"Content type specialty must be either 'video' or 'article'.\"\n          }));\n        case 7:\n          if (!(portfolio_url && portfolio_url.length > 255)) {\n            _context.next = 8;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"Portfolio URL cannot exceed 255 characters.\"\n          }));\n        case 8:\n          _context.prev = 8;\n          pool = getPool(); // Hashing the password before storing\n          _context.next = 9;\n          return bcrypt.hash(password, 11);\n        case 9:\n          hashedPassword = _context.sent;\n          _context.next = 10;\n          return pool.request().input(\"firstName\", sql.VarChar, sanitizeString(firstName)).input(\"lastName\", sql.VarChar, sanitizeString(lastName)).input(\"email\", sql.VarChar, sanitizeString(email).toLowerCase()).input(\"phone\", sql.VarChar, sanitizeString(phone)).input(\"hashedPassword\", sql.VarChar, hashedPassword).input(\"contentTypeSpecialty\", sql.VarChar, content_type_specialty).input(\"portfolioUrl\", sql.VarChar, portfolio_url ? sanitizeString(portfolio_url) : null).query(\"\\n            INSERT INTO Freelancer (First_Name, Last_Name, Email, Phone, Password_Hash, Content_Type_Specialty, Rate_Per_Content, Payment_Currency, Portfolio_URL, isActive)\\n            VALUES(@firstName, @lastName, @email, @phone, @hashedPassword, @contentTypeSpecialty, 0.00, 'USD', @portfolioUrl, 0)\\n            \");\n        case 10:\n          result = _context.sent;\n          // Sending success message\n          res.status(201).json({\n            message: \"Freelancer registered successfully! Please wait for admin approval.\"\n          });\n          _context.next = 13;\n          break;\n        case 11:\n          _context.prev = 11;\n          _t = _context[\"catch\"](8);\n          if (!(_t.number === 2627 || _t.number === 2601)) {\n            _context.next = 12;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(409).json({\n            message: \"Another account exists already either with this email address or phone number. If you have another account, please use that one instead.\"\n          }));\n        case 12:\n          // Throwing the console error and 500 status in case something goes wrong\n          console.error(\"Unexpected error registering a new freelancer's account: \", _t);\n          res.status(500).json({\n            message: \"An unexpected error occurred while registering the freelancer.\"\n          });\n        case 13:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[8, 11]]);\n  }));\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}());\n\n// Handling the logging in functionality for freelancers\nvar loginFreelancer = asyncHandler(/*#__PURE__*/function () {\n  var _ref2 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(req, res) {\n    var _req$body2, email, password, pool, result, freelancer, isPasswordValid, freelancerToken, _t2;\n    return _regenerator[\"default\"].wrap(function (_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          // Getting the email and password that the freelancer is trying to login with\n          _req$body2 = req.body, email = _req$body2.email, password = _req$body2.password; // Input validation, if either empty then send 400 error\n          if (!(!email || !password)) {\n            _context2.next = 1;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(400).json({\n            message: \"You have to enter both your email and your password\"\n          }));\n        case 1:\n          if (isValidEmail(email)) {\n            _context2.next = 2;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(400).json({\n            message: \"Please enter a valid email address.\"\n          }));\n        case 2:\n          _context2.prev = 2;\n          pool = getPool(); // Searching in the database for a freelancer with the same email passed to check if exists\n          _context2.next = 3;\n          return pool.request().input(\"email\", sql.VarChar, sanitizeString(email).toLowerCase()).query(\"\\n                SELECT Freelancer_ID, First_Name, Last_Name, Email, Password_Hash, isActive\\n                FROM Freelancer\\n                WHERE Email = @email\\n                \");\n        case 3:\n          result = _context2.sent;\n          if (!(result.recordset.length === 0)) {\n            _context2.next = 4;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(401).json({\n            message: \"Invalid email address or password.\"\n          }));\n        case 4:\n          // Now we are getting the first freelancer that we got having the same email address\n          freelancer = result.recordset[0]; // Check if the freelancer account is active (approved by admin)\n          if (freelancer.isActive) {\n            _context2.next = 5;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(403).json({\n            message: \"Your account is not activated yet. Please wait till you receive the approval/denial email to know if you can start working with us.\"\n          }));\n        case 5:\n          _context2.next = 6;\n          return bcrypt.compare(password, freelancer.Password_Hash);\n        case 6:\n          isPasswordValid = _context2.sent;\n          if (isPasswordValid) {\n            _context2.next = 7;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(401).json({\n            message: \"Invalid email address or password.\"\n          }));\n        case 7:\n          // If the password matches, then create a freelancer token using jwt by signing it with the FREELANCER_ACCESS_TOKEN\n          // stored in the .env file. The token expires in 1 day.\n          freelancerToken = jwt.sign({\n            id: freelancer.Freelancer_ID,\n            firstName: freelancer.First_Name,\n            lastName: freelancer.Last_Name,\n            email: freelancer.Email\n          }, process.env.FREELANCER_ACCESS_TOKEN, {\n            expiresIn: \"1d\"\n          }); // If a cookie exists already for the freelancer, clear it\n          if (req.cookies.freelancer_access_token) {\n            res.clearCookie('freelancer_access_token');\n          }\n\n          // Store the new cookie such that it lasts 1 day, and throw a 200 success message with some data about the freelancer\n          // (id, firstName, lastName, email)\n          res.cookie('freelancer_access_token', freelancerToken, {\n            httpOnly: true,\n            secure: process.env.NODE_ENV === \"production\",\n            sameSite: process.env.NODE_ENV === \"production\" ? 'strict' : 'lax',\n            maxAge: 24 * 60 * 60 * 1000\n          });\n          res.status(200).json({\n            message: \"Successfully logged in.\",\n            freelancer: {\n              id: freelancer.Freelancer_ID,\n              firstName: freelancer.First_Name,\n              lastName: freelancer.Last_Name,\n              email: freelancer.Email\n            }\n          });\n\n          // If anything goes wrong, throw an error\n          _context2.next = 9;\n          break;\n        case 8:\n          _context2.prev = 8;\n          _t2 = _context2[\"catch\"](2);\n          console.error(\"Login error:\", _t2);\n          res.status(500).json({\n            message: \"An error occurred during login.\"\n          });\n        case 9:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[2, 8]]);\n  }));\n  return function (_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}());\n\n// Logging out functionality by clearing the freelancer's cookie and sending a success message\nvar logoutFreelancer = asyncHandler(/*#__PURE__*/function () {\n  var _ref3 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee3(req, res) {\n    return _regenerator[\"default\"].wrap(function (_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          res.clearCookie('freelancer_access_token');\n          res.status(200).json({\n            message: \"Successfully logged out.\"\n          });\n        case 1:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3);\n  }));\n  return function (_x5, _x6) {\n    return _ref3.apply(this, arguments);\n  };\n}());\nmodule.exports = {\n  registerFreelancer: registerFreelancer,\n  loginFreelancer: loginFreelancer,\n  logoutFreelancer: logoutFreelancer\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhc3luY0hhbmRsZXIiLCJyZXF1aXJlIiwiYmNyeXB0Iiwiand0IiwiX3JlcXVpcmUiLCJnZXRQb29sIiwic3FsIiwiX3JlcXVpcmUyIiwiaXNWYWxpZEVtYWlsIiwiaXNWYWxpZFBob25lIiwiaXNWYWxpZFBhc3N3b3JkIiwiaXNWYWxpZE5hbWUiLCJzYW5pdGl6ZVN0cmluZyIsInJlZ2lzdGVyRnJlZWxhbmNlciIsIl9yZWYiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJfcmVnZW5lcmF0b3IiLCJtYXJrIiwiX2NhbGxlZSIsInJlcSIsInJlcyIsIl9yZXEkYm9keSIsImZpcnN0TmFtZSIsImxhc3ROYW1lIiwiZW1haWwiLCJwaG9uZSIsInBhc3N3b3JkIiwiY29udGVudF90eXBlX3NwZWNpYWx0eSIsInBvcnRmb2xpb191cmwiLCJwYXNzd29yZFZhbGlkYXRpb24iLCJwb29sIiwiaGFzaGVkUGFzc3dvcmQiLCJyZXN1bHQiLCJfdCIsIndyYXAiLCJfY29udGV4dCIsInByZXYiLCJuZXh0IiwiYm9keSIsImFicnVwdCIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwidmFsaWQiLCJpbmNsdWRlcyIsImxlbmd0aCIsImhhc2giLCJzZW50IiwicmVxdWVzdCIsImlucHV0IiwiVmFyQ2hhciIsInRvTG93ZXJDYXNlIiwicXVlcnkiLCJudW1iZXIiLCJjb25zb2xlIiwiZXJyb3IiLCJzdG9wIiwiX3giLCJfeDIiLCJhcHBseSIsImFyZ3VtZW50cyIsImxvZ2luRnJlZWxhbmNlciIsIl9yZWYyIiwiX2NhbGxlZTIiLCJfcmVxJGJvZHkyIiwiZnJlZWxhbmNlciIsImlzUGFzc3dvcmRWYWxpZCIsImZyZWVsYW5jZXJUb2tlbiIsIl90MiIsIl9jb250ZXh0MiIsInJlY29yZHNldCIsImlzQWN0aXZlIiwiY29tcGFyZSIsIlBhc3N3b3JkX0hhc2giLCJzaWduIiwiaWQiLCJGcmVlbGFuY2VyX0lEIiwiRmlyc3RfTmFtZSIsIkxhc3RfTmFtZSIsIkVtYWlsIiwicHJvY2VzcyIsImVudiIsIkZSRUVMQU5DRVJfQUNDRVNTX1RPS0VOIiwiZXhwaXJlc0luIiwiY29va2llcyIsImZyZWVsYW5jZXJfYWNjZXNzX3Rva2VuIiwiY2xlYXJDb29raWUiLCJjb29raWUiLCJodHRwT25seSIsInNlY3VyZSIsIk5PREVfRU5WIiwic2FtZVNpdGUiLCJtYXhBZ2UiLCJfeDMiLCJfeDQiLCJsb2dvdXRGcmVlbGFuY2VyIiwiX3JlZjMiLCJfY2FsbGVlMyIsIl9jb250ZXh0MyIsIl94NSIsIl94NiIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9ob21lL3NlcmovRG9jdW1lbnRzL0dpdEh1Yi9GaXhBcHBsaWFuY2UtYm9va2luZ0NvbW1lcmNlL2JhY2stZW5kL3NyYy9jb250cm9sbGVycy8iLCJzb3VyY2VzIjpbIkZyZWVsYW5jZXJDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGhpcyBjb250cm9sbGVyIHByb3ZpZGVzIHRoZSBmb2xsb3dpbmcgZnVuY3Rpb25hbGl0aWVzIGZvciBhIGZyZWVsYW5jZXI6IHJlZ2lzdGVyaW5nLCBsb2dnaW5nIGluLCBhbmQgbG9nZ2luZyBvdXQuXG4gKiBcbiAqIEZvciBzdG9yaW5nIHRoZSBwYXNzd29yZCwgYmNyeXB0IGlzIHVzZWQgdG8gaGFzaCBhbmQgand0IChqc29ud2VidG9rZW4pIGlzIHVzZWQgdG8gc2lnbiBhIHRva2VuIGFuZCBzdG9yZSBpdCBhcyBjb29raWUuXG4gKiBcbiAqIEZyZWVsYW5jZXJzIGNyZWF0ZSBESVkgY29udGVudCAodmlkZW9zL2FydGljbGVzKSBmb3IgYXBwbGlhbmNlIHJlcGFpcnMgYW5kIGFyZSBwYWlkIHBlciBjb250ZW50LlxuICogTmV3IGZyZWVsYW5jZXJzIHN0YXJ0IHdpdGggaXNBY3RpdmUgPSAwIGFuZCBSYXRlX1Blcl9Db250ZW50ID0gMCwgcmVxdWlyaW5nIGFkbWluIGFwcHJvdmFsLlxuICovXG5cbmNvbnN0IGFzeW5jSGFuZGxlciA9IHJlcXVpcmUoXCJleHByZXNzLWFzeW5jLWhhbmRsZXJcIik7XG5jb25zdCBiY3J5cHQgPSByZXF1aXJlKFwiYmNyeXB0XCIpO1xuY29uc3Qgand0ID0gcmVxdWlyZShcImpzb253ZWJ0b2tlblwiKTtcblxuLy8gc3FsIG5lZWRlZCBmb3IgdGhlIHR5cGUgZGVmaW5pdGlvbnMgaW4gLmlucHV0XG4vLyBnZXRQb29sIGlzIHRvIGRvIHF1ZXJpZXNcbmNvbnN0IHsgZ2V0UG9vbCwgc3FsIH0gPSByZXF1aXJlKFwiLi4vY29uZmlnL2RhdGFiYXNlXCIpO1xuXG4vLyBJbXBvcnQgdmFsaWRhdGlvbiB1dGlsaXRpZXNcbmNvbnN0IHsgaXNWYWxpZEVtYWlsLCBpc1ZhbGlkUGhvbmUsIGlzVmFsaWRQYXNzd29yZCwgaXNWYWxpZE5hbWUsIHNhbml0aXplU3RyaW5nIH0gPSByZXF1aXJlKFwiLi4vdXRpbHMvdmFsaWRhdG9yc1wiKTtcblxuXG4vLyBIYW5kbGVzIHRoZSBmcmVlbGFuY2VyIHJlZ2lzdGVyaW5nIGZ1bmN0aW9uYWxpdHlcbmNvbnN0IHJlZ2lzdGVyRnJlZWxhbmNlciA9IGFzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICAvLyBHZXR0aW5nIHRoZSBuZWVkZWQgZGF0YSBmcm9tIHRoZSByZXF1ZXN0IGJvZHlcbiAgICBjb25zdCB7IGZpcnN0TmFtZSwgbGFzdE5hbWUsIGVtYWlsLCBwaG9uZSwgcGFzc3dvcmQsIGNvbnRlbnRfdHlwZV9zcGVjaWFsdHksIHBvcnRmb2xpb191cmx9ID0gcmVxLmJvZHk7XG5cbiAgICAvLyBDaGVja2luZyBpZiByZXF1aXJlZCBmaWVsZHMgYXJlIGVtcHR5LCBpZiB5ZXMgdGhlbiB3ZSB0aHJvdyBhIDQwMFxuICAgIGlmICghZmlyc3ROYW1lIHx8ICFsYXN0TmFtZSB8fCAhZW1haWwgfHwgIXBob25lIHx8ICFwYXNzd29yZCB8fCAhY29udGVudF90eXBlX3NwZWNpYWx0eSkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiUmVxdWlyZWQgZmllbGRzIGFyZSBtaXNzaW5nLlwifSk7XG4gICAgfVxuXG4gICAgLy8gVmFsaWRhdGUgZmlyc3QgbmFtZSBmb3JtYXRcbiAgICBpZiAoIWlzVmFsaWROYW1lKGZpcnN0TmFtZSkpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttZXNzYWdlOiBcIkZpcnN0IG5hbWUgbXVzdCBiZSAyLTMwIGNoYXJhY3RlcnMgYW5kIGNvbnRhaW4gb25seSBsZXR0ZXJzLlwifSk7XG4gICAgfVxuXG4gICAgLy8gVmFsaWRhdGUgbGFzdCBuYW1lIGZvcm1hdFxuICAgIGlmICghaXNWYWxpZE5hbWUobGFzdE5hbWUpKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJMYXN0IG5hbWUgbXVzdCBiZSAyLTMwIGNoYXJhY3RlcnMgYW5kIGNvbnRhaW4gb25seSBsZXR0ZXJzLlwifSk7XG4gICAgfVxuXG4gICAgLy8gVmFsaWRhdGUgZW1haWwgZm9ybWF0XG4gICAgaWYgKCFpc1ZhbGlkRW1haWwoZW1haWwpKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJQbGVhc2UgZW50ZXIgYSB2YWxpZCBlbWFpbCBhZGRyZXNzLlwifSk7XG4gICAgfVxuXG4gICAgLy8gVmFsaWRhdGUgcGhvbmUgZm9ybWF0XG4gICAgaWYgKCFpc1ZhbGlkUGhvbmUocGhvbmUpKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJQbGVhc2UgZW50ZXIgYSB2YWxpZCBwaG9uZSBudW1iZXIuXCJ9KTtcbiAgICB9XG5cbiAgICAvLyBWYWxpZGF0ZSBwYXNzd29yZCBzdHJlbmd0aFxuICAgIGNvbnN0IHBhc3N3b3JkVmFsaWRhdGlvbiA9IGlzVmFsaWRQYXNzd29yZChwYXNzd29yZCk7XG4gICAgaWYgKCFwYXNzd29yZFZhbGlkYXRpb24udmFsaWQpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttZXNzYWdlOiBwYXNzd29yZFZhbGlkYXRpb24ubWVzc2FnZX0pO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRlIGNvbnRlbnQgdHlwZSBzcGVjaWFsdHkgLSBtdXN0IGJlIGVpdGhlciAndmlkZW8nIG9yICdhcnRpY2xlJ1xuICAgIGlmICghWyd2aWRlbycsICdhcnRpY2xlJ10uaW5jbHVkZXMoY29udGVudF90eXBlX3NwZWNpYWx0eSkpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttZXNzYWdlOiBcIkNvbnRlbnQgdHlwZSBzcGVjaWFsdHkgbXVzdCBiZSBlaXRoZXIgJ3ZpZGVvJyBvciAnYXJ0aWNsZScuXCJ9KTtcbiAgICB9XG5cbiAgICAvLyBWYWxpZGF0ZSBwb3J0Zm9saW8gVVJMIGxlbmd0aCBpZiBwcm92aWRlZFxuICAgIGlmIChwb3J0Zm9saW9fdXJsICYmIHBvcnRmb2xpb191cmwubGVuZ3RoID4gMjU1KSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJQb3J0Zm9saW8gVVJMIGNhbm5vdCBleGNlZWQgMjU1IGNoYXJhY3RlcnMuXCJ9KTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgICBjb25zdCBwb29sID0gZ2V0UG9vbCgpO1xuXG4gICAgICAgIC8vIEhhc2hpbmcgdGhlIHBhc3N3b3JkIGJlZm9yZSBzdG9yaW5nXG4gICAgICAgIGNvbnN0IGhhc2hlZFBhc3N3b3JkID0gYXdhaXQgYmNyeXB0Lmhhc2gocGFzc3dvcmQsIDExKTtcblxuICAgICAgICAvLyBCeSBkZWZhdWx0IG5vIHJhdGUgYW5kIGZyZWVsYW5jZXIgdW52ZXJpZmllZCB1bnRpbCBhZG1pbiBhcHByb3ZlcyBhbmQgc2V0cyBhIHJhdGUuXG4gICAgICAgIC8vIEluc2VydGluZyB0aGUgZnJlZWxhbmNlciBpbnRvIHRoZSBkYXRhYmFzZSBGcmVlbGFuY2VyIHRhYmxlXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBvb2wucmVxdWVzdCgpXG4gICAgICAgICAgICAuaW5wdXQoXCJmaXJzdE5hbWVcIiwgc3FsLlZhckNoYXIsIHNhbml0aXplU3RyaW5nKGZpcnN0TmFtZSkpXG4gICAgICAgICAgICAuaW5wdXQoXCJsYXN0TmFtZVwiLCBzcWwuVmFyQ2hhciwgc2FuaXRpemVTdHJpbmcobGFzdE5hbWUpKVxuICAgICAgICAgICAgLmlucHV0KFwiZW1haWxcIiwgc3FsLlZhckNoYXIsIHNhbml0aXplU3RyaW5nKGVtYWlsKS50b0xvd2VyQ2FzZSgpKVxuICAgICAgICAgICAgLmlucHV0KFwicGhvbmVcIiwgc3FsLlZhckNoYXIsIHNhbml0aXplU3RyaW5nKHBob25lKSlcbiAgICAgICAgICAgIC5pbnB1dChcImhhc2hlZFBhc3N3b3JkXCIsIHNxbC5WYXJDaGFyLCBoYXNoZWRQYXNzd29yZClcbiAgICAgICAgICAgIC5pbnB1dChcImNvbnRlbnRUeXBlU3BlY2lhbHR5XCIsIHNxbC5WYXJDaGFyLCBjb250ZW50X3R5cGVfc3BlY2lhbHR5KVxuICAgICAgICAgICAgLmlucHV0KFwicG9ydGZvbGlvVXJsXCIsIHNxbC5WYXJDaGFyLCBwb3J0Zm9saW9fdXJsID8gc2FuaXRpemVTdHJpbmcocG9ydGZvbGlvX3VybCkgOiBudWxsKVxuICAgICAgICAgICAgLnF1ZXJ5KGBcbiAgICAgICAgICAgIElOU0VSVCBJTlRPIEZyZWVsYW5jZXIgKEZpcnN0X05hbWUsIExhc3RfTmFtZSwgRW1haWwsIFBob25lLCBQYXNzd29yZF9IYXNoLCBDb250ZW50X1R5cGVfU3BlY2lhbHR5LCBSYXRlX1Blcl9Db250ZW50LCBQYXltZW50X0N1cnJlbmN5LCBQb3J0Zm9saW9fVVJMLCBpc0FjdGl2ZSlcbiAgICAgICAgICAgIFZBTFVFUyhAZmlyc3ROYW1lLCBAbGFzdE5hbWUsIEBlbWFpbCwgQHBob25lLCBAaGFzaGVkUGFzc3dvcmQsIEBjb250ZW50VHlwZVNwZWNpYWx0eSwgMC4wMCwgJ1VTRCcsIEBwb3J0Zm9saW9VcmwsIDApXG4gICAgICAgICAgICBgKTtcblxuICAgICAgICAvLyBTZW5kaW5nIHN1Y2Nlc3MgbWVzc2FnZVxuICAgICAgICByZXMuc3RhdHVzKDIwMSkuanNvbih7bWVzc2FnZTogXCJGcmVlbGFuY2VyIHJlZ2lzdGVyZWQgc3VjY2Vzc2Z1bGx5ISBQbGVhc2Ugd2FpdCBmb3IgYWRtaW4gYXBwcm92YWwuXCJ9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAvLyBIYW5kbGluZyB0aGUgdW5pcXVlIGNvbnN0cmFpbnRzIGZvciBlbWFpbCBhbmQgcGhvbmUgbnVtYmVyc1xuICAgICAgICAvLyAyNjI3IGlzIGZvciB2aW9sYXRpb24gb2YgdGhlIHVuaXF1ZSBrZXkgY29uc3RyYWludCwgYW5kIDI2MDEgaXMgZm9yIHVuaXF1ZSBpbmRleCB2aW9sYXRpb25cbiAgICAgICAgaWYgKGVycm9yLm51bWJlciA9PT0gMjYyNyB8fCBlcnJvci5udW1iZXIgPT09IDI2MDEpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwOSkuanNvbih7bWVzc2FnZTogXCJBbm90aGVyIGFjY291bnQgZXhpc3RzIGFscmVhZHkgZWl0aGVyIHdpdGggdGhpcyBlbWFpbCBhZGRyZXNzIG9yIHBob25lIG51bWJlci4gSWYgeW91IGhhdmUgYW5vdGhlciBhY2NvdW50LCBwbGVhc2UgdXNlIHRoYXQgb25lIGluc3RlYWQuXCJ9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRocm93aW5nIHRoZSBjb25zb2xlIGVycm9yIGFuZCA1MDAgc3RhdHVzIGluIGNhc2Ugc29tZXRoaW5nIGdvZXMgd3JvbmdcbiAgICAgICAgY29uc29sZS5lcnJvcihcIlVuZXhwZWN0ZWQgZXJyb3IgcmVnaXN0ZXJpbmcgYSBuZXcgZnJlZWxhbmNlcidzIGFjY291bnQ6IFwiLCBlcnJvcik7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHttZXNzYWdlOiBcIkFuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQgd2hpbGUgcmVnaXN0ZXJpbmcgdGhlIGZyZWVsYW5jZXIuXCJ9KTtcbiAgICB9XG59KTtcblxuLy8gSGFuZGxpbmcgdGhlIGxvZ2dpbmcgaW4gZnVuY3Rpb25hbGl0eSBmb3IgZnJlZWxhbmNlcnNcbmNvbnN0IGxvZ2luRnJlZWxhbmNlciA9IGFzeW5jSGFuZGxlcihhc3luYyAocmVxLHJlcykgPT4ge1xuICAgIC8vIEdldHRpbmcgdGhlIGVtYWlsIGFuZCBwYXNzd29yZCB0aGF0IHRoZSBmcmVlbGFuY2VyIGlzIHRyeWluZyB0byBsb2dpbiB3aXRoXG4gICAgY29uc3Qge2VtYWlsLCBwYXNzd29yZH0gPSByZXEuYm9keTtcblxuICAgIC8vIElucHV0IHZhbGlkYXRpb24sIGlmIGVpdGhlciBlbXB0eSB0aGVuIHNlbmQgNDAwIGVycm9yXG4gICAgaWYgKCFlbWFpbCB8fCAhcGFzc3dvcmQpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttZXNzYWdlOiBcIllvdSBoYXZlIHRvIGVudGVyIGJvdGggeW91ciBlbWFpbCBhbmQgeW91ciBwYXNzd29yZFwifSk7XG4gICAgfVxuXG4gICAgLy8gVmFsaWRhdGUgZW1haWwgZm9ybWF0XG4gICAgaWYgKCFpc1ZhbGlkRW1haWwoZW1haWwpKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJQbGVhc2UgZW50ZXIgYSB2YWxpZCBlbWFpbCBhZGRyZXNzLlwifSk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcG9vbCA9IGdldFBvb2woKTtcblxuICAgICAgICAvLyBTZWFyY2hpbmcgaW4gdGhlIGRhdGFiYXNlIGZvciBhIGZyZWVsYW5jZXIgd2l0aCB0aGUgc2FtZSBlbWFpbCBwYXNzZWQgdG8gY2hlY2sgaWYgZXhpc3RzXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBvb2wucmVxdWVzdCgpXG4gICAgICAgICAgICAuaW5wdXQoXCJlbWFpbFwiLCBzcWwuVmFyQ2hhciwgc2FuaXRpemVTdHJpbmcoZW1haWwpLnRvTG93ZXJDYXNlKCkpXG4gICAgICAgICAgICAucXVlcnkoYFxuICAgICAgICAgICAgICAgIFNFTEVDVCBGcmVlbGFuY2VyX0lELCBGaXJzdF9OYW1lLCBMYXN0X05hbWUsIEVtYWlsLCBQYXNzd29yZF9IYXNoLCBpc0FjdGl2ZVxuICAgICAgICAgICAgICAgIEZST00gRnJlZWxhbmNlclxuICAgICAgICAgICAgICAgIFdIRVJFIEVtYWlsID0gQGVtYWlsXG4gICAgICAgICAgICAgICAgYCk7XG5cbiAgICAgICAgLy8gSWYgbm8gcmVzdWx0cyByZXR1cm5lZCBmcm9tIHRoZSBxdWVyeSwgdGhlbiB0aGUgZW1haWwgZW50ZXJlZCBpcyBpbnZhbGlkXG4gICAgICAgIGlmIChyZXN1bHQucmVjb3Jkc2V0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHttZXNzYWdlOiBcIkludmFsaWQgZW1haWwgYWRkcmVzcyBvciBwYXNzd29yZC5cIn0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTm93IHdlIGFyZSBnZXR0aW5nIHRoZSBmaXJzdCBmcmVlbGFuY2VyIHRoYXQgd2UgZ290IGhhdmluZyB0aGUgc2FtZSBlbWFpbCBhZGRyZXNzXG4gICAgICAgIGNvbnN0IGZyZWVsYW5jZXIgPSByZXN1bHQucmVjb3Jkc2V0WzBdO1xuXG4gICAgICAgIC8vIENoZWNrIGlmIHRoZSBmcmVlbGFuY2VyIGFjY291bnQgaXMgYWN0aXZlIChhcHByb3ZlZCBieSBhZG1pbilcbiAgICAgICAgaWYgKCFmcmVlbGFuY2VyLmlzQWN0aXZlKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDMpLmpzb24oe21lc3NhZ2U6IFwiWW91ciBhY2NvdW50IGlzIG5vdCBhY3RpdmF0ZWQgeWV0LiBQbGVhc2Ugd2FpdCB0aWxsIHlvdSByZWNlaXZlIHRoZSBhcHByb3ZhbC9kZW5pYWwgZW1haWwgdG8ga25vdyBpZiB5b3UgY2FuIHN0YXJ0IHdvcmtpbmcgd2l0aCB1cy5cIn0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVXNpbmcgYmNyeXB0IHRvIGNoZWNrIGlmIHRoZSBwYXNzd29yZCBwYXNzZWQgaXMgdGhlIHNhbWUgYXMgdGhlIGhhc2hlZCBvbmUgc3RvcmVkIGluIHRoZSBkYXRhYmFzZVxuICAgICAgICAvLyBJZiBubywgdGhyb3cgYSA0MDEgZXJyb3JcbiAgICAgICAgY29uc3QgaXNQYXNzd29yZFZhbGlkID0gYXdhaXQgYmNyeXB0LmNvbXBhcmUocGFzc3dvcmQsIGZyZWVsYW5jZXIuUGFzc3dvcmRfSGFzaCk7XG4gICAgICAgIGlmICghaXNQYXNzd29yZFZhbGlkKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oe21lc3NhZ2U6IFwiSW52YWxpZCBlbWFpbCBhZGRyZXNzIG9yIHBhc3N3b3JkLlwifSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiB0aGUgcGFzc3dvcmQgbWF0Y2hlcywgdGhlbiBjcmVhdGUgYSBmcmVlbGFuY2VyIHRva2VuIHVzaW5nIGp3dCBieSBzaWduaW5nIGl0IHdpdGggdGhlIEZSRUVMQU5DRVJfQUNDRVNTX1RPS0VOXG4gICAgICAgIC8vIHN0b3JlZCBpbiB0aGUgLmVudiBmaWxlLiBUaGUgdG9rZW4gZXhwaXJlcyBpbiAxIGRheS5cbiAgICAgICAgY29uc3QgZnJlZWxhbmNlclRva2VuID0gand0LnNpZ24oe1xuICAgICAgICAgICAgaWQ6IGZyZWVsYW5jZXIuRnJlZWxhbmNlcl9JRCxcbiAgICAgICAgICAgIGZpcnN0TmFtZTogZnJlZWxhbmNlci5GaXJzdF9OYW1lLFxuICAgICAgICAgICAgbGFzdE5hbWU6IGZyZWVsYW5jZXIuTGFzdF9OYW1lLFxuICAgICAgICAgICAgZW1haWw6IGZyZWVsYW5jZXIuRW1haWxcbiAgICAgICAgfSxcbiAgICAgICAgICAgIHByb2Nlc3MuZW52LkZSRUVMQU5DRVJfQUNDRVNTX1RPS0VOLFxuICAgICAgICAgICAge2V4cGlyZXNJbjogXCIxZFwifVxuICAgICAgICApO1xuXG4gICAgICAgIC8vIElmIGEgY29va2llIGV4aXN0cyBhbHJlYWR5IGZvciB0aGUgZnJlZWxhbmNlciwgY2xlYXIgaXRcbiAgICAgICAgaWYgKHJlcS5jb29raWVzLmZyZWVsYW5jZXJfYWNjZXNzX3Rva2VuKSB7XG4gICAgICAgICAgICByZXMuY2xlYXJDb29raWUoJ2ZyZWVsYW5jZXJfYWNjZXNzX3Rva2VuJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTdG9yZSB0aGUgbmV3IGNvb2tpZSBzdWNoIHRoYXQgaXQgbGFzdHMgMSBkYXksIGFuZCB0aHJvdyBhIDIwMCBzdWNjZXNzIG1lc3NhZ2Ugd2l0aCBzb21lIGRhdGEgYWJvdXQgdGhlIGZyZWVsYW5jZXJcbiAgICAgICAgLy8gKGlkLCBmaXJzdE5hbWUsIGxhc3ROYW1lLCBlbWFpbClcbiAgICAgICAgcmVzLmNvb2tpZSgnZnJlZWxhbmNlcl9hY2Nlc3NfdG9rZW4nLCBmcmVlbGFuY2VyVG9rZW4sIFxuICAgICAgICAgICAge2h0dHBPbmx5OiB0cnVlLCBcbiAgICAgICAgICAgIHNlY3VyZTogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiLFxuICAgICAgICAgICAgc2FtZVNpdGU6IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIiA/ICdzdHJpY3QnIDogJ2xheCcsXG4gICAgICAgICAgICBtYXhBZ2U6IDI0ICogNjAgKiA2MCAqIDEwMDB9KTtcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgbWVzc2FnZTogXCJTdWNjZXNzZnVsbHkgbG9nZ2VkIGluLlwiLFxuICAgICAgICAgICAgZnJlZWxhbmNlcjoge1xuICAgICAgICAgICAgICAgIGlkOiBmcmVlbGFuY2VyLkZyZWVsYW5jZXJfSUQsXG4gICAgICAgICAgICAgICAgZmlyc3ROYW1lOiBmcmVlbGFuY2VyLkZpcnN0X05hbWUsXG4gICAgICAgICAgICAgICAgbGFzdE5hbWU6IGZyZWVsYW5jZXIuTGFzdF9OYW1lLFxuICAgICAgICAgICAgICAgIGVtYWlsOiBmcmVlbGFuY2VyLkVtYWlsXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG5cbiAgICAgICAgLy8gSWYgYW55dGhpbmcgZ29lcyB3cm9uZywgdGhyb3cgYW4gZXJyb3JcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiTG9naW4gZXJyb3I6XCIsIGVycm9yKTtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe21lc3NhZ2U6IFwiQW4gZXJyb3Igb2NjdXJyZWQgZHVyaW5nIGxvZ2luLlwifSk7XG4gICAgfVxufSk7XG5cbi8vIExvZ2dpbmcgb3V0IGZ1bmN0aW9uYWxpdHkgYnkgY2xlYXJpbmcgdGhlIGZyZWVsYW5jZXIncyBjb29raWUgYW5kIHNlbmRpbmcgYSBzdWNjZXNzIG1lc3NhZ2VcbmNvbnN0IGxvZ291dEZyZWVsYW5jZXIgPSBhc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgcmVzLmNsZWFyQ29va2llKCdmcmVlbGFuY2VyX2FjY2Vzc190b2tlbicpO1xuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHttZXNzYWdlOiBcIlN1Y2Nlc3NmdWxseSBsb2dnZWQgb3V0LlwifSk7XG59KVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtyZWdpc3RlckZyZWVsYW5jZXIsIGxvZ2luRnJlZWxhbmNlciwgbG9nb3V0RnJlZWxhbmNlcn07Il0sIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsSUFBTUEsWUFBWSxHQUFHQyxPQUFPLENBQUMsdUJBQXVCLENBQUM7QUFDckQsSUFBTUMsTUFBTSxHQUFHRCxPQUFPLENBQUMsUUFBUSxDQUFDO0FBQ2hDLElBQU1FLEdBQUcsR0FBR0YsT0FBTyxDQUFDLGNBQWMsQ0FBQzs7QUFFbkM7QUFDQTtBQUNBLElBQUFHLFFBQUEsR0FBeUJILE9B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","map":{"version":3,"names":["asyncHandler","require","bcrypt","jwt","_require","getPool","sql","_require2","isValidEmail","isValidPhone","isValidPassword","isValidName","sanitizeString","registerFreelancer","_ref","_asyncToGenerator2","_regenerator","mark","_callee","req","res","_req$body","firstName","lastName","email","phone","password","content_type_specialty","portfolio_url","passwordValidation","pool","hashedPassword","result","_t","wrap","_context","prev","next","body","abrupt","status","json","message","valid","includes","length","hash","sent","request","input","VarChar","toLowerCase","query","number","console","error","stop","_x","_x2","apply","arguments","loginFreelancer","_ref2","_callee2","_req$body2","freelancer","isPasswordValid","freelancerToken","_t2","_context2","recordset","isActive","compare","Password_Hash","sign","id","Freelancer_ID","First_Name","Last_Name","Email","process","env","FREELANCER_ACCESS_TOKEN","expiresIn","cookies","freelancer_access_token","clearCookie","cookie","httpOnly","secure","NODE_ENV","sameSite","maxAge","_x3","_x4","logoutFreelancer","_ref3","_callee3","_context3","_x5","_x6","module","exports"],"sourceRoot":"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/controllers/","sources":["FreelancerController.js"],"sourcesContent":["/**\n * This controller provides the following functionalities for a freelancer: registering, logging in, and logging out.\n * \n * For storing the password, bcrypt is used to hash and jwt (jsonwebtoken) is used to sign a token and store it as cookie.\n * \n * Freelancers create DIY content (videos/articles) for appliance repairs and are paid per content.\n * New freelancers start with isActive = 0 and Rate_Per_Content = 0, requiring admin approval.\n */\n\nconst asyncHandler = require(\"express-async-handler\");\nconst bcrypt = require(\"bcrypt\");\nconst jwt = require(\"jsonwebtoken\");\n\n// sql needed for the type definitions in .input\n// getPool is to do queries\nconst { getPool, sql } = require(\"../config/database\");\n\n// Import validation utilities\nconst { isValidEmail, isValidPhone, isValidPassword, isValidName, sanitizeString } = require(\"../utils/validators\");\n\n\n// Handles the freelancer registering functionality\nconst registerFreelancer = asyncHandler(async (req, res) => {\n    // Getting the needed data from the request body\n    const { firstName, lastName, email, phone, password, content_type_specialty, portfolio_url} = req.body;\n\n    // Checking if required fields are empty, if yes then we throw a 400\n    if (!firstName || !lastName || !email || !phone || !password || !content_type_specialty) {\n        return res.status(400).json({message: \"Required fields are missing.\"});\n    }\n\n    // Validate first name format\n    if (!isValidName(firstName)) {\n        return res.status(400).json({message: \"First name must be 2-30 characters and contain only letters.\"});\n    }\n\n    // Validate last name format\n    if (!isValidName(lastName)) {\n        return res.status(400).json({message: \"Last name must be 2-30 characters and contain only letters.\"});\n    }\n\n    // Validate email format\n    if (!isValidEmail(email)) {\n        return res.status(400).json({message: \"Please enter a valid email address.\"});\n    }\n\n    // Validate phone format\n    if (!isValidPhone(phone)) {\n        return res.status(400).json({message: \"Please enter a valid phone number.\"});\n    }\n\n    // Validate password strength\n    const passwordValidation = isValidPassword(password);\n    if (!passwordValidation.valid) {\n        return res.status(400).json({message: passwordValidation.message});\n    }\n\n    // Validate content type specialty - must be either 'video' or 'article'\n    if (!['video', 'article'].includes(content_type_specialty)) {\n        return res.status(400).json({message: \"Content type specialty must be either 'video' or 'article'.\"});\n    }\n\n    // Validate portfolio URL length if provided\n    if (portfolio_url && portfolio_url.length > 255) {\n        return res.status(400).json({message: \"Portfolio URL cannot exceed 255 characters.\"});\n    }\n\n    try {\n        const pool = getPool();\n\n        // Hashing the password before storing\n        const hashedPassword = await bcrypt.hash(password, 11);\n\n        // By default no rate and freelancer unverified until admin approves and sets a rate.\n        // Inserting the freelancer into the database Freelancer table\n        const result = await pool.request()\n            .input(\"firstName\", sql.VarChar, sanitizeString(firstName))\n            .input(\"lastName\", sql.VarChar, sanitizeString(lastName))\n            .input(\"email\", sql.VarChar, sanitizeString(email).toLowerCase())\n            .input(\"phone\", sql.VarChar, sanitizeString(phone))\n            .input(\"hashedPassword\", sql.VarChar, hashedPassword)\n            .input(\"contentTypeSpecialty\", sql.VarChar, content_type_specialty)\n            .input(\"portfolioUrl\", sql.VarChar, portfolio_url ? sanitizeString(portfolio_url) : null)\n            .query(`\n            INSERT INTO Freelancer (First_Name, Last_Name, Email, Phone, Password_Hash, Content_Type_Specialty, Rate_Per_Content, Payment_Currency, Portfolio_URL, isActive)\n            VALUES(@firstName, @lastName, @email, @phone, @hashedPassword, @contentTypeSpecialty, 0.00, 'USD', @portfolioUrl, 0)\n            `);\n\n        // Sending success message\n        res.status(201).json({message: \"Freelancer registered successfully! Please wait for admin approval.\"});\n    } catch (error) {\n        // Handling the unique constraints for email and phone numbers\n        // 2627 is for violation of the unique key constraint, and 2601 is for unique index violation\n        if (error.number === 2627 || error.number === 2601) {\n            return res.status(409).json({message: \"Another account exists already either with this email address or phone number. If you have another account, please use that one instead.\"});\n        }\n\n        // Throwing the console error and 500 status in case something goes wrong\n        console.error(\"Unexpected error registering a new freelancer's account: \", error);\n        res.status(500).json({message: \"An unexpected error occurred while registering the freelancer.\"});\n    }\n});\n\n// Handling the logging in functionality for freelancers\nconst loginFreelancer = asyncHandler(async (req,res) => {\n    // Getting the email and password that the freelancer is trying to login with\n    const {email, password} = req.body;\n\n    // Input validation, if either empty then send 400 error\n    if (!email || !password) {\n        return res.status(400).json({message: \"You have to enter both your email and your password\"});\n    }\n\n    // Validate email format\n    if (!isValidEmail(email)) {\n        return res.status(400).json({message: \"Please enter a valid email address.\"});\n    }\n\n    try {\n        const pool = getPool();\n\n        // Searching in the database for a freelancer with the same email passed to check if exists\n        const result = await pool.request()\n            .input(\"email\", sql.VarChar, sanitizeString(email).toLowerCase())\n            .query(`\n                SELECT Freelancer_ID, First_Name, Last_Name, Email, Password_Hash, isActive\n                FROM Freelancer\n                WHERE Email = @email\n                `);\n\n        // If no results returned from the query, then the email entered is invalid\n        if (result.recordset.length === 0) {\n            return res.status(401).json({message: \"Invalid email address or password.\"});\n        }\n\n        // Now we are getting the first freelancer that we got having the same email address\n        const freelancer = result.recordset[0];\n\n        // Check if the freelancer account is active (approved by admin)\n        if (!freelancer.isActive) {\n            return res.status(403).json({message: \"Your account is not activated yet. Please wait till you receive the approval/denial email to know if you can start working with us.\"});\n        }\n\n        // Using bcrypt to check if the password passed is the same as the hashed one stored in the database\n        // If no, throw a 401 error\n        const isPasswordValid = await bcrypt.compare(password, freelancer.Password_Hash);\n        if (!isPasswordValid) {\n            return res.status(401).json({message: \"Invalid email address or password.\"});\n        }\n\n        // If the password matches, then create a freelancer token using jwt by signing it with the FREELANCER_ACCESS_TOKEN\n        // stored in the .env file. The token expires in 1 day.\n        const freelancerToken = jwt.sign({\n            id: freelancer.Freelancer_ID,\n            firstName: freelancer.First_Name,\n            lastName: freelancer.Last_Name,\n            email: freelancer.Email\n        },\n            process.env.FREELANCER_ACCESS_TOKEN,\n            {expiresIn: \"1d\"}\n        );\n\n        // If a cookie exists already for the freelancer, clear it\n        if (req.cookies.freelancer_access_token) {\n            res.clearCookie('freelancer_access_token');\n        }\n\n        // Store the new cookie such that it lasts 1 day, and throw a 200 success message with some data about the freelancer\n        // (id, firstName, lastName, email)\n        res.cookie('freelancer_access_token', freelancerToken, \n            {httpOnly: true, \n            secure: process.env.NODE_ENV === \"production\",\n            sameSite: process.env.NODE_ENV === \"production\" ? 'strict' : 'lax',\n            maxAge: 24 * 60 * 60 * 1000});\n        res.status(200).json({\n            message: \"Successfully logged in.\",\n            freelancer: {\n                id: freelancer.Freelancer_ID,\n                firstName: freelancer.First_Name,\n                lastName: freelancer.Last_Name,\n                email: freelancer.Email\n            }\n        })\n\n        // If anything goes wrong, throw an error\n    } catch (error) {\n        console.error(\"Login error:\", error);\n        res.status(500).json({message: \"An error occurred during login.\"});\n    }\n});\n\n// Logging out functionality by clearing the freelancer's cookie and sending a success message\nconst logoutFreelancer = asyncHandler(async (req, res) => {\n    res.clearCookie('freelancer_access_token');\n    res.status(200).json({message: \"Successfully logged out.\"});\n})\n\nmodule.exports = {registerFreelancer, loginFreelancer, logoutFreelancer};"],"mappings":"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","ignoreList":[]}},"mtime":1764708215026},"{\"assumptions\":{},\"sourceRoot\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/config/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end\",\"filename\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/config/database.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"_exploded\":true,\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"VoidPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$48\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$49\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar sql = require(\"mssql\");\nvar dotenv = require(\"dotenv\");\ndotenv.config();\nvar dbConfig = {\n  user: process.env.DB_USER,\n  password: process.env.DB_PASS,\n  server: process.env.DB_SERVER,\n  database: process.env.DB_NAME,\n  options: {\n    encrypt: true,\n    trustServerCertificate: true\n  }\n};\nvar pool;\nvar connectDB = /*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee() {\n    var _t;\n    return _regenerator[\"default\"].wrap(function (_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _context.next = 1;\n          return sql.connect(dbConfig);\n        case 1:\n          pool = _context.sent;\n          return _context.abrupt(\"return\", pool);\n        case 2:\n          _context.prev = 2;\n          _t = _context[\"catch\"](0);\n          console.error(\"Database connection failed: \", _t);\n          throw _t;\n        case 3:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[0, 2]]);\n  }));\n  return function connectDB() {\n    return _ref.apply(this, arguments);\n  };\n}();\nmodule.exports = {\n  connectDB: connectDB,\n  getPool: function getPool() {\n    return pool;\n  },\n  sql: sql\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzcWwiLCJyZXF1aXJlIiwiZG90ZW52IiwiY29uZmlnIiwiZGJDb25maWciLCJ1c2VyIiwicHJvY2VzcyIsImVudiIsIkRCX1VTRVIiLCJwYXNzd29yZCIsIkRCX1BBU1MiLCJzZXJ2ZXIiLCJEQl9TRVJWRVIiLCJkYXRhYmFzZSIsIkRCX05BTUUiLCJvcHRpb25zIiwiZW5jcnlwdCIsInRydXN0U2VydmVyQ2VydGlmaWNhdGUiLCJwb29sIiwiY29ubmVjdERCIiwiX3JlZiIsIl9hc3luY1RvR2VuZXJhdG9yMiIsIl9yZWdlbmVyYXRvciIsIm1hcmsiLCJfY2FsbGVlIiwiX3QiLCJ3cmFwIiwiX2NvbnRleHQiLCJwcmV2IiwibmV4dCIsImNvbm5lY3QiLCJzZW50IiwiYWJydXB0IiwiY29uc29sZSIsImVycm9yIiwic3RvcCIsImFwcGx5IiwiYXJndW1lbnRzIiwibW9kdWxlIiwiZXhwb3J0cyIsImdldFBvb2wiXSwic291cmNlUm9vdCI6Ii9ob21lL3NlcmovRG9jdW1lbnRzL0dpdEh1Yi9GaXhBcHBsaWFuY2UtYm9va2luZ0NvbW1lcmNlL2JhY2stZW5kL3NyYy9jb25maWcvIiwic291cmNlcyI6WyJkYXRhYmFzZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBzcWwgPSByZXF1aXJlKFwibXNzcWxcIik7XG5jb25zdCBkb3RlbnYgPSByZXF1aXJlKFwiZG90ZW52XCIpO1xuZG90ZW52LmNvbmZpZygpO1xuXG5jb25zdCBkYkNvbmZpZyA9IHtcbiAgICB1c2VyOiBwcm9jZXNzLmVudi5EQl9VU0VSLFxuICAgIHBhc3N3b3JkOiBwcm9jZXNzLmVudi5EQl9QQVNTLFxuICAgIHNlcnZlcjogcHJvY2Vzcy5lbnYuREJfU0VSVkVSLFxuICAgIGRhdGFiYXNlOiBwcm9jZXNzLmVudi5EQl9OQU1FLFxuICAgIG9wdGlvbnM6IHtlbmNyeXB0OiB0cnVlLCB0cnVzdFNlcnZlckNlcnRpZmljYXRlOiB0cnVlfVxufTtcblxubGV0IHBvb2w7XG5cbmNvbnN0IGNvbm5lY3REQiA9IGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBwb29sID0gYXdhaXQgc3FsLmNvbm5lY3QoZGJDb25maWcpO1xuICAgICAgICByZXR1cm4gcG9vbDtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRGF0YWJhc2UgY29ubmVjdGlvbiBmYWlsZWQ6IFwiLCBlcnJvcik7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7Y29ubmVjdERCLCBnZXRQb29sOiAoKSA9PiBwb29sLCBzcWx9OyJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxJQUFNQSxHQUFHLEdBQUdDLE9BQU8sQ0FBQyxPQUFPLENBQUM7QUFDNUIsSUFBTUMsTUFBTSxHQUFHRCxPQUFPLENBQUMsUUFBUSxDQUFDO0FBQ2hDQyxNQUFNLENBQUNDLE1BQU0sQ0FBQyxDQUFDO0FBRWYsSUFBTUMsUUFBUSxHQUFHO0VBQ2JDLElBQUksRUFBRUMsT0FBTyxDQUFDQyxHQUFHLENBQUNDLE9BQU87RUFDekJDLFFBQVEsRUFBRUgsT0FBTyxDQUFDQyxHQUFHLENBQUNHLE9BQU87RUFDN0JDLE1BQU0sRUFBRUwsT0FBTyxDQUFDQyxHQUFHLENBQUNLLFNBQVM7RUFDN0JDLFFBQVEsRUFBRVAsT0FBTyxDQUFDQyxHQUFHLENBQUNPLE9BQU87RUFDN0JDLE9BQU8sRUFBRTtJQUFDQyxPQUFPLEVBQUUsSUFBSTtJQUFFQyxzQkFBc0IsRUFBRTtFQUFJO0FBQ3pELENBQUM7QUFFRCxJQUFJQyxJQUFJO0FBRVIsSUFBTUMsU0FBUztFQUFBLElBQUFDLElBQUEsT0FBQUMsa0JBQUEsMEJBQUFDLFlBQUEsWUFBQUMsSUFBQSxDQUFHLFNBQUFDLFFBQUE7SUFBQSxJQUFBQyxFQUFBO0lBQUEsT0FBQUgsWUFBQSxZQUFBSSxJQUFBLFdBQUFDLFFBQUE7TUFBQSxrQkFBQUEsUUFBQSxDQUFBQyxJQUFBLEdBQUFELFFBQUEsQ0FBQUUsSUFBQTtRQUFBO1VBQUFGLFFBQUEsQ0FBQUMsSUFBQTtVQUFBRCxRQUFBLENBQUFFLElBQUE7VUFBQSxPQUVHN0IsR0FBRyxDQUFDOEIsT0FBTyxDQUFDMUIsUUFBUSxDQUFDO1FBQUE7VUFBbENjLElBQUksR0FBQVMsUUFBQSxDQUFBSSxJQUFBO1VBQUEsT0FBQUosUUFBQSxDQUFBSyxNQUFBLFdBQ0dkLElBQUk7UUFBQTtVQUFBUyxRQUFBLENBQUFDLElBQUE7VUFBQUgsRUFBQSxHQUFBRSxRQUFBO1VBRVhNLE9BQU8sQ0FBQ0MsS0FBSyxDQUFDLDhCQUE4QixFQUFBVCxFQUFPLENBQUM7VUFBQyxNQUFBQSxFQUFBO1FBQUE7UUFBQTtVQUFBLE9BQUFFLFFBQUEsQ0FBQVEsSUFBQTtNQUFBO0lBQUEsR0FBQVgsT0FBQTtFQUFBLENBRzVEO0VBQUEsZ0JBUktMLFNBQVNBLENBQUE7SUFBQSxPQUFBQyxJQUFBLENBQUFnQixLQUFBLE9BQUFDLFNBQUE7RUFBQTtBQUFBLEdBUWQ7QUFFREMsTUFBTSxDQUFDQyxPQUFPLEdBQUc7RUFBQ3BCLFNBQVMsRUFBVEEsU0FBUztFQUFFcUIsT0FBTyxFQUFFLFNBQVRBLE9BQU9BLENBQUE7SUFBQSxPQUFRdEIsSUFBSTtFQUFBO0VBQUVsQixHQUFHLEVBQUhBO0FBQUcsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["sql","require","dotenv","config","dbConfig","user","process","env","DB_USER","password","DB_PASS","server","DB_SERVER","database","DB_NAME","options","encrypt","trustServerCertificate","pool","connectDB","_ref","_asyncToGenerator2","_regenerator","mark","_callee","_t","wrap","_context","prev","next","connect","sent","abrupt","console","error","stop","apply","arguments","module","exports","getPool"],"sourceRoot":"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/config/","sources":["database.js"],"sourcesContent":["const sql = require(\"mssql\");\nconst dotenv = require(\"dotenv\");\ndotenv.config();\n\nconst dbConfig = {\n    user: process.env.DB_USER,\n    password: process.env.DB_PASS,\n    server: process.env.DB_SERVER,\n    database: process.env.DB_NAME,\n    options: {encrypt: true, trustServerCertificate: true}\n};\n\nlet pool;\n\nconst connectDB = async () => {\n    try {\n        pool = await sql.connect(dbConfig);\n        return pool;\n    } catch (error) {\n        console.error(\"Database connection failed: \", error);\n        throw error;\n    }\n}\n\nmodule.exports = {connectDB, getPool: () => pool, sql};"],"mappings":";;;;;AAAA,IAAMA,GAAG,GAAGC,OAAO,CAAC,OAAO,CAAC;AAC5B,IAAMC,MAAM,GAAGD,OAAO,CAAC,QAAQ,CAAC;AAChCC,MAAM,CAACC,MAAM,CAAC,CAAC;AAEf,IAAMC,QAAQ,GAAG;EACbC,IAAI,EAAEC,OAAO,CAACC,GAAG,CAACC,OAAO;EACzBC,QAAQ,EAAEH,OAAO,CAACC,GAAG,CAACG,OAAO;EAC7BC,MAAM,EAAEL,OAAO,CAACC,GAAG,CAACK,SAAS;EAC7BC,QAAQ,EAAEP,OAAO,CAACC,GAAG,CAACO,OAAO;EAC7BC,OAAO,EAAE;IAACC,OAAO,EAAE,IAAI;IAAEC,sBAAsB,EAAE;EAAI;AACzD,CAAC;AAED,IAAIC,IAAI;AAER,IAAMC,SAAS;EAAA,IAAAC,IAAA,OAAAC,kBAAA,0BAAAC,YAAA,YAAAC,IAAA,CAAG,SAAAC,QAAA;IAAA,IAAAC,EAAA;IAAA,OAAAH,YAAA,YAAAI,IAAA,WAAAC,QAAA;MAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;QAAA;UAAAF,QAAA,CAAAC,IAAA;UAAAD,QAAA,CAAAE,IAAA;UAAA,OAEG7B,GAAG,CAAC8B,OAAO,CAAC1B,QAAQ,CAAC;QAAA;UAAlCc,IAAI,GAAAS,QAAA,CAAAI,IAAA;UAAA,OAAAJ,QAAA,CAAAK,MAAA,WACGd,IAAI;QAAA;UAAAS,QAAA,CAAAC,IAAA;UAAAH,EAAA,GAAAE,QAAA;UAEXM,OAAO,CAACC,KAAK,CAAC,8BAA8B,EAAAT,EAAO,CAAC;UAAC,MAAAA,EAAA;QAAA;QAAA;UAAA,OAAAE,QAAA,CAAAQ,IAAA;MAAA;IAAA,GAAAX,OAAA;EAAA,CAG5D;EAAA,gBARKL,SAASA,CAAA;IAAA,OAAAC,IAAA,CAAAgB,KAAA,OAAAC,SAAA;EAAA;AAAA,GAQd;AAEDC,MAAM,CAACC,OAAO,GAAG;EAACpB,SAAS,EAATA,SAAS;EAAEqB,OAAO,EAAE,SAATA,OAAOA,CAAA;IAAA,OAAQtB,IAAI;EAAA;EAAElB,GAAG,EAAHA;AAAG,CAAC","ignoreList":[]}},"mtime":1765036412879},"{\"assumptions\":{},\"sourceRoot\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end\",\"filename\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/routes/userRoutes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"_exploded\":true,\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"VoidPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$48\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$49\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"\"use strict\";\n\n/**\n * This express file sets up the routes of the user, which consist of:\n *      Non-validation required routes: register and login\n *      Validation required routes: logout, booking-related (requesting, paying, rating and getting bookings)\n * \n * Validation requirement is to have the cookie with the right credintials without being expired.\n * \n * The functionalities for the routes themselves can be found in 3 files:\n *      1. controllers/UserController.js for register, login, logout\n *      2. controllers/UserBookingController.js for booking-related functonalities\n *      3. middlewares/auth.js for authenticating the user's credentials that are either stored or not stored\n */\n\nvar express = require(\"express\");\nvar _require = require(\"../controllers/UserController\"),\n  registerUser = _require.registerUser,\n  loginUser = _require.loginUser,\n  logoutUser = _require.logoutUser,\n  getProfile = _require.getProfile,\n  updateProfile = _require.updateProfile;\nvar _require2 = require(\"../middlewares/auth\"),\n  userValidation = _require2.userValidation;\nvar _require3 = require(\"../controllers/UserBookingController\"),\n  userRequestBooking = _require3.userRequestBooking,\n  userPayBooking = _require3.userPayBooking,\n  userRateBooking = _require3.userRateBooking,\n  userCancelBooking = _require3.userCancelBooking,\n  getPendingBookings = _require3.getPendingBookings,\n  getConfirmedBookings = _require3.getConfirmedBookings,\n  getInProgressBookings = _require3.getInProgressBookings,\n  getCompletedBookings = _require3.getCompletedBookings,\n  getCancelledBookings = _require3.getCancelledBookings;\nvar router = express.Router();\nrouter.post(\"/register\", registerUser);\nrouter.post(\"/login\", loginUser);\nrouter.post(\"/logout\", userValidation, logoutUser);\nrouter.post(\"/booking/request\", userValidation, userRequestBooking);\nrouter.post(\"/booking/pay\", userValidation, userPayBooking);\nrouter.post(\"/booking/rate\", userValidation, userRateBooking);\nrouter.post(\"/booking/cancel\", userValidation, userCancelBooking);\nrouter.get(\"/booking/pending\", userValidation, getPendingBookings);\nrouter.get(\"/booking/confirmed\", userValidation, getConfirmedBookings);\nrouter.get(\"/booking/in-progress\", userValidation, getInProgressBookings);\nrouter.get(\"/booking/completed\", userValidation, getCompletedBookings);\nrouter.get(\"/booking/cancelled\", userValidation, getCancelledBookings);\nrouter.get(\"/profile\", userValidation, getProfile);\nrouter.put(\"/profile\", userValidation, updateProfile);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsIl9yZXF1aXJlIiwicmVnaXN0ZXJVc2VyIiwibG9naW5Vc2VyIiwibG9nb3V0VXNlciIsImdldFByb2ZpbGUiLCJ1cGRhdGVQcm9maWxlIiwiX3JlcXVpcmUyIiwidXNlclZhbGlkYXRpb24iLCJfcmVxdWlyZTMiLCJ1c2VyUmVxdWVzdEJvb2tpbmciLCJ1c2VyUGF5Qm9va2luZyIsInVzZXJSYXRlQm9va2luZyIsInVzZXJDYW5jZWxCb29raW5nIiwiZ2V0UGVuZGluZ0Jvb2tpbmdzIiwiZ2V0Q29uZmlybWVkQm9va2luZ3MiLCJnZXRJblByb2dyZXNzQm9va2luZ3MiLCJnZXRDb21wbGV0ZWRCb29raW5ncyIsImdldENhbmNlbGxlZEJvb2tpbmdzIiwicm91dGVyIiwiUm91dGVyIiwicG9zdCIsImdldCIsInB1dCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9ob21lL3NlcmovRG9jdW1lbnRzL0dpdEh1Yi9GaXhBcHBsaWFuY2UtYm9va2luZ0NvbW1lcmNlL2JhY2stZW5kL3NyYy9yb3V0ZXMvIiwic291cmNlcyI6WyJ1c2VyUm91dGVzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGhpcyBleHByZXNzIGZpbGUgc2V0cyB1cCB0aGUgcm91dGVzIG9mIHRoZSB1c2VyLCB3aGljaCBjb25zaXN0IG9mOlxuICogICAgICBOb24tdmFsaWRhdGlvbiByZXF1aXJlZCByb3V0ZXM6IHJlZ2lzdGVyIGFuZCBsb2dpblxuICogICAgICBWYWxpZGF0aW9uIHJlcXVpcmVkIHJvdXRlczogbG9nb3V0LCBib29raW5nLXJlbGF0ZWQgKHJlcXVlc3RpbmcsIHBheWluZywgcmF0aW5nIGFuZCBnZXR0aW5nIGJvb2tpbmdzKVxuICogXG4gKiBWYWxpZGF0aW9uIHJlcXVpcmVtZW50IGlzIHRvIGhhdmUgdGhlIGNvb2tpZSB3aXRoIHRoZSByaWdodCBjcmVkaW50aWFscyB3aXRob3V0IGJlaW5nIGV4cGlyZWQuXG4gKiBcbiAqIFRoZSBmdW5jdGlvbmFsaXRpZXMgZm9yIHRoZSByb3V0ZXMgdGhlbXNlbHZlcyBjYW4gYmUgZm91bmQgaW4gMyBmaWxlczpcbiAqICAgICAgMS4gY29udHJvbGxlcnMvVXNlckNvbnRyb2xsZXIuanMgZm9yIHJlZ2lzdGVyLCBsb2dpbiwgbG9nb3V0XG4gKiAgICAgIDIuIGNvbnRyb2xsZXJzL1VzZXJCb29raW5nQ29udHJvbGxlci5qcyBmb3IgYm9va2luZy1yZWxhdGVkIGZ1bmN0b25hbGl0aWVzXG4gKiAgICAgIDMuIG1pZGRsZXdhcmVzL2F1dGguanMgZm9yIGF1dGhlbnRpY2F0aW5nIHRoZSB1c2VyJ3MgY3JlZGVudGlhbHMgdGhhdCBhcmUgZWl0aGVyIHN0b3JlZCBvciBub3Qgc3RvcmVkXG4gKi9cblxuY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoXCJleHByZXNzXCIpO1xuY29uc3Qge3JlZ2lzdGVyVXNlciwgbG9naW5Vc2VyLCBsb2dvdXRVc2VyLCBnZXRQcm9maWxlLCB1cGRhdGVQcm9maWxlfSA9IHJlcXVpcmUoXCIuLi9jb250cm9sbGVycy9Vc2VyQ29udHJvbGxlclwiKTtcbmNvbnN0IHt1c2VyVmFsaWRhdGlvbn0gPSByZXF1aXJlKFwiLi4vbWlkZGxld2FyZXMvYXV0aFwiKTtcbmNvbnN0IHt1c2VyUmVxdWVzdEJvb2tpbmcsIHVzZXJQYXlCb29raW5nLCB1c2VyUmF0ZUJvb2tpbmcsIHVzZXJDYW5jZWxCb29raW5nLCBnZXRQZW5kaW5nQm9va2luZ3MsIGdldENvbmZpcm1lZEJvb2tpbmdzLCBnZXRJblByb2dyZXNzQm9va2luZ3MsIGdldENvbXBsZXRlZEJvb2tpbmdzLCBnZXRDYW5jZWxsZWRCb29raW5nc30gPSByZXF1aXJlKFwiLi4vY29udHJvbGxlcnMvVXNlckJvb2tpbmdDb250cm9sbGVyXCIpO1xuXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG5yb3V0ZXIucG9zdChcIi9yZWdpc3RlclwiLCByZWdpc3RlclVzZXIpO1xucm91dGVyLnBvc3QoXCIvbG9naW5cIiwgbG9naW5Vc2VyKTtcbnJvdXRlci5wb3N0KFwiL2xvZ291dFwiLCB1c2VyVmFsaWRhdGlvbiwgbG9nb3V0VXNlcik7XG5cblxucm91dGVyLnBvc3QoXCIvYm9va2luZy9yZXF1ZXN0XCIsIHVzZXJWYWxpZGF0aW9uLCB1c2VyUmVxdWVzdEJvb2tpbmcpO1xucm91dGVyLnBvc3QoXCIvYm9va2luZy9wYXlcIiwgdXNlclZhbGlkYXRpb24sIHVzZXJQYXlCb29raW5nKTtcbnJvdXRlci5wb3N0KFwiL2Jvb2tpbmcvcmF0ZVwiLCB1c2VyVmFsaWRhdGlvbiwgdXNlclJhdGVCb29raW5nKTtcbnJvdXRlci5wb3N0KFwiL2Jvb2tpbmcvY2FuY2VsXCIsIHVzZXJWYWxpZGF0aW9uLCB1c2VyQ2FuY2VsQm9va2luZyk7XG5cbnJvdXRlci5nZXQoXCIvYm9va2luZy9wZW5kaW5nXCIsIHVzZXJWYWxpZGF0aW9uLCBnZXRQZW5kaW5nQm9va2luZ3MpO1xucm91dGVyLmdldChcIi9ib29raW5nL2NvbmZpcm1lZFwiLCB1c2VyVmFsaWRhdGlvbiwgZ2V0Q29uZmlybWVkQm9va2luZ3MpO1xucm91dGVyLmdldChcIi9ib29raW5nL2luLXByb2dyZXNzXCIsIHVzZXJWYWxpZGF0aW9uLCBnZXRJblByb2dyZXNzQm9va2luZ3MpO1xucm91dGVyLmdldChcIi9ib29raW5nL2NvbXBsZXRlZFwiLCB1c2VyVmFsaWRhdGlvbiwgZ2V0Q29tcGxldGVkQm9va2luZ3MpO1xucm91dGVyLmdldChcIi9ib29raW5nL2NhbmNlbGxlZFwiLCB1c2VyVmFsaWRhdGlvbiwgZ2V0Q2FuY2VsbGVkQm9va2luZ3MpO1xuXG5yb3V0ZXIuZ2V0KFwiL3Byb2ZpbGVcIiwgdXNlclZhbGlkYXRpb24sIGdldFByb2ZpbGUpO1xucm91dGVyLnB1dChcIi9wcm9maWxlXCIsIHVzZXJWYWxpZGF0aW9uLCB1cGRhdGVQcm9maWxlKTtcblxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiOztBQUFB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","map":{"version":3,"names":["express","require","_require","registerUser","loginUser","logoutUser","getProfile","updateProfile","_require2","userValidation","_require3","userRequestBooking","userPayBooking","userRateBooking","userCancelBooking","getPendingBookings","getConfirmedBookings","getInProgressBookings","getCompletedBookings","getCancelledBookings","router","Router","post","get","put","module","exports"],"sourceRoot":"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/routes/","sources":["userRoutes.js"],"sourcesContent":["/**\n * This express file sets up the routes of the user, which consist of:\n *      Non-validation required routes: register and login\n *      Validation required routes: logout, booking-related (requesting, paying, rating and getting bookings)\n * \n * Validation requirement is to have the cookie with the right credintials without being expired.\n * \n * The functionalities for the routes themselves can be found in 3 files:\n *      1. controllers/UserController.js for register, login, logout\n *      2. controllers/UserBookingController.js for booking-related functonalities\n *      3. middlewares/auth.js for authenticating the user's credentials that are either stored or not stored\n */\n\nconst express = require(\"express\");\nconst {registerUser, loginUser, logoutUser, getProfile, updateProfile} = require(\"../controllers/UserController\");\nconst {userValidation} = require(\"../middlewares/auth\");\nconst {userRequestBooking, userPayBooking, userRateBooking, userCancelBooking, getPendingBookings, getConfirmedBookings, getInProgressBookings, getCompletedBookings, getCancelledBookings} = require(\"../controllers/UserBookingController\");\n\nconst router = express.Router();\n\nrouter.post(\"/register\", registerUser);\nrouter.post(\"/login\", loginUser);\nrouter.post(\"/logout\", userValidation, logoutUser);\n\n\nrouter.post(\"/booking/request\", userValidation, userRequestBooking);\nrouter.post(\"/booking/pay\", userValidation, userPayBooking);\nrouter.post(\"/booking/rate\", userValidation, userRateBooking);\nrouter.post(\"/booking/cancel\", userValidation, userCancelBooking);\n\nrouter.get(\"/booking/pending\", userValidation, getPendingBookings);\nrouter.get(\"/booking/confirmed\", userValidation, getConfirmedBookings);\nrouter.get(\"/booking/in-progress\", userValidation, getInProgressBookings);\nrouter.get(\"/booking/completed\", userValidation, getCompletedBookings);\nrouter.get(\"/booking/cancelled\", userValidation, getCancelledBookings);\n\nrouter.get(\"/profile\", userValidation, getProfile);\nrouter.put(\"/profile\", userValidation, updateProfile);\n\nmodule.exports = router;"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAMA,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAClC,IAAAC,QAAA,GAAyED,OAAO,CAAC,+BAA+B,CAAC;EAA1GE,YAAY,GAAAD,QAAA,CAAZC,YAAY;EAAEC,SAAS,GAAAF,QAAA,CAATE,SAAS;EAAEC,UAAU,GAAAH,QAAA,CAAVG,UAAU;EAAEC,UAAU,GAAAJ,QAAA,CAAVI,UAAU;EAAEC,aAAa,GAAAL,QAAA,CAAbK,aAAa;AACrE,IAAAC,SAAA,GAAyBP,OAAO,CAAC,qBAAqB,CAAC;EAAhDQ,cAAc,GAAAD,SAAA,CAAdC,cAAc;AACrB,IAAAC,SAAA,GAA8LT,OAAO,CAAC,sCAAsC,CAAC;EAAtOU,kBAAkB,GAAAD,SAAA,CAAlBC,kBAAkB;EAAEC,cAAc,GAAAF,SAAA,CAAdE,cAAc;EAAEC,eAAe,GAAAH,SAAA,CAAfG,eAAe;EAAEC,iBAAiB,GAAAJ,SAAA,CAAjBI,iBAAiB;EAAEC,kBAAkB,GAAAL,SAAA,CAAlBK,kBAAkB;EAAEC,oBAAoB,GAAAN,SAAA,CAApBM,oBAAoB;EAAEC,qBAAqB,GAAAP,SAAA,CAArBO,qBAAqB;EAAEC,oBAAoB,GAAAR,SAAA,CAApBQ,oBAAoB;EAAEC,oBAAoB,GAAAT,SAAA,CAApBS,oBAAoB;AAE1L,IAAMC,MAAM,GAAGpB,OAAO,CAACqB,MAAM,CAAC,CAAC;AAE/BD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAEnB,YAAY,CAAC;AACtCiB,MAAM,CAACE,IAAI,CAAC,QAAQ,EAAElB,SAAS,CAAC;AAChCgB,MAAM,CAACE,IAAI,CAAC,SAAS,EAAEb,cAAc,EAAEJ,UAAU,CAAC;AAGlDe,MAAM,CAACE,IAAI,CAAC,kBAAkB,EAAEb,cAAc,EAAEE,kBAAkB,CAAC;AACnES,MAAM,CAACE,IAAI,CAAC,cAAc,EAAEb,cAAc,EAAEG,cAAc,CAAC;AAC3DQ,MAAM,CAACE,IAAI,CAAC,eAAe,EAAEb,cAAc,EAAEI,eAAe,CAAC;AAC7DO,MAAM,CAACE,IAAI,CAAC,iBAAiB,EAAEb,cAAc,EAAEK,iBAAiB,CAAC;AAEjEM,MAAM,CAACG,GAAG,CAAC,kBAAkB,EAAEd,cAAc,EAAEM,kBAAkB,CAAC;AAClEK,MAAM,CAACG,GAAG,CAAC,oBAAoB,EAAEd,cAAc,EAAEO,oBAAoB,CAAC;AACtEI,MAAM,CAACG,GAAG,CAAC,sBAAsB,EAAEd,cAAc,EAAEQ,qBAAqB,CAAC;AACzEG,MAAM,CAACG,GAAG,CAAC,oBAAoB,EAAEd,cAAc,EAAES,oBAAoB,CAAC;AACtEE,MAAM,CAACG,GAAG,CAAC,oBAAoB,EAAEd,cAAc,EAAEU,oBAAoB,CAAC;AAEtEC,MAAM,CAACG,GAAG,CAAC,UAAU,EAAEd,cAAc,EAAEH,UAAU,CAAC;AAClDc,MAAM,CAACI,GAAG,CAAC,UAAU,EAAEf,cAAc,EAAEF,aAAa,CAAC;AAErDkB,MAAM,CAACC,OAAO,GAAGN,MAAM","ignoreList":[]}},"mtime":1764709651590},"{\"assumptions\":{},\"sourceRoot\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end\",\"filename\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/controllers/UserController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"_exploded\":true,\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"VoidPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$48\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$49\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n/**\n * The below controller provides the following functionalities for a user: registering, logging in and logging out.\n * \n * For storing the password, bcrypt is used to hash and jwt (jsonwebtoken) is used to sign a token and store it as cookie.\n */\n\nvar asyncHandler = require(\"express-async-handler\");\nvar bcrypt = require(\"bcrypt\");\nvar jwt = require(\"jsonwebtoken\");\n\n// sql needed for the type definitions in .input\n// getPool is to do queries\nvar _require = require(\"../config/database\"),\n  getPool = _require.getPool,\n  sql = _require.sql;\n\n// Import validation utilities\nvar _require2 = require(\"../utils/validators\"),\n  isValidEmail = _require2.isValidEmail,\n  isValidPhone = _require2.isValidPhone,\n  isValidPassword = _require2.isValidPassword,\n  isValidName = _require2.isValidName,\n  sanitizeString = _require2.sanitizeString;\n\n// Handles the registering functionality\nvar registerUser = asyncHandler(/*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee(req, res) {\n    var _req$body, firstName, lastName, email, phone, password, streetAddress, buildingName, floor, city, postalCode, passwordValidation, pool, hashedPassword, result, _t;\n    return _regenerator[\"default\"].wrap(function (_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          // Getting the needed data from the request body\n          _req$body = req.body, firstName = _req$body.firstName, lastName = _req$body.lastName, email = _req$body.email, phone = _req$body.phone, password = _req$body.password, streetAddress = _req$body.streetAddress, buildingName = _req$body.buildingName, floor = _req$body.floor, city = _req$body.city, postalCode = _req$body.postalCode; // Checking if any of them is empty, if yes then we throw a 400 \n          if (!(!firstName || !lastName || !email || !phone || !password || !streetAddress || !buildingName || !floor || !city || !postalCode)) {\n            _context.next = 1;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"You have to insert all data to register.\"\n          }));\n        case 1:\n          if (isValidName(firstName)) {\n            _context.next = 2;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"First name must be 2-30 characters and contain only letters.\"\n          }));\n        case 2:\n          if (isValidName(lastName)) {\n            _context.next = 3;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"Last name must be 2-30 characters and contain only letters.\"\n          }));\n        case 3:\n          if (isValidEmail(email)) {\n            _context.next = 4;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"Please enter a valid email address.\"\n          }));\n        case 4:\n          if (isValidPhone(phone)) {\n            _context.next = 5;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"Please enter a valid phone number.\"\n          }));\n        case 5:\n          // Validate password strength\n          passwordValidation = isValidPassword(password);\n          if (passwordValidation.valid) {\n            _context.next = 6;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: passwordValidation.message\n          }));\n        case 6:\n          if (!(streetAddress.length > 200)) {\n            _context.next = 7;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"Street address cannot exceed 200 characters.\"\n          }));\n        case 7:\n          if (!(buildingName && buildingName.length > 100)) {\n            _context.next = 8;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"Building name cannot exceed 100 characters.\"\n          }));\n        case 8:\n          if (!(city.length > 50)) {\n            _context.next = 9;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"City name cannot exceed 50 characters.\"\n          }));\n        case 9:\n          _context.prev = 9;\n          pool = getPool(); // Hashing the password before storing\n          _context.next = 10;\n          return bcrypt.hash(password, 11);\n        case 10:\n          hashedPassword = _context.sent;\n          _context.next = 11;\n          return pool.request().input(\"firstName\", sql.VarChar, sanitizeString(firstName)).input(\"lastName\", sql.VarChar, sanitizeString(lastName)).input(\"email\", sql.VarChar, sanitizeString(email).toLowerCase()).input(\"phone\", sql.VarChar, sanitizeString(phone)).input(\"hashedPassword\", sql.VarChar, hashedPassword).input(\"streetAddress\", sql.VarChar, sanitizeString(streetAddress)).input(\"buildingName\", sql.VarChar, sanitizeString(buildingName)).input(\"floor\", sql.VarChar, sanitizeString(floor)).input(\"city\", sql.VarChar, sanitizeString(city)).input(\"postalCode\", sql.VarChar, sanitizeString(postalCode)).query(\"\\n            INSERT INTO [User] (First_Name, Last_Name, Email, Phone, Password_Hash, Street_Address, Building_Name, Floor, City, Postal_Code)\\n            VALUES(@firstName, @lastName, @email, @phone, @hashedPassword, @streetAddress, @buildingName, @floor, @city, @postalCode)\\n            \");\n        case 11:\n          result = _context.sent;\n          // Sending success message\n          res.status(201).json({\n            message: \"User registered successfully!\"\n          });\n          _context.next = 14;\n          break;\n        case 12:\n          _context.prev = 12;\n          _t = _context[\"catch\"](9);\n          if (!(_t.number === 2627 || _t.number === 2601)) {\n            _context.next = 13;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(409).json({\n            message: \"Another account exists already either with this email address or phone number. If you have another account, please use that one instead.\"\n          }));\n        case 13:\n          // Throwing the console error and 500 status in case something goes wrong.\n          console.error(\"Unexpected error registering a new user account: \", _t);\n          res.status(500).json({\n            message: \"An unexpected error occurred while registering the user.\"\n          });\n        case 14:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[9, 12]]);\n  }));\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}());\n\n// Handling the logging in functionality\nvar loginUser = asyncHandler(/*#__PURE__*/function () {\n  var _ref2 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(req, res) {\n    var _req$body2, email, password, pool, result, user, isPasswordValid, userToken, _t2;\n    return _regenerator[\"default\"].wrap(function (_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          // Getting the email and password that the user is trying to login with.\n          _req$body2 = req.body, email = _req$body2.email, password = _req$body2.password; // Input validation, if either empty then send 400 error\n          if (!(!email || !password)) {\n            _context2.next = 1;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(400).json({\n            message: \"You have to enter both your email and your password\"\n          }));\n        case 1:\n          if (isValidEmail(email)) {\n            _context2.next = 2;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(400).json({\n            message: \"Please enter a valid email address.\"\n          }));\n        case 2:\n          _context2.prev = 2;\n          pool = getPool(); // Searching in the database for a user with the same email passed to check if exists\n          _context2.next = 3;\n          return pool.request().input(\"email\", sql.VarChar, sanitizeString(email).toLowerCase()).query(\"\\n                SELECT User_ID, First_Name, Last_Name, Email, Password_Hash, isActive\\n                FROM [User]\\n                WHERE Email = @email\\n                \");\n        case 3:\n          result = _context2.sent;\n          if (!(result.recordset.length === 0)) {\n            _context2.next = 4;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(401).json({\n            message: \"Invalid email address or password.\"\n          }));\n        case 4:\n          // Now we are getting the first user that we got having the same email address\n          user = result.recordset[0];\n          if (user.isActive) {\n            _context2.next = 5;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(403).json({\n            message: \"Your account is deactivated. Please contact us to resolve this issue.\"\n          }));\n        case 5:\n          _context2.next = 6;\n          return bcrypt.compare(password, user.Password_Hash);\n        case 6:\n          isPasswordValid = _context2.sent;\n          if (isPasswordValid) {\n            _context2.next = 7;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(401).json({\n            message: \"Invalid email address or password.\"\n          }));\n        case 7:\n          // If the password matches, then create a user token using jwt by signing it with the USER_ACCESS_TOKEN\n          // stored in the .env file. The token expires in 1 day.\n          userToken = jwt.sign({\n            id: user.User_ID,\n            firstName: user.First_Name,\n            lastName: user.Last_Name,\n            email: user.Email\n          }, process.env.USER_ACCESS_TOKEN, {\n            expiresIn: \"1d\"\n          }); // If a cookie exists already for the user, clear it.\n          if (req.cookies.user_access_token) {\n            res.clearCookie('user_access_token');\n          }\n\n          // Store the new cookie such that it lasts 1 day, and throw a 200 success message with some data about the user\n          // (id, firstName, lastName, email)\n          res.cookie('user_access_token', userToken, {\n            httpOnly: true,\n            secure: process.env.NODE_ENV === \"production\",\n            sameSite: process.env.NODE_ENV === \"production\" ? 'strict' : 'lax',\n            maxAge: 24 * 60 * 60 * 1000\n          });\n          res.status(200).json({\n            message: \"Successfully logged in.\",\n            user: {\n              id: user.User_ID,\n              firstName: user.First_Name,\n              lastName: user.Last_Name,\n              email: user.Email\n            }\n          });\n\n          // If anything goes wrong, ex duplicate email, then throw an error.\n          _context2.next = 9;\n          break;\n        case 8:\n          _context2.prev = 8;\n          _t2 = _context2[\"catch\"](2);\n          console.error(\"Login error:\", _t2);\n          res.status(500).json({\n            message: \"An error occurred during login.\"\n          });\n        case 9:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[2, 8]]);\n  }));\n  return function (_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}());\n\n// Retrieving user's profile information\nvar getProfile = asyncHandler(/*#__PURE__*/function () {\n  var _ref3 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee3(req, res) {\n    var userID, pool, result, userData, _t3;\n    return _regenerator[\"default\"].wrap(function (_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          userID = req.userID;\n          _context3.prev = 1;\n          pool = getPool();\n          _context3.next = 2;\n          return pool.request().input(\"userId\", sql.Int, userID).query(\"\\n            SELECT User_ID, First_Name, Last_Name, Email, Phone, Street_Address, Building_Name, Floor, City, Postal_Code, isActive\\n            FROM [User]\\n            WHERE User_ID = @userId\\n            \");\n        case 2:\n          result = _context3.sent;\n          if (!(result.recordset.length === 0)) {\n            _context3.next = 3;\n            break;\n          }\n          return _context3.abrupt(\"return\", res.status(404).json({\n            message: \"User not found.\"\n          }));\n        case 3:\n          userData = result.recordset[0];\n          res.status(200).json({\n            firstName: userData.First_Name,\n            lastName: userData.Last_Name,\n            email: userData.Email,\n            phone: userData.Phone,\n            streetAddress: userData.Street_Address,\n            buildingName: userData.Building_Name,\n            floor: userData.Floor,\n            city: userData.City,\n            postalCode: userData.Postal_Code,\n            isActive: userData.isActive\n          });\n          _context3.next = 5;\n          break;\n        case 4:\n          _context3.prev = 4;\n          _t3 = _context3[\"catch\"](1);\n          // Throwing the console error and 500 status in case something goes wrong.\n          console.error(\"Unexpected error occurred when trying to get profile: \", _t3);\n          res.status(500).json({\n            message: \"An unexpected error occurred while getting profile.\"\n          });\n        case 5:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3, null, [[1, 4]]);\n  }));\n  return function (_x5, _x6) {\n    return _ref3.apply(this, arguments);\n  };\n}());\n\n// Updating user's profile information\nvar updateProfile = asyncHandler(/*#__PURE__*/function () {\n  var _ref4 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee4(req, res) {\n    var _req$body3, firstName, lastName, email, phone, streetAddress, buildingName, floor, city, postalCode, userID, pool, result, _t4;\n    return _regenerator[\"default\"].wrap(function (_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          _req$body3 = req.body, firstName = _req$body3.firstName, lastName = _req$body3.lastName, email = _req$body3.email, phone = _req$body3.phone, streetAddress = _req$body3.streetAddress, buildingName = _req$body3.buildingName, floor = _req$body3.floor, city = _req$body3.city, postalCode = _req$body3.postalCode;\n          userID = req.userID; // Checking if any of them is empty, if yes then we throw a 400 \n          if (!(!firstName || !lastName || !email || !phone || !streetAddress || !buildingName || !floor || !city || !postalCode)) {\n            _context4.next = 1;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(400).json({\n            message: \"You have to insert all profile data to update.\"\n          }));\n        case 1:\n          if (isValidName(firstName)) {\n            _context4.next = 2;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(400).json({\n            message: \"First name must be 2-30 characters and contain only letters.\"\n          }));\n        case 2:\n          if (isValidName(lastName)) {\n            _context4.next = 3;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(400).json({\n            message: \"Last name must be 2-30 characters and contain only letters.\"\n          }));\n        case 3:\n          if (isValidEmail(email)) {\n            _context4.next = 4;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(400).json({\n            message: \"Please enter a valid email address.\"\n          }));\n        case 4:\n          if (isValidPhone(phone)) {\n            _context4.next = 5;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(400).json({\n            message: \"Please enter a valid phone number.\"\n          }));\n        case 5:\n          if (!(streetAddress.length > 200)) {\n            _context4.next = 6;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(400).json({\n            message: \"Street address cannot exceed 200 characters.\"\n          }));\n        case 6:\n          if (!(buildingName && buildingName.length > 100)) {\n            _context4.next = 7;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(400).json({\n            message: \"Building name cannot exceed 100 characters.\"\n          }));\n        case 7:\n          if (!(city.length > 50)) {\n            _context4.next = 8;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(400).json({\n            message: \"City name cannot exceed 50 characters.\"\n          }));\n        case 8:\n          _context4.prev = 8;\n          pool = getPool(); // Updating the user data \n          _context4.next = 9;\n          return pool.request().input(\"userId\", sql.Int, userID).input(\"firstName\", sql.VarChar, sanitizeString(firstName)).input(\"lastName\", sql.VarChar, sanitizeString(lastName)).input(\"email\", sql.VarChar, sanitizeString(email).toLowerCase()).input(\"phone\", sql.VarChar, sanitizeString(phone)).input(\"streetAddress\", sql.VarChar, sanitizeString(streetAddress)).input(\"buildingName\", sql.VarChar, sanitizeString(buildingName)).input(\"floor\", sql.VarChar, sanitizeString(floor)).input(\"city\", sql.VarChar, sanitizeString(city)).input(\"postalCode\", sql.VarChar, sanitizeString(postalCode)).query(\"\\n            UPDATE [User] \\n            SET First_Name = @firstName, Last_Name = @lastName, Email = @email, Phone = @phone, Street_Address = @streetAddress, Building_Name = @buildingName,\\n                Floor = @floor, City = @city, Postal_Code = @postalCode, modifiedAt = GETDATE()\\n            WHERE User_ID = @userId\\n                \");\n        case 9:\n          result = _context4.sent;\n          if (!(result.rowsAffected[0] === 0)) {\n            _context4.next = 10;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(404).json({\n            message: \"User not found or no changes made.\"\n          }));\n        case 10:\n          // Sending success message\n          res.status(200).json({\n            message: \"User profile updated successfully!\"\n          });\n          _context4.next = 13;\n          break;\n        case 11:\n          _context4.prev = 11;\n          _t4 = _context4[\"catch\"](8);\n          if (!(_t4.number === 2627 || _t4.number === 2601)) {\n            _context4.next = 12;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(409).json({\n            message: \"Another account exists already either with this email address or phone number. If you have another account, please use that one instead.\"\n          }));\n        case 12:\n          // Throwing the console error and 500 status in case something goes wrong.\n          console.error(\"Unexpected error when updating profile: \", _t4);\n          res.status(500).json({\n            message: \"An unexpected error occurred while updating the user's profile.\"\n          });\n        case 13:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4, null, [[8, 11]]);\n  }));\n  return function (_x7, _x8) {\n    return _ref4.apply(this, arguments);\n  };\n}());\n\n// Logging out functionality by clearing the user's cooking and sending a success message\nvar logoutUser = asyncHandler(/*#__PURE__*/function () {\n  var _ref5 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee5(req, res) {\n    return _regenerator[\"default\"].wrap(function (_context5) {\n      while (1) switch (_context5.prev = _context5.next) {\n        case 0:\n          res.clearCookie('user_access_token');\n          res.status(200).json({\n            message: \"Successfully logged out.\"\n          });\n        case 1:\n        case \"end\":\n          return _context5.stop();\n      }\n    }, _callee5);\n  }));\n  return function (_x9, _x0) {\n    return _ref5.apply(this, arguments);\n  };\n}());\nmodule.exports = {\n  registerUser: registerUser,\n  loginUser: loginUser,\n  logoutUser: logoutUser,\n  getProfile: getProfile,\n  updateProfile: updateProfile\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhc3luY0hhbmRsZXIiLCJyZXF1aXJlIiwiYmNyeXB0Iiwiand0IiwiX3JlcXVpcmUiLCJnZXRQb29sIiwic3FsIiwiX3JlcXVpcmUyIiwiaXNWYWxpZEVtYWlsIiwiaXNWYWxpZFBob25lIiwiaXNWYWxpZFBhc3N3b3JkIiwiaXNWYWxpZE5hbWUiLCJzYW5pdGl6ZVN0cmluZyIsInJlZ2lzdGVyVXNlciIsIl9yZWYiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJfcmVnZW5lcmF0b3IiLCJtYXJrIiwiX2NhbGxlZSIsInJlcSIsInJlcyIsIl9yZXEkYm9keSIsImZpcnN0TmFtZSIsImxhc3ROYW1lIiwiZW1haWwiLCJwaG9uZSIsInBhc3N3b3JkIiwic3RyZWV0QWRkcmVzcyIsImJ1aWxkaW5nTmFtZSIsImZsb29yIiwiY2l0eSIsInBvc3RhbENvZGUiLCJwYXNzd29yZFZhbGlkYXRpb24iLCJwb29sIiwiaGFzaGVkUGFzc3dvcmQiLCJyZXN1bHQiLCJfdCIsIndyYXAiLCJfY29udGV4dCIsInByZXYiLCJuZXh0IiwiYm9keSIsImFicnVwdCIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwidmFsaWQiLCJsZW5ndGgiLCJoYXNoIiwic2VudCIsInJlcXVlc3QiLCJpbnB1dCIsIlZhckNoYXIiLCJ0b0xvd2VyQ2FzZSIsInF1ZXJ5IiwibnVtYmVyIiwiY29uc29sZSIsImVycm9yIiwic3RvcCIsIl94IiwiX3gyIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJsb2dpblVzZXIiLCJfcmVmMiIsIl9jYWxsZWUyIiwiX3JlcSRib2R5MiIsInVzZXIiLCJpc1Bhc3N3b3JkVmFsaWQiLCJ1c2VyVG9rZW4iLCJfdDIiLCJfY29udGV4dDIiLCJyZWNvcmRzZXQiLCJpc0FjdGl2ZSIsImNvbXBhcmUiLCJQYXNzd29yZF9IYXNoIiwic2lnbiIsImlkIiwiVXNlcl9JRCIsIkZpcnN0X05hbWUiLCJMYXN0X05hbWUiLCJFbWFpbCIsInByb2Nlc3MiLCJlbnYiLCJVU0VSX0FDQ0VTU19UT0tFTiIsImV4cGlyZXNJbiIsImNvb2tpZXMiLCJ1c2VyX2FjY2Vzc190b2tlbiIsImNsZWFyQ29va2llIiwiY29va2llIiwiaHR0cE9ubHkiLCJzZWN1cmUiLCJOT0RFX0VOViIsInNhbWVTaXRlIiwibWF4QWdlIiwiX3gzIiwiX3g0IiwiZ2V0UHJvZmlsZSIsIl9yZWYzIiwiX2NhbGxlZTMiLCJ1c2VySUQiLCJ1c2VyRGF0YSIsIl90MyIsIl9jb250ZXh0MyIsIkludCIsIlBob25lIiwiU3RyZWV0X0FkZHJlc3MiLCJCdWlsZGluZ19OYW1lIiwiRmxvb3IiLCJDaXR5IiwiUG9zdGFsX0NvZGUiLCJfeDUiLCJfeDYiLCJ1cGRhdGVQcm9maWxlIiwiX3JlZjQiLCJfY2FsbGVlNCIsIl9yZXEkYm9keTMiLCJfdDQiLCJfY29udGV4dDQiLCJyb3dzQWZmZWN0ZWQiLCJfeDciLCJfeDgiLCJsb2dvdXRVc2VyIiwiX3JlZjUiLCJfY2FsbGVlNSIsIl9jb250ZXh0NSIsIl94OSIsIl94MCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9ob21lL3NlcmovRG9jdW1lbnRzL0dpdEh1Yi9GaXhBcHBsaWFuY2UtYm9va2luZ0NvbW1lcmNlL2JhY2stZW5kL3NyYy9jb250cm9sbGVycy8iLCJzb3VyY2VzIjpbIlVzZXJDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGhlIGJlbG93IGNvbnRyb2xsZXIgcHJvdmlkZXMgdGhlIGZvbGxvd2luZyBmdW5jdGlvbmFsaXRpZXMgZm9yIGEgdXNlcjogcmVnaXN0ZXJpbmcsIGxvZ2dpbmcgaW4gYW5kIGxvZ2dpbmcgb3V0LlxuICogXG4gKiBGb3Igc3RvcmluZyB0aGUgcGFzc3dvcmQsIGJjcnlwdCBpcyB1c2VkIHRvIGhhc2ggYW5kIGp3dCAoanNvbndlYnRva2VuKSBpcyB1c2VkIHRvIHNpZ24gYSB0b2tlbiBhbmQgc3RvcmUgaXQgYXMgY29va2llLlxuICovXG5cbmNvbnN0IGFzeW5jSGFuZGxlciA9IHJlcXVpcmUoXCJleHByZXNzLWFzeW5jLWhhbmRsZXJcIik7XG5jb25zdCBiY3J5cHQgPSByZXF1aXJlKFwiYmNyeXB0XCIpO1xuY29uc3Qgand0ID0gcmVxdWlyZShcImpzb253ZWJ0b2tlblwiKTtcblxuLy8gc3FsIG5lZWRlZCBmb3IgdGhlIHR5cGUgZGVmaW5pdGlvbnMgaW4gLmlucHV0XG4vLyBnZXRQb29sIGlzIHRvIGRvIHF1ZXJpZXNcbmNvbnN0IHsgZ2V0UG9vbCwgc3FsIH0gPSByZXF1aXJlKFwiLi4vY29uZmlnL2RhdGFiYXNlXCIpO1xuXG4vLyBJbXBvcnQgdmFsaWRhdGlvbiB1dGlsaXRpZXNcbmNvbnN0IHsgaXNWYWxpZEVtYWlsLCBpc1ZhbGlkUGhvbmUsIGlzVmFsaWRQYXNzd29yZCwgaXNWYWxpZE5hbWUsIHNhbml0aXplU3RyaW5nIH0gPSByZXF1aXJlKFwiLi4vdXRpbHMvdmFsaWRhdG9yc1wiKTtcblxuXG4vLyBIYW5kbGVzIHRoZSByZWdpc3RlcmluZyBmdW5jdGlvbmFsaXR5XG5jb25zdCByZWdpc3RlclVzZXIgPSBhc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgLy8gR2V0dGluZyB0aGUgbmVlZGVkIGRhdGEgZnJvbSB0aGUgcmVxdWVzdCBib2R5XG4gICAgY29uc3QgeyBmaXJzdE5hbWUsIGxhc3ROYW1lLCBlbWFpbCwgcGhvbmUsIHBhc3N3b3JkLCBzdHJlZXRBZGRyZXNzLCBidWlsZGluZ05hbWUsIGZsb29yLCBjaXR5LCBwb3N0YWxDb2RlIH0gPSByZXEuYm9keTtcblxuICAgIC8vIENoZWNraW5nIGlmIGFueSBvZiB0aGVtIGlzIGVtcHR5LCBpZiB5ZXMgdGhlbiB3ZSB0aHJvdyBhIDQwMCBcbiAgICBpZiAoIWZpcnN0TmFtZSB8fCAhbGFzdE5hbWUgfHwgIWVtYWlsIHx8ICFwaG9uZSB8fCAhcGFzc3dvcmQgfHwgIXN0cmVldEFkZHJlc3MgfHwgIWJ1aWxkaW5nTmFtZSB8fCAhZmxvb3IgfHwgIWNpdHkgfHwgIXBvc3RhbENvZGUpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogXCJZb3UgaGF2ZSB0byBpbnNlcnQgYWxsIGRhdGEgdG8gcmVnaXN0ZXIuXCIgfSk7XG4gICAgfVxuXG4gICAgLy8gVmFsaWRhdGUgZmlyc3QgbmFtZSBmb3JtYXRcbiAgICBpZiAoIWlzVmFsaWROYW1lKGZpcnN0TmFtZSkpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogXCJGaXJzdCBuYW1lIG11c3QgYmUgMi0zMCBjaGFyYWN0ZXJzIGFuZCBjb250YWluIG9ubHkgbGV0dGVycy5cIiB9KTtcbiAgICB9XG5cbiAgICAvLyBWYWxpZGF0ZSBsYXN0IG5hbWUgZm9ybWF0XG4gICAgaWYgKCFpc1ZhbGlkTmFtZShsYXN0TmFtZSkpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogXCJMYXN0IG5hbWUgbXVzdCBiZSAyLTMwIGNoYXJhY3RlcnMgYW5kIGNvbnRhaW4gb25seSBsZXR0ZXJzLlwiIH0pO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRlIGVtYWlsIGZvcm1hdFxuICAgIGlmICghaXNWYWxpZEVtYWlsKGVtYWlsKSkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiBcIlBsZWFzZSBlbnRlciBhIHZhbGlkIGVtYWlsIGFkZHJlc3MuXCIgfSk7XG4gICAgfVxuXG4gICAgLy8gVmFsaWRhdGUgcGhvbmUgZm9ybWF0XG4gICAgaWYgKCFpc1ZhbGlkUGhvbmUocGhvbmUpKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6IFwiUGxlYXNlIGVudGVyIGEgdmFsaWQgcGhvbmUgbnVtYmVyLlwiIH0pO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRlIHBhc3N3b3JkIHN0cmVuZ3RoXG4gICAgY29uc3QgcGFzc3dvcmRWYWxpZGF0aW9uID0gaXNWYWxpZFBhc3N3b3JkKHBhc3N3b3JkKTtcbiAgICBpZiAoIXBhc3N3b3JkVmFsaWRhdGlvbi52YWxpZCkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiBwYXNzd29yZFZhbGlkYXRpb24ubWVzc2FnZSB9KTtcbiAgICB9XG5cbiAgICAvLyBWYWxpZGF0ZSBhZGRyZXNzIGZpZWxkcyBsZW5ndGhcbiAgICBpZiAoc3RyZWV0QWRkcmVzcy5sZW5ndGggPiAyMDApIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogXCJTdHJlZXQgYWRkcmVzcyBjYW5ub3QgZXhjZWVkIDIwMCBjaGFyYWN0ZXJzLlwiIH0pO1xuICAgIH1cblxuICAgIGlmIChidWlsZGluZ05hbWUgJiYgYnVpbGRpbmdOYW1lLmxlbmd0aCA+IDEwMCkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiBcIkJ1aWxkaW5nIG5hbWUgY2Fubm90IGV4Y2VlZCAxMDAgY2hhcmFjdGVycy5cIiB9KTtcbiAgICB9XG5cbiAgICBpZiAoY2l0eS5sZW5ndGggPiA1MCkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiBcIkNpdHkgbmFtZSBjYW5ub3QgZXhjZWVkIDUwIGNoYXJhY3RlcnMuXCIgfSk7XG4gICAgfVxuXG4gICAgLy8gV2Ugbm93IHRyeSB0byBhY2Nlc3MgdGhlIGRhdGFiYXNlIHRvIGluc2VydCB0aGUgdXNlclxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHBvb2wgPSBnZXRQb29sKCk7XG5cbiAgICAgICAgLy8gSGFzaGluZyB0aGUgcGFzc3dvcmQgYmVmb3JlIHN0b3JpbmdcbiAgICAgICAgY29uc3QgaGFzaGVkUGFzc3dvcmQgPSBhd2FpdCBiY3J5cHQuaGFzaChwYXNzd29yZCwgMTEpO1xuXG4gICAgICAgIC8vIEluc2VydGluZyB0aGUgdXNlciBpbnRvIHRoZSBkYXRhYmFzZSBVc2VyIHRhYmxlIChzYW5pdGl6ZSBpbnB1dHMpXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBvb2wucmVxdWVzdCgpXG4gICAgICAgICAgICAuaW5wdXQoXCJmaXJzdE5hbWVcIiwgc3FsLlZhckNoYXIsIHNhbml0aXplU3RyaW5nKGZpcnN0TmFtZSkpXG4gICAgICAgICAgICAuaW5wdXQoXCJsYXN0TmFtZVwiLCBzcWwuVmFyQ2hhciwgc2FuaXRpemVTdHJpbmcobGFzdE5hbWUpKVxuICAgICAgICAgICAgLmlucHV0KFwiZW1haWxcIiwgc3FsLlZhckNoYXIsIHNhbml0aXplU3RyaW5nKGVtYWlsKS50b0xvd2VyQ2FzZSgpKVxuICAgICAgICAgICAgLmlucHV0KFwicGhvbmVcIiwgc3FsLlZhckNoYXIsIHNhbml0aXplU3RyaW5nKHBob25lKSlcbiAgICAgICAgICAgIC5pbnB1dChcImhhc2hlZFBhc3N3b3JkXCIsIHNxbC5WYXJDaGFyLCBoYXNoZWRQYXNzd29yZClcbiAgICAgICAgICAgIC5pbnB1dChcInN0cmVldEFkZHJlc3NcIiwgc3FsLlZhckNoYXIsIHNhbml0aXplU3RyaW5nKHN0cmVldEFkZHJlc3MpKVxuICAgICAgICAgICAgLmlucHV0KFwiYnVpbGRpbmdOYW1lXCIsIHNxbC5WYXJDaGFyLCBzYW5pdGl6ZVN0cmluZyhidWlsZGluZ05hbWUpKVxuICAgICAgICAgICAgLmlucHV0KFwiZmxvb3JcIiwgc3FsLlZhckNoYXIsIHNhbml0aXplU3RyaW5nKGZsb29yKSlcbiAgICAgICAgICAgIC5pbnB1dChcImNpdHlcIiwgc3FsLlZhckNoYXIsIHNhbml0aXplU3RyaW5nKGNpdHkpKVxuICAgICAgICAgICAgLmlucHV0KFwicG9zdGFsQ29kZVwiLCBzcWwuVmFyQ2hhciwgc2FuaXRpemVTdHJpbmcocG9zdGFsQ29kZSkpXG4gICAgICAgICAgICAucXVlcnkoYFxuICAgICAgICAgICAgSU5TRVJUIElOVE8gW1VzZXJdIChGaXJzdF9OYW1lLCBMYXN0X05hbWUsIEVtYWlsLCBQaG9uZSwgUGFzc3dvcmRfSGFzaCwgU3RyZWV0X0FkZHJlc3MsIEJ1aWxkaW5nX05hbWUsIEZsb29yLCBDaXR5LCBQb3N0YWxfQ29kZSlcbiAgICAgICAgICAgIFZBTFVFUyhAZmlyc3ROYW1lLCBAbGFzdE5hbWUsIEBlbWFpbCwgQHBob25lLCBAaGFzaGVkUGFzc3dvcmQsIEBzdHJlZXRBZGRyZXNzLCBAYnVpbGRpbmdOYW1lLCBAZmxvb3IsIEBjaXR5LCBAcG9zdGFsQ29kZSlcbiAgICAgICAgICAgIGApO1xuXG4gICAgICAgIC8vIFNlbmRpbmcgc3VjY2VzcyBtZXNzYWdlXG4gICAgICAgIHJlcy5zdGF0dXMoMjAxKS5qc29uKHsgbWVzc2FnZTogXCJVc2VyIHJlZ2lzdGVyZWQgc3VjY2Vzc2Z1bGx5IVwiIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIC8vIEhhbmRsaW5nIHRoZSB1bmlxdWUgY29uc3RyYWludHMgZm9yIGVtYWlsIGFuZCBwaG9uZSBudW1iZXJzXG4gICAgICAgIC8vIDI2MjcgaXMgZm9yIHZpb2xhdGlvbiBvZiB0aGUgdW5pcXVlIGtleSBjb25zdHJhaW50LCBhbmQgMjYwMSBpcyBmb3IgdW5pcXVlIGluZGV4IHZpb2xhdGlvblxuICAgICAgICBpZiAoZXJyb3IubnVtYmVyID09PSAyNjI3IHx8IGVycm9yLm51bWJlciA9PT0gMjYwMSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA5KS5qc29uKHsgbWVzc2FnZTogXCJBbm90aGVyIGFjY291bnQgZXhpc3RzIGFscmVhZHkgZWl0aGVyIHdpdGggdGhpcyBlbWFpbCBhZGRyZXNzIG9yIHBob25lIG51bWJlci4gSWYgeW91IGhhdmUgYW5vdGhlciBhY2NvdW50LCBwbGVhc2UgdXNlIHRoYXQgb25lIGluc3RlYWQuXCIgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUaHJvd2luZyB0aGUgY29uc29sZSBlcnJvciBhbmQgNTAwIHN0YXR1cyBpbiBjYXNlIHNvbWV0aGluZyBnb2VzIHdyb25nLlxuICAgICAgICBjb25zb2xlLmVycm9yKFwiVW5leHBlY3RlZCBlcnJvciByZWdpc3RlcmluZyBhIG5ldyB1c2VyIGFjY291bnQ6IFwiLCBlcnJvcik7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogXCJBbiB1bmV4cGVjdGVkIGVycm9yIG9jY3VycmVkIHdoaWxlIHJlZ2lzdGVyaW5nIHRoZSB1c2VyLlwiIH0pO1xuICAgIH1cbn0pO1xuXG5cbi8vIEhhbmRsaW5nIHRoZSBsb2dnaW5nIGluIGZ1bmN0aW9uYWxpdHlcbmNvbnN0IGxvZ2luVXNlciA9IGFzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICAvLyBHZXR0aW5nIHRoZSBlbWFpbCBhbmQgcGFzc3dvcmQgdGhhdCB0aGUgdXNlciBpcyB0cnlpbmcgdG8gbG9naW4gd2l0aC5cbiAgICBjb25zdCB7IGVtYWlsLCBwYXNzd29yZCB9ID0gcmVxLmJvZHk7XG5cbiAgICAvLyBJbnB1dCB2YWxpZGF0aW9uLCBpZiBlaXRoZXIgZW1wdHkgdGhlbiBzZW5kIDQwMCBlcnJvclxuICAgIGlmICghZW1haWwgfHwgIXBhc3N3b3JkKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6IFwiWW91IGhhdmUgdG8gZW50ZXIgYm90aCB5b3VyIGVtYWlsIGFuZCB5b3VyIHBhc3N3b3JkXCIgfSk7XG4gICAgfVxuXG4gICAgLy8gVmFsaWRhdGUgZW1haWwgZm9ybWF0XG4gICAgaWYgKCFpc1ZhbGlkRW1haWwoZW1haWwpKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6IFwiUGxlYXNlIGVudGVyIGEgdmFsaWQgZW1haWwgYWRkcmVzcy5cIiB9KTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgICBjb25zdCBwb29sID0gZ2V0UG9vbCgpO1xuXG4gICAgICAgIC8vIFNlYXJjaGluZyBpbiB0aGUgZGF0YWJhc2UgZm9yIGEgdXNlciB3aXRoIHRoZSBzYW1lIGVtYWlsIHBhc3NlZCB0byBjaGVjayBpZiBleGlzdHNcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcG9vbC5yZXF1ZXN0KClcbiAgICAgICAgICAgIC5pbnB1dChcImVtYWlsXCIsIHNxbC5WYXJDaGFyLCBzYW5pdGl6ZVN0cmluZyhlbWFpbCkudG9Mb3dlckNhc2UoKSlcbiAgICAgICAgICAgIC5xdWVyeShgXG4gICAgICAgICAgICAgICAgU0VMRUNUIFVzZXJfSUQsIEZpcnN0X05hbWUsIExhc3RfTmFtZSwgRW1haWwsIFBhc3N3b3JkX0hhc2gsIGlzQWN0aXZlXG4gICAgICAgICAgICAgICAgRlJPTSBbVXNlcl1cbiAgICAgICAgICAgICAgICBXSEVSRSBFbWFpbCA9IEBlbWFpbFxuICAgICAgICAgICAgICAgIGApO1xuXG4gICAgICAgIC8vIElmIG5vIHJlc3VsdHMgcmV0dXJuZWQgZnJvbSB0aGUgcXVlcnksIHRoZW4gdGhlIGVtYWlsIGVudGVyZWQgaXMgaW52YWxpZFxuICAgICAgICBpZiAocmVzdWx0LnJlY29yZHNldC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6IFwiSW52YWxpZCBlbWFpbCBhZGRyZXNzIG9yIHBhc3N3b3JkLlwiIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTm93IHdlIGFyZSBnZXR0aW5nIHRoZSBmaXJzdCB1c2VyIHRoYXQgd2UgZ290IGhhdmluZyB0aGUgc2FtZSBlbWFpbCBhZGRyZXNzXG4gICAgICAgIGNvbnN0IHVzZXIgPSByZXN1bHQucmVjb3Jkc2V0WzBdO1xuICAgICAgICBpZiAoIXVzZXIuaXNBY3RpdmUpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMykuanNvbih7IG1lc3NhZ2U6IFwiWW91ciBhY2NvdW50IGlzIGRlYWN0aXZhdGVkLiBQbGVhc2UgY29udGFjdCB1cyB0byByZXNvbHZlIHRoaXMgaXNzdWUuXCIgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBVc2luZyBiY3J5cHQgdG8gY2hlY2sgaWYgdGhlIGVtYWlsIHBhc3NlZCBpcyB0aGUgc2FtZSBhcyB0aGUgaGFzaGVkIG9uZSBzdG9yZWQgaW4gdGhlIGRhdGFiYXNlXG4gICAgICAgIC8vIElmIG5vLCB0aHJvdyBhIDQwMSBlcnJvclxuICAgICAgICBjb25zdCBpc1Bhc3N3b3JkVmFsaWQgPSBhd2FpdCBiY3J5cHQuY29tcGFyZShwYXNzd29yZCwgdXNlci5QYXNzd29yZF9IYXNoKTtcbiAgICAgICAgaWYgKCFpc1Bhc3N3b3JkVmFsaWQpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6IFwiSW52YWxpZCBlbWFpbCBhZGRyZXNzIG9yIHBhc3N3b3JkLlwiIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSWYgdGhlIHBhc3N3b3JkIG1hdGNoZXMsIHRoZW4gY3JlYXRlIGEgdXNlciB0b2tlbiB1c2luZyBqd3QgYnkgc2lnbmluZyBpdCB3aXRoIHRoZSBVU0VSX0FDQ0VTU19UT0tFTlxuICAgICAgICAvLyBzdG9yZWQgaW4gdGhlIC5lbnYgZmlsZS4gVGhlIHRva2VuIGV4cGlyZXMgaW4gMSBkYXkuXG4gICAgICAgIGNvbnN0IHVzZXJUb2tlbiA9IGp3dC5zaWduKHtcbiAgICAgICAgICAgIGlkOiB1c2VyLlVzZXJfSUQsXG4gICAgICAgICAgICBmaXJzdE5hbWU6IHVzZXIuRmlyc3RfTmFtZSxcbiAgICAgICAgICAgIGxhc3ROYW1lOiB1c2VyLkxhc3RfTmFtZSxcbiAgICAgICAgICAgIGVtYWlsOiB1c2VyLkVtYWlsXG4gICAgICAgIH0sXG4gICAgICAgICAgICBwcm9jZXNzLmVudi5VU0VSX0FDQ0VTU19UT0tFTixcbiAgICAgICAgICAgIHsgZXhwaXJlc0luOiBcIjFkXCIgfVxuICAgICAgICApO1xuXG4gICAgICAgIC8vIElmIGEgY29va2llIGV4aXN0cyBhbHJlYWR5IGZvciB0aGUgdXNlciwgY2xlYXIgaXQuXG4gICAgICAgIGlmIChyZXEuY29va2llcy51c2VyX2FjY2Vzc190b2tlbikge1xuICAgICAgICAgICAgcmVzLmNsZWFyQ29va2llKCd1c2VyX2FjY2Vzc190b2tlbicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU3RvcmUgdGhlIG5ldyBjb29raWUgc3VjaCB0aGF0IGl0IGxhc3RzIDEgZGF5LCBhbmQgdGhyb3cgYSAyMDAgc3VjY2VzcyBtZXNzYWdlIHdpdGggc29tZSBkYXRhIGFib3V0IHRoZSB1c2VyXG4gICAgICAgIC8vIChpZCwgZmlyc3ROYW1lLCBsYXN0TmFtZSwgZW1haWwpXG4gICAgICAgIHJlcy5jb29raWUoJ3VzZXJfYWNjZXNzX3Rva2VuJywgdXNlclRva2VuLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGh0dHBPbmx5OiB0cnVlLFxuICAgICAgICAgICAgICAgIHNlY3VyZTogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiLFxuICAgICAgICAgICAgICAgIHNhbWVTaXRlOiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCIgPyAnc3RyaWN0JyA6ICdsYXgnLFxuICAgICAgICAgICAgICAgIG1heEFnZTogMjQgKiA2MCAqIDYwICogMTAwMFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiU3VjY2Vzc2Z1bGx5IGxvZ2dlZCBpbi5cIixcbiAgICAgICAgICAgIHVzZXI6IHtcbiAgICAgICAgICAgICAgICBpZDogdXNlci5Vc2VyX0lELFxuICAgICAgICAgICAgICAgIGZpcnN0TmFtZTogdXNlci5GaXJzdF9OYW1lLFxuICAgICAgICAgICAgICAgIGxhc3ROYW1lOiB1c2VyLkxhc3RfTmFtZSxcbiAgICAgICAgICAgICAgICBlbWFpbDogdXNlci5FbWFpbFxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuXG4gICAgICAgIC8vIElmIGFueXRoaW5nIGdvZXMgd3JvbmcsIGV4IGR1cGxpY2F0ZSBlbWFpbCwgdGhlbiB0aHJvdyBhbiBlcnJvci5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiTG9naW4gZXJyb3I6XCIsIGVycm9yKTtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiBcIkFuIGVycm9yIG9jY3VycmVkIGR1cmluZyBsb2dpbi5cIiB9KTtcbiAgICB9XG59KTtcblxuLy8gUmV0cmlldmluZyB1c2VyJ3MgcHJvZmlsZSBpbmZvcm1hdGlvblxuY29uc3QgZ2V0UHJvZmlsZSA9IGFzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCB1c2VySUQgPSByZXEudXNlcklEO1xuXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcG9vbCA9IGdldFBvb2woKTtcblxuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBvb2wucmVxdWVzdCgpXG4gICAgICAgICAgICAuaW5wdXQoXCJ1c2VySWRcIiwgc3FsLkludCwgdXNlcklEKVxuICAgICAgICAgICAgLnF1ZXJ5KGBcbiAgICAgICAgICAgIFNFTEVDVCBVc2VyX0lELCBGaXJzdF9OYW1lLCBMYXN0X05hbWUsIEVtYWlsLCBQaG9uZSwgU3RyZWV0X0FkZHJlc3MsIEJ1aWxkaW5nX05hbWUsIEZsb29yLCBDaXR5LCBQb3N0YWxfQ29kZSwgaXNBY3RpdmVcbiAgICAgICAgICAgIEZST00gW1VzZXJdXG4gICAgICAgICAgICBXSEVSRSBVc2VyX0lEID0gQHVzZXJJZFxuICAgICAgICAgICAgYCk7XG5cbiAgICAgICAgaWYgKHJlc3VsdC5yZWNvcmRzZXQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe21lc3NhZ2U6IFwiVXNlciBub3QgZm91bmQuXCJ9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHVzZXJEYXRhID0gcmVzdWx0LnJlY29yZHNldFswXTtcblxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IFxuICAgICAgICAgICAgZmlyc3ROYW1lOiB1c2VyRGF0YS5GaXJzdF9OYW1lLFxuICAgICAgICAgICAgbGFzdE5hbWU6IHVzZXJEYXRhLkxhc3RfTmFtZSxcbiAgICAgICAgICAgIGVtYWlsOiB1c2VyRGF0YS5FbWFpbCxcbiAgICAgICAgICAgIHBob25lOiB1c2VyRGF0YS5QaG9uZSxcbiAgICAgICAgICAgIHN0cmVldEFkZHJlc3M6IHVzZXJEYXRhLlN0cmVldF9BZGRyZXNzLFxuICAgICAgICAgICAgYnVpbGRpbmdOYW1lOiB1c2VyRGF0YS5CdWlsZGluZ19OYW1lLFxuICAgICAgICAgICAgZmxvb3I6IHVzZXJEYXRhLkZsb29yLFxuICAgICAgICAgICAgY2l0eTogdXNlckRhdGEuQ2l0eSxcbiAgICAgICAgICAgIHBvc3RhbENvZGU6IHVzZXJEYXRhLlBvc3RhbF9Db2RlLFxuICAgICAgICAgICAgaXNBY3RpdmU6IHVzZXJEYXRhLmlzQWN0aXZlXG4gICAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIC8vIFRocm93aW5nIHRoZSBjb25zb2xlIGVycm9yIGFuZCA1MDAgc3RhdHVzIGluIGNhc2Ugc29tZXRoaW5nIGdvZXMgd3JvbmcuXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJVbmV4cGVjdGVkIGVycm9yIG9jY3VycmVkIHdoZW4gdHJ5aW5nIHRvIGdldCBwcm9maWxlOiBcIiwgZXJyb3IpO1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IG1lc3NhZ2U6IFwiQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZCB3aGlsZSBnZXR0aW5nIHByb2ZpbGUuXCIgfSk7XG4gICAgfVxufSk7XG5cbi8vIFVwZGF0aW5nIHVzZXIncyBwcm9maWxlIGluZm9ybWF0aW9uXG5jb25zdCB1cGRhdGVQcm9maWxlID0gYXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHtmaXJzdE5hbWUsIGxhc3ROYW1lLCBlbWFpbCwgcGhvbmUsIHN0cmVldEFkZHJlc3MsIGJ1aWxkaW5nTmFtZSwgZmxvb3IsIGNpdHksIHBvc3RhbENvZGV9ID0gcmVxLmJvZHk7XG4gICAgY29uc3QgdXNlcklEID0gcmVxLnVzZXJJRDtcblxuXG4gICAgLy8gQ2hlY2tpbmcgaWYgYW55IG9mIHRoZW0gaXMgZW1wdHksIGlmIHllcyB0aGVuIHdlIHRocm93IGEgNDAwIFxuICAgIGlmICghZmlyc3ROYW1lIHx8ICFsYXN0TmFtZSB8fCAhZW1haWwgfHwgIXBob25lIHx8ICFzdHJlZXRBZGRyZXNzIHx8ICFidWlsZGluZ05hbWUgfHwgIWZsb29yIHx8ICFjaXR5IHx8ICFwb3N0YWxDb2RlKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6IFwiWW91IGhhdmUgdG8gaW5zZXJ0IGFsbCBwcm9maWxlIGRhdGEgdG8gdXBkYXRlLlwiIH0pO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRlIGZpcnN0IG5hbWUgZm9ybWF0XG4gICAgaWYgKCFpc1ZhbGlkTmFtZShmaXJzdE5hbWUpKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6IFwiRmlyc3QgbmFtZSBtdXN0IGJlIDItMzAgY2hhcmFjdGVycyBhbmQgY29udGFpbiBvbmx5IGxldHRlcnMuXCIgfSk7XG4gICAgfVxuXG4gICAgLy8gVmFsaWRhdGUgbGFzdCBuYW1lIGZvcm1hdFxuICAgIGlmICghaXNWYWxpZE5hbWUobGFzdE5hbWUpKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6IFwiTGFzdCBuYW1lIG11c3QgYmUgMi0zMCBjaGFyYWN0ZXJzIGFuZCBjb250YWluIG9ubHkgbGV0dGVycy5cIiB9KTtcbiAgICB9XG5cbiAgICAvLyBWYWxpZGF0ZSBlbWFpbCBmb3JtYXRcbiAgICBpZiAoIWlzVmFsaWRFbWFpbChlbWFpbCkpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogXCJQbGVhc2UgZW50ZXIgYSB2YWxpZCBlbWFpbCBhZGRyZXNzLlwiIH0pO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRlIHBob25lIGZvcm1hdFxuICAgIGlmICghaXNWYWxpZFBob25lKHBob25lKSkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiBcIlBsZWFzZSBlbnRlciBhIHZhbGlkIHBob25lIG51bWJlci5cIiB9KTtcbiAgICB9XG5cbiAgICAvLyBWYWxpZGF0ZSBhZGRyZXNzIGZpZWxkcyBsZW5ndGhcbiAgICBpZiAoc3RyZWV0QWRkcmVzcy5sZW5ndGggPiAyMDApIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogXCJTdHJlZXQgYWRkcmVzcyBjYW5ub3QgZXhjZWVkIDIwMCBjaGFyYWN0ZXJzLlwiIH0pO1xuICAgIH1cblxuICAgIGlmIChidWlsZGluZ05hbWUgJiYgYnVpbGRpbmdOYW1lLmxlbmd0aCA+IDEwMCkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiBcIkJ1aWxkaW5nIG5hbWUgY2Fubm90IGV4Y2VlZCAxMDAgY2hhcmFjdGVycy5cIiB9KTtcbiAgICB9XG5cbiAgICBpZiAoY2l0eS5sZW5ndGggPiA1MCkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiBcIkNpdHkgbmFtZSBjYW5ub3QgZXhjZWVkIDUwIGNoYXJhY3RlcnMuXCIgfSk7XG4gICAgfVxuXG4gICAgLy8gV2Ugbm93IHRyeSB0byBhY2Nlc3MgdGhlIGRhdGFiYXNlIHRvIGluc2VydCB0aGUgdXNlclxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHBvb2wgPSBnZXRQb29sKCk7XG5cbiAgICAgICAgLy8gVXBkYXRpbmcgdGhlIHVzZXIgZGF0YSBcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcG9vbC5yZXF1ZXN0KClcbiAgICAgICAgICAgIC5pbnB1dChcInVzZXJJZFwiLCBzcWwuSW50LCB1c2VySUQpXG4gICAgICAgICAgICAuaW5wdXQoXCJmaXJzdE5hbWVcIiwgc3FsLlZhckNoYXIsIHNhbml0aXplU3RyaW5nKGZpcnN0TmFtZSkpXG4gICAgICAgICAgICAuaW5wdXQoXCJsYXN0TmFtZVwiLCBzcWwuVmFyQ2hhciwgc2FuaXRpemVTdHJpbmcobGFzdE5hbWUpKVxuICAgICAgICAgICAgLmlucHV0KFwiZW1haWxcIiwgc3FsLlZhckNoYXIsIHNhbml0aXplU3RyaW5nKGVtYWlsKS50b0xvd2VyQ2FzZSgpKVxuICAgICAgICAgICAgLmlucHV0KFwicGhvbmVcIiwgc3FsLlZhckNoYXIsIHNhbml0aXplU3RyaW5nKHBob25lKSlcbiAgICAgICAgICAgIC5pbnB1dChcInN0cmVldEFkZHJlc3NcIiwgc3FsLlZhckNoYXIsIHNhbml0aXplU3RyaW5nKHN0cmVldEFkZHJlc3MpKVxuICAgICAgICAgICAgLmlucHV0KFwiYnVpbGRpbmdOYW1lXCIsIHNxbC5WYXJDaGFyLCBzYW5pdGl6ZVN0cmluZyhidWlsZGluZ05hbWUpKVxuICAgICAgICAgICAgLmlucHV0KFwiZmxvb3JcIiwgc3FsLlZhckNoYXIsIHNhbml0aXplU3RyaW5nKGZsb29yKSlcbiAgICAgICAgICAgIC5pbnB1dChcImNpdHlcIiwgc3FsLlZhckNoYXIsIHNhbml0aXplU3RyaW5nKGNpdHkpKVxuICAgICAgICAgICAgLmlucHV0KFwicG9zdGFsQ29kZVwiLCBzcWwuVmFyQ2hhciwgc2FuaXRpemVTdHJpbmcocG9zdGFsQ29kZSkpXG4gICAgICAgICAgICAucXVlcnkoYFxuICAgICAgICAgICAgVVBEQVRFIFtVc2VyXSBcbiAgICAgICAgICAgIFNFVCBGaXJzdF9OYW1lID0gQGZpcnN0TmFtZSwgTGFzdF9OYW1lID0gQGxhc3ROYW1lLCBFbWFpbCA9IEBlbWFpbCwgUGhvbmUgPSBAcGhvbmUsIFN0cmVldF9BZGRyZXNzID0gQHN0cmVldEFkZHJlc3MsIEJ1aWxkaW5nX05hbWUgPSBAYnVpbGRpbmdOYW1lLFxuICAgICAgICAgICAgICAgIEZsb29yID0gQGZsb29yLCBDaXR5ID0gQGNpdHksIFBvc3RhbF9Db2RlID0gQHBvc3RhbENvZGUsIG1vZGlmaWVkQXQgPSBHRVREQVRFKClcbiAgICAgICAgICAgIFdIRVJFIFVzZXJfSUQgPSBAdXNlcklkXG4gICAgICAgICAgICAgICAgYCk7XG5cbiAgICAgICAgaWYgKHJlc3VsdC5yb3dzQWZmZWN0ZWRbMF0gPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7bWVzc2FnZTogXCJVc2VyIG5vdCBmb3VuZCBvciBubyBjaGFuZ2VzIG1hZGUuXCJ9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNlbmRpbmcgc3VjY2VzcyBtZXNzYWdlXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgbWVzc2FnZTogXCJVc2VyIHByb2ZpbGUgdXBkYXRlZCBzdWNjZXNzZnVsbHkhXCIgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgLy8gSGFuZGxpbmcgdGhlIHVuaXF1ZSBjb25zdHJhaW50cyBmb3IgZW1haWwgYW5kIHBob25lIG51bWJlcnNcbiAgICAgICAgLy8gMjYyNyBpcyBmb3IgdmlvbGF0aW9uIG9mIHRoZSB1bmlxdWUga2V5IGNvbnN0cmFpbnQsIGFuZCAyNjAxIGlzIGZvciB1bmlxdWUgaW5kZXggdmlvbGF0aW9uXG4gICAgICAgIGlmIChlcnJvci5udW1iZXIgPT09IDI2MjcgfHwgZXJyb3IubnVtYmVyID09PSAyNjAxKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDkpLmpzb24oeyBtZXNzYWdlOiBcIkFub3RoZXIgYWNjb3VudCBleGlzdHMgYWxyZWFkeSBlaXRoZXIgd2l0aCB0aGlzIGVtYWlsIGFkZHJlc3Mgb3IgcGhvbmUgbnVtYmVyLiBJZiB5b3UgaGF2ZSBhbm90aGVyIGFjY291bnQsIHBsZWFzZSB1c2UgdGhhdCBvbmUgaW5zdGVhZC5cIiB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRocm93aW5nIHRoZSBjb25zb2xlIGVycm9yIGFuZCA1MDAgc3RhdHVzIGluIGNhc2Ugc29tZXRoaW5nIGdvZXMgd3JvbmcuXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJVbmV4cGVjdGVkIGVycm9yIHdoZW4gdXBkYXRpbmcgcHJvZmlsZTogXCIsIGVycm9yKTtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiBcIkFuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQgd2hpbGUgdXBkYXRpbmcgdGhlIHVzZXIncyBwcm9maWxlLlwiIH0pO1xuICAgIH1cblxufSk7XG5cbi8vIExvZ2dpbmcgb3V0IGZ1bmN0aW9uYWxpdHkgYnkgY2xlYXJpbmcgdGhlIHVzZXIncyBjb29raW5nIGFuZCBzZW5kaW5nIGEgc3VjY2VzcyBtZXNzYWdlXG5jb25zdCBsb2dvdXRVc2VyID0gYXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIHJlcy5jbGVhckNvb2tpZSgndXNlcl9hY2Nlc3NfdG9rZW4nKTtcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IG1lc3NhZ2U6IFwiU3VjY2Vzc2Z1bGx5IGxvZ2dlZCBvdXQuXCIgfSk7XG59KVxuXG5tb2R1bGUuZXhwb3J0cyA9IHsgcmVnaXN0ZXJVc2VyLCBsb2dpblVzZXIsIGxvZ291dFVzZXIsIGdldFByb2ZpbGUsIHVwZGF0ZVByb2ZpbGUgfTsiXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxJQUFNQSxZQUFZLEdBQUdDLE9BQU8sQ0FBQyx1QkFBdUIsQ0FBQztBQUNyRCxJQUFNQyxNQUFNLEdBQUdELE9BQU8sQ0FBQyxRQUFRLENBQUM7QUFDaEMsSUFBTUUsR0FBRyxHQUFHRixPQUFPLENBQUMsY0FBYyxDQUFDOztBQUVuQztBQUNBO0FBQ0EsSUFB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QUFBOUUsSUFBQTtZQUFBO1VBQUE7VUFBQSxPQUFBOEUsU0FBQSxDQUFBNUUsTUFBQSxXQUN2Q3RCLEdBQUcsQ0FBQ3VCLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1lBQUVDLE9BQU8sRUFBRTtVQUEySSxDQUFDLENBQUM7UUFBQTtVQUd4TDtVQUNBVyxPQUFPLENBQUNDLEtBQUssQ0FBQywwQ0FBMEMsRUFBQTRELEdBQU8sQ0FBQztVQUNoRWpHLEdBQUcsQ0FBQ3VCLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1lBQUVDLE9BQU8sRUFBRTtVQUFrRSxDQUFDLENBQUM7UUFBQztRQUFBO1VBQUEsT0FBQXlFLFNBQUEsQ0FBQTVELElBQUE7TUFBQTtJQUFBLEdBQUF5RCxRQUFBO0VBQUEsQ0FHNUc7RUFBQSxpQkFBQUssR0FBQSxFQUFBQyxHQUFBO0lBQUEsT0FBQVAsS0FBQSxDQUFBckQsS0FBQSxPQUFBQyxTQUFBO0VBQUE7QUFBQSxJQUFDOztBQUVGO0FBQ0EsSUFBTTRELFVBQVUsR0FBRzFILFlBQVk7RUFBQSxJQUFBMkgsS0FBQSxPQUFBNUcsa0JBQUEsMEJBQUFDLFlBQUEsWUFBQUMsSUFBQSxDQUFDLFNBQUEyRyxTQUFPekcsR0FBRyxFQUFFQyxHQUFHO0lBQUEsT0FBQUosWUFBQSxZQUFBcUIsSUFBQSxXQUFBd0YsU0FBQTtNQUFBLGtCQUFBQSxTQUFBLENBQUF0RixJQUFBLEdBQUFzRixTQUFBLENBQUFyRixJQUFBO1FBQUE7VUFDM0NwQixHQUFHLENBQUNvRSxXQUFXLENBQUMsbUJBQW1CLENBQUM7VUFDcENwRSxHQUFHLENBQUN1QixNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztZQUFFQyxPQUFPLEVBQUU7VUFBMkIsQ0FBQyxDQUFDO1FBQUM7UUFBQTtVQUFBLE9BQUFnRixTQUFBLENBQUFuRSxJQUFBO01BQUE7SUFBQSxHQUFBa0UsUUFBQTtFQUFBLENBQ2pFO0VBQUEsaUJBQUFFLEdBQUEsRUFBQUMsR0FBQTtJQUFBLE9BQUFKLEtBQUEsQ0FBQTlELEtBQUEsT0FBQUMsU0FBQTtFQUFBO0FBQUEsSUFBQztBQUVGa0UsTUFBTSxDQUFDQyxPQUFPLEdBQUc7RUFBRXBILFlBQVksRUFBWkEsWUFBWTtFQUFFa0QsU0FBUyxFQUFUQSxTQUFTO0VBQUUyRCxVQUFVLEVBQVZBLFVBQVU7RUFBRXpCLFVBQVUsRUFBVkEsVUFBVTtFQUFFZ0IsYUFBYSxFQUFiQTtBQUFjLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["asyncHandler","require","bcrypt","jwt","_require","getPool","sql","_require2","isValidEmail","isValidPhone","isValidPassword","isValidName","sanitizeString","registerUser","_ref","_asyncToGenerator2","_regenerator","mark","_callee","req","res","_req$body","firstName","lastName","email","phone","password","streetAddress","buildingName","floor","city","postalCode","passwordValidation","pool","hashedPassword","result","_t","wrap","_context","prev","next","body","abrupt","status","json","message","valid","length","hash","sent","request","input","VarChar","toLowerCase","query","number","console","error","stop","_x","_x2","apply","arguments","loginUser","_ref2","_callee2","_req$body2","user","isPasswordValid","userToken","_t2","_context2","recordset","isActive","compare","Password_Hash","sign","id","User_ID","First_Name","Last_Name","Email","process","env","USER_ACCESS_TOKEN","expiresIn","cookies","user_access_token","clearCookie","cookie","httpOnly","secure","NODE_ENV","sameSite","maxAge","_x3","_x4","getProfile","_ref3","_callee3","userID","userData","_t3","_context3","Int","Phone","Street_Address","Building_Name","Floor","City","Postal_Code","_x5","_x6","updateProfile","_ref4","_callee4","_req$body3","_t4","_context4","rowsAffected","_x7","_x8","logoutUser","_ref5","_callee5","_context5","_x9","_x0","module","exports"],"sourceRoot":"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/controllers/","sources":["UserController.js"],"sourcesContent":["/**\n * The below controller provides the following functionalities for a user: registering, logging in and logging out.\n * \n * For storing the password, bcrypt is used to hash and jwt (jsonwebtoken) is used to sign a token and store it as cookie.\n */\n\nconst asyncHandler = require(\"express-async-handler\");\nconst bcrypt = require(\"bcrypt\");\nconst jwt = require(\"jsonwebtoken\");\n\n// sql needed for the type definitions in .input\n// getPool is to do queries\nconst { getPool, sql } = require(\"../config/database\");\n\n// Import validation utilities\nconst { isValidEmail, isValidPhone, isValidPassword, isValidName, sanitizeString } = require(\"../utils/validators\");\n\n\n// Handles the registering functionality\nconst registerUser = asyncHandler(async (req, res) => {\n    // Getting the needed data from the request body\n    const { firstName, lastName, email, phone, password, streetAddress, buildingName, floor, city, postalCode } = req.body;\n\n    // Checking if any of them is empty, if yes then we throw a 400 \n    if (!firstName || !lastName || !email || !phone || !password || !streetAddress || !buildingName || !floor || !city || !postalCode) {\n        return res.status(400).json({ message: \"You have to insert all data to register.\" });\n    }\n\n    // Validate first name format\n    if (!isValidName(firstName)) {\n        return res.status(400).json({ message: \"First name must be 2-30 characters and contain only letters.\" });\n    }\n\n    // Validate last name format\n    if (!isValidName(lastName)) {\n        return res.status(400).json({ message: \"Last name must be 2-30 characters and contain only letters.\" });\n    }\n\n    // Validate email format\n    if (!isValidEmail(email)) {\n        return res.status(400).json({ message: \"Please enter a valid email address.\" });\n    }\n\n    // Validate phone format\n    if (!isValidPhone(phone)) {\n        return res.status(400).json({ message: \"Please enter a valid phone number.\" });\n    }\n\n    // Validate password strength\n    const passwordValidation = isValidPassword(password);\n    if (!passwordValidation.valid) {\n        return res.status(400).json({ message: passwordValidation.message });\n    }\n\n    // Validate address fields length\n    if (streetAddress.length > 200) {\n        return res.status(400).json({ message: \"Street address cannot exceed 200 characters.\" });\n    }\n\n    if (buildingName && buildingName.length > 100) {\n        return res.status(400).json({ message: \"Building name cannot exceed 100 characters.\" });\n    }\n\n    if (city.length > 50) {\n        return res.status(400).json({ message: \"City name cannot exceed 50 characters.\" });\n    }\n\n    // We now try to access the database to insert the user\n    try {\n        const pool = getPool();\n\n        // Hashing the password before storing\n        const hashedPassword = await bcrypt.hash(password, 11);\n\n        // Inserting the user into the database User table (sanitize inputs)\n        const result = await pool.request()\n            .input(\"firstName\", sql.VarChar, sanitizeString(firstName))\n            .input(\"lastName\", sql.VarChar, sanitizeString(lastName))\n            .input(\"email\", sql.VarChar, sanitizeString(email).toLowerCase())\n            .input(\"phone\", sql.VarChar, sanitizeString(phone))\n            .input(\"hashedPassword\", sql.VarChar, hashedPassword)\n            .input(\"streetAddress\", sql.VarChar, sanitizeString(streetAddress))\n            .input(\"buildingName\", sql.VarChar, sanitizeString(buildingName))\n            .input(\"floor\", sql.VarChar, sanitizeString(floor))\n            .input(\"city\", sql.VarChar, sanitizeString(city))\n            .input(\"postalCode\", sql.VarChar, sanitizeString(postalCode))\n            .query(`\n            INSERT INTO [User] (First_Name, Last_Name, Email, Phone, Password_Hash, Street_Address, Building_Name, Floor, City, Postal_Code)\n            VALUES(@firstName, @lastName, @email, @phone, @hashedPassword, @streetAddress, @buildingName, @floor, @city, @postalCode)\n            `);\n\n        // Sending success message\n        res.status(201).json({ message: \"User registered successfully!\" });\n    } catch (error) {\n        // Handling the unique constraints for email and phone numbers\n        // 2627 is for violation of the unique key constraint, and 2601 is for unique index violation\n        if (error.number === 2627 || error.number === 2601) {\n            return res.status(409).json({ message: \"Another account exists already either with this email address or phone number. If you have another account, please use that one instead.\" });\n        }\n\n        // Throwing the console error and 500 status in case something goes wrong.\n        console.error(\"Unexpected error registering a new user account: \", error);\n        res.status(500).json({ message: \"An unexpected error occurred while registering the user.\" });\n    }\n});\n\n\n// Handling the logging in functionality\nconst loginUser = asyncHandler(async (req, res) => {\n    // Getting the email and password that the user is trying to login with.\n    const { email, password } = req.body;\n\n    // Input validation, if either empty then send 400 error\n    if (!email || !password) {\n        return res.status(400).json({ message: \"You have to enter both your email and your password\" });\n    }\n\n    // Validate email format\n    if (!isValidEmail(email)) {\n        return res.status(400).json({ message: \"Please enter a valid email address.\" });\n    }\n\n    try {\n        const pool = getPool();\n\n        // Searching in the database for a user with the same email passed to check if exists\n        const result = await pool.request()\n            .input(\"email\", sql.VarChar, sanitizeString(email).toLowerCase())\n            .query(`\n                SELECT User_ID, First_Name, Last_Name, Email, Password_Hash, isActive\n                FROM [User]\n                WHERE Email = @email\n                `);\n\n        // If no results returned from the query, then the email entered is invalid\n        if (result.recordset.length === 0) {\n            return res.status(401).json({ message: \"Invalid email address or password.\" });\n        }\n\n        // Now we are getting the first user that we got having the same email address\n        const user = result.recordset[0];\n        if (!user.isActive) {\n            return res.status(403).json({ message: \"Your account is deactivated. Please contact us to resolve this issue.\" });\n        }\n\n        // Using bcrypt to check if the email passed is the same as the hashed one stored in the database\n        // If no, throw a 401 error\n        const isPasswordValid = await bcrypt.compare(password, user.Password_Hash);\n        if (!isPasswordValid) {\n            return res.status(401).json({ message: \"Invalid email address or password.\" });\n        }\n\n        // If the password matches, then create a user token using jwt by signing it with the USER_ACCESS_TOKEN\n        // stored in the .env file. The token expires in 1 day.\n        const userToken = jwt.sign({\n            id: user.User_ID,\n            firstName: user.First_Name,\n            lastName: user.Last_Name,\n            email: user.Email\n        },\n            process.env.USER_ACCESS_TOKEN,\n            { expiresIn: \"1d\" }\n        );\n\n        // If a cookie exists already for the user, clear it.\n        if (req.cookies.user_access_token) {\n            res.clearCookie('user_access_token');\n        }\n\n        // Store the new cookie such that it lasts 1 day, and throw a 200 success message with some data about the user\n        // (id, firstName, lastName, email)\n        res.cookie('user_access_token', userToken,\n            {\n                httpOnly: true,\n                secure: process.env.NODE_ENV === \"production\",\n                sameSite: process.env.NODE_ENV === \"production\" ? 'strict' : 'lax',\n                maxAge: 24 * 60 * 60 * 1000\n            });\n        res.status(200).json({\n            message: \"Successfully logged in.\",\n            user: {\n                id: user.User_ID,\n                firstName: user.First_Name,\n                lastName: user.Last_Name,\n                email: user.Email\n            }\n        })\n\n        // If anything goes wrong, ex duplicate email, then throw an error.\n    } catch (error) {\n        console.error(\"Login error:\", error);\n        res.status(500).json({ message: \"An error occurred during login.\" });\n    }\n});\n\n// Retrieving user's profile information\nconst getProfile = asyncHandler(async (req, res) => {\n    const userID = req.userID;\n\n    try {\n        const pool = getPool();\n\n\n        const result = await pool.request()\n            .input(\"userId\", sql.Int, userID)\n            .query(`\n            SELECT User_ID, First_Name, Last_Name, Email, Phone, Street_Address, Building_Name, Floor, City, Postal_Code, isActive\n            FROM [User]\n            WHERE User_ID = @userId\n            `);\n\n        if (result.recordset.length === 0) {\n            return res.status(404).json({message: \"User not found.\"});\n        }\n\n        const userData = result.recordset[0];\n\n        res.status(200).json({ \n            firstName: userData.First_Name,\n            lastName: userData.Last_Name,\n            email: userData.Email,\n            phone: userData.Phone,\n            streetAddress: userData.Street_Address,\n            buildingName: userData.Building_Name,\n            floor: userData.Floor,\n            city: userData.City,\n            postalCode: userData.Postal_Code,\n            isActive: userData.isActive\n        });\n    } catch (error) {\n        // Throwing the console error and 500 status in case something goes wrong.\n        console.error(\"Unexpected error occurred when trying to get profile: \", error);\n        res.status(500).json({ message: \"An unexpected error occurred while getting profile.\" });\n    }\n});\n\n// Updating user's profile information\nconst updateProfile = asyncHandler(async (req, res) => {\n    const {firstName, lastName, email, phone, streetAddress, buildingName, floor, city, postalCode} = req.body;\n    const userID = req.userID;\n\n\n    // Checking if any of them is empty, if yes then we throw a 400 \n    if (!firstName || !lastName || !email || !phone || !streetAddress || !buildingName || !floor || !city || !postalCode) {\n        return res.status(400).json({ message: \"You have to insert all profile data to update.\" });\n    }\n\n    // Validate first name format\n    if (!isValidName(firstName)) {\n        return res.status(400).json({ message: \"First name must be 2-30 characters and contain only letters.\" });\n    }\n\n    // Validate last name format\n    if (!isValidName(lastName)) {\n        return res.status(400).json({ message: \"Last name must be 2-30 characters and contain only letters.\" });\n    }\n\n    // Validate email format\n    if (!isValidEmail(email)) {\n        return res.status(400).json({ message: \"Please enter a valid email address.\" });\n    }\n\n    // Validate phone format\n    if (!isValidPhone(phone)) {\n        return res.status(400).json({ message: \"Please enter a valid phone number.\" });\n    }\n\n    // Validate address fields length\n    if (streetAddress.length > 200) {\n        return res.status(400).json({ message: \"Street address cannot exceed 200 characters.\" });\n    }\n\n    if (buildingName && buildingName.length > 100) {\n        return res.status(400).json({ message: \"Building name cannot exceed 100 characters.\" });\n    }\n\n    if (city.length > 50) {\n        return res.status(400).json({ message: \"City name cannot exceed 50 characters.\" });\n    }\n\n    // We now try to access the database to insert the user\n    try {\n        const pool = getPool();\n\n        // Updating the user data \n        const result = await pool.request()\n            .input(\"userId\", sql.Int, userID)\n            .input(\"firstName\", sql.VarChar, sanitizeString(firstName))\n            .input(\"lastName\", sql.VarChar, sanitizeString(lastName))\n            .input(\"email\", sql.VarChar, sanitizeString(email).toLowerCase())\n            .input(\"phone\", sql.VarChar, sanitizeString(phone))\n            .input(\"streetAddress\", sql.VarChar, sanitizeString(streetAddress))\n            .input(\"buildingName\", sql.VarChar, sanitizeString(buildingName))\n            .input(\"floor\", sql.VarChar, sanitizeString(floor))\n            .input(\"city\", sql.VarChar, sanitizeString(city))\n            .input(\"postalCode\", sql.VarChar, sanitizeString(postalCode))\n            .query(`\n            UPDATE [User] \n            SET First_Name = @firstName, Last_Name = @lastName, Email = @email, Phone = @phone, Street_Address = @streetAddress, Building_Name = @buildingName,\n                Floor = @floor, City = @city, Postal_Code = @postalCode, modifiedAt = GETDATE()\n            WHERE User_ID = @userId\n                `);\n\n        if (result.rowsAffected[0] === 0) {\n            return res.status(404).json({message: \"User not found or no changes made.\"});\n        }\n\n        // Sending success message\n        res.status(200).json({ message: \"User profile updated successfully!\" });\n    } catch (error) {\n        // Handling the unique constraints for email and phone numbers\n        // 2627 is for violation of the unique key constraint, and 2601 is for unique index violation\n        if (error.number === 2627 || error.number === 2601) {\n            return res.status(409).json({ message: \"Another account exists already either with this email address or phone number. If you have another account, please use that one instead.\" });\n        }\n\n        // Throwing the console error and 500 status in case something goes wrong.\n        console.error(\"Unexpected error when updating profile: \", error);\n        res.status(500).json({ message: \"An unexpected error occurred while updating the user's profile.\" });\n    }\n\n});\n\n// Logging out functionality by clearing the user's cooking and sending a success message\nconst logoutUser = asyncHandler(async (req, res) => {\n    res.clearCookie('user_access_token');\n    res.status(200).json({ message: \"Successfully logged out.\" });\n})\n\nmodule.exports = { registerUser, loginUser, logoutUser, getProfile, updateProfile };"],"mappings":"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","ignoreList":[]}},"mtime":1764708215024},"{\"assumptions\":{},\"sourceRoot\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end\",\"filename\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/routes/applianceRoutes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"_exploded\":true,\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"VoidPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$48\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$49\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"\"use strict\";\n\nvar express = require(\"express\");\nvar _require = require(\"../controllers/ApplianceController.js\"),\n  getActiveCategories = _require.getActiveCategories,\n  getActiveTypes = _require.getActiveTypes;\nvar router = express.Router();\n\n// /api/appliances/categories\nrouter.get('/categories', getActiveCategories);\n\n// /api/appliances/types?categoryId=1\nrouter.get('/types', getActiveTypes);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsIl9yZXF1aXJlIiwiZ2V0QWN0aXZlQ2F0ZWdvcmllcyIsImdldEFjdGl2ZVR5cGVzIiwicm91dGVyIiwiUm91dGVyIiwiZ2V0IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL2hvbWUvc2Vyai9Eb2N1bWVudHMvR2l0SHViL0ZpeEFwcGxpYW5jZS1ib29raW5nQ29tbWVyY2UvYmFjay1lbmQvc3JjL3JvdXRlcy8iLCJzb3VyY2VzIjpbImFwcGxpYW5jZVJvdXRlcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcblxuY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoXCJleHByZXNzXCIpO1xuY29uc3Qge2dldEFjdGl2ZUNhdGVnb3JpZXMsIGdldEFjdGl2ZVR5cGVzfSA9IHJlcXVpcmUoXCIuLi9jb250cm9sbGVycy9BcHBsaWFuY2VDb250cm9sbGVyLmpzXCIpO1xuXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG4vLyAvYXBpL2FwcGxpYW5jZXMvY2F0ZWdvcmllc1xucm91dGVyLmdldCgnL2NhdGVnb3JpZXMnLCBnZXRBY3RpdmVDYXRlZ29yaWVzKTtcblxuLy8gL2FwaS9hcHBsaWFuY2VzL3R5cGVzP2NhdGVnb3J5SWQ9MVxucm91dGVyLmdldCgnL3R5cGVzJywgZ2V0QWN0aXZlVHlwZXMpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7O0FBRUEsSUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBUyxDQUFDO0FBQ2xDLElBQUFDLFFBQUEsR0FBOENELE9BQU8sQ0FBQyx1Q0FBdUMsQ0FBQztFQUF2RkUsbUJBQW1CLEdBQUFELFFBQUEsQ0FBbkJDLG1CQUFtQjtFQUFFQyxjQUFjLEdBQUFGLFFBQUEsQ0FBZEUsY0FBYztBQUUxQyxJQUFNQyxNQUFNLEdBQUdMLE9BQU8sQ0FBQ00sTUFBTSxDQUFDLENBQUM7O0FBRS9CO0FBQ0FELE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLGFBQWEsRUFBRUosbUJBQW1CLENBQUM7O0FBRTlDO0FBQ0FFLE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLFFBQVEsRUFBRUgsY0FBYyxDQUFDO0FBRXBDSSxNQUFNLENBQUNDLE9BQU8sR0FBR0osTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["express","require","_require","getActiveCategories","getActiveTypes","router","Router","get","module","exports"],"sourceRoot":"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/routes/","sources":["applianceRoutes.js"],"sourcesContent":["\n\nconst express = require(\"express\");\nconst {getActiveCategories, getActiveTypes} = require(\"../controllers/ApplianceController.js\");\n\nconst router = express.Router();\n\n// /api/appliances/categories\nrouter.get('/categories', getActiveCategories);\n\n// /api/appliances/types?categoryId=1\nrouter.get('/types', getActiveTypes);\n\nmodule.exports = router;"],"mappings":";;AAEA,IAAMA,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAClC,IAAAC,QAAA,GAA8CD,OAAO,CAAC,uCAAuC,CAAC;EAAvFE,mBAAmB,GAAAD,QAAA,CAAnBC,mBAAmB;EAAEC,cAAc,GAAAF,QAAA,CAAdE,cAAc;AAE1C,IAAMC,MAAM,GAAGL,OAAO,CAACM,MAAM,CAAC,CAAC;;AAE/B;AACAD,MAAM,CAACE,GAAG,CAAC,aAAa,EAAEJ,mBAAmB,CAAC;;AAE9C;AACAE,MAAM,CAACE,GAAG,CAAC,QAAQ,EAAEH,cAAc,CAAC;AAEpCI,MAAM,CAACC,OAAO,GAAGJ,MAAM","ignoreList":[]}},"mtime":1764611309311},"{\"assumptions\":{},\"sourceRoot\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end\",\"filename\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/controllers/ApplianceController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"_exploded\":true,\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"VoidPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$48\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$49\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n// This controller is responsible for retrieving appliance categories and types\n\nvar asyncHandler = require(\"express-async-handler\");\n\n// sql needed for the type definitions in .input\n// getPool is to do queries\nvar _require = require(\"../config/database\"),\n  getPool = _require.getPool,\n  sql = _require.sql;\n\n// Returns the active appliance categories\nvar getActiveCategories = asyncHandler(/*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee(req, res) {\n    var pool, result, _t;\n    return _regenerator[\"default\"].wrap(function (_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          pool = getPool();\n          _context.next = 1;\n          return pool.request().query(\"\\n                SELECT Category_ID, NameEN, NameAR, isActive\\n                FROM Appliance_Category\\n                WHERE isActive = 1;\\n                \");\n        case 1:\n          result = _context.sent;\n          res.status(200).json({\n            count: result.recordset.length,\n            data: result.recordset\n          });\n          _context.next = 3;\n          break;\n        case 2:\n          _context.prev = 2;\n          _t = _context[\"catch\"](0);\n          // Throwing the console error and 500 status in case something goes wrong\n          console.error(\"Unexpected error occurred when trying to get appliance categories: \", _t);\n          res.status(500).json({\n            message: \"An unexpected error occurred while trying to retrieve appliance categories.\"\n          });\n        case 3:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[0, 2]]);\n  }));\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}());\n\n// Returns the active appliance types, either all or by a specific category Id\nvar getActiveTypes = asyncHandler(/*#__PURE__*/function () {\n  var _ref2 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(req, res) {\n    var categoryId, pool, result, _t2;\n    return _regenerator[\"default\"].wrap(function (_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          //Passing at the end\n          categoryId = req.query.categoryId;\n          _context2.prev = 1;\n          pool = getPool();\n          if (!categoryId) {\n            _context2.next = 3;\n            break;\n          }\n          _context2.next = 2;\n          return pool.request().input(\"categoryId\", sql.Int, categoryId).query(\"SELECT Appliance_Type_ID, Category_ID, nameEN, nameAR, Average_Repair_Time_Min, Base_Price, DescriptionEN, DescriptionAR, isActive\\n                        FROM Appliance_Type\\n                        WHERE isActive = 1 AND Category_ID = @categoryId\");\n        case 2:\n          result = _context2.sent;\n          _context2.next = 5;\n          break;\n        case 3:\n          _context2.next = 4;\n          return pool.request().query(\"SELECT Appliance_Type_ID, Category_ID, nameEN, nameAR, Average_Repair_Time_Min, Base_Price, DescriptionEN, DescriptionAR, isActive\\n                        FROM Appliance_Type\\n                        WHERE isActive = 1\");\n        case 4:\n          result = _context2.sent;\n        case 5:\n          res.status(200).json({\n            count: result.recordset.length,\n            data: result.recordset\n          });\n          _context2.next = 7;\n          break;\n        case 6:\n          _context2.prev = 6;\n          _t2 = _context2[\"catch\"](1);\n          // Throwing the console error and 500 status in case something goes wrong\n          console.error(\"Unexpected error occurred when trying to get appliance types: \", _t2);\n          res.status(500).json({\n            message: \"An unexpected error occurred while trying to retrieve appliance types.\"\n          });\n        case 7:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[1, 6]]);\n  }));\n  return function (_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}());\nmodule.exports = {\n  getActiveCategories: getActiveCategories,\n  getActiveTypes: getActiveTypes\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhc3luY0hhbmRsZXIiLCJyZXF1aXJlIiwiX3JlcXVpcmUiLCJnZXRQb29sIiwic3FsIiwiZ2V0QWN0aXZlQ2F0ZWdvcmllcyIsIl9yZWYiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJfcmVnZW5lcmF0b3IiLCJtYXJrIiwiX2NhbGxlZSIsInJlcSIsInJlcyIsInBvb2wiLCJyZXN1bHQiLCJfdCIsIndyYXAiLCJfY29udGV4dCIsInByZXYiLCJuZXh0IiwicmVxdWVzdCIsInF1ZXJ5Iiwic2VudCIsInN0YXR1cyIsImpzb24iLCJjb3VudCIsInJlY29yZHNldCIsImxlbmd0aCIsImRhdGEiLCJjb25zb2xlIiwiZXJyb3IiLCJtZXNzYWdlIiwic3RvcCIsIl94IiwiX3gyIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJnZXRBY3RpdmVUeXBlcyIsIl9yZWYyIiwiX2NhbGxlZTIiLCJjYXRlZ29yeUlkIiwiX3QyIiwiX2NvbnRleHQyIiwiaW5wdXQiLCJJbnQiLCJfeDMiLCJfeDQiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9zZXJqL0RvY3VtZW50cy9HaXRIdWIvRml4QXBwbGlhbmNlLWJvb2tpbmdDb21tZXJjZS9iYWNrLWVuZC9zcmMvY29udHJvbGxlcnMvIiwic291cmNlcyI6WyJBcHBsaWFuY2VDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoaXMgY29udHJvbGxlciBpcyByZXNwb25zaWJsZSBmb3IgcmV0cmlldmluZyBhcHBsaWFuY2UgY2F0ZWdvcmllcyBhbmQgdHlwZXNcblxuY29uc3QgYXN5bmNIYW5kbGVyID0gcmVxdWlyZShcImV4cHJlc3MtYXN5bmMtaGFuZGxlclwiKTtcblxuLy8gc3FsIG5lZWRlZCBmb3IgdGhlIHR5cGUgZGVmaW5pdGlvbnMgaW4gLmlucHV0XG4vLyBnZXRQb29sIGlzIHRvIGRvIHF1ZXJpZXNcbmNvbnN0IHsgZ2V0UG9vbCwgc3FsIH0gPSByZXF1aXJlKFwiLi4vY29uZmlnL2RhdGFiYXNlXCIpO1xuXG5cbi8vIFJldHVybnMgdGhlIGFjdGl2ZSBhcHBsaWFuY2UgY2F0ZWdvcmllc1xuY29uc3QgZ2V0QWN0aXZlQ2F0ZWdvcmllcyA9IGFzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBwb29sID0gZ2V0UG9vbCgpO1xuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBvb2wucmVxdWVzdCgpXG4gICAgICAgICAgICAucXVlcnkoYFxuICAgICAgICAgICAgICAgIFNFTEVDVCBDYXRlZ29yeV9JRCwgTmFtZUVOLCBOYW1lQVIsIGlzQWN0aXZlXG4gICAgICAgICAgICAgICAgRlJPTSBBcHBsaWFuY2VfQ2F0ZWdvcnlcbiAgICAgICAgICAgICAgICBXSEVSRSBpc0FjdGl2ZSA9IDE7XG4gICAgICAgICAgICAgICAgYClcblxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICBjb3VudDogcmVzdWx0LnJlY29yZHNldC5sZW5ndGgsXG4gICAgICAgICAgICBkYXRhOiByZXN1bHQucmVjb3Jkc2V0LFxuICAgICAgICB9KVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIC8vIFRocm93aW5nIHRoZSBjb25zb2xlIGVycm9yIGFuZCA1MDAgc3RhdHVzIGluIGNhc2Ugc29tZXRoaW5nIGdvZXMgd3JvbmdcbiAgICAgICAgY29uc29sZS5lcnJvcihcIlVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQgd2hlbiB0cnlpbmcgdG8gZ2V0IGFwcGxpYW5jZSBjYXRlZ29yaWVzOiBcIiwgZXJyb3IpO1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IG1lc3NhZ2U6IFwiQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZCB3aGlsZSB0cnlpbmcgdG8gcmV0cmlldmUgYXBwbGlhbmNlIGNhdGVnb3JpZXMuXCIgfSk7XG4gICAgfVxufSlcblxuXG4vLyBSZXR1cm5zIHRoZSBhY3RpdmUgYXBwbGlhbmNlIHR5cGVzLCBlaXRoZXIgYWxsIG9yIGJ5IGEgc3BlY2lmaWMgY2F0ZWdvcnkgSWRcbmNvbnN0IGdldEFjdGl2ZVR5cGVzID0gYXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIC8vUGFzc2luZyBhdCB0aGUgZW5kXG4gICAgY29uc3QgeyBjYXRlZ29yeUlkIH0gPSByZXEucXVlcnk7XG5cbiAgICB0cnkge1xuICAgICAgICBjb25zdCBwb29sID0gZ2V0UG9vbCgpO1xuICAgICAgICBsZXQgcmVzdWx0O1xuXG4gICAgICAgIGlmIChjYXRlZ29yeUlkKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBhd2FpdCBwb29sLnJlcXVlc3QoKVxuICAgICAgICAgICAgICAgIC5pbnB1dChcImNhdGVnb3J5SWRcIiwgc3FsLkludCwgY2F0ZWdvcnlJZClcbiAgICAgICAgICAgICAgICAucXVlcnkoYFNFTEVDVCBBcHBsaWFuY2VfVHlwZV9JRCwgQ2F0ZWdvcnlfSUQsIG5hbWVFTiwgbmFtZUFSLCBBdmVyYWdlX1JlcGFpcl9UaW1lX01pbiwgQmFzZV9QcmljZSwgRGVzY3JpcHRpb25FTiwgRGVzY3JpcHRpb25BUiwgaXNBY3RpdmVcbiAgICAgICAgICAgICAgICAgICAgICAgIEZST00gQXBwbGlhbmNlX1R5cGVcbiAgICAgICAgICAgICAgICAgICAgICAgIFdIRVJFIGlzQWN0aXZlID0gMSBBTkQgQ2F0ZWdvcnlfSUQgPSBAY2F0ZWdvcnlJZGApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0ID0gYXdhaXQgcG9vbC5yZXF1ZXN0KClcbiAgICAgICAgICAgICAgICAucXVlcnkoYFNFTEVDVCBBcHBsaWFuY2VfVHlwZV9JRCwgQ2F0ZWdvcnlfSUQsIG5hbWVFTiwgbmFtZUFSLCBBdmVyYWdlX1JlcGFpcl9UaW1lX01pbiwgQmFzZV9QcmljZSwgRGVzY3JpcHRpb25FTiwgRGVzY3JpcHRpb25BUiwgaXNBY3RpdmVcbiAgICAgICAgICAgICAgICAgICAgICAgIEZST00gQXBwbGlhbmNlX1R5cGVcbiAgICAgICAgICAgICAgICAgICAgICAgIFdIRVJFIGlzQWN0aXZlID0gMWApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgY291bnQ6IHJlc3VsdC5yZWNvcmRzZXQubGVuZ3RoLFxuICAgICAgICAgICAgZGF0YTogcmVzdWx0LnJlY29yZHNldCxcbiAgICAgICAgfSlcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAvLyBUaHJvd2luZyB0aGUgY29uc29sZSBlcnJvciBhbmQgNTAwIHN0YXR1cyBpbiBjYXNlIHNvbWV0aGluZyBnb2VzIHdyb25nXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJVbmV4cGVjdGVkIGVycm9yIG9jY3VycmVkIHdoZW4gdHJ5aW5nIHRvIGdldCBhcHBsaWFuY2UgdHlwZXM6IFwiLCBlcnJvcik7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogXCJBbiB1bmV4cGVjdGVkIGVycm9yIG9jY3VycmVkIHdoaWxlIHRyeWluZyB0byByZXRyaWV2ZSBhcHBsaWFuY2UgdHlwZXMuXCIgfSk7XG4gICAgfVxufSlcblxuXG5tb2R1bGUuZXhwb3J0cyA9IHtnZXRBY3RpdmVDYXRlZ29yaWVzLCBnZXRBY3RpdmVUeXBlc307Il0sIm1hcHBpbmdzIjoiOzs7OztBQUFBOztBQUVBLElBQU1BLFlBQVksR0FBR0MsT0FBTyxDQUFDLHVCQUF1QixDQUFDOztBQUVyRDtBQUNBO0FBQ0EsSUFBQUMsUUFBQSxHQUF5QkQsT0FBTyxDQUFDLG9CQUFvQixDQUFDO0VBQTlDRSxPQUFPLEdBQUFELFFBQUEsQ0FBUEMsT0FBTztFQUFFQyxHQUFHLEdBQUFGLFFBQUEsQ0FBSEUsR0FBRzs7QUFHcEI7QUFDQSxJQUFNQyxtQkFBbUIsR0FBR0wsWUFBWTtFQUFBLElBQUFNLElBQUEsT0FBQUMsa0JBQUEsMEJBQUFDLFlBQUEsWUFBQUMsSUFBQSxDQUFDLFNBQUFDLFFBQU9DLEdB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","map":{"version":3,"names":["asyncHandler","require","_require","getPool","sql","getActiveCategories","_ref","_asyncToGenerator2","_regenerator","mark","_callee","req","res","pool","result","_t","wrap","_context","prev","next","request","query","sent","status","json","count","recordset","length","data","console","error","message","stop","_x","_x2","apply","arguments","getActiveTypes","_ref2","_callee2","categoryId","_t2","_context2","input","Int","_x3","_x4","module","exports"],"sourceRoot":"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/controllers/","sources":["ApplianceController.js"],"sourcesContent":["// This controller is responsible for retrieving appliance categories and types\n\nconst asyncHandler = require(\"express-async-handler\");\n\n// sql needed for the type definitions in .input\n// getPool is to do queries\nconst { getPool, sql } = require(\"../config/database\");\n\n\n// Returns the active appliance categories\nconst getActiveCategories = asyncHandler(async (req, res) => {\n    try {\n        const pool = getPool();\n\n        const result = await pool.request()\n            .query(`\n                SELECT Category_ID, NameEN, NameAR, isActive\n                FROM Appliance_Category\n                WHERE isActive = 1;\n                `)\n\n        res.status(200).json({\n            count: result.recordset.length,\n            data: result.recordset,\n        })\n    } catch (error) {\n        // Throwing the console error and 500 status in case something goes wrong\n        console.error(\"Unexpected error occurred when trying to get appliance categories: \", error);\n        res.status(500).json({ message: \"An unexpected error occurred while trying to retrieve appliance categories.\" });\n    }\n})\n\n\n// Returns the active appliance types, either all or by a specific category Id\nconst getActiveTypes = asyncHandler(async (req, res) => {\n    //Passing at the end\n    const { categoryId } = req.query;\n\n    try {\n        const pool = getPool();\n        let result;\n\n        if (categoryId) {\n            result = await pool.request()\n                .input(\"categoryId\", sql.Int, categoryId)\n                .query(`SELECT Appliance_Type_ID, Category_ID, nameEN, nameAR, Average_Repair_Time_Min, Base_Price, DescriptionEN, DescriptionAR, isActive\n                        FROM Appliance_Type\n                        WHERE isActive = 1 AND Category_ID = @categoryId`);\n        } else {\n            result = await pool.request()\n                .query(`SELECT Appliance_Type_ID, Category_ID, nameEN, nameAR, Average_Repair_Time_Min, Base_Price, DescriptionEN, DescriptionAR, isActive\n                        FROM Appliance_Type\n                        WHERE isActive = 1`);\n        }\n\n        res.status(200).json({\n            count: result.recordset.length,\n            data: result.recordset,\n        })\n    } catch (error) {\n        // Throwing the console error and 500 status in case something goes wrong\n        console.error(\"Unexpected error occurred when trying to get appliance types: \", error);\n        res.status(500).json({ message: \"An unexpected error occurred while trying to retrieve appliance types.\" });\n    }\n})\n\n\nmodule.exports = {getActiveCategories, getActiveTypes};"],"mappings":"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","ignoreList":[]}},"mtime":1764611805038},"{\"assumptions\":{},\"sourceRoot\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/utils/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end\",\"filename\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/utils/validators.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"_exploded\":true,\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"VoidPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$48\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$49\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"\"use strict\";\n\n/**\n * Input validation utility functions for the FixAppliance API.\n * \n * Provides validation for:\n *  - Email format\n *  - Phone number format (Lebanese format)\n *  - Password strength\n *  - Name format\n */\n\n/**\n * Validates email format using regex\n * @param {string} email - The email to validate\n * @returns {boolean} - True if valid, false otherwise\n */\nvar isValidEmail = function isValidEmail(email) {\n  if (!email || typeof email !== 'string') return false;\n\n  // Email regex that requires at least one dot in domain with proper TLD (2-10 chars)\n  var emailRegex = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*\\.[a-zA-Z]{2,10}$/;\n  return emailRegex.test(email.trim()) && email.length <= 100;\n};\n\n/**\n * Validates phone number format (Lebanese format)\n * \n * Landlines (8 digits total, with leading 0):\n *   - 01 XXX XXX (Beirut)\n *   - 04, 05, 09 XXX XXX (Mount Lebanon)\n *   - 06 XXX XXX (North)\n *   - 07 XXX XXX (South)\n *   - 08 XXX XXX (Bekaa)\n * \n * Mobile with leading 0 (8 digits total):\n *   - 03 XXX XXX (Alfa/Touch)\n * \n * Mobile without leading 0 (8 digits total):\n *   - 70, 71, 76, 78, 79, 81 XXX XXX (Alfa/Touch)\n * \n * With country code: +961 or 961 followed by number without leading 0\n * \n * @param {string} phone - The phone number to validate\n * @returns {boolean} - True if valid, false otherwise\n */\nvar isValidPhone = function isValidPhone(phone) {\n  if (!phone || typeof phone !== 'string') return false;\n\n  // Remove spaces and dashes for validation\n  var cleanPhone = phone.replace(/[\\s-]/g, '');\n\n  // Landline with leading 0: 01, 04, 05, 06, 07, 08, 09 + 6 digits = 8 total\n  var landlineRegex = /^0[1456789][0-9]{6}$/;\n\n  // Mobile 03 with leading 0: 03 + 6 digits = 8 total\n  var mobile03Regex = /^03[0-9]{6}$/;\n\n  // Mobile without leading 0: 70, 71, 76, 78, 79, 81 + 6 digits = 8 total\n  var mobileRegex = /^(70|71|76|78|79|81)[0-9]{6}$/;\n\n  // With country code +961 or 961: followed by number without leading 0\n  // Landline: 961 + 1/4/5/6/7/8/9 + 6 digits\n  var intlLandlineRegex = /^(\\+?961)[1456789][0-9]{6}$/;\n\n  // Mobile with intl code: 961 + 3 + 6 digits OR 961 + 70/71/76/78/79/81 + 6 digits\n  var intlMobileRegex = /^(\\+?961)(3[0-9]{6}|(70|71|76|78|79|81)[0-9]{6})$/;\n  return landlineRegex.test(cleanPhone) || mobile03Regex.test(cleanPhone) || mobileRegex.test(cleanPhone) || intlLandlineRegex.test(cleanPhone) || intlMobileRegex.test(cleanPhone);\n};\n\n/**\n * Validates password strength\n * Requirements: minimum 8 characters, at least one uppercase, one lowercase, one number\n * @param {string} password - The password to validate\n * @returns {{valid: boolean, message: string}} - Validation result with message\n */\nvar isValidPassword = function isValidPassword(password) {\n  if (!password || typeof password !== 'string') {\n    return {\n      valid: false,\n      message: \"Password is required.\"\n    };\n  }\n  if (password.length < 3) {\n    return {\n      valid: false,\n      message: \"Password must be at least 3 characters long.\"\n    };\n  }\n  if (password.length > 100) {\n    return {\n      valid: false,\n      message: \"Password cannot exceed 100 characters.\"\n    };\n  }\n\n  // if (!/[a-z]/.test(password)) {\n  //     return { valid: false, message: \"Password must contain at least one lowercase letter.\" };\n  // }\n\n  // if (!/[A-Z]/.test(password)) {\n  //     return { valid: false, message: \"Password must contain at least one uppercase letter.\" };\n  // }\n\n  // if (!/[0-9]/.test(password)) {\n  //     return { valid: false, message: \"Password must contain at least one number.\" };\n  // }\n\n  return {\n    valid: true,\n    message: \"Password is valid.\"\n  };\n};\n\n/**\n * Validates name format (first name, last name)\n * Only allows letters, spaces, hyphens, and apostrophes\n * @param {string} name - The name to validate\n * @param {number} maxLength - Maximum allowed length (default: 30)\n * @returns {boolean} - True if valid, false otherwise\n */\nvar isValidName = function isValidName(name) {\n  var maxLength = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 30;\n  if (!name || typeof name !== 'string') return false;\n  var trimmedName = name.trim();\n\n  // Must be between 2 and maxLength characters, only letters, spaces, hyphens, apostrophes\n  var nameRegex = /^[a-zA-Z\\u0600-\\u06FF\\s'-]{2,}$/;\n  return nameRegex.test(trimmedName) && trimmedName.length <= maxLength;\n};\n\n/**\n * Sanitizes string input by trimming whitespace\n * @param {string} input - The input to sanitize\n * @returns {string} - Sanitized string or empty string if invalid\n */\nvar sanitizeString = function sanitizeString(input) {\n  if (!input || typeof input !== 'string') return '';\n  return input.trim();\n};\n\n/**\n * Validates that a string doesn't exceed a maximum length\n * @param {string} str - The string to validate\n * @param {number} maxLength - Maximum allowed length\n * @returns {boolean} - True if valid, false otherwise\n */\nvar isValidLength = function isValidLength(str, maxLength) {\n  if (!str || typeof str !== 'string') return false;\n  return str.trim().length <= maxLength;\n};\nmodule.exports = {\n  isValidEmail: isValidEmail,\n  isValidPhone: isValidPhone,\n  isValidPassword: isValidPassword,\n  isValidName: isValidName,\n  sanitizeString: sanitizeString,\n  isValidLength: isValidLength\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJpc1ZhbGlkRW1haWwiLCJlbWFpbCIsImVtYWlsUmVnZXgiLCJ0ZXN0IiwidHJpbSIsImxlbmd0aCIsImlzVmFsaWRQaG9uZSIsInBob25lIiwiY2xlYW5QaG9uZSIsInJlcGxhY2UiLCJsYW5kbGluZVJlZ2V4IiwibW9iaWxlMDNSZWdleCIsIm1vYmlsZVJlZ2V4IiwiaW50bExhbmRsaW5lUmVnZXgiLCJpbnRsTW9iaWxlUmVnZXgiLCJpc1ZhbGlkUGFzc3dvcmQiLCJwYXNzd29yZCIsInZhbGlkIiwibWVzc2FnZSIsImlzVmFsaWROYW1lIiwibmFtZSIsIm1heExlbmd0aCIsImFyZ3VtZW50cyIsInVuZGVmaW5lZCIsInRyaW1tZWROYW1lIiwibmFtZVJlZ2V4Iiwic2FuaXRpemVTdHJpbmciLCJpbnB1dCIsImlzVmFsaWRMZW5ndGgiLCJzdHIiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9zZXJqL0RvY3VtZW50cy9HaXRIdWIvRml4QXBwbGlhbmNlLWJvb2tpbmdDb21tZXJjZS9iYWNrLWVuZC9zcmMvdXRpbHMvIiwic291cmNlcyI6WyJ2YWxpZGF0b3JzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogSW5wdXQgdmFsaWRhdGlvbiB1dGlsaXR5IGZ1bmN0aW9ucyBmb3IgdGhlIEZpeEFwcGxpYW5jZSBBUEkuXG4gKiBcbiAqIFByb3ZpZGVzIHZhbGlkYXRpb24gZm9yOlxuICogIC0gRW1haWwgZm9ybWF0XG4gKiAgLSBQaG9uZSBudW1iZXIgZm9ybWF0IChMZWJhbmVzZSBmb3JtYXQpXG4gKiAgLSBQYXNzd29yZCBzdHJlbmd0aFxuICogIC0gTmFtZSBmb3JtYXRcbiAqL1xuXG4vKipcbiAqIFZhbGlkYXRlcyBlbWFpbCBmb3JtYXQgdXNpbmcgcmVnZXhcbiAqIEBwYXJhbSB7c3RyaW5nfSBlbWFpbCAtIFRoZSBlbWFpbCB0byB2YWxpZGF0ZVxuICogQHJldHVybnMge2Jvb2xlYW59IC0gVHJ1ZSBpZiB2YWxpZCwgZmFsc2Ugb3RoZXJ3aXNlXG4gKi9cbmNvbnN0IGlzVmFsaWRFbWFpbCA9IChlbWFpbCkgPT4ge1xuICAgIGlmICghZW1haWwgfHwgdHlwZW9mIGVtYWlsICE9PSAnc3RyaW5nJykgcmV0dXJuIGZhbHNlO1xuICAgIFxuICAgIC8vIEVtYWlsIHJlZ2V4IHRoYXQgcmVxdWlyZXMgYXQgbGVhc3Qgb25lIGRvdCBpbiBkb21haW4gd2l0aCBwcm9wZXIgVExEICgyLTEwIGNoYXJzKVxuICAgIGNvbnN0IGVtYWlsUmVnZXggPSAvXlthLXpBLVowLTkuISMkJSYnKisvPT9eX2B7fH1+LV0rQFthLXpBLVowLTldKD86W2EtekEtWjAtOS1dezAsNjF9W2EtekEtWjAtOV0pPyg/OlxcLlthLXpBLVowLTldKD86W2EtekEtWjAtOS1dezAsNjF9W2EtekEtWjAtOV0pPykqXFwuW2EtekEtWl17MiwxMH0kLztcbiAgICBcbiAgICByZXR1cm4gZW1haWxSZWdleC50ZXN0KGVtYWlsLnRyaW0oKSkgJiYgZW1haWwubGVuZ3RoIDw9IDEwMDtcbn07XG5cbi8qKlxuICogVmFsaWRhdGVzIHBob25lIG51bWJlciBmb3JtYXQgKExlYmFuZXNlIGZvcm1hdClcbiAqIFxuICogTGFuZGxpbmVzICg4IGRpZ2l0cyB0b3RhbCwgd2l0aCBsZWFkaW5nIDApOlxuICogICAtIDAxIFhYWCBYWFggKEJlaXJ1dClcbiAqICAgLSAwNCwgMDUsIDA5IFhYWCBYWFggKE1vdW50IExlYmFub24pXG4gKiAgIC0gMDYgWFhYIFhYWCAoTm9ydGgpXG4gKiAgIC0gMDcgWFhYIFhYWCAoU291dGgpXG4gKiAgIC0gMDggWFhYIFhYWCAoQmVrYWEpXG4gKiBcbiAqIE1vYmlsZSB3aXRoIGxlYWRpbmcgMCAoOCBkaWdpdHMgdG90YWwpOlxuICogICAtIDAzIFhYWCBYWFggKEFsZmEvVG91Y2gpXG4gKiBcbiAqIE1vYmlsZSB3aXRob3V0IGxlYWRpbmcgMCAoOCBkaWdpdHMgdG90YWwpOlxuICogICAtIDcwLCA3MSwgNzYsIDc4LCA3OSwgODEgWFhYIFhYWCAoQWxmYS9Ub3VjaClcbiAqIFxuICogV2l0aCBjb3VudHJ5IGNvZGU6ICs5NjEgb3IgOTYxIGZvbGxvd2VkIGJ5IG51bWJlciB3aXRob3V0IGxlYWRpbmcgMFxuICogXG4gKiBAcGFyYW0ge3N0cmluZ30gcGhvbmUgLSBUaGUgcGhvbmUgbnVtYmVyIHRvIHZhbGlkYXRlXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gLSBUcnVlIGlmIHZhbGlkLCBmYWxzZSBvdGhlcndpc2VcbiAqL1xuY29uc3QgaXNWYWxpZFBob25lID0gKHBob25lKSA9PiB7XG4gICAgaWYgKCFwaG9uZSB8fCB0eXBlb2YgcGhvbmUgIT09ICdzdHJpbmcnKSByZXR1cm4gZmFsc2U7XG4gICAgXG4gICAgLy8gUmVtb3ZlIHNwYWNlcyBhbmQgZGFzaGVzIGZvciB2YWxpZGF0aW9uXG4gICAgY29uc3QgY2xlYW5QaG9uZSA9IHBob25lLnJlcGxhY2UoL1tcXHMtXS9nLCAnJyk7XG4gICAgXG4gICAgLy8gTGFuZGxpbmUgd2l0aCBsZWFkaW5nIDA6IDAxLCAwNCwgMDUsIDA2LCAwNywgMDgsIDA5ICsgNiBkaWdpdHMgPSA4IHRvdGFsXG4gICAgY29uc3QgbGFuZGxpbmVSZWdleCA9IC9eMFsxNDU2Nzg5XVswLTldezZ9JC87XG4gICAgXG4gICAgLy8gTW9iaWxlIDAzIHdpdGggbGVhZGluZyAwOiAwMyArIDYgZGlnaXRzID0gOCB0b3RhbFxuICAgIGNvbnN0IG1vYmlsZTAzUmVnZXggPSAvXjAzWzAtOV17Nn0kLztcbiAgICBcbiAgICAvLyBNb2JpbGUgd2l0aG91dCBsZWFkaW5nIDA6IDcwLCA3MSwgNzYsIDc4LCA3OSwgODEgKyA2IGRpZ2l0cyA9IDggdG90YWxcbiAgICBjb25zdCBtb2JpbGVSZWdleCA9IC9eKDcwfDcxfDc2fDc4fDc5fDgxKVswLTldezZ9JC87XG4gICAgXG4gICAgLy8gV2l0aCBjb3VudHJ5IGNvZGUgKzk2MSBvciA5NjE6IGZvbGxvd2VkIGJ5IG51bWJlciB3aXRob3V0IGxlYWRpbmcgMFxuICAgIC8vIExhbmRsaW5lOiA5NjEgKyAxLzQvNS82LzcvOC85ICsgNiBkaWdpdHNcbiAgICBjb25zdCBpbnRsTGFuZGxpbmVSZWdleCA9IC9eKFxcKz85NjEpWzE0NTY3ODldWzAtOV17Nn0kLztcbiAgICBcbiAgICAvLyBNb2JpbGUgd2l0aCBpbnRsIGNvZGU6IDk2MSArIDMgKyA2IGRpZ2l0cyBPUiA5NjEgKyA3MC83MS83Ni83OC83OS84MSArIDYgZGlnaXRzXG4gICAgY29uc3QgaW50bE1vYmlsZVJlZ2V4ID0gL14oXFwrPzk2MSkoM1swLTldezZ9fCg3MHw3MXw3Nnw3OHw3OXw4MSlbMC05XXs2fSkkLztcbiAgICBcbiAgICByZXR1cm4gbGFuZGxpbmVSZWdleC50ZXN0KGNsZWFuUGhvbmUpIHx8IFxuICAgICAgICAgICBtb2JpbGUwM1JlZ2V4LnRlc3QoY2xlYW5QaG9uZSkgfHxcbiAgICAgICAgICAgbW9iaWxlUmVnZXgudGVzdChjbGVhblBob25lKSB8fCBcbiAgICAgICAgICAgaW50bExhbmRsaW5lUmVnZXgudGVzdChjbGVhblBob25lKSB8fCBcbiAgICAgICAgICAgaW50bE1vYmlsZVJlZ2V4LnRlc3QoY2xlYW5QaG9uZSk7XG59O1xuXG4vKipcbiAqIFZhbGlkYXRlcyBwYXNzd29yZCBzdHJlbmd0aFxuICogUmVxdWlyZW1lbnRzOiBtaW5pbXVtIDggY2hhcmFjdGVycywgYXQgbGVhc3Qgb25lIHVwcGVyY2FzZSwgb25lIGxvd2VyY2FzZSwgb25lIG51bWJlclxuICogQHBhcmFtIHtzdHJpbmd9IHBhc3N3b3JkIC0gVGhlIHBhc3N3b3JkIHRvIHZhbGlkYXRlXG4gKiBAcmV0dXJucyB7e3ZhbGlkOiBib29sZWFuLCBtZXNzYWdlOiBzdHJpbmd9fSAtIFZhbGlkYXRpb24gcmVzdWx0IHdpdGggbWVzc2FnZVxuICovXG5jb25zdCBpc1ZhbGlkUGFzc3dvcmQgPSAocGFzc3dvcmQpID0+IHtcbiAgICBpZiAoIXBhc3N3b3JkIHx8IHR5cGVvZiBwYXNzd29yZCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlLCBtZXNzYWdlOiBcIlBhc3N3b3JkIGlzIHJlcXVpcmVkLlwiIH07XG4gICAgfVxuXG4gICAgaWYgKHBhc3N3b3JkLmxlbmd0aCA8IDMpIHtcbiAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlLCBtZXNzYWdlOiBcIlBhc3N3b3JkIG11c3QgYmUgYXQgbGVhc3QgMyBjaGFyYWN0ZXJzIGxvbmcuXCIgfTtcbiAgICB9XG5cbiAgICBpZiAocGFzc3dvcmQubGVuZ3RoID4gMTAwKSB7XG4gICAgICAgIHJldHVybiB7IHZhbGlkOiBmYWxzZSwgbWVzc2FnZTogXCJQYXNzd29yZCBjYW5ub3QgZXhjZWVkIDEwMCBjaGFyYWN0ZXJzLlwiIH07XG4gICAgfVxuXG4gICAgLy8gaWYgKCEvW2Etel0vLnRlc3QocGFzc3dvcmQpKSB7XG4gICAgLy8gICAgIHJldHVybiB7IHZhbGlkOiBmYWxzZSwgbWVzc2FnZTogXCJQYXNzd29yZCBtdXN0IGNvbnRhaW4gYXQgbGVhc3Qgb25lIGxvd2VyY2FzZSBsZXR0ZXIuXCIgfTtcbiAgICAvLyB9XG5cbiAgICAvLyBpZiAoIS9bQS1aXS8udGVzdChwYXNzd29yZCkpIHtcbiAgICAvLyAgICAgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlLCBtZXNzYWdlOiBcIlBhc3N3b3JkIG11c3QgY29udGFpbiBhdCBsZWFzdCBvbmUgdXBwZXJjYXNlIGxldHRlci5cIiB9O1xuICAgIC8vIH1cblxuICAgIC8vIGlmICghL1swLTldLy50ZXN0KHBhc3N3b3JkKSkge1xuICAgIC8vICAgICByZXR1cm4geyB2YWxpZDogZmFsc2UsIG1lc3NhZ2U6IFwiUGFzc3dvcmQgbXVzdCBjb250YWluIGF0IGxlYXN0IG9uZSBudW1iZXIuXCIgfTtcbiAgICAvLyB9XG5cbiAgICByZXR1cm4geyB2YWxpZDogdHJ1ZSwgbWVzc2FnZTogXCJQYXNzd29yZCBpcyB2YWxpZC5cIiB9O1xufTtcblxuLyoqXG4gKiBWYWxpZGF0ZXMgbmFtZSBmb3JtYXQgKGZpcnN0IG5hbWUsIGxhc3QgbmFtZSlcbiAqIE9ubHkgYWxsb3dzIGxldHRlcnMsIHNwYWNlcywgaHlwaGVucywgYW5kIGFwb3N0cm9waGVzXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIFRoZSBuYW1lIHRvIHZhbGlkYXRlXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4TGVuZ3RoIC0gTWF4aW11bSBhbGxvd2VkIGxlbmd0aCAoZGVmYXVsdDogMzApXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gLSBUcnVlIGlmIHZhbGlkLCBmYWxzZSBvdGhlcndpc2VcbiAqL1xuY29uc3QgaXNWYWxpZE5hbWUgPSAobmFtZSwgbWF4TGVuZ3RoID0gMzApID0+IHtcbiAgICBpZiAoIW5hbWUgfHwgdHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnKSByZXR1cm4gZmFsc2U7XG4gICAgXG4gICAgY29uc3QgdHJpbW1lZE5hbWUgPSBuYW1lLnRyaW0oKTtcbiAgICBcbiAgICAvLyBNdXN0IGJlIGJldHdlZW4gMiBhbmQgbWF4TGVuZ3RoIGNoYXJhY3RlcnMsIG9ubHkgbGV0dGVycywgc3BhY2VzLCBoeXBoZW5zLCBhcG9zdHJvcGhlc1xuICAgIGNvbnN0IG5hbWVSZWdleCA9IC9eW2EtekEtWlxcdTA2MDAtXFx1MDZGRlxccyctXXsyLH0kLztcbiAgICBcbiAgICByZXR1cm4gbmFtZVJlZ2V4LnRlc3QodHJpbW1lZE5hbWUpICYmIHRyaW1tZWROYW1lLmxlbmd0aCA8PSBtYXhMZW5ndGg7XG59O1xuXG4vKipcbiAqIFNhbml0aXplcyBzdHJpbmcgaW5wdXQgYnkgdHJpbW1pbmcgd2hpdGVzcGFjZVxuICogQHBhcmFtIHtzdHJpbmd9IGlucHV0IC0gVGhlIGlucHV0IHRvIHNhbml0aXplXG4gKiBAcmV0dXJucyB7c3RyaW5nfSAtIFNhbml0aXplZCBzdHJpbmcgb3IgZW1wdHkgc3RyaW5nIGlmIGludmFsaWRcbiAqL1xuY29uc3Qgc2FuaXRpemVTdHJpbmcgPSAoaW5wdXQpID0+IHtcbiAgICBpZiAoIWlucHV0IHx8IHR5cGVvZiBpbnB1dCAhPT0gJ3N0cmluZycpIHJldHVybiAnJztcbiAgICByZXR1cm4gaW5wdXQudHJpbSgpO1xufTtcblxuLyoqXG4gKiBWYWxpZGF0ZXMgdGhhdCBhIHN0cmluZyBkb2Vzbid0IGV4Y2VlZCBhIG1heGltdW0gbGVuZ3RoXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyIC0gVGhlIHN0cmluZyB0byB2YWxpZGF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IG1heExlbmd0aCAtIE1heGltdW0gYWxsb3dlZCBsZW5ndGhcbiAqIEByZXR1cm5zIHtib29sZWFufSAtIFRydWUgaWYgdmFsaWQsIGZhbHNlIG90aGVyd2lzZVxuICovXG5jb25zdCBpc1ZhbGlkTGVuZ3RoID0gKHN0ciwgbWF4TGVuZ3RoKSA9PiB7XG4gICAgaWYgKCFzdHIgfHwgdHlwZW9mIHN0ciAhPT0gJ3N0cmluZycpIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gc3RyLnRyaW0oKS5sZW5ndGggPD0gbWF4TGVuZ3RoO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgaXNWYWxpZEVtYWlsLFxuICAgIGlzVmFsaWRQaG9uZSxcbiAgICBpc1ZhbGlkUGFzc3dvcmQsXG4gICAgaXNWYWxpZE5hbWUsXG4gICAgc2FuaXRpemVTdHJpbmcsXG4gICAgaXNWYWxpZExlbmd0aFxufTtcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQU1BLFlBQVksR0FBRyxTQUFmQSxZQUFZQSxDQUFJQyxLQUFLLEVBQUs7RUFDNUIsSUFBSSxDQUFDQSxLQUFLLElBQUksT0FBT0EsS0FBSyxLQUFLLFFBQVEsRUFBRSxPQUFPLEtBQUs7O0VBRXJEO0VBQ0EsSUFBTUMsVUFBVSxHQUFHLHNKQUFzSjtFQUV6SyxPQUFPQSxVQUFVLENBQUNDLElBQUksQ0FBQ0YsS0FBSyxDQUFDRyxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUlILEtBQUssQ0FBQ0ksTUFBTSxJQUFJ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","map":{"version":3,"names":["isValidEmail","email","emailRegex","test","trim","length","isValidPhone","phone","cleanPhone","replace","landlineRegex","mobile03Regex","mobileRegex","intlLandlineRegex","intlMobileRegex","isValidPassword","password","valid","message","isValidName","name","maxLength","arguments","undefined","trimmedName","nameRegex","sanitizeString","input","isValidLength","str","module","exports"],"sourceRoot":"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/utils/","sources":["validators.js"],"sourcesContent":["/**\n * Input validation utility functions for the FixAppliance API.\n * \n * Provides validation for:\n *  - Email format\n *  - Phone number format (Lebanese format)\n *  - Password strength\n *  - Name format\n */\n\n/**\n * Validates email format using regex\n * @param {string} email - The email to validate\n * @returns {boolean} - True if valid, false otherwise\n */\nconst isValidEmail = (email) => {\n    if (!email || typeof email !== 'string') return false;\n    \n    // Email regex that requires at least one dot in domain with proper TLD (2-10 chars)\n    const emailRegex = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*\\.[a-zA-Z]{2,10}$/;\n    \n    return emailRegex.test(email.trim()) && email.length <= 100;\n};\n\n/**\n * Validates phone number format (Lebanese format)\n * \n * Landlines (8 digits total, with leading 0):\n *   - 01 XXX XXX (Beirut)\n *   - 04, 05, 09 XXX XXX (Mount Lebanon)\n *   - 06 XXX XXX (North)\n *   - 07 XXX XXX (South)\n *   - 08 XXX XXX (Bekaa)\n * \n * Mobile with leading 0 (8 digits total):\n *   - 03 XXX XXX (Alfa/Touch)\n * \n * Mobile without leading 0 (8 digits total):\n *   - 70, 71, 76, 78, 79, 81 XXX XXX (Alfa/Touch)\n * \n * With country code: +961 or 961 followed by number without leading 0\n * \n * @param {string} phone - The phone number to validate\n * @returns {boolean} - True if valid, false otherwise\n */\nconst isValidPhone = (phone) => {\n    if (!phone || typeof phone !== 'string') return false;\n    \n    // Remove spaces and dashes for validation\n    const cleanPhone = phone.replace(/[\\s-]/g, '');\n    \n    // Landline with leading 0: 01, 04, 05, 06, 07, 08, 09 + 6 digits = 8 total\n    const landlineRegex = /^0[1456789][0-9]{6}$/;\n    \n    // Mobile 03 with leading 0: 03 + 6 digits = 8 total\n    const mobile03Regex = /^03[0-9]{6}$/;\n    \n    // Mobile without leading 0: 70, 71, 76, 78, 79, 81 + 6 digits = 8 total\n    const mobileRegex = /^(70|71|76|78|79|81)[0-9]{6}$/;\n    \n    // With country code +961 or 961: followed by number without leading 0\n    // Landline: 961 + 1/4/5/6/7/8/9 + 6 digits\n    const intlLandlineRegex = /^(\\+?961)[1456789][0-9]{6}$/;\n    \n    // Mobile with intl code: 961 + 3 + 6 digits OR 961 + 70/71/76/78/79/81 + 6 digits\n    const intlMobileRegex = /^(\\+?961)(3[0-9]{6}|(70|71|76|78|79|81)[0-9]{6})$/;\n    \n    return landlineRegex.test(cleanPhone) || \n           mobile03Regex.test(cleanPhone) ||\n           mobileRegex.test(cleanPhone) || \n           intlLandlineRegex.test(cleanPhone) || \n           intlMobileRegex.test(cleanPhone);\n};\n\n/**\n * Validates password strength\n * Requirements: minimum 8 characters, at least one uppercase, one lowercase, one number\n * @param {string} password - The password to validate\n * @returns {{valid: boolean, message: string}} - Validation result with message\n */\nconst isValidPassword = (password) => {\n    if (!password || typeof password !== 'string') {\n        return { valid: false, message: \"Password is required.\" };\n    }\n\n    if (password.length < 3) {\n        return { valid: false, message: \"Password must be at least 3 characters long.\" };\n    }\n\n    if (password.length > 100) {\n        return { valid: false, message: \"Password cannot exceed 100 characters.\" };\n    }\n\n    // if (!/[a-z]/.test(password)) {\n    //     return { valid: false, message: \"Password must contain at least one lowercase letter.\" };\n    // }\n\n    // if (!/[A-Z]/.test(password)) {\n    //     return { valid: false, message: \"Password must contain at least one uppercase letter.\" };\n    // }\n\n    // if (!/[0-9]/.test(password)) {\n    //     return { valid: false, message: \"Password must contain at least one number.\" };\n    // }\n\n    return { valid: true, message: \"Password is valid.\" };\n};\n\n/**\n * Validates name format (first name, last name)\n * Only allows letters, spaces, hyphens, and apostrophes\n * @param {string} name - The name to validate\n * @param {number} maxLength - Maximum allowed length (default: 30)\n * @returns {boolean} - True if valid, false otherwise\n */\nconst isValidName = (name, maxLength = 30) => {\n    if (!name || typeof name !== 'string') return false;\n    \n    const trimmedName = name.trim();\n    \n    // Must be between 2 and maxLength characters, only letters, spaces, hyphens, apostrophes\n    const nameRegex = /^[a-zA-Z\\u0600-\\u06FF\\s'-]{2,}$/;\n    \n    return nameRegex.test(trimmedName) && trimmedName.length <= maxLength;\n};\n\n/**\n * Sanitizes string input by trimming whitespace\n * @param {string} input - The input to sanitize\n * @returns {string} - Sanitized string or empty string if invalid\n */\nconst sanitizeString = (input) => {\n    if (!input || typeof input !== 'string') return '';\n    return input.trim();\n};\n\n/**\n * Validates that a string doesn't exceed a maximum length\n * @param {string} str - The string to validate\n * @param {number} maxLength - Maximum allowed length\n * @returns {boolean} - True if valid, false otherwise\n */\nconst isValidLength = (str, maxLength) => {\n    if (!str || typeof str !== 'string') return false;\n    return str.trim().length <= maxLength;\n};\n\nmodule.exports = {\n    isValidEmail,\n    isValidPhone,\n    isValidPassword,\n    isValidName,\n    sanitizeString,\n    isValidLength\n};\n"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAMA,YAAY,GAAG,SAAfA,YAAYA,CAAIC,KAAK,EAAK;EAC5B,IAAI,CAACA,KAAK,IAAI,OAAOA,KAAK,KAAK,QAAQ,EAAE,OAAO,KAAK;;EAErD;EACA,IAAMC,UAAU,GAAG,sJAAsJ;EAEzK,OAAOA,UAAU,CAACC,IAAI,CAACF,KAAK,CAACG,IAAI,CAAC,CAAC,CAAC,IAAIH,KAAK,CAACI,MAAM,IAAI,GAAG;AAC/D,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAMC,YAAY,GAAG,SAAfA,YAAYA,CAAIC,KAAK,EAAK;EAC5B,IAAI,CAACA,KAAK,IAAI,OAAOA,KAAK,KAAK,QAAQ,EAAE,OAAO,KAAK;;EAErD;EACA,IAAMC,UAAU,GAAGD,KAAK,CAACE,OAAO,CAAC,QAAQ,EAAE,EAAE,CAAC;;EAE9C;EACA,IAAMC,aAAa,GAAG,sBAAsB;;EAE5C;EACA,IAAMC,aAAa,GAAG,cAAc;;EAEpC;EACA,IAAMC,WAAW,GAAG,+BAA+B;;EAEnD;EACA;EACA,IAAMC,iBAAiB,GAAG,6BAA6B;;EAEvD;EACA,IAAMC,eAAe,GAAG,mDAAmD;EAE3E,OAAOJ,aAAa,CAACP,IAAI,CAACK,UAAU,CAAC,IAC9BG,aAAa,CAACR,IAAI,CAACK,UAAU,CAAC,IAC9BI,WAAW,CAACT,IAAI,CAACK,UAAU,CAAC,IAC5BK,iBAAiB,CAACV,IAAI,CAACK,UAAU,CAAC,IAClCM,eAAe,CAACX,IAAI,CAACK,UAAU,CAAC;AAC3C,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,IAAMO,eAAe,GAAG,SAAlBA,eAAeA,CAAIC,QAAQ,EAAK;EAClC,IAAI,CAACA,QAAQ,IAAI,OAAOA,QAAQ,KAAK,QAAQ,EAAE;IAC3C,OAAO;MAAEC,KAAK,EAAE,KAAK;MAAEC,OAAO,EAAE;IAAwB,CAAC;EAC7D;EAEA,IAAIF,QAAQ,CAACX,MAAM,GAAG,CAAC,EAAE;IACrB,OAAO;MAAEY,KAAK,EAAE,KAAK;MAAEC,OAAO,EAAE;IAA+C,CAAC;EACpF;EAEA,IAAIF,QAAQ,CAACX,MAAM,GAAG,GAAG,EAAE;IACvB,OAAO;MAAEY,KAAK,EAAE,KAAK;MAAEC,OAAO,EAAE;IAAyC,CAAC;EAC9E;;EAEA;EACA;EACA;;EAEA;EACA;EACA;;EAEA;EACA;EACA;;EAEA,OAAO;IAAED,KAAK,EAAE,IAAI;IAAEC,OAAO,EAAE;EAAqB,CAAC;AACzD,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAMC,WAAW,GAAG,SAAdA,WAAWA,CAAIC,IAAI,EAAqB;EAAA,IAAnBC,SAAS,GAAAC,SAAA,CAAAjB,MAAA,QAAAiB,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,EAAE;EACrC,IAAI,CAACF,IAAI,IAAI,OAAOA,IAAI,KAAK,QAAQ,EAAE,OAAO,KAAK;EAEnD,IAAMI,WAAW,GAAGJ,IAAI,CAAChB,IAAI,CAAC,CAAC;;EAE/B;EACA,IAAMqB,SAAS,GAAG,iCAAiC;EAEnD,OAAOA,SAAS,CAACtB,IAAI,CAACqB,WAAW,CAAC,IAAIA,WAAW,CAACnB,MAAM,IAAIgB,SAAS;AACzE,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,IAAMK,cAAc,GAAG,SAAjBA,cAAcA,CAAIC,KAAK,EAAK;EAC9B,IAAI,CAACA,KAAK,IAAI,OAAOA,KAAK,KAAK,QAAQ,EAAE,OAAO,EAAE;EAClD,OAAOA,KAAK,CAACvB,IAAI,CAAC,CAAC;AACvB,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,IAAMwB,aAAa,GAAG,SAAhBA,aAAaA,CAAIC,GAAG,EAAER,SAAS,EAAK;EACtC,IAAI,CAACQ,GAAG,IAAI,OAAOA,GAAG,KAAK,QAAQ,EAAE,OAAO,KAAK;EACjD,OAAOA,GAAG,CAACzB,IAAI,CAAC,CAAC,CAACC,MAAM,IAAIgB,SAAS;AACzC,CAAC;AAEDS,MAAM,CAACC,OAAO,GAAG;EACb/B,YAAY,EAAZA,YAAY;EACZM,YAAY,EAAZA,YAAY;EACZS,eAAe,EAAfA,eAAe;EACfI,WAAW,EAAXA,WAAW;EACXO,cAAc,EAAdA,cAAc;EACdE,aAAa,EAAbA;AACJ,CAAC","ignoreList":[]}},"mtime":1764837002235},"{\"assumptions\":{},\"sourceRoot\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/middlewares/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end\",\"filename\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/middlewares/auth.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"_exploded\":true,\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"VoidPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$48\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$49\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n/**\n * The following middleware is responsible for authenticating the user before a route is called.\n * \n * There's a middleware for 3 entities: user, technician and freelancer.\n * \n * All of them have a similar structure:\n *      1. Get the entity's access token that's stored in the request cookies.\n *      2. Check if a token exists, if not, send a 401 with a please login message.\n *      3. If the token exists, try to decode the token by using JWT and verify it with the ENTITY_ACCESS_TOKEN from the .env file\n *      4. If the decode is successful, it adds the data stored in it in the request and uses next() to send it forward to the route's functionality\n *         If the decode is NOT successful, it clears the entity's token and sends a 401 with a please login message.\n * \n */\n\nvar asyncHandler = require(\"express-async-handler\");\nvar jwt = require(\"jsonwebtoken\");\n\n// Validation for the user \nvar userValidation = asyncHandler(/*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee(req, res, next) {\n    var token, decoded, _t;\n    return _regenerator[\"default\"].wrap(function (_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          // Gets token from the cookies passed in req\n          token = req.cookies.user_access_token; // Check if token exists, if not send a 401 with a please login message\n          if (token) {\n            _context.next = 1;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(401).json({\n            message: \"Please login to your account.\"\n          }));\n        case 1:\n          _context.prev = 1;\n          decoded = jwt.verify(token, process.env.USER_ACCESS_TOKEN);\n          req.userID = decoded.id;\n          req.userFirstName = decoded.firstName;\n          req.userLastName = decoded.lastName;\n          req.userEmail = decoded.email;\n          next();\n          _context.next = 3;\n          break;\n        case 2:\n          _context.prev = 2;\n          _t = _context[\"catch\"](1);\n          res.clearCookie('user_access_token');\n          return _context.abrupt(\"return\", res.status(401).json({\n            message: \"Please login to your account.\"\n          }));\n        case 3:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[1, 2]]);\n  }));\n  return function (_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}());\n\n// Validation for technician\nvar technicianValidation = asyncHandler(/*#__PURE__*/function () {\n  var _ref2 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(req, res, next) {\n    var token, decoded, _t2;\n    return _regenerator[\"default\"].wrap(function (_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          token = req.cookies.technician_access_token;\n          if (token) {\n            _context2.next = 1;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(401).json({\n            message: \"Please login to your account.\"\n          }));\n        case 1:\n          _context2.prev = 1;\n          decoded = jwt.verify(token, process.env.TECHNICIAN_ACCESS_TOKEN);\n          req.technicianID = decoded.id;\n          req.technicianFirstName = decoded.firstName;\n          req.technicianLastName = decoded.lastName;\n          req.technicianEmail = decoded.email;\n          next();\n          _context2.next = 3;\n          break;\n        case 2:\n          _context2.prev = 2;\n          _t2 = _context2[\"catch\"](1);\n          res.clearCookie('technician_access_token');\n          return _context2.abrupt(\"return\", res.status(401).json({\n            message: \"Please login to your account.\"\n          }));\n        case 3:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[1, 2]]);\n  }));\n  return function (_x4, _x5, _x6) {\n    return _ref2.apply(this, arguments);\n  };\n}());\n\n// Validation for freelancer\nvar freelancerValidation = asyncHandler(/*#__PURE__*/function () {\n  var _ref3 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee3(req, res, next) {\n    var token, decoded, _t3;\n    return _regenerator[\"default\"].wrap(function (_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          token = req.cookies.freelancer_access_token;\n          if (token) {\n            _context3.next = 1;\n            break;\n          }\n          return _context3.abrupt(\"return\", res.status(401).json({\n            message: \"Please login to your account.\"\n          }));\n        case 1:\n          _context3.prev = 1;\n          decoded = jwt.verify(token, process.env.FREELANCER_ACCESS_TOKEN);\n          req.freelancerID = decoded.id;\n          req.freelancerFirstName = decoded.firstName;\n          req.freelancerLastName = decoded.lastName;\n          req.freelancerEmail = decoded.email;\n          next();\n          _context3.next = 3;\n          break;\n        case 2:\n          _context3.prev = 2;\n          _t3 = _context3[\"catch\"](1);\n          res.clearCookie('freelancer_access_token');\n          return _context3.abrupt(\"return\", res.status(401).json({\n            message: \"Please login to your account.\"\n          }));\n        case 3:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3, null, [[1, 2]]);\n  }));\n  return function (_x7, _x8, _x9) {\n    return _ref3.apply(this, arguments);\n  };\n}());\nmodule.exports = {\n  userValidation: userValidation,\n  technicianValidation: technicianValidation,\n  freelancerValidation: freelancerValidation\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhc3luY0hhbmRsZXIiLCJyZXF1aXJlIiwiand0IiwidXNlclZhbGlkYXRpb24iLCJfcmVmIiwiX2FzeW5jVG9HZW5lcmF0b3IyIiwiX3JlZ2VuZXJhdG9yIiwibWFyayIsIl9jYWxsZWUiLCJyZXEiLCJyZXMiLCJuZXh0IiwidG9rZW4iLCJkZWNvZGVkIiwiX3QiLCJ3cmFwIiwiX2NvbnRleHQiLCJwcmV2IiwiY29va2llcyIsInVzZXJfYWNjZXNzX3Rva2VuIiwiYWJydXB0Iiwic3RhdHVzIiwianNvbiIsIm1lc3NhZ2UiLCJ2ZXJpZnkiLCJwcm9jZXNzIiwiZW52IiwiVVNFUl9BQ0NFU1NfVE9LRU4iLCJ1c2VySUQiLCJpZCIsInVzZXJGaXJzdE5hbWUiLCJmaXJzdE5hbWUiLCJ1c2VyTGFzdE5hbWUiLCJsYXN0TmFtZSIsInVzZXJFbWFpbCIsImVtYWlsIiwiY2xlYXJDb29raWUiLCJzdG9wIiwiX3giLCJfeDIiLCJfeDMiLCJhcHBseSIsImFyZ3VtZW50cyIsInRlY2huaWNpYW5WYWxpZGF0aW9uIiwiX3JlZjIiLCJfY2FsbGVlMiIsIl90MiIsIl9jb250ZXh0MiIsInRlY2huaWNpYW5fYWNjZXNzX3Rva2VuIiwiVEVDSE5JQ0lBTl9BQ0NFU1NfVE9LRU4iLCJ0ZWNobmljaWFuSUQiLCJ0ZWNobmljaWFuRmlyc3ROYW1lIiwidGVjaG5pY2lhbkxhc3ROYW1lIiwidGVjaG5pY2lhbkVtYWlsIiwiX3g0IiwiX3g1IiwiX3g2IiwiZnJlZWxhbmNlclZhbGlkYXRpb24iLCJfcmVmMyIsIl9jYWxsZWUzIiwiX3QzIiwiX2NvbnRleHQzIiwiZnJlZWxhbmNlcl9hY2Nlc3NfdG9rZW4iLCJGUkVFTEFOQ0VSX0FDQ0VTU19UT0tFTiIsImZyZWVsYW5jZXJJRCIsImZyZWVsYW5jZXJGaXJzdE5hbWUiLCJmcmVlbGFuY2VyTGFzdE5hbWUiLCJmcmVlbGFuY2VyRW1haWwiLCJfeDciLCJfeDgiLCJfeDkiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9zZXJqL0RvY3VtZW50cy9HaXRIdWIvRml4QXBwbGlhbmNlLWJvb2tpbmdDb21tZXJjZS9iYWNrLWVuZC9zcmMvbWlkZGxld2FyZXMvIiwic291cmNlcyI6WyJhdXRoLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGhlIGZvbGxvd2luZyBtaWRkbGV3YXJlIGlzIHJlc3BvbnNpYmxlIGZvciBhdXRoZW50aWNhdGluZyB0aGUgdXNlciBiZWZvcmUgYSByb3V0ZSBpcyBjYWxsZWQuXG4gKiBcbiAqIFRoZXJlJ3MgYSBtaWRkbGV3YXJlIGZvciAzIGVudGl0aWVzOiB1c2VyLCB0ZWNobmljaWFuIGFuZCBmcmVlbGFuY2VyLlxuICogXG4gKiBBbGwgb2YgdGhlbSBoYXZlIGEgc2ltaWxhciBzdHJ1Y3R1cmU6XG4gKiAgICAgIDEuIEdldCB0aGUgZW50aXR5J3MgYWNjZXNzIHRva2VuIHRoYXQncyBzdG9yZWQgaW4gdGhlIHJlcXVlc3QgY29va2llcy5cbiAqICAgICAgMi4gQ2hlY2sgaWYgYSB0b2tlbiBleGlzdHMsIGlmIG5vdCwgc2VuZCBhIDQwMSB3aXRoIGEgcGxlYXNlIGxvZ2luIG1lc3NhZ2UuXG4gKiAgICAgIDMuIElmIHRoZSB0b2tlbiBleGlzdHMsIHRyeSB0byBkZWNvZGUgdGhlIHRva2VuIGJ5IHVzaW5nIEpXVCBhbmQgdmVyaWZ5IGl0IHdpdGggdGhlIEVOVElUWV9BQ0NFU1NfVE9LRU4gZnJvbSB0aGUgLmVudiBmaWxlXG4gKiAgICAgIDQuIElmIHRoZSBkZWNvZGUgaXMgc3VjY2Vzc2Z1bCwgaXQgYWRkcyB0aGUgZGF0YSBzdG9yZWQgaW4gaXQgaW4gdGhlIHJlcXVlc3QgYW5kIHVzZXMgbmV4dCgpIHRvIHNlbmQgaXQgZm9yd2FyZCB0byB0aGUgcm91dGUncyBmdW5jdGlvbmFsaXR5XG4gKiAgICAgICAgIElmIHRoZSBkZWNvZGUgaXMgTk9UIHN1Y2Nlc3NmdWwsIGl0IGNsZWFycyB0aGUgZW50aXR5J3MgdG9rZW4gYW5kIHNlbmRzIGEgNDAxIHdpdGggYSBwbGVhc2UgbG9naW4gbWVzc2FnZS5cbiAqIFxuICovXG5cbmNvbnN0IGFzeW5jSGFuZGxlciA9IHJlcXVpcmUoXCJleHByZXNzLWFzeW5jLWhhbmRsZXJcIik7XG5jb25zdCBqd3QgPSByZXF1aXJlKFwianNvbndlYnRva2VuXCIpO1xuXG4vLyBWYWxpZGF0aW9uIGZvciB0aGUgdXNlciBcbmNvbnN0IHVzZXJWYWxpZGF0aW9uID0gYXN5bmNIYW5kbGVyKGFzeW5jKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgLy8gR2V0cyB0b2tlbiBmcm9tIHRoZSBjb29raWVzIHBhc3NlZCBpbiByZXFcbiAgICBjb25zdCB0b2tlbiA9IHJlcS5jb29raWVzLnVzZXJfYWNjZXNzX3Rva2VuO1xuXG4gICAgLy8gQ2hlY2sgaWYgdG9rZW4gZXhpc3RzLCBpZiBub3Qgc2VuZCBhIDQwMSB3aXRoIGEgcGxlYXNlIGxvZ2luIG1lc3NhZ2VcbiAgICBpZiAoIXRva2VuKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7bWVzc2FnZTogXCJQbGVhc2UgbG9naW4gdG8geW91ciBhY2NvdW50LlwifSk7XG4gICAgfVxuXG4gICAgLy8gSWYgdG9rZW4gZXhpc3RzIHRyeSB0byBkZWNvZGUgaXQuXG4gICAgLy8gSWYgZGVjb2RlIHN1Y2Nlc3NmdWwgZ2V0IHRoZSBkYXRhIGZyb20gdGhlIGRlY29kZWQgYW5kIHBhc3MgaXQgdG8gdGhlIHJvdXRlJ3MgZnVuY3Rpb25hbGl0eSdzIHJlcS5cbiAgICAvLyBJZiBub3Qgc3VjY2Vzc2Z1bCwgY2xlYXIgdGhlIGNvb2tpZSwgdGhyb3cgYSA0MDEgYW5kIHNlbmQgYSBwbGVhc2UgbG9naW4gbWVzc2FnZS5cbiAgICB0cnkge1xuICAgICAgICBjb25zdCBkZWNvZGVkID0gand0LnZlcmlmeSh0b2tlbiwgcHJvY2Vzcy5lbnYuVVNFUl9BQ0NFU1NfVE9LRU4pO1xuICAgICAgICByZXEudXNlcklEID0gZGVjb2RlZC5pZDtcbiAgICAgICAgcmVxLnVzZXJGaXJzdE5hbWUgPSBkZWNvZGVkLmZpcnN0TmFtZTtcbiAgICAgICAgcmVxLnVzZXJMYXN0TmFtZSA9IGRlY29kZWQubGFzdE5hbWU7XG4gICAgICAgIHJlcS51c2VyRW1haWwgPSBkZWNvZGVkLmVtYWlsO1xuICAgICAgICBuZXh0KCk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJlcy5jbGVhckNvb2tpZSgndXNlcl9hY2Nlc3NfdG9rZW4nKTtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHttZXNzYWdlOiBcIlBsZWFzZSBsb2dpbiB0byB5b3VyIGFjY291bnQuXCJ9KTtcbiAgICB9XG59KVxuXG4vLyBWYWxpZGF0aW9uIGZvciB0ZWNobmljaWFuXG5jb25zdCB0ZWNobmljaWFuVmFsaWRhdGlvbiA9IGFzeW5jSGFuZGxlcihhc3luYyhyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIGNvbnN0IHRva2VuID0gcmVxLmNvb2tpZXMudGVjaG5pY2lhbl9hY2Nlc3NfdG9rZW47XG5cbiAgICBpZiAoIXRva2VuKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7bWVzc2FnZTogXCJQbGVhc2UgbG9naW4gdG8geW91ciBhY2NvdW50LlwifSk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZGVjb2RlZCA9IGp3dC52ZXJpZnkodG9rZW4sIHByb2Nlc3MuZW52LlRFQ0hOSUNJQU5fQUNDRVNTX1RPS0VOKTtcbiAgICAgICAgcmVxLnRlY2huaWNpYW5JRCA9IGRlY29kZWQuaWQ7XG4gICAgICAgIHJlcS50ZWNobmljaWFuRmlyc3ROYW1lID0gZGVjb2RlZC5maXJzdE5hbWU7XG4gICAgICAgIHJlcS50ZWNobmljaWFuTGFzdE5hbWUgPSBkZWNvZGVkLmxhc3ROYW1lO1xuICAgICAgICByZXEudGVjaG5pY2lhbkVtYWlsID0gZGVjb2RlZC5lbWFpbDtcbiAgICAgICAgbmV4dCgpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICByZXMuY2xlYXJDb29raWUoJ3RlY2huaWNpYW5fYWNjZXNzX3Rva2VuJyk7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7bWVzc2FnZTogXCJQbGVhc2UgbG9naW4gdG8geW91ciBhY2NvdW50LlwifSk7XG4gICAgfVxufSlcblxuLy8gVmFsaWRhdGlvbiBmb3IgZnJlZWxhbmNlclxuY29uc3QgZnJlZWxhbmNlclZhbGlkYXRpb24gPSBhc3luY0hhbmRsZXIoYXN5bmMocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICBjb25zdCB0b2tlbiA9IHJlcS5jb29raWVzLmZyZWVsYW5jZXJfYWNjZXNzX3Rva2VuO1xuXG4gICAgaWYgKCF0b2tlbikge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oe21lc3NhZ2U6IFwiUGxlYXNlIGxvZ2luIHRvIHlvdXIgYWNjb3VudC5cIn0pO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGRlY29kZWQgPSBqd3QudmVyaWZ5KHRva2VuLCBwcm9jZXNzLmVudi5GUkVFTEFOQ0VSX0FDQ0VTU19UT0tFTik7XG4gICAgICAgIHJlcS5mcmVlbGFuY2VySUQgPSBkZWNvZGVkLmlkO1xuICAgICAgICByZXEuZnJlZWxhbmNlckZpcnN0TmFtZSA9IGRlY29kZWQuZmlyc3ROYW1lO1xuICAgICAgICByZXEuZnJlZWxhbmNlckxhc3ROYW1lID0gZGVjb2RlZC5sYXN0TmFtZTtcbiAgICAgICAgcmVxLmZyZWVsYW5jZXJFbWFpbCA9IGRlY29kZWQuZW1haWw7XG4gICAgICAgIG5leHQoKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgcmVzLmNsZWFyQ29va2llKCdmcmVlbGFuY2VyX2FjY2Vzc190b2tlbicpO1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oe21lc3NhZ2U6IFwiUGxlYXNlIGxvZ2luIHRvIHlvdXIgYWNjb3VudC5cIn0pO1xuICAgIH1cbn0pXG5cbm1vZHVsZS5leHBvcnRzID0ge3VzZXJWYWxp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","map":{"version":3,"names":["asyncHandler","require","jwt","userValidation","_ref","_asyncToGenerator2","_regenerator","mark","_callee","req","res","next","token","decoded","_t","wrap","_context","prev","cookies","user_access_token","abrupt","status","json","message","verify","process","env","USER_ACCESS_TOKEN","userID","id","userFirstName","firstName","userLastName","lastName","userEmail","email","clearCookie","stop","_x","_x2","_x3","apply","arguments","technicianValidation","_ref2","_callee2","_t2","_context2","technician_access_token","TECHNICIAN_ACCESS_TOKEN","technicianID","technicianFirstName","technicianLastName","technicianEmail","_x4","_x5","_x6","freelancerValidation","_ref3","_callee3","_t3","_context3","freelancer_access_token","FREELANCER_ACCESS_TOKEN","freelancerID","freelancerFirstName","freelancerLastName","freelancerEmail","_x7","_x8","_x9","module","exports"],"sourceRoot":"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/middlewares/","sources":["auth.js"],"sourcesContent":["/**\n * The following middleware is responsible for authenticating the user before a route is called.\n * \n * There's a middleware for 3 entities: user, technician and freelancer.\n * \n * All of them have a similar structure:\n *      1. Get the entity's access token that's stored in the request cookies.\n *      2. Check if a token exists, if not, send a 401 with a please login message.\n *      3. If the token exists, try to decode the token by using JWT and verify it with the ENTITY_ACCESS_TOKEN from the .env file\n *      4. If the decode is successful, it adds the data stored in it in the request and uses next() to send it forward to the route's functionality\n *         If the decode is NOT successful, it clears the entity's token and sends a 401 with a please login message.\n * \n */\n\nconst asyncHandler = require(\"express-async-handler\");\nconst jwt = require(\"jsonwebtoken\");\n\n// Validation for the user \nconst userValidation = asyncHandler(async(req, res, next) => {\n    // Gets token from the cookies passed in req\n    const token = req.cookies.user_access_token;\n\n    // Check if token exists, if not send a 401 with a please login message\n    if (!token) {\n        return res.status(401).json({message: \"Please login to your account.\"});\n    }\n\n    // If token exists try to decode it.\n    // If decode successful get the data from the decoded and pass it to the route's functionality's req.\n    // If not successful, clear the cookie, throw a 401 and send a please login message.\n    try {\n        const decoded = jwt.verify(token, process.env.USER_ACCESS_TOKEN);\n        req.userID = decoded.id;\n        req.userFirstName = decoded.firstName;\n        req.userLastName = decoded.lastName;\n        req.userEmail = decoded.email;\n        next();\n    } catch (err) {\n        res.clearCookie('user_access_token');\n        return res.status(401).json({message: \"Please login to your account.\"});\n    }\n})\n\n// Validation for technician\nconst technicianValidation = asyncHandler(async(req, res, next) => {\n    const token = req.cookies.technician_access_token;\n\n    if (!token) {\n        return res.status(401).json({message: \"Please login to your account.\"});\n    }\n\n    try {\n        const decoded = jwt.verify(token, process.env.TECHNICIAN_ACCESS_TOKEN);\n        req.technicianID = decoded.id;\n        req.technicianFirstName = decoded.firstName;\n        req.technicianLastName = decoded.lastName;\n        req.technicianEmail = decoded.email;\n        next();\n    } catch (err) {\n        res.clearCookie('technician_access_token');\n        return res.status(401).json({message: \"Please login to your account.\"});\n    }\n})\n\n// Validation for freelancer\nconst freelancerValidation = asyncHandler(async(req, res, next) => {\n    const token = req.cookies.freelancer_access_token;\n\n    if (!token) {\n        return res.status(401).json({message: \"Please login to your account.\"});\n    }\n\n    try {\n        const decoded = jwt.verify(token, process.env.FREELANCER_ACCESS_TOKEN);\n        req.freelancerID = decoded.id;\n        req.freelancerFirstName = decoded.firstName;\n        req.freelancerLastName = decoded.lastName;\n        req.freelancerEmail = decoded.email;\n        next();\n    } catch (err) {\n        res.clearCookie('freelancer_access_token');\n        return res.status(401).json({message: \"Please login to your account.\"});\n    }\n})\n\nmodule.exports = {userValidation, technicianValidation, freelancerValidation};"],"mappings":"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","ignoreList":[]}},"mtime":1764487126139},"{\"assumptions\":{},\"sourceRoot\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end\",\"filename\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/controllers/UserBookingController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"_exploded\":true,\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"VoidPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$48\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$49\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n/**\n * This controller handles everything related to booking and the user:\n *  1. User requesting a booking\n *  2. User paying a booking\n *  3. User rating a booking\n *  4. user getting their bookings (pending/confirmed/in progress/completed/cancelled)\n */\n\nvar asyncHandler = require(\"express-async-handler\");\n\n// sql needed for the type definitions in .input\n// getPool is to do queries\nvar _require = require(\"../config/database\"),\n  getPool = _require.getPool,\n  sql = _require.sql;\n\n/**\n * Helper function to get bookings by status for a user\n * Reduces code duplication across the 5 getXBookings functions\n * @param {number} userID - The user's ID\n * @param {string} status - The booking status to filter by\n * @param {string} statusDisplayName - Human-readable status name for messages\n * @returns {Promise<{success: boolean, data?: object, error?: string, statusCode: number}>}\n */\nvar getBookingsByStatus = /*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee(userID, status, statusDisplayName) {\n    var pool, bookings, _t;\n    return _regenerator[\"default\"].wrap(function (_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          pool = getPool();\n          _context.next = 1;\n          return pool.request().input(\"userID\", sql.Int, userID).input(\"status\", sql.VarChar, status).query(\"\\n                SELECT \\n                    Booking.Booking_ID, \\n                    Booking.Booking_Date AS \\\"Scheduled Date\\\", \\n                    Booking.Booking_Time AS \\\"Scheduled Time\\\", \\n                    Booking.Total_Price AS \\\"Total Price\\\", \\n                    Booking.createdAt AS \\\"Created At\\\",\\n                    Appliance_Type.nameEN AS \\\"Appliance's Name (EN)\\\", \\n                    Appliance_Type.nameAR AS \\\"Appliance's Name (AR)\\\",\\n                    Booking.Issue_Description AS \\\"Issue Description\\\",\\n                    Technician.First_Name AS \\\"Technician's First Name\\\",\\n                    Technician.Last_Name AS \\\"Technician's Last Name\\\",\\n                    Technician.Phone AS \\\"Technician's Phone Number\\\",\\n                    Payment.[Status] AS \\\"Payment Status\\\",\\n                    Payment.Payment_Method AS \\\"Payment Method\\\",\\n                    Rating.Rating_Score AS \\\"Rating Score\\\",\\n                    Rating.Review_Text AS \\\"Review Text\\\"\\n                FROM Booking\\n                LEFT JOIN Technician ON Booking.Technician_ID = Technician.Technician_ID\\n                LEFT JOIN Payment ON Booking.Booking_ID = Payment.Booking_ID\\n                LEFT JOIN Rating ON Booking.Booking_ID = Rating.Booking_ID\\n                JOIN Appliance_Type ON Booking.Appliance_Type_ID = Appliance_Type.Appliance_Type_ID\\n                WHERE Booking.UserID = @userID AND Booking.[Status] = @status\\n                ORDER BY Booking.Booking_Date ASC, Booking.Booking_Time ASC\\n            \");\n        case 1:\n          bookings = _context.sent;\n          if (!(bookings.recordset.length === 0)) {\n            _context.next = 2;\n            break;\n          }\n          return _context.abrupt(\"return\", {\n            success: true,\n            statusCode: 200,\n            data: {\n              message: \"You don't have any \".concat(statusDisplayName, \" bookings.\"),\n              count: 0,\n              bookings: []\n            }\n          });\n        case 2:\n          return _context.abrupt(\"return\", {\n            success: true,\n            statusCode: 200,\n            data: {\n              message: \"You have \".concat(statusDisplayName, \" bookings!\"),\n              count: bookings.recordset.length,\n              bookings: bookings.recordset\n            }\n          });\n        case 3:\n          _context.prev = 3;\n          _t = _context[\"catch\"](0);\n          console.error(\"Unexpected error occurred when trying to fetch \".concat(statusDisplayName, \" bookings:\"), _t);\n          return _context.abrupt(\"return\", {\n            success: false,\n            statusCode: 500,\n            error: \"Unexpected error occurred when trying to fetch your \".concat(statusDisplayName, \" bookings.\")\n          });\n        case 4:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[0, 3]]);\n  }));\n  return function getBookingsByStatus(_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\n// User requesting a new booking\nvar userRequestBooking = asyncHandler(/*#__PURE__*/function () {\n  var _ref2 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(req, res) {\n    var _req$body, applianceTypeID, issueDescription, bookingDate, bookingTime, paymentMethod, userID, validPaymentMethods, timeRegex, cleanTime, pool, applianceType, basePrice, commissionRate, platformFee, transaction, bookingResult, bookingID, _t2, _t3;\n    return _regenerator[\"default\"].wrap(function (_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          // Getting all user input from the request's body and the userID as well passed by the middleware that validates user's login credentials\n          _req$body = req.body, applianceTypeID = _req$body.applianceTypeID, issueDescription = _req$body.issueDescription, bookingDate = _req$body.bookingDate, bookingTime = _req$body.bookingTime, paymentMethod = _req$body.paymentMethod;\n          userID = req.userID; // If any of the inputs arent provided then throw a 400 error\n          if (!(!applianceTypeID || !issueDescription || !bookingDate || !bookingTime || !paymentMethod)) {\n            _context2.next = 1;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(400).json({\n            message: \"All booking details are required: the appliance, a description for the issue, date and time.\"\n          }));\n        case 1:\n          // Validate the payment method such that it's one of the accepted ones\n          validPaymentMethods = ['cash', 'credit_card', 'debit_card', 'whish', 'omt'];\n          if (validPaymentMethods.includes(paymentMethod)) {\n            _context2.next = 2;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(400).json({\n            message: \"Invalid payment method. Choose either cash, credit_card, debit_card, whish or omt.\"\n          }));\n        case 2:\n          // Validating the time format passed using regex, if doesnt pass then throw a 400 of invalid time format\n          timeRegex = /^([0-1]?[0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]$/;\n          cleanTime = bookingTime.trim();\n          if (timeRegex.test(cleanTime)) {\n            _context2.next = 3;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(400).json({\n            message: \"Invalid time format. Use HH:MM:SS (e.g., 14:30:00)\"\n          }));\n        case 3:\n          _context2.prev = 3;\n          pool = getPool(); // Verifying the appliance type that was passed through the body\n          // Has to be active and has to match the appliance type ID passed by the user\n          _context2.next = 4;\n          return pool.request().input(\"applianceTypeID\", sql.Int, applianceTypeID).query(\"\\n                SELECT Base_Price \\n                FROM Appliance_Type\\n                WHERE Appliance_Type_ID = @applianceTypeID AND isActive = 1\\n                \");\n        case 4:\n          applianceType = _context2.sent;\n          if (!(applianceType.recordset.length === 0)) {\n            _context2.next = 5;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(404).json({\n            message: \"Invalid appliance type chosen.\"\n          }));\n        case 5:\n          // Getting the base price of the appliance type chosen to specify the price of the booking\n          basePrice = applianceType.recordset[0].Base_Price; // Calculating the platform fee for the payment table based on the base price\n          commissionRate = 15.00;\n          platformFee = basePrice * commissionRate / 100; // Starting a transaction so the booking and payment are created together\n          transaction = pool.transaction();\n          _context2.next = 6;\n          return transaction.begin();\n        case 6:\n          _context2.prev = 6;\n          _context2.next = 7;\n          return transaction.request().input(\"userID\", sql.Int, userID).input(\"applianceTypeID\", sql.Int, applianceTypeID).input(\"issueDescription\", sql.NVarChar, issueDescription).input(\"bookingDate\", sql.Date, bookingDate).input(\"bookingTime\", sql.VarChar(8), cleanTime).input(\"basePrice\", sql.Decimal(10, 2), basePrice).query(\"\\n            INSERT INTO Booking (UserID, Appliance_Type_ID, Issue_Description, Booking_Date, Booking_Time, [Status], Total_Price)\\n            OUTPUT INSERTED.Booking_ID -- just so we could use the bookingID later using the result of this query.\\n            VALUES(@userID, @applianceTypeID, @issueDescription, @bookingDate, CAST(@bookingTime AS TIME), 'pending', @basePrice)\\n            \");\n        case 7:\n          bookingResult = _context2.sent;\n          // Getting the booking id from the above query's result (it outputs the booking id)\n          bookingID = bookingResult.recordset[0].Booking_ID; // Insert the payment data and set it to pending status until the user confirms the payment\n          _context2.next = 8;\n          return transaction.request().input(\"bookingID\", sql.Int, bookingID).input(\"amount\", sql.Decimal(10, 2), basePrice).input(\"paymentMethod\", sql.VarChar, paymentMethod).input(\"commissionRate\", sql.Decimal(5, 2), commissionRate).input(\"platformFee\", sql.Decimal(10, 2), platformFee).query(\"\\n                        INSERT INTO Payment (Booking_ID, Amount, Payment_Method, [Status], Commission_Rate, Platform_Fee)\\n                        VALUES(@bookingID, @amount, @paymentMethod, 'pending', @commissionRate, @platformFee)\\n                        \");\n        case 8:\n          _context2.next = 9;\n          return transaction.commit();\n        case 9:\n          // Sending a 201 success message with some information passed\n          res.status(201).json({\n            message: \"Successfully booked! A technician will be assigned soon.\",\n            bookingID: bookingID,\n            totalPrice: basePrice,\n            paymentMethod: paymentMethod,\n            paymentStatus: \"pending\"\n          });\n          _context2.next = 12;\n          break;\n        case 10:\n          _context2.prev = 10;\n          _t2 = _context2[\"catch\"](6);\n          _context2.next = 11;\n          return transaction.rollback();\n        case 11:\n          throw _t2;\n        case 12:\n          _context2.next = 15;\n          break;\n        case 13:\n          _context2.prev = 13;\n          _t3 = _context2[\"catch\"](3);\n          console.error(\"Unexpected error occurred when booking:\", _t3);\n\n          // If any data is wrong then this error is thrown (wrong appliance type and wrong/invalid date)\n          if (!(_t3.number === 547)) {\n            _context2.next = 14;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(400).json({\n            message: \"Invalid booking data. Please check your appliance type, date, and ensure it's today or in the future.\"\n          }));\n        case 14:\n          res.status(500).json({\n            message: \"An unexpected error occurred while booking.\"\n          });\n        case 15:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[3, 13], [6, 10]]);\n  }));\n  return function (_x4, _x5) {\n    return _ref2.apply(this, arguments);\n  };\n}());\n\n// User paying a booking functionality\nvar userPayBooking = asyncHandler(/*#__PURE__*/function () {\n  var _ref3 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee3(req, res) {\n    var _req$body2, bookingID, transactionID, userID, pool, checkBooking, booking, transactionIdMethods, _t4;\n    return _regenerator[\"default\"].wrap(function (_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          // Getting the booking id and the transaction id (if non-cash method) from the body, and the user id passed by the authentication middleware\n          _req$body2 = req.body, bookingID = _req$body2.bookingID, transactionID = _req$body2.transactionID;\n          userID = req.userID; // If no bookingID is passed then throw a 400 error. Not passing the transactionID is fine if the method is cash.\n          if (bookingID) {\n            _context3.next = 1;\n            break;\n          }\n          return _context3.abrupt(\"return\", res.status(400).json({\n            message: \"Booking ID must be passed.\"\n          }));\n        case 1:\n          _context3.prev = 1;\n          pool = getPool(); // Checking if the bookingID passed is valid\n          _context3.next = 2;\n          return pool.request().input(\"bookingID\", sql.Int, bookingID).input(\"userID\", sql.Int, userID).query(\"\\n                SELECT b.Booking_ID, b.[Status], b.UserID, p.Payment_ID, p.[Status] AS Payment_Status, p.Payment_Method\\n                FROM Booking b\\n                JOIN Payment p ON b.Booking_ID = p.Booking_ID\\n                WHERE b.Booking_ID = @bookingID\\n                \");\n        case 2:\n          checkBooking = _context3.sent;\n          if (!(checkBooking.recordset.length === 0)) {\n            _context3.next = 3;\n            break;\n          }\n          return _context3.abrupt(\"return\", res.status(404).json({\n            message: \"Booking not found\"\n          }));\n        case 3:\n          // Getting the first row of the returned result\n          booking = checkBooking.recordset[0]; // Checking if the booking's userID matches the current logged in's userID, if it doesn't then throw a 403\n          // since the user isn't authorized to pay for this booking.\n          if (!(booking.UserID !== userID)) {\n            _context3.next = 4;\n            break;\n          }\n          return _context3.abrupt(\"return\", res.status(403).json({\n            message: \"You are not authorized to pay for this booking since it's not yours.\"\n          }));\n        case 4:\n          if (!(booking.Status === 'cancelled')) {\n            _context3.next = 5;\n            break;\n          }\n          return _context3.abrupt(\"return\", res.status(400).json({\n            message: \"Cannot pay for a cancelled booking!\"\n          }));\n        case 5:\n          if (!(booking.Payment_Status === 'completed')) {\n            _context3.next = 6;\n            break;\n          }\n          return _context3.abrupt(\"return\", res.status(400).json({\n            message: \"This booking has already been paid.\"\n          }));\n        case 6:\n          // Ensuring that transactionID is passed when the payment method is anything but a cash method\n          // If there is no transactionID, and the payment method isnt cash, then throw a 400 error\n          transactionIdMethods = ['credit_card', 'debit_card', 'whish', 'omt'];\n          if (!(transactionIdMethods.includes(booking.Payment_Method) && !transactionID)) {\n            _context3.next = 7;\n            break;\n          }\n          return _context3.abrupt(\"return\", res.status(400).json({\n            message: \"Transaction ID is needed for this payment method!\"\n          }));\n        case 7:\n          _context3.next = 8;\n          return pool.request().input(\"bookingID\", sql.Int, bookingID).input(\"transactionID\", sql.VarChar, transactionID || null).query(\"\\n                UPDATE Payment\\n                SET [Status] = 'completed',\\n                    Transaction_ID = @transactionID,\\n                    paidAt = GETDATE()\\n                WHERE Booking_ID = @bookingID\\n                \");\n        case 8:\n          // Send a success message with the booking id and payment status as completed\n          res.status(200).json({\n            message: \"Payment completed.\",\n            bookingID: bookingID,\n            paymentStatus: \"completed\"\n          });\n          _context3.next = 11;\n          break;\n        case 9:\n          _context3.prev = 9;\n          _t4 = _context3[\"catch\"](1);\n          // Throws an error in case the booking id is invalid, or any other unexpected issue that occurred\n          console.error(\"Unexpected error occurred when processing payment:\", _t4);\n          if (!(_t4.number === 547)) {\n            _context3.next = 10;\n            break;\n          }\n          return _context3.abrupt(\"return\", res.status(400).json({\n            message: \"Invalid booking ID.\"\n          }));\n        case 10:\n          res.status(500).json({\n            message: \"An unexpected error occurred when processing the payment.\"\n          });\n        case 11:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3, null, [[1, 9]]);\n  }));\n  return function (_x6, _x7) {\n    return _ref3.apply(this, arguments);\n  };\n}());\n\n// User rating a booking functionality\nvar userRateBooking = asyncHandler(/*#__PURE__*/function () {\n  var _ref4 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee4(req, res) {\n    var _req$body3, bookingID, ratingScore, reviewText, userID, pool, checkBooking, booking, existingRating, _t5;\n    return _regenerator[\"default\"].wrap(function (_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          // Getting the needed input from the passed body and the userID passed from the middleware\n          _req$body3 = req.body, bookingID = _req$body3.bookingID, ratingScore = _req$body3.ratingScore, reviewText = _req$body3.reviewText;\n          userID = req.userID; // If the needed values are empty then throw a 400 error\n          if (!(!bookingID || !ratingScore || !reviewText)) {\n            _context4.next = 1;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(400).json({\n            message: \"You have to pass a booking ID, rating score and review text to rate a booking.\"\n          }));\n        case 1:\n          if (!(!Number.isInteger(ratingScore) || ratingScore < 1 || ratingScore > 5)) {\n            _context4.next = 2;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(400).json({\n            message: \"Rating score must be a number between 1 and 5!\"\n          }));\n        case 2:\n          if (!(reviewText.trim().length < 15)) {\n            _context4.next = 3;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(400).json({\n            message: \"Please write your review text longer, that's too short.\"\n          }));\n        case 3:\n          _context4.prev = 3;\n          pool = getPool(); // Check if the booking id passed exists\n          _context4.next = 4;\n          return pool.request().input(\"bookingID\", sql.Int, bookingID).input(\"userID\", sql.Int, userID).query(\"\\n                SELECT b.Booking_ID, b.UserID, b.Technician_ID, b.[Status]\\n                FROM Booking b\\n                WHERE b.Booking_ID = @bookingID\\n                \");\n        case 4:\n          checkBooking = _context4.sent;\n          if (!(checkBooking.recordset.length === 0)) {\n            _context4.next = 5;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(404).json({\n            message: \"Booking not found.\"\n          }));\n        case 5:\n          // Get the first booking row\n          booking = checkBooking.recordset[0]; // Check if the booking's user id matches the userid of the logged in user, if not then throw a 403 error\n          if (!(booking.UserID !== userID)) {\n            _context4.next = 6;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(403).json({\n            message: \"You are not authorized to review this booking since it's not yours!\"\n          }));\n        case 6:\n          if (booking.Technician_ID) {\n            _context4.next = 7;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(400).json({\n            message: \"Cannot rate a booking without an assigned technician.\"\n          }));\n        case 7:\n          if (!(booking.Status !== 'completed')) {\n            _context4.next = 8;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(400).json({\n            message: \"You can only rate completed bookings.\"\n          }));\n        case 8:\n          _context4.next = 9;\n          return pool.request().input(\"bookingID\", sql.Int, bookingID).query(\"SELECT Rating_ID \\n                    FROM Rating \\n                    WHERE Booking_ID = @bookingID\");\n        case 9:\n          existingRating = _context4.sent;\n          if (!(existingRating.recordset.length > 0)) {\n            _context4.next = 10;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(409).json({\n            message: \"This booking has already been rated before!\"\n          }));\n        case 10:\n          _context4.next = 11;\n          return pool.request().input(\"bookingID\", sql.Int, bookingID).input(\"userID\", sql.Int, userID).input(\"technicianID\", sql.Int, booking.Technician_ID).input(\"ratingScore\", sql.SmallInt, ratingScore).input(\"reviewText\", sql.NVarChar, reviewText.trim()).query(\"\\n                INSERT INTO Rating (Booking_ID, User_ID, Technician_ID, Rating_Score, Review_Text)\\n                VALUES(@bookingID, @userID, @technicianID, @ratingScore, @reviewText)\\n                \");\n        case 11:\n          // Send a 201 success message\n          res.status(201).json({\n            message: \"Successfully rated this booking!\",\n            bookingID: bookingID,\n            technicianID: booking.Technician_ID,\n            ratingScore: ratingScore\n          });\n          _context4.next = 15;\n          break;\n        case 12:\n          _context4.prev = 12;\n          _t5 = _context4[\"catch\"](3);\n          console.error(\"Unexpected error occurred when trying to rate a booking:\", _t5);\n\n          // Constraint violation handling\n          if (!(_t5.number === 547)) {\n            _context4.next = 13;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(400).json({\n            message: \"Invalid rating data, please check your inputs.\"\n          }));\n        case 13:\n          if (!(_t5.number === 2627)) {\n            _context4.next = 14;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(409).json({\n            message: \"This booking has already been rated.\"\n          }));\n        case 14:\n          res.status(500).json({\n            message: \"Unexpected error occurred when trying to rate a booking.\"\n          });\n        case 15:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4, null, [[3, 12]]);\n  }));\n  return function (_x8, _x9) {\n    return _ref4.apply(this, arguments);\n  };\n}());\n\n// The below methods get different types of bookings of the user: pending, confirmed, in progress, completed, cancelled\n// All use the helper function getBookingsByStatus to reduce code duplication\nvar getPendingBookings = asyncHandler(/*#__PURE__*/function () {\n  var _ref5 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee5(req, res) {\n    var userID, result;\n    return _regenerator[\"default\"].wrap(function (_context5) {\n      while (1) switch (_context5.prev = _context5.next) {\n        case 0:\n          userID = req.userID;\n          _context5.next = 1;\n          return getBookingsByStatus(userID, 'pending', 'pending');\n        case 1:\n          result = _context5.sent;\n          if (!result.success) {\n            _context5.next = 2;\n            break;\n          }\n          return _context5.abrupt(\"return\", res.status(result.statusCode).json(result.data));\n        case 2:\n          return _context5.abrupt(\"return\", res.status(result.statusCode).json({\n            message: result.error\n          }));\n        case 3:\n        case \"end\":\n          return _context5.stop();\n      }\n    }, _callee5);\n  }));\n  return function (_x0, _x1) {\n    return _ref5.apply(this, arguments);\n  };\n}());\nvar getConfirmedBookings = asyncHandler(/*#__PURE__*/function () {\n  var _ref6 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee6(req, res) {\n    var userID, result;\n    return _regenerator[\"default\"].wrap(function (_context6) {\n      while (1) switch (_context6.prev = _context6.next) {\n        case 0:\n          userID = req.userID;\n          _context6.next = 1;\n          return getBookingsByStatus(userID, 'confirmed', 'confirmed');\n        case 1:\n          result = _context6.sent;\n          if (!result.success) {\n            _context6.next = 2;\n            break;\n          }\n          return _context6.abrupt(\"return\", res.status(result.statusCode).json(result.data));\n        case 2:\n          return _context6.abrupt(\"return\", res.status(result.statusCode).json({\n            message: result.error\n          }));\n        case 3:\n        case \"end\":\n          return _context6.stop();\n      }\n    }, _callee6);\n  }));\n  return function (_x10, _x11) {\n    return _ref6.apply(this, arguments);\n  };\n}());\nvar getInProgressBookings = asyncHandler(/*#__PURE__*/function () {\n  var _ref7 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee7(req, res) {\n    var userID, result;\n    return _regenerator[\"default\"].wrap(function (_context7) {\n      while (1) switch (_context7.prev = _context7.next) {\n        case 0:\n          userID = req.userID;\n          _context7.next = 1;\n          return getBookingsByStatus(userID, 'in_progress', 'in progress');\n        case 1:\n          result = _context7.sent;\n          if (!result.success) {\n            _context7.next = 2;\n            break;\n          }\n          return _context7.abrupt(\"return\", res.status(result.statusCode).json(result.data));\n        case 2:\n          return _context7.abrupt(\"return\", res.status(result.statusCode).json({\n            message: result.error\n          }));\n        case 3:\n        case \"end\":\n          return _context7.stop();\n      }\n    }, _callee7);\n  }));\n  return function (_x12, _x13) {\n    return _ref7.apply(this, arguments);\n  };\n}());\nvar getCompletedBookings = asyncHandler(/*#__PURE__*/function () {\n  var _ref8 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee8(req, res) {\n    var userID, result;\n    return _regenerator[\"default\"].wrap(function (_context8) {\n      while (1) switch (_context8.prev = _context8.next) {\n        case 0:\n          userID = req.userID;\n          _context8.next = 1;\n          return getBookingsByStatus(userID, 'completed', 'completed');\n        case 1:\n          result = _context8.sent;\n          if (!result.success) {\n            _context8.next = 2;\n            break;\n          }\n          return _context8.abrupt(\"return\", res.status(result.statusCode).json(result.data));\n        case 2:\n          return _context8.abrupt(\"return\", res.status(result.statusCode).json({\n            message: result.error\n          }));\n        case 3:\n        case \"end\":\n          return _context8.stop();\n      }\n    }, _callee8);\n  }));\n  return function (_x14, _x15) {\n    return _ref8.apply(this, arguments);\n  };\n}());\nvar getCancelledBookings = asyncHandler(/*#__PURE__*/function () {\n  var _ref9 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee9(req, res) {\n    var userID, result;\n    return _regenerator[\"default\"].wrap(function (_context9) {\n      while (1) switch (_context9.prev = _context9.next) {\n        case 0:\n          userID = req.userID;\n          _context9.next = 1;\n          return getBookingsByStatus(userID, 'cancelled', 'cancelled');\n        case 1:\n          result = _context9.sent;\n          if (!result.success) {\n            _context9.next = 2;\n            break;\n          }\n          return _context9.abrupt(\"return\", res.status(result.statusCode).json(result.data));\n        case 2:\n          return _context9.abrupt(\"return\", res.status(result.statusCode).json({\n            message: result.error\n          }));\n        case 3:\n        case \"end\":\n          return _context9.stop();\n      }\n    }, _callee9);\n  }));\n  return function (_x16, _x17) {\n    return _ref9.apply(this, arguments);\n  };\n}());\n\n// User cancelling a booking functionality\nvar userCancelBooking = asyncHandler(/*#__PURE__*/function () {\n  var _ref0 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee0(req, res) {\n    var bookingID, userID, pool, checkBooking, booking, transaction, _t6, _t7;\n    return _regenerator[\"default\"].wrap(function (_context0) {\n      while (1) switch (_context0.prev = _context0.next) {\n        case 0:\n          bookingID = req.body.bookingID;\n          userID = req.userID; // If no bookingID is passed then throw a 400 error\n          if (bookingID) {\n            _context0.next = 1;\n            break;\n          }\n          return _context0.abrupt(\"return\", res.status(400).json({\n            message: \"Booking ID must be passed.\"\n          }));\n        case 1:\n          _context0.prev = 1;\n          pool = getPool(); // Checking if the bookingID passed is valid and belongs to the user\n          _context0.next = 2;\n          return pool.request().input(\"bookingID\", sql.Int, bookingID).input(\"userID\", sql.Int, userID).query(\"\\n                SELECT b.Booking_ID, b.[Status], b.UserID, p.Payment_ID, p.[Status] AS Payment_Status\\n                FROM Booking b\\n                LEFT JOIN Payment p ON b.Booking_ID = p.Booking_ID\\n                WHERE b.Booking_ID = @bookingID\\n            \");\n        case 2:\n          checkBooking = _context0.sent;\n          if (!(checkBooking.recordset.length === 0)) {\n            _context0.next = 3;\n            break;\n          }\n          return _context0.abrupt(\"return\", res.status(404).json({\n            message: \"Booking not found.\"\n          }));\n        case 3:\n          booking = checkBooking.recordset[0]; // Checking if the booking belongs to the logged in user\n          if (!(booking.UserID !== userID)) {\n            _context0.next = 4;\n            break;\n          }\n          return _context0.abrupt(\"return\", res.status(403).json({\n            message: \"You are not authorized to cancel this booking since it's not yours.\"\n          }));\n        case 4:\n          if (!(booking.Status !== 'pending')) {\n            _context0.next = 5;\n            break;\n          }\n          return _context0.abrupt(\"return\", res.status(400).json({\n            message: \"Cannot cancel a booking that is \".concat(booking.Status, \". Only pending bookings can be cancelled.\")\n          }));\n        case 5:\n          if (!(booking.Payment_Status === 'completed')) {\n            _context0.next = 6;\n            break;\n          }\n          return _context0.abrupt(\"return\", res.status(400).json({\n            message: \"Cannot cancel a booking that has already been paid.\"\n          }));\n        case 6:\n          // Start a transaction to update booking and delete payment\n          transaction = pool.transaction();\n          _context0.next = 7;\n          return transaction.begin();\n        case 7:\n          _context0.prev = 7;\n          _context0.next = 8;\n          return transaction.request().input(\"bookingID\", sql.Int, bookingID).query(\"\\n                    UPDATE Booking\\n                    SET [Status] = 'cancelled',\\n                        modifiedAt = GETDATE()\\n                    WHERE Booking_ID = @bookingID\\n                \");\n        case 8:\n          _context0.next = 9;\n          return transaction.request().input(\"bookingID\", sql.Int, bookingID).query(\"\\n                    DELETE FROM Payment\\n                    WHERE Booking_ID = @bookingID\\n                \");\n        case 9:\n          _context0.next = 10;\n          return transaction.commit();\n        case 10:\n          res.status(200).json({\n            message: \"Booking cancelled successfully.\",\n            bookingID: bookingID,\n            status: \"cancelled\"\n          });\n          _context0.next = 13;\n          break;\n        case 11:\n          _context0.prev = 11;\n          _t6 = _context0[\"catch\"](7);\n          _context0.next = 12;\n          return transaction.rollback();\n        case 12:\n          throw _t6;\n        case 13:\n          _context0.next = 15;\n          break;\n        case 14:\n          _context0.prev = 14;\n          _t7 = _context0[\"catch\"](1);\n          console.error(\"Unexpected error occurred when cancelling booking:\", _t7);\n          res.status(500).json({\n            message: \"An unexpected error occurred while cancelling the booking.\"\n          });\n        case 15:\n        case \"end\":\n          return _context0.stop();\n      }\n    }, _callee0, null, [[1, 14], [7, 11]]);\n  }));\n  return function (_x18, _x19) {\n    return _ref0.apply(this, arguments);\n  };\n}());\nmodule.exports = {\n  userRequestBooking: userRequestBooking,\n  userPayBooking: userPayBooking,\n  userRateBooking: userRateBooking,\n  userCancelBooking: userCancelBooking,\n  getPendingBookings: getPendingBookings,\n  getConfirmedBookings: getConfirmedBookings,\n  getInProgressBookings: getInProgressBookings,\n  getCompletedBookings: getCompletedBookings,\n  getCancelledBookings: getCancelledBookings\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhc3luY0hhbmRsZXIiLCJyZXF1aXJlIiwiX3JlcXVpcmUiLCJnZXRQb29sIiwic3FsIiwiZ2V0Qm9va2luZ3NCeVN0YXR1cyIsIl9yZWYiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJfcmVnZW5lcmF0b3IiLCJtYXJrIiwiX2NhbGxlZSIsInVzZXJJRCIsInN0YXR1cyIsInN0YXR1c0Rpc3BsYXlOYW1lIiwicG9vbCIsImJvb2tpbmdzIiwiX3QiLCJ3cmFwIiwiX2NvbnRleHQiLCJwcmV2IiwibmV4dCIsInJlcXVlc3QiLCJpbnB1dCIsIkludCIsIlZhckNoYXIiLCJxdWVyeSIsInNlbnQiLCJyZWNvcmRzZXQiLCJsZW5ndGgiLCJhYnJ1cHQiLCJzdWNjZXNzIiwic3RhdHVzQ29kZSIsImRhdGEiLCJtZXNzYWdlIiwiY29uY2F0IiwiY291bnQiLCJjb25zb2xlIiwiZXJyb3IiLCJzdG9wIiwiX3giLCJfeDIiLCJfeDMiLCJhcHBseSIsImFyZ3VtZW50cyIsInVzZXJSZXF1ZXN0Qm9va2luZyIsIl9yZWYyIiwiX2NhbGxlZTIiLCJyZXEiLCJyZXMiLCJfcmVxJGJvZHkiLCJhcHBsaWFuY2VUeXBlSUQiLCJpc3N1ZURlc2NyaXB0aW9uIiwiYm9va2luZ0RhdGUiLCJib29raW5nVGltZSIsInBheW1lbnRNZXRob2QiLCJ2YWxpZFBheW1lbnRNZXRob2RzIiwidGltZVJlZ2V4IiwiY2xlYW5UaW1lIiwiYXBwbGlhbmNlVHlwZSIsImJhc2VQcmljZSIsImNvbW1pc3Npb25SYXRlIiwicGxhdGZvcm1GZWUiLCJ0cmFuc2FjdGlvbiIsImJvb2tpbmdSZXN1bHQiLCJib29raW5nSUQiLCJfdDIiLCJfdDMiLCJfY29udGV4dDIiLCJib2R5IiwianNvbiIsImluY2x1ZGVzIiwidHJpbSIsInRlc3QiLCJCYXNlX1ByaWNlIiwiYmVnaW4iLCJOVmFyQ2hhciIsIkRhdGUiLCJEZWNpbWFsIiwiQm9va2luZ19JRCIsImNvbW1pdCIsInRvdGFsUHJpY2UiLCJwYXltZW50U3RhdHVzIiwicm9sbGJhY2siLCJudW1iZXIiLCJfeDQiLCJfeDUiLCJ1c2VyUGF5Qm9va2luZyIsIl9yZWYzIiwiX2NhbGxlZTMiLCJfcmVxJGJvZHkyIiwidHJhbnNhY3Rpb25JRCIsImNoZWNrQm9va2luZyIsImJvb2tpbmciLCJ0cmFuc2FjdGlvbklkTWV0aG9kcyIsIl90NCIsIl9jb250ZXh0MyIsIlVzZXJJRCIsIlN0YXR1cyIsIlBheW1lbnRfU3RhdHVzIiwiUGF5bWVudF9NZXRob2QiLCJfeDYiLCJfeDciLCJ1c2VyUmF0ZUJvb2tpbmciLCJfcmVmNCIsIl9jYWxsZWU0IiwiX3JlcSRib2R5MyIsInJhdGluZ1Njb3JlIiwicmV2aWV3VGV4dCIsImV4aXN0aW5nUmF0aW5nIiwiX3Q1IiwiX2NvbnRleHQ0IiwiTnVtYmVyIiwiaXNJbnRlZ2VyIiwiVGVjaG5pY2lhbl9JRCIsIlNtYWxsSW50IiwidGVjaG5pY2lhbklEIiwiX3g4IiwiX3g5IiwiZ2V0UGVuZGluZ0Jvb2tpbmdzIiwiX3JlZjUiLCJfY2FsbGVlNSIsInJlc3VsdCIsIl9jb250ZXh0NSIsIl94MCIsIl94MSIsImdldENvbmZpcm1lZEJvb2tpbmdzIiwiX3JlZjYiLCJfY2FsbGVlNiIsIl9jb250ZXh0NiIsIl94MTAiLCJfeDExIiwiZ2V0SW5Qcm9ncmVzc0Jvb2tpbmdzIiwiX3JlZjciLCJfY2FsbGVlNyIsIl9jb250ZXh0NyIsIl94MTIiLCJfeDEzIiwiZ2V0Q29tcGxldGVkQm9va2luZ3MiLCJfcmVmOCIsIl9jYWxsZWU4IiwiX2NvbnRleHQ4IiwiX3gxNCIsIl94MTUiLCJnZXRDYW5jZWxsZWRCb29raW5ncyIsIl9yZWY5IiwiX2NhbGxlZTkiLCJfY29udGV4dDkiLCJfeDE2IiwiX3gxNyIsInVzZXJDYW5jZWxCb29raW5nIiwiX3JlZjAiLCJfY2FsbGVlMCIsIl90NiIsIl90NyIsIl9jb250ZXh0MCIsIl94MTgiLCJfeDE5IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL2hvbWUvc2Vyai9Eb2N1bWVudHMvR2l0SHViL0ZpeEFwcGxpYW5jZS1ib29raW5nQ29tbWVyY2UvYmFjay1lbmQvc3JjL2NvbnRyb2xsZXJzLyIsInNvdXJjZXMiOlsiVXNlckJvb2tpbmdDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGhpcyBjb250cm9sbGVyIGhhbmRsZXMgZXZlcnl0aGluZyByZWxhdGVkIHRvIGJvb2tpbmcgYW5kIHRoZSB1c2VyOlxuICogIDEuIFVzZXIgcmVxdWVzdGluZyBhIGJvb2tpbmdcbiAqICAyLiBVc2VyIHBheWluZyBhIGJvb2tpbmdcbiAqICAzLiBVc2VyIHJhdGluZyBhIGJvb2tpbmdcbiAqICA0LiB1c2VyIGdldHRpbmcgdGhlaXIgYm9va2luZ3MgKHBlbmRpbmcvY29uZmlybWVkL2luIHByb2dyZXNzL2NvbXBsZXRlZC9jYW5jZWxsZWQpXG4gKi9cblxuY29uc3QgYXN5bmNIYW5kbGVyID0gcmVxdWlyZShcImV4cHJlc3MtYXN5bmMtaGFuZGxlclwiKTtcblxuXG4vLyBzcWwgbmVlZGVkIGZvciB0aGUgdHlwZSBkZWZpbml0aW9ucyBpbiAuaW5wdXRcbi8vIGdldFBvb2wgaXMgdG8gZG8gcXVlcmllc1xuY29uc3QgeyBnZXRQb29sLCBzcWwgfSA9IHJlcXVpcmUoXCIuLi9jb25maWcvZGF0YWJhc2VcIik7XG5cblxuLyoqXG4gKiBIZWxwZXIgZnVuY3Rpb24gdG8gZ2V0IGJvb2tpbmdzIGJ5IHN0YXR1cyBmb3IgYSB1c2VyXG4gKiBSZWR1Y2VzIGNvZGUgZHVwbGljYXRpb24gYWNyb3NzIHRoZSA1IGdldFhCb29raW5ncyBmdW5jdGlvbnNcbiAqIEBwYXJhbSB7bnVtYmVyfSB1c2VySUQgLSBUaGUgdXNlcidzIElEXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RhdHVzIC0gVGhlIGJvb2tpbmcgc3RhdHVzIHRvIGZpbHRlciBieVxuICogQHBhcmFtIHtzdHJpbmd9IHN0YXR1c0Rpc3BsYXlOYW1lIC0gSHVtYW4tcmVhZGFibGUgc3RhdHVzIG5hbWUgZm9yIG1lc3NhZ2VzXG4gKiBAcmV0dXJucyB7UHJvbWlzZTx7c3VjY2VzczogYm9vbGVhbiwgZGF0YT86IG9iamVjdCwgZXJyb3I/OiBzdHJpbmcsIHN0YXR1c0NvZGU6IG51bWJlcn0+fVxuICovXG5jb25zdCBnZXRCb29raW5nc0J5U3RhdHVzID0gYXN5bmMgKHVzZXJJRCwgc3RhdHVzLCBzdGF0dXNEaXNwbGF5TmFtZSkgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHBvb2wgPSBnZXRQb29sKCk7XG5cbiAgICAgICAgY29uc3QgYm9va2luZ3MgPSBhd2FpdCBwb29sLnJlcXVlc3QoKVxuICAgICAgICAgICAgLmlucHV0KFwidXNlcklEXCIsIHNxbC5JbnQsIHVzZXJJRClcbiAgICAgICAgICAgIC5pbnB1dChcInN0YXR1c1wiLCBzcWwuVmFyQ2hhciwgc3RhdHVzKVxuICAgICAgICAgICAgLnF1ZXJ5KGBcbiAgICAgICAgICAgICAgICBTRUxFQ1QgXG4gICAgICAgICAgICAgICAgICAgIEJvb2tpbmcuQm9va2luZ19JRCwgXG4gICAgICAgICAgICAgICAgICAgIEJvb2tpbmcuQm9va2luZ19EYXRlIEFTIFwiU2NoZWR1bGVkIERhdGVcIiwgXG4gICAgICAgICAgICAgICAgICAgIEJvb2tpbmcuQm9va2luZ19UaW1lIEFTIFwiU2NoZWR1bGVkIFRpbWVcIiwgXG4gICAgICAgICAgICAgICAgICAgIEJvb2tpbmcuVG90YWxfUHJpY2UgQVMgXCJUb3RhbCBQcmljZVwiLCBcbiAgICAgICAgICAgICAgICAgICAgQm9va2luZy5jcmVhdGVkQXQgQVMgXCJDcmVhdGVkIEF0XCIsXG4gICAgICAgICAgICAgICAgICAgIEFwcGxpYW5jZV9UeXBlLm5hbWVFTiBBUyBcIkFwcGxpYW5jZSdzIE5hbWUgKEVOKVwiLCBcbiAgICAgICAgICAgICAgICAgICAgQXBwbGlhbmNlX1R5cGUubmFtZUFSIEFTIFwiQXBwbGlhbmNlJ3MgTmFtZSAoQVIpXCIsXG4gICAgICAgICAgICAgICAgICAgIEJvb2tpbmcuSXNzdWVfRGVzY3JpcHRpb24gQVMgXCJJc3N1ZSBEZXNjcmlwdGlvblwiLFxuICAgICAgICAgICAgICAgICAgICBUZWNobmljaWFuLkZpcnN0X05hbWUgQVMgXCJUZWNobmljaWFuJ3MgRmlyc3QgTmFtZVwiLFxuICAgICAgICAgICAgICAgICAgICBUZWNobmljaWFuLkxhc3RfTmFtZSBBUyBcIlRlY2huaWNpYW4ncyBMYXN0IE5hbWVcIixcbiAgICAgICAgICAgICAgICAgICAgVGVjaG5pY2lhbi5QaG9uZSBBUyBcIlRlY2huaWNpYW4ncyBQaG9uZSBOdW1iZXJcIixcbiAgICAgICAgICAgICAgICAgICAgUGF5bWVudC5bU3RhdHVzXSBBUyBcIlBheW1lbnQgU3RhdHVzXCIsXG4gICAgICAgICAgICAgICAgICAgIFBheW1lbnQuUGF5bWVudF9NZXRob2QgQVMgXCJQYXltZW50IE1ldGhvZFwiLFxuICAgICAgICAgICAgICAgICAgICBSYXRpbmcuUmF0aW5nX1Njb3JlIEFTIFwiUmF0aW5nIFNjb3JlXCIsXG4gICAgICAgICAgICAgICAgICAgIFJhdGluZy5SZXZpZXdfVGV4dCBBUyBcIlJldmlldyBUZXh0XCJcbiAgICAgICAgICAgICAgICBGUk9NIEJvb2tpbmdcbiAgICAgICAgICAgICAgICBMRUZUIEpPSU4gVGVjaG5pY2lhbiBPTiBCb29raW5nLlRlY2huaWNpYW5fSUQgPSBUZWNobmljaWFuLlRlY2huaWNpYW5fSURcbiAgICAgICAgICAgICAgICBMRUZUIEpPSU4gUGF5bWVudCBPTiBCb29raW5nLkJvb2tpbmdfSUQgPSBQYXltZW50LkJvb2tpbmdfSURcbiAgICAgICAgICAgICAgICBMRUZUIEpPSU4gUmF0aW5nIE9OIEJvb2tpbmcuQm9va2luZ19JRCA9IFJhdGluZy5Cb29raW5nX0lEXG4gICAgICAgICAgICAgICAgSk9JTiBBcHBsaWFuY2VfVHlwZSBPTiBCb29raW5nLkFwcGxpYW5jZV9UeXBlX0lEID0gQXBwbGlhbmNlX1R5cGUuQXBwbGlhbmNlX1R5cGVfSURcbiAgICAgICAgICAgICAgICBXSEVSRSBCb29raW5nLlVzZXJJRCA9IEB1c2VySUQgQU5EIEJvb2tpbmcuW1N0YXR1c10gPSBAc3RhdHVzXG4gICAgICAgICAgICAgICAgT1JERVIgQlkgQm9va2luZy5Cb29raW5nX0RhdGUgQVNDLCBCb29raW5nLkJvb2tpbmdfVGltZSBBU0NcbiAgICAgICAgICAgIGApO1xuXG4gICAgICAgIGlmIChib29raW5ncy5yZWNvcmRzZXQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgc3RhdHVzQ29kZTogMjAwLFxuICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogYFlvdSBkb24ndCBoYXZlIGFueSAke3N0YXR1c0Rpc3BsYXlOYW1lfSBib29raW5ncy5gLFxuICAgICAgICAgICAgICAgICAgICBjb3VudDogMCxcbiAgICAgICAgICAgICAgICAgICAgYm9va2luZ3M6IFtdXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgc3RhdHVzQ29kZTogMjAwLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBZb3UgaGF2ZSAke3N0YXR1c0Rpc3BsYXlOYW1lfSBib29raW5ncyFgLFxuICAgICAgICAgICAgICAgIGNvdW50OiBib29raW5ncy5yZWNvcmRzZXQubGVuZ3RoLFxuICAgICAgICAgICAgICAgIGJvb2tpbmdzOiBib29raW5ncy5yZWNvcmRzZXRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBVbmV4cGVjdGVkIGVycm9yIG9jY3VycmVkIHdoZW4gdHJ5aW5nIHRvIGZldGNoICR7c3RhdHVzRGlzcGxheU5hbWV9IGJvb2tpbmdzOmAsIGVycm9yKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgc3RhdHVzQ29kZTogNTAwLFxuICAgICAgICAgICAgZXJyb3I6IGBVbmV4cGVjdGVkIGVycm9yIG9jY3VycmVkIHdoZW4gdHJ5aW5nIHRvIGZldGNoIHlvdXIgJHtzdGF0dXNEaXNwbGF5TmFtZX0gYm9va2luZ3MuYFxuICAgICAgICB9O1xuICAgIH1cbn07XG5cblxuLy8gVXNlciByZXF1ZXN0aW5nIGEgbmV3IGJvb2tpbmdcbmNvbnN0IHVzZXJSZXF1ZXN0Qm9va2luZyA9IGFzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICAvLyBHZXR0aW5nIGFsbCB1c2VyIGlucHV0IGZyb20gdGhlIHJlcXVlc3QncyBib2R5IGFuZCB0aGUgdXNlcklEIGFzIHdlbGwgcGFzc2VkIGJ5IHRoZSBtaWRkbGV3YXJlIHRoYXQgdmFsaWRhdGVzIHVzZXIncyBsb2dpbiBjcmVkZW50aWFsc1xuICAgIGNvbnN0IHsgYXBwbGlhbmNlVHlwZUlELCBpc3N1ZURlc2NyaXB0aW9uLCBib29raW5nRGF0ZSwgYm9va2luZ1RpbWUsIHBheW1lbnRNZXRob2QgfSA9IHJlcS5ib2R5O1xuICAgIGNvbnN0IHVzZXJJRCA9IHJlcS51c2VySUQ7XG5cbiAgICAvLyBJZiBhbnkgb2YgdGhlIGlucHV0cyBhcmVudCBwcm92aWRlZCB0aGVuIHRocm93IGEgNDAwIGVycm9yXG4gICAgaWYgKCFhcHBsaWFuY2VUeXBlSUQgfHwgIWlzc3VlRGVzY3JpcHRpb24gfHwgIWJvb2tpbmdEYXRlIHx8ICFib29raW5nVGltZSB8fCAhcGF5bWVudE1ldGhvZCkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiQWxsIGJvb2tpbmcgZGV0YWlscyBhcmUgcmVxdWlyZWQ6IHRoZSBhcHBsaWFuY2UsIGEgZGVzY3JpcHRpb24gZm9yIHRoZSBpc3N1ZSwgZGF0ZSBhbmQgdGltZS5cIn0pO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRlIHRoZSBwYXltZW50IG1ldGhvZCBzdWNoIHRoYXQgaXQncyBvbmUgb2YgdGhlIGFjY2VwdGVkIG9uZXNcbiAgICBjb25zdCB2YWxpZFBheW1lbnRNZXRob2RzID0gWydjYXNoJywgJ2NyZWRpdF9jYXJkJywgJ2RlYml0X2NhcmQnLCAnd2hpc2gnLCAnb210J107XG4gICAgaWYgKCF2YWxpZFBheW1lbnRNZXRob2RzLmluY2x1ZGVzKHBheW1lbnRNZXRob2QpKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJJbnZhbGlkIHBheW1lbnQgbWV0aG9kLiBDaG9vc2UgZWl0aGVyIGNhc2gsIGNyZWRpdF9jYXJkLCBkZWJpdF9jYXJkLCB3aGlzaCBvciBvbXQuXCJ9KTtcbiAgICB9XG5cbiAgICAvLyBWYWxpZGF0aW5nIHRoZSB0aW1lIGZvcm1hdCBwYXNzZWQgdXNpbmcgcmVnZXgsIGlmIGRvZXNudCBwYXNzIHRoZW4gdGhyb3cgYSA0MDAgb2YgaW52YWxpZCB0aW1lIGZvcm1hdFxuICAgIGNvbnN0IHRpbWVSZWdleCA9IC9eKFswLTFdP1swLTldfDJbMC0zXSk6WzAtNV1bMC05XTpbMC01XVswLTldJC87XG4gICAgY29uc3QgY2xlYW5UaW1lID0gYm9va2luZ1RpbWUudHJpbSgpO1xuXG4gICAgaWYgKCF0aW1lUmVnZXgudGVzdChjbGVhblRpbWUpKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJJbnZhbGlkIHRpbWUgZm9ybWF0LiBVc2UgSEg6TU06U1MgKGUuZy4sIDE0OjMwOjAwKVwifSk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcG9vbCA9IGdldFBvb2woKTtcblxuICAgICAgICAvLyBWZXJpZnlpbmcgdGhlIGFwcGxpYW5jZSB0eXBlIHRoYXQgd2FzIHBhc3NlZCB0aHJvdWdoIHRoZSBib2R5XG4gICAgICAgIC8vIEhhcyB0byBiZSBhY3RpdmUgYW5kIGhhcyB0byBtYXRjaCB0aGUgYXBwbGlhbmNlIHR5cGUgSUQgcGFzc2VkIGJ5IHRoZSB1c2VyXG4gICAgICAgIGNvbnN0IGFwcGxpYW5jZVR5cGUgPSBhd2FpdCBwb29sLnJlcXVlc3QoKVxuICAgICAgICAgICAgLmlucHV0KFwiYXBwbGlhbmNlVHlwZUlEXCIsIHNxbC5JbnQsIGFwcGxpYW5jZVR5cGVJRClcbiAgICAgICAgICAgIC5xdWVyeShgXG4gICAgICAgICAgICAgICAgU0VMRUNUIEJhc2VfUHJpY2UgXG4gICAgICAgICAgICAgICAgRlJPTSBBcHBsaWFuY2VfVHlwZVxuICAgICAgICAgICAgICAgIFdIRVJFIEFwcGxpYW5jZV9UeXBlX0lEID0gQGFwcGxpYW5jZVR5cGVJRCBBTkQgaXNBY3RpdmUgPSAxXG4gICAgICAgICAgICAgICAgYCk7XG5cbiAgICAgICAgLy8gSWYgbm8gcmVzdWx0IHJldHVybmVkIGZyb20gdGhlIGFwcGxpYW5jZSB0eXBlIGNoZWNrIHF1ZXJ5IHRoZW4gdGhhdCBtZWFucyB0aGUgYXBwbGlhbmNlIHR5cGUgaWQgcGFzc2VkXG4gICAgICAgIC8vIGlzIGludmFsaWQsIHRocm93IGEgNDA0IGVycm9yXG4gICAgICAgIGlmIChhcHBsaWFuY2VUeXBlLnJlY29yZHNldC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7bWVzc2FnZTogXCJJbnZhbGlkIGFwcGxpYW5jZSB0eXBlIGNob3Nlbi5cIn0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gR2V0dGluZyB0aGUgYmFzZSBwcmljZSBvZiB0aGUgYXBwbGlhbmNlIHR5cGUgY2hvc2VuIHRvIHNwZWNpZnkgdGhlIHByaWNlIG9mIHRoZSBib29raW5nXG4gICAgICAgIGNvbnN0IGJhc2VQcmljZSA9IGFwcGxpYW5jZVR5cGUucmVjb3Jkc2V0WzBdLkJhc2VfUHJpY2U7XG5cbiAgICAgICAgLy8gQ2FsY3VsYXRpbmcgdGhlIHBsYXRmb3JtIGZlZSBmb3IgdGhlIHBheW1lbnQgdGFibGUgYmFzZWQgb24gdGhlIGJhc2UgcHJpY2VcbiAgICAgICAgY29uc3QgY29tbWlzc2lvblJhdGUgPSAxNS4wMDtcbiAgICAgICAgY29uc3QgcGxhdGZvcm1GZWUgPSAoYmFzZVByaWNlICogY29tbWlzc2lvblJhdGUpIC8gMTAwO1xuXG4gICAgICAgIC8vIFN0YXJ0aW5nIGEgdHJhbnNhY3Rpb24gc28gdGhlIGJvb2tpbmcgYW5kIHBheW1lbnQgYXJlIGNyZWF0ZWQgdG9nZXRoZXJcbiAgICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSBwb29sLnRyYW5zYWN0aW9uKCk7XG4gICAgICAgIGF3YWl0IHRyYW5zYWN0aW9uLmJlZ2luKCk7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIENyZWF0aW5nIGJvb2tpbmcgZGF0YSBieSBwYWRkaW5nIHRoZSBuZWVkZWQgY29sdW1uIGRhdGFcbiAgICAgICAgICAgIGNvbnN0IGJvb2tpbmdSZXN1bHQgPSBhd2FpdCB0cmFuc2FjdGlvbi5yZXF1ZXN0KClcbiAgICAgICAgICAgICAgICAuaW5wdXQoXCJ1c2VySURcIiwgc3FsLkludCwgdXNlcklEKVxuICAgICAgICAgICAgICAgIC5pbnB1dChcImFwcGxpYW5jZVR5cGVJRFwiLCBzcWwuSW50LCBhcHBsaWFuY2VUeXBlSUQpXG4gICAgICAgICAgICAgICAgLmlucHV0KFwiaXNzdWVEZXNjcmlwdGlvblwiLCBzcWwuTlZhckNoYXIsIGlzc3VlRGVzY3JpcHRpb24pXG4gICAgICAgICAgICAgICAgLmlucHV0KFwiYm9va2luZ0RhdGVcIiwgc3FsLkRhdGUsIGJvb2tpbmdEYXRlKVxuICAgICAgICAgICAgICAgIC5pbnB1dChcImJvb2tpbmdUaW1lXCIsIHNxbC5WYXJDaGFyKDgpLCBjbGVhblRpbWUpXG4gICAgICAgICAgICAgICAgLmlucHV0KFwiYmFzZVByaWNlXCIsIHNxbC5EZWNpbWFsKDEwLCAyKSwgYmFzZVByaWNlKVxuICAgICAgICAgICAgICAgIC5xdWVyeShgXG4gICAgICAgICAgICBJTlNFUlQgSU5UTyBCb29raW5nIChVc2VySUQsIEFwcGxpYW5jZV9UeXBlX0lELCBJc3N1ZV9EZXNjcmlwdGlvbiwgQm9va2luZ19EYXRlLCBCb29raW5nX1RpbWUsIFtTdGF0dXNdLCBUb3RhbF9QcmljZSlcbiAgICAgICAgICAgIE9VVFBVVCBJTlNFUlRFRC5Cb29raW5nX0lEIC0tIGp1c3Qgc28gd2UgY291bGQgdXNlIHRoZSBib29raW5nSUQgbGF0ZXIgdXNpbmcgdGhlIHJlc3VsdCBvZiB0aGlzIHF1ZXJ5LlxuICAgICAgICAgICAgVkFMVUVTKEB1c2VySUQsIEBhcHBsaWFuY2VUeXBlSUQsIEBpc3N1ZURlc2NyaXB0aW9uLCBAYm9va2luZ0RhdGUsIENBU1QoQGJvb2tpbmdUaW1lIEFTIFRJTUUpLCAncGVuZGluZycsIEBiYXNlUHJpY2UpXG4gICAgICAgICAgICBgKTtcblxuICAgICAgICAgICAgLy8gR2V0dGluZyB0aGUgYm9va2luZyBpZCBmcm9tIHRoZSBhYm92ZSBxdWVyeSdzIHJlc3VsdCAoaXQgb3V0cHV0cyB0aGUgYm9va2luZyBpZClcbiAgICAgICAgICAgIGNvbnN0IGJvb2tpbmdJRCA9IGJvb2tpbmdSZXN1bHQucmVjb3Jkc2V0WzBdLkJvb2tpbmdfSUQ7XG5cbiAgICAgICAgICAgIC8vIEluc2VydCB0aGUgcGF5bWVudCBkYXRhIGFuZCBzZXQgaXQgdG8gcGVuZGluZyBzdGF0dXMgdW50aWwgdGhlIHVzZXIgY29uZmlybXMgdGhlIHBheW1lbnRcbiAgICAgICAgICAgIGF3YWl0IHRyYW5zYWN0aW9uLnJlcXVlc3QoKVxuICAgICAgICAgICAgICAgIC5pbnB1dChcImJvb2tpbmdJRFwiLCBzcWwuSW50LCBib29raW5nSUQpXG4gICAgICAgICAgICAgICAgLmlucHV0KFwiYW1vdW50XCIsIHNxbC5EZWNpbWFsKDEwLCAyKSwgYmFzZVByaWNlKVxuICAgICAgICAgICAgICAgIC5pbnB1dChcInBheW1lbnRNZXRob2RcIiwgc3FsLlZhckNoYXIsIHBheW1lbnRNZXRob2QpXG4gICAgICAgICAgICAgICAgLmlucHV0KFwiY29tbWlzc2lvblJhdGVcIiwgc3FsLkRlY2ltYWwoNSwgMiksIGNvbW1pc3Npb25SYXRlKVxuICAgICAgICAgICAgICAgIC5pbnB1dChcInBsYXRmb3JtRmVlXCIsIHNxbC5EZWNpbWFsKDEwLCAyKSwgcGxhdGZvcm1GZWUpXG4gICAgICAgICAgICAgICAgLnF1ZXJ5KGBcbiAgICAgICAgICAgICAgICAgICAgICAgIElOU0VSVCBJTlRPIFBheW1lbnQgKEJvb2tpbmdfSUQsIEFtb3VudCwgUGF5bWVudF9NZXRob2QsIFtTdGF0dXNdLCBDb21taXNzaW9uX1JhdGUsIFBsYXRmb3JtX0ZlZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIFZBTFVFUyhAYm9va2luZ0lELCBAYW1vdW50LCBAcGF5bWVudE1ldGhvZCwgJ3BlbmRpbmcnLCBAY29tbWlzc2lvblJhdGUsIEBwbGF0Zm9ybUZlZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGApO1xuXG4gICAgICAgICAgICAvLyBDb21pdHMgdGhlIGNoYW5nZXMsIHdoaWNoIGluc2VydHMgdGhlIGJvb2tpbmcgYW5kIHRoZSBwYXltZW50IGRhdGEgb2YgdGhpcyB1c2VyJ3MgcmVxdWVzdGVkIGJvb2tpbmdcbiAgICAgICAgICAgIGF3YWl0IHRyYW5zYWN0aW9uLmNvbW1pdCgpO1xuXG4gICAgICAgICAgICAvLyBTZW5kaW5nIGEgMjAxIHN1Y2Nlc3MgbWVzc2FnZSB3aXRoIHNvbWUgaW5mb3JtYXRpb24gcGFzc2VkXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMSkuanNvbih7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJTdWNjZXNzZnVsbHkgYm9va2VkISBBIHRlY2huaWNpYW4gd2lsbCBiZSBhc3NpZ25lZCBzb29uLlwiLFxuICAgICAgICAgICAgICAgIGJvb2tpbmdJRDogYm9va2luZ0lELFxuICAgICAgICAgICAgICAgIHRvdGFsUHJpY2U6IGJhc2VQcmljZSxcbiAgICAgICAgICAgICAgICBwYXltZW50TWV0aG9kOiBwYXltZW50TWV0aG9kLFxuICAgICAgICAgICAgICAgIHBheW1lbnRTdGF0dXM6IFwicGVuZGluZ1wiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIC8vIHJvbGxiYWNrIGlmIHNvbWV0aGluZyBnb2VzIHdyb25nXG4gICAgICAgICAgICBhd2FpdCB0cmFuc2FjdGlvbi5yb2xsYmFjaygpO1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJVbmV4cGVjdGVkIGVycm9yIG9jY3VycmVkIHdoZW4gYm9va2luZzpcIiwgZXJyb3IpO1xuXG4gICAgICAgIC8vIElmIGFueSBkYXRhIGlzIHdyb25nIHRoZW4gdGhpcyBlcnJvciBpcyB0aHJvd24gKHdyb25nIGFwcGxpYW5jZSB0eXBlIGFuZCB3cm9uZy9pbnZhbGlkIGRhdGUpXG4gICAgICAgIGlmIChlcnJvci5udW1iZXIgPT09IDU0Nykge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttZXNzYWdlOiBcIkludmFsaWQgYm9va2luZyBkYXRhLiBQbGVhc2UgY2hlY2sgeW91ciBhcHBsaWFuY2UgdHlwZSwgZGF0ZSwgYW5kIGVuc3VyZSBpdCdzIHRvZGF5IG9yIGluIHRoZSBmdXR1cmUuXCJ9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHttZXNzYWdlOiBcIkFuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQgd2hpbGUgYm9va2luZy5cIn0pO1xuICAgIH1cbn0pO1xuXG4vLyBVc2VyIHBheWluZyBhIGJvb2tpbmcgZnVuY3Rpb25hbGl0eVxuY29uc3QgdXNlclBheUJvb2tpbmcgPSBhc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgLy8gR2V0dGluZyB0aGUgYm9va2luZyBpZCBhbmQgdGhlIHRyYW5zYWN0aW9uIGlkIChpZiBub24tY2FzaCBtZXRob2QpIGZyb20gdGhlIGJvZHksIGFuZCB0aGUgdXNlciBpZCBwYXNzZWQgYnkgdGhlIGF1dGhlbnRpY2F0aW9uIG1pZGRsZXdhcmVcbiAgICBjb25zdCB7IGJvb2tpbmdJRCwgdHJhbnNhY3Rpb25JRCB9ID0gcmVxLmJvZHk7XG4gICAgY29uc3QgdXNlcklEID0gcmVxLnVzZXJJRDtcblxuICAgIC8vIElmIG5vIGJvb2tpbmdJRCBpcyBwYXNzZWQgdGhlbiB0aHJvdyBhIDQwMCBlcnJvci4gTm90IHBhc3NpbmcgdGhlIHRyYW5zYWN0aW9uSUQgaXMgZmluZSBpZiB0aGUgbWV0aG9kIGlzIGNhc2guXG4gICAgaWYgKCFib29raW5nSUQpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttZXNzYWdlOiBcIkJvb2tpbmcgSUQgbXVzdCBiZSBwYXNzZWQuXCJ9KTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgICBjb25zdCBwb29sID0gZ2V0UG9vbCgpO1xuXG4gICAgICAgIC8vIENoZWNraW5nIGlmIHRoZSBib29raW5nSUQgcGFzc2VkIGlzIHZhbGlkXG4gICAgICAgIGNvbnN0IGNoZWNrQm9va2luZyA9IGF3YWl0IHBvb2wucmVxdWVzdCgpXG4gICAgICAgICAgICAuaW5wdXQoXCJib29raW5nSURcIiwgc3FsLkludCwgYm9va2luZ0lEKVxuICAgICAgICAgICAgLmlucHV0KFwidXNlcklEXCIsIHNxbC5JbnQsIHVzZXJJRClcbiAgICAgICAgICAgIC5xdWVyeShgXG4gICAgICAgICAgICAgICAgU0VMRUNUIGIuQm9va2luZ19JRCwgYi5bU3RhdHVzXSwgYi5Vc2VySUQsIHAuUGF5bWVudF9JRCwgcC5bU3RhdHVzXSBBUyBQYXltZW50X1N0YXR1cywgcC5QYXltZW50X01ldGhvZFxuICAgICAgICAgICAgICAgIEZST00gQm9va2luZyBiXG4gICAgICAgICAgICAgICAgSk9JTiBQYXltZW50IHAgT04gYi5Cb29raW5nX0lEID0gcC5Cb29raW5nX0lEXG4gICAgICAgICAgICAgICAgV0hFUkUgYi5Cb29raW5nX0lEID0gQGJvb2tpbmdJRFxuICAgICAgICAgICAgICAgIGApO1xuXG4gICAgICAgIC8vIElmIHRoZSBhYm92ZSBzZWxlY3QgcXVlcnkgZ290IG5vIHJlc3VsdCB0aGVuIHRoZSBib29raW5nIGlzIG5vdCBmb3VuZCwgdGhyb3dzIGEgNDA0XG4gICAgICAgIGlmIChjaGVja0Jvb2tpbmcucmVjb3Jkc2V0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHttZXNzYWdlOiBcIkJvb2tpbmcgbm90IGZvdW5kXCJ9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEdldHRpbmcgdGhlIGZpcnN0IHJvdyBvZiB0aGUgcmV0dXJuZWQgcmVzdWx0XG4gICAgICAgIGNvbnN0IGJvb2tpbmcgPSBjaGVja0Jvb2tpbmcucmVjb3Jkc2V0WzBdO1xuXG4gICAgICAgIC8vIENoZWNraW5nIGlmIHRoZSBib29raW5nJ3MgdXNlcklEIG1hdGNoZXMgdGhlIGN1cnJlbnQgbG9nZ2VkIGluJ3MgdXNlcklELCBpZiBpdCBkb2Vzbid0IHRoZW4gdGhyb3cgYSA0MDNcbiAgICAgICAgLy8gc2luY2UgdGhlIHVzZXIgaXNuJ3QgYXV0aG9yaXplZCB0byBwYXkgZm9yIHRoaXMgYm9va2luZy5cbiAgICAgICAgaWYgKGJvb2tpbmcuVXNlcklEICE9PSB1c2VySUQpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMykuanNvbih7bWVzc2FnZTogXCJZb3UgYXJlIG5vdCBhdXRob3JpemVkIHRvIHBheSBmb3IgdGhpcyBib29raW5nIHNpbmNlIGl0J3Mgbm90IHlvdXJzLlwifSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTdGF0dXMgY2hlY2tpbmc6IGNhbm5vdCBwYXkgYSBib29raW5nIHRoYXQncyBjYW5jZWxsZWRcbiAgICAgICAgaWYgKGJvb2tpbmcuU3RhdHVzID09PSAnY2FuY2VsbGVkJykge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttZXNzYWdlOiBcIkNhbm5vdCBwYXkgZm9yIGEgY2FuY2VsbGVkIGJvb2tpbmchXCJ9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIHRoZSBib29raW5nIGlzIGFscmVhZHkgcGFpZCB0aGVuIHRoZSB1c2VyIGNhbnQgcGF5IGl0IGFnYWluIVxuICAgICAgICBpZiAoYm9va2luZy5QYXltZW50X1N0YXR1cyA9PT0gJ2NvbXBsZXRlZCcpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJUaGlzIGJvb2tpbmcgaGFzIGFscmVhZHkgYmVlbiBwYWlkLlwifSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBFbnN1cmluZyB0aGF0IHRyYW5zYWN0aW9uSUQgaXMgcGFzc2VkIHdoZW4gdGhlIHBheW1lbnQgbWV0aG9kIGlzIGFueXRoaW5nIGJ1dCBhIGNhc2ggbWV0aG9kXG4gICAgICAgIC8vIElmIHRoZXJlIGlzIG5vIHRyYW5zYWN0aW9uSUQsIGFuZCB0aGUgcGF5bWVudCBtZXRob2QgaXNudCBjYXNoLCB0aGVuIHRocm93IGEgNDAwIGVycm9yXG4gICAgICAgIGNvbnN0IHRyYW5zYWN0aW9uSWRNZXRob2RzID0gWydjcmVkaXRfY2FyZCcsICdkZWJpdF9jYXJkJywgJ3doaXNoJywgJ29tdCddO1xuICAgICAgICBpZiAodHJhbnNhY3Rpb25JZE1ldGhvZHMuaW5jbHVkZXMoYm9va2luZy5QYXltZW50X01ldGhvZCkgJiYgIXRyYW5zYWN0aW9uSUQpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJUcmFuc2FjdGlvbiBJRCBpcyBuZWVkZWQgZm9yIHRoaXMgcGF5bWVudCBtZXRob2QhXCJ9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIGFsbCdzIGdvb2QgdGhlbiB1cGRhdGUgdGhlIFBheW1lbnQgcm93IG9mIHRoZSBib29raW5nSUQgY29uY2VybmVkIGFuZCBjaGFuZ2UgdGhlIHN0YXR1cyB0byBcbiAgICAgICAgLy8gY29tcGxldGVkLCB3aXRoIHNldHRpbmcgdGhlIHRyYW5zYWN0aW9uSUQgKGlmIGF2YWlsYWJsZSkgYW5kIHNldHRpbmcgdGhlIHBhaWRBdCB0byB0aGUgY3VycmVudCBkYXRlLlxuICAgICAgICBhd2FpdCBwb29sLnJlcXVlc3QoKVxuICAgICAgICAgICAgLmlucHV0KFwiYm9va2luZ0lEXCIsIHNxbC5JbnQsIGJvb2tpbmdJRClcbiAgICAgICAgICAgIC5pbnB1dChcInRyYW5zYWN0aW9uSURcIiwgc3FsLlZhckNoYXIsIHRyYW5zYWN0aW9uSUQgfHwgbnVsbClcbiAgICAgICAgICAgIC5xdWVyeShgXG4gICAgICAgICAgICAgICAgVVBEQVRFIFBheW1lbnRcbiAgICAgICAgICAgICAgICBTRVQgW1N0YXR1c10gPSAnY29tcGxldGVkJyxcbiAgICAgICAgICAgICAgICAgICAgVHJhbnNhY3Rpb25fSUQgPSBAdHJhbnNhY3Rpb25JRCxcbiAgICAgICAgICAgICAgICAgICAgcGFpZEF0ID0gR0VUREFURSgpXG4gICAgICAgICAgICAgICAgV0hFUkUgQm9va2luZ19JRCA9IEBib29raW5nSURcbiAgICAgICAgICAgICAgICBgKTtcblxuICAgICAgICAvLyBTZW5kIGEgc3VjY2VzcyBtZXNzYWdlIHdpdGggdGhlIGJvb2tpbmcgaWQgYW5kIHBheW1lbnQgc3RhdHVzIGFzIGNvbXBsZXRlZFxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIlBheW1lbnQgY29tcGxldGVkLlwiLFxuICAgICAgICAgICAgYm9va2luZ0lEOiBib29raW5nSUQsXG4gICAgICAgICAgICBwYXltZW50U3RhdHVzOiBcImNvbXBsZXRlZFwiXG4gICAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIC8vIFRocm93cyBhbiBlcnJvciBpbiBjYXNlIHRoZSBib29raW5nIGlkIGlzIGludmFsaWQsIG9yIGFueSBvdGhlciB1bmV4cGVjdGVkIGlzc3VlIHRoYXQgb2NjdXJyZWRcbiAgICAgICAgY29uc29sZS5lcnJvcihcIlVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQgd2hlbiBwcm9jZXNzaW5nIHBheW1lbnQ6XCIsIGVycm9yKTtcblxuICAgICAgICBpZiAoZXJyb3IubnVtYmVyID09PSA1NDcpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJJbnZhbGlkIGJvb2tpbmcgSUQuXCJ9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHttZXNzYWdlOiBcIkFuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQgd2hlbiBwcm9jZXNzaW5nIHRoZSBwYXltZW50LlwifSk7XG4gICAgfVxufSlcblxuLy8gVXNlciByYXRpbmcgYSBib29raW5nIGZ1bmN0aW9uYWxpdHlcbmNvbnN0IHVzZXJSYXRlQm9va2luZyA9IGFzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICAvLyBHZXR0aW5nIHRoZSBuZWVkZWQgaW5wdXQgZnJvbSB0aGUgcGFzc2VkIGJvZHkgYW5kIHRoZSB1c2VySUQgcGFzc2VkIGZyb20gdGhlIG1pZGRsZXdhcmVcbiAgICBjb25zdCB7IGJvb2tpbmdJRCwgcmF0aW5nU2NvcmUsIHJldmlld1RleHQgfSA9IHJlcS5ib2R5O1xuICAgIGNvbnN0IHVzZXJJRCA9IHJlcS51c2VySUQ7XG5cbiAgICAvLyBJZiB0aGUgbmVlZGVkIHZhbHVlcyBhcmUgZW1wdHkgdGhlbiB0aHJvdyBhIDQwMCBlcnJvclxuICAgIGlmICghYm9va2luZ0lEIHx8ICFyYXRpbmdTY29yZSB8fCAhcmV2aWV3VGV4dCkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiWW91IGhhdmUgdG8gcGFzcyBhIGJvb2tpbmcgSUQsIHJhdGluZyBzY29yZSBhbmQgcmV2aWV3IHRleHQgdG8gcmF0ZSBhIGJvb2tpbmcuXCJ9KTtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgcmF0aW5nIHNjb3JlIGlzbid0IGEgbnVtYmVyLCBvciBpc24ndCBiZXR3ZWVuIDEgYW5kIDUsIHRoZW4gdGhyb3cgYW4gZXJyb3IgNDAwXG4gICAgaWYgKCFOdW1iZXIuaXNJbnRlZ2VyKHJhdGluZ1Njb3JlKSB8fCByYXRpbmdTY29yZSA8IDEgfHwgcmF0aW5nU2NvcmUgPiA1KSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJSYXRpbmcgc2NvcmUgbXVzdCBiZSBhIG51bWJlciBiZXR3ZWVuIDEgYW5kIDUhXCJ9KTtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgcmV2aWV3IHRleHQgaXMgdG9vIHNob3J0IHRoZW4gdGhyb3cgYSA0MDAgZXJyb3JcbiAgICBpZiAocmV2aWV3VGV4dC50cmltKCkubGVuZ3RoIDwgMTUpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttZXNzYWdlOiBcIlBsZWFzZSB3cml0ZSB5b3VyIHJldmlldyB0ZXh0IGxvbmdlciwgdGhhdCdzIHRvbyBzaG9ydC5cIn0pO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHBvb2wgPSBnZXRQb29sKCk7XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGJvb2tpbmcgaWQgcGFzc2VkIGV4aXN0c1xuICAgICAgICBjb25zdCBjaGVja0Jvb2tpbmcgPSBhd2FpdCBwb29sLnJlcXVlc3QoKVxuICAgICAgICAgICAgLmlucHV0KFwiYm9va2luZ0lEXCIsIHNxbC5JbnQsIGJvb2tpbmdJRClcbiAgICAgICAgICAgIC5pbnB1dChcInVzZXJJRFwiLCBzcWwuSW50LCB1c2VySUQpXG4gICAgICAgICAgICAucXVlcnkoYFxuICAgICAgICAgICAgICAgIFNFTEVDVCBiLkJvb2tpbmdfSUQsIGIuVXNlcklELCBiLlRlY2huaWNpYW5fSUQsIGIuW1N0YXR1c11cbiAgICAgICAgICAgICAgICBGUk9NIEJvb2tpbmcgYlxuICAgICAgICAgICAgICAgIFdIRVJFIGIuQm9va2luZ19JRCA9IEBib29raW5nSURcbiAgICAgICAgICAgICAgICBgKTtcblxuICAgICAgICAvLyBJZiBub3RoaW5nIHdhcyByZXR1cm5lZCBmcm9tIHRoZSBhYm92ZSBxdWVyeSB0aGVuIHRocm93IGEgNDA0IGJlY2F1c2UgdGhlIGJvb2tpbmcgaXNuJ3QgZm91bmRcbiAgICAgICAgaWYgKGNoZWNrQm9va2luZy5yZWNvcmRzZXQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe21lc3NhZ2U6IFwiQm9va2luZyBub3QgZm91bmQuXCJ9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEdldCB0aGUgZmlyc3QgYm9va2luZyByb3dcbiAgICAgICAgY29uc3QgYm9va2luZyA9IGNoZWNrQm9va2luZy5yZWNvcmRzZXRbMF07XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGJvb2tpbmcncyB1c2VyIGlkIG1hdGNoZXMgdGhlIHVzZXJpZCBvZiB0aGUgbG9nZ2VkIGluIHVzZXIsIGlmIG5vdCB0aGVuIHRocm93IGEgNDAzIGVycm9yXG4gICAgICAgIGlmIChib29raW5nLlVzZXJJRCAhPT0gdXNlcklEKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDMpLmpzb24oe21lc3NhZ2U6IFwiWW91IGFyZSBub3QgYXV0aG9yaXplZCB0byByZXZpZXcgdGhpcyBib29raW5nIHNpbmNlIGl0J3Mgbm90IHlvdXJzIVwifSk7XG4gICAgICAgIH1cblxuICAgICAgICAvL0lmIHRoZSBib29raW5nIGRvZXNuJ3QgaGF2ZSBhIHRlY2huaWNpYW4gdGhlbiB0aGUgdXNlciBjYW50IHJhdGUgaXRcbiAgICAgICAgaWYgKCFib29raW5nLlRlY2huaWNpYW5fSUQpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJDYW5ub3QgcmF0ZSBhIGJvb2tpbmcgd2l0aG91dCBhbiBhc3NpZ25lZCB0ZWNobmljaWFuLlwifSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiB0aGUgYm9va2luZyBpc24ndCBjb21wbGV0ZWQgdGhlbiB0aGUgdXNlciBjYW50IHJhdGUgaXRcbiAgICAgICAgaWYgKGJvb2tpbmcuU3RhdHVzICE9PSAnY29tcGxldGVkJykge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttZXNzYWdlOiBcIllvdSBjYW4gb25seSByYXRlIGNvbXBsZXRlZCBib29raW5ncy5cIn0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2tpbmcgaWYgYSByYXRpbmcgYWxyZWFkeSBleGlzdHMgZm9yIHRoZSBjb25jZXJuZWQgYm9va2luZ1xuICAgICAgICBjb25zdCBleGlzdGluZ1JhdGluZyA9IGF3YWl0IHBvb2wucmVxdWVzdCgpXG4gICAgICAgICAgICAuaW5wdXQoXCJib29raW5nSURcIiwgc3FsLkludCwgYm9va2luZ0lEKVxuICAgICAgICAgICAgLnF1ZXJ5KGBTRUxFQ1QgUmF0aW5nX0lEIFxuICAgICAgICAgICAgICAgICAgICBGUk9NIFJhdGluZyBcbiAgICAgICAgICAgICAgICAgICAgV0hFUkUgQm9va2luZ19JRCA9IEBib29raW5nSURgKTtcblxuICAgICAgICAvLyBJZiB5ZXMgdGhlbiB0aHJvdyBhIDQwOSBlcnJvclxuICAgICAgICBpZiAoZXhpc3RpbmdSYXRpbmcucmVjb3Jkc2V0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwOSkuanNvbih7bWVzc2FnZTogXCJUaGlzIGJvb2tpbmcgaGFzIGFscmVhZHkgYmVlbiByYXRlZCBiZWZvcmUhXCJ9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIGFsbCdzIGdvb2QgdGhlbiBpbnNlcnQgdGhlIHJhdGluZyBkYXRhIHdpdGggdGhlIGluZm9ybWF0aW9uIHRha2VuIGZyb20gdGhlIGJvZHlcbiAgICAgICAgYXdhaXQgcG9vbC5yZXF1ZXN0KClcbiAgICAgICAgICAgIC5pbnB1dChcImJvb2tpbmdJRFwiLCBzcWwuSW50LCBib29raW5nSUQpXG4gICAgICAgICAgICAuaW5wdXQoXCJ1c2VySURcIiwgc3FsLkludCwgdXNlcklEKVxuICAgICAgICAgICAgLmlucHV0KFwidGVjaG5pY2lhbklEXCIsIHNxbC5JbnQsIGJvb2tpbmcuVGVjaG5pY2lhbl9JRClcbiAgICAgICAgICAgIC5pbnB1dChcInJhdGluZ1Njb3JlXCIsIHNxbC5TbWFsbEludCwgcmF0aW5nU2NvcmUpXG4gICAgICAgICAgICAuaW5wdXQoXCJyZXZpZXdUZXh0XCIsIHNxbC5OVmFyQ2hhciwgcmV2aWV3VGV4dC50cmltKCkpXG4gICAgICAgICAgICAucXVlcnkoYFxuICAgICAgICAgICAgICAgIElOU0VSVCBJTlRPIFJhdGluZyAoQm9va2luZ19JRCwgVXNlcl9JRCwgVGVjaG5pY2lhbl9JRCwgUmF0aW5nX1Njb3JlLCBSZXZpZXdfVGV4dClcbiAgICAgICAgICAgICAgICBWQUxVRVMoQGJvb2tpbmdJRCwgQHVzZXJJRCwgQHRlY2huaWNpYW5JRCwgQHJhdGluZ1Njb3JlLCBAcmV2aWV3VGV4dClcbiAgICAgICAgICAgICAgICBgKTtcblxuICAgICAgICAvLyBTZW5kIGEgMjAxIHN1Y2Nlc3MgbWVzc2FnZVxuICAgICAgICByZXMuc3RhdHVzKDIwMSkuanNvbih7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIlN1Y2Nlc3NmdWxseSByYXRlZCB0aGlzIGJvb2tpbmchXCIsXG4gICAgICAgICAgICBib29raW5nSUQ6IGJvb2tpbmdJRCxcbiAgICAgICAgICAgIHRlY2huaWNpYW5JRDogYm9va2luZy5UZWNobmljaWFuX0lELFxuICAgICAgICAgICAgcmF0aW5nU2NvcmU6IHJhdGluZ1Njb3JlXG4gICAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJVbmV4cGVjdGVkIGVycm9yIG9jY3VycmVkIHdoZW4gdHJ5aW5nIHRvIHJhdGUgYSBib29raW5nOlwiLCBlcnJvcik7XG5cbiAgICAgICAgLy8gQ29uc3RyYWludCB2aW9sYXRpb24gaGFuZGxpbmdcbiAgICAgICAgaWYgKGVycm9yLm51bWJlciA9PT0gNTQ3KSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiSW52YWxpZCByYXRpbmcgZGF0YSwgcGxlYXNlIGNoZWNrIHlvdXIgaW5wdXRzLlwifSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB1bmlxdWUgY29uc3RyYWludCB2aW9sYXRpb24gKGZvciBkdXBsaWNhdGUgcmF0aW5ncylcbiAgICAgICAgaWYgKGVycm9yLm51bWJlciA9PT0gMjYyNykge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA5KS5qc29uKHttZXNzYWdlOiBcIlRoaXMgYm9va2luZyBoYXMgYWxyZWFkeSBiZWVuIHJhdGVkLlwifSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7bWVzc2FnZTogXCJVbmV4cGVjdGVkIGVycm9yIG9jY3VycmVkIHdoZW4gdHJ5aW5nIHRvIHJhdGUgYSBib29raW5nLlwifSk7XG4gICAgfVxufSlcblxuLy8gVGhlIGJlbG93IG1ldGhvZHMgZ2V0IGRpZmZlcmVudCB0eXBlcyBvZiBib29raW5ncyBvZiB0aGUgdXNlcjogcGVuZGluZywgY29uZmlybWVkLCBpbiBwcm9ncmVzcywgY29tcGxldGVkLCBjYW5jZWxsZWRcbi8vIEFsbCB1c2UgdGhlIGhlbHBlciBmdW5jdGlvbiBnZXRCb29raW5nc0J5U3RhdHVzIHRvIHJlZHVjZSBjb2RlIGR1cGxpY2F0aW9uXG5jb25zdCBnZXRQZW5kaW5nQm9va2luZ3MgPSBhc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3QgdXNlcklEID0gcmVxLnVzZXJJRDtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBnZXRCb29raW5nc0J5U3RhdHVzKHVzZXJJRCwgJ3BlbmRpbmcnLCAncGVuZGluZycpO1xuICAgIFxuICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyhyZXN1bHQuc3RhdHVzQ29kZSkuanNvbihyZXN1bHQuZGF0YSk7XG4gICAgfVxuICAgIHJldHVybiByZXMuc3RhdHVzKHJlc3VsdC5zdGF0dXNDb2RlKS5qc29uKHsgbWVzc2FnZTogcmVzdWx0LmVycm9yIH0pO1xufSk7XG5cbmNvbnN0IGdldENvbmZpcm1lZEJvb2tpbmdzID0gYXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHVzZXJJRCA9IHJlcS51c2VySUQ7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZ2V0Qm9va2luZ3NCeVN0YXR1cyh1c2VySUQsICdjb25maXJtZWQnLCAnY29uZmlybWVkJyk7XG4gICAgXG4gICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKHJlc3VsdC5zdGF0dXNDb2RlKS5qc29uKHJlc3VsdC5kYXRhKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMocmVzdWx0LnN0YXR1c0NvZGUpLmpzb24oeyBtZXNzYWdlOiByZXN1bHQuZXJyb3IgfSk7XG59KTtcblxuY29uc3QgZ2V0SW5Qcm9ncmVzc0Jvb2tpbmdzID0gYXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHVzZXJJRCA9IHJlcS51c2VySUQ7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZ2V0Qm9va2luZ3NCeVN0YXR1cyh1c2VySUQsICdpbl9wcm9ncmVzcycsICdpbiBwcm9ncmVzcycpO1xuICAgIFxuICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyhyZXN1bHQuc3RhdHVzQ29kZSkuanNvbihyZXN1bHQuZGF0YSk7XG4gICAgfVxuICAgIHJldHVybiByZXMuc3RhdHVzKHJlc3VsdC5zdGF0dXNDb2RlKS5qc29uKHsgbWVzc2FnZTogcmVzdWx0LmVycm9yIH0pO1xufSk7XG5cbmNvbnN0IGdldENvbXBsZXRlZEJvb2tpbmdzID0gYXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHVzZXJJRCA9IHJlcS51c2VySUQ7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZ2V0Qm9va2luZ3NCeVN0YXR1cyh1c2VySUQsICdjb21wbGV0ZWQnLCAnY29tcGxldGVkJyk7XG4gICAgXG4gICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKHJlc3VsdC5zdGF0dXNDb2RlKS5qc29uKHJlc3VsdC5kYXRhKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMocmVzdWx0LnN0YXR1c0NvZGUpLmpzb24oeyBtZXNzYWdlOiByZXN1bHQuZXJyb3IgfSk7XG59KTtcblxuY29uc3QgZ2V0Q2FuY2VsbGVkQm9va2luZ3MgPSBhc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3QgdXNlcklEID0gcmVxLnVzZXJJRDtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBnZXRCb29raW5nc0J5U3RhdHVzKHVzZXJJRCwgJ2NhbmNlbGxlZCcsICdjYW5jZWxsZWQnKTtcbiAgICBcbiAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMocmVzdWx0LnN0YXR1c0NvZGUpLmpzb24ocmVzdWx0LmRhdGEpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzLnN0YXR1cyhyZXN1bHQuc3RhdHVzQ29kZSkuanNvbih7IG1lc3NhZ2U6IHJlc3VsdC5lcnJvciB9KTtcbn0pO1xuXG4vLyBVc2VyIGNhbmNlbGxpbmcgYSBib29raW5nIGZ1bmN0aW9uYWxpdHlcbmNvbnN0IHVzZXJDYW5jZWxCb29raW5nID0gYXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHsgYm9va2luZ0lEIH0gPSByZXEuYm9keTtcbiAgICBjb25zdCB1c2VySUQgPSByZXEudXNlcklEO1xuXG4gICAgLy8gSWYgbm8gYm9va2luZ0lEIGlzIHBhc3NlZCB0aGVuIHRocm93IGEgNDAwIGVycm9yXG4gICAgaWYgKCFib29raW5nSUQpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttZXNzYWdlOiBcIkJvb2tpbmcgSUQgbXVzdCBiZSBwYXNzZWQuXCJ9KTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgICBjb25zdCBwb29sID0gZ2V0UG9vbCgpO1xuXG4gICAgICAgIC8vIENoZWNraW5nIGlmIHRoZSBib29raW5nSUQgcGFzc2VkIGlzIHZhbGlkIGFuZCBiZWxvbmdzIHRvIHRoZSB1c2VyXG4gICAgICAgIGNvbnN0IGNoZWNrQm9va2luZyA9IGF3YWl0IHBvb2wucmVxdWVzdCgpXG4gICAgICAgICAgICAuaW5wdXQoXCJib29raW5nSURcIiwgc3FsLkludCwgYm9va2luZ0lEKVxuICAgICAgICAgICAgLmlucHV0KFwidXNlcklEXCIsIHNxbC5JbnQsIHVzZXJJRClcbiAgICAgICAgICAgIC5xdWVyeShgXG4gICAgICAgICAgICAgICAgU0VMRUNUIGIuQm9va2luZ19JRCwgYi5bU3RhdHVzXSwgYi5Vc2VySUQsIHAuUGF5bWVudF9JRCwgcC5bU3RhdHVzXSBBUyBQYXltZW50X1N0YXR1c1xuICAgICAgICAgICAgICAgIEZST00gQm9va2luZyBiXG4gICAgICAgICAgICAgICAgTEVGVCBKT0lOIFBheW1lbnQgcCBPTiBiLkJvb2tpbmdfSUQgPSBwLkJvb2tpbmdfSURcbiAgICAgICAgICAgICAgICBXSEVSRSBiLkJvb2tpbmdfSUQgPSBAYm9va2luZ0lEXG4gICAgICAgICAgICBgKTtcblxuICAgICAgICAvLyBJZiBubyByZXN1bHQgcmV0dXJuZWQgdGhlbiB0aGUgYm9va2luZyBpcyBub3QgZm91bmRcbiAgICAgICAgaWYgKGNoZWNrQm9va2luZy5yZWNvcmRzZXQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe21lc3NhZ2U6IFwiQm9va2luZyBub3QgZm91bmQuXCJ9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGJvb2tpbmcgPSBjaGVja0Jvb2tpbmcucmVjb3Jkc2V0WzBdO1xuXG4gICAgICAgIC8vIENoZWNraW5nIGlmIHRoZSBib29raW5nIGJlbG9uZ3MgdG8gdGhlIGxvZ2dlZCBpbiB1c2VyXG4gICAgICAgIGlmIChib29raW5nLlVzZXJJRCAhPT0gdXNlcklEKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDMpLmpzb24oe21lc3NhZ2U6IFwiWW91IGFyZSBub3QgYXV0aG9yaXplZCB0byBjYW5jZWwgdGhpcyBib29raW5nIHNpbmNlIGl0J3Mgbm90IHlvdXJzLlwifSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDYW4gb25seSBjYW5jZWwgcGVuZGluZyBib29raW5nc1xuICAgICAgICBpZiAoYm9va2luZy5TdGF0dXMgIT09ICdwZW5kaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttZXNzYWdlOiBgQ2Fubm90IGNhbmNlbCBhIGJvb2tpbmcgdGhhdCBpcyAke2Jvb2tpbmcuU3RhdHVzfS4gT25seSBwZW5kaW5nIGJvb2tpbmdzIGNhbiBiZSBjYW5jZWxsZWQuYH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSWYgcGF5bWVudCBpcyBhbHJlYWR5IGNvbXBsZXRlZCwgY2Fubm90IGNhbmNlbFxuICAgICAgICBpZiAoYm9va2luZy5QYXltZW50X1N0YXR1cyA9PT0gJ2NvbXBsZXRlZCcpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJDYW5ub3QgY2FuY2VsIGEgYm9va2luZyB0aGF0IGhhcyBhbHJlYWR5IGJlZW4gcGFpZC5cIn0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU3RhcnQgYSB0cmFuc2FjdGlvbiB0byB1cGRhdGUgYm9va2luZyBhbmQgZGVsZXRlIHBheW1lbnRcbiAgICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSBwb29sLnRyYW5zYWN0aW9uKCk7XG4gICAgICAgIGF3YWl0IHRyYW5zYWN0aW9uLmJlZ2luKCk7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBib29raW5nIHN0YXR1cyB0byBjYW5jZWxsZWRcbiAgICAgICAgICAgIGF3YWl0IHRyYW5zYWN0aW9uLnJlcXVlc3QoKVxuICAgICAgICAgICAgICAgIC5pbnB1dChcImJvb2tpbmdJRFwiLCBzcWwuSW50LCBib29raW5nSUQpXG4gICAgICAgICAgICAgICAgLnF1ZXJ5KGBcbiAgICAgICAgICAgICAgICAgICAgVVBEQVRFIEJvb2tpbmdcbiAgICAgICAgICAgICAgICAgICAgU0VUIFtTdGF0dXNdID0gJ2NhbmNlbGxlZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RpZmllZEF0ID0gR0VUREFURSgpXG4gICAgICAgICAgICAgICAgICAgIFdIRVJFIEJvb2tpbmdfSUQgPSBAYm9va2luZ0lEXG4gICAgICAgICAgICAgICAgYCk7XG5cbiAgICAgICAgICAgIC8vIERlbGV0ZSB0aGUgcGF5bWVudCByZWNvcmQgc2luY2UgYm9va2luZyBpcyBjYW5jZWxsZWRcbiAgICAgICAgICAgIGF3YWl0IHRyYW5zYWN0aW9uLnJlcXVlc3QoKVxuICAgICAgICAgICAgICAgIC5pbnB1dChcImJvb2tpbmdJRFwiLCBzcWwuSW50LCBib29raW5nSUQpXG4gICAgICAgICAgICAgICAgLnF1ZXJ5KGBcbiAgICAgICAgICAgICAgICAgICAgREVMRVRFIEZST00gUGF5bWVudFxuICAgICAgICAgICAgICAgICAgICBXSEVSRSBCb29raW5nX0lEID0gQGJvb2tpbmdJRFxuICAgICAgICAgICAgICAgIGApO1xuXG4gICAgICAgICAgICBhd2FpdCB0cmFuc2FjdGlvbi5jb21taXQoKTtcblxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiQm9va2luZyBjYW5jZWxsZWQgc3VjY2Vzc2Z1bGx5LlwiLFxuICAgICAgICAgICAgICAgIGJvb2tpbmdJRDogYm9va2luZ0lELFxuICAgICAgICAgICAgICAgIHN0YXR1czogXCJjYW5jZWxsZWRcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBhd2FpdCB0cmFuc2FjdGlvbi5yb2xsYmFjaygpO1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiVW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZCB3aGVuIGNhbmNlbGxpbmcgYm9va2luZzpcIiwgZXJyb3IpO1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7bWVzc2FnZTogXCJBbiB1bmV4cGVjdGVkIGVycm9yIG9jY3VycmVkIHdoaWxlIGNhbmNlbGxpbmcgdGhlIGJvb2tpbmcuXCJ9KTtcbiAgICB9XG59KTtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IHsgdXNlclJlcXVlc3RCb29raW5nLCB1c2VyUGF5Qm9va2luZywgdXNlclJhdGVCb29raW5nLCB1c2VyQ2FuY2VsQm9va2luZywgZ2V0UGVuZGluZ0Jvb2tpbmdzLCBnZXRDb25maXJtZWRCb29raW5ncywgZ2V0SW5Qcm9ncmVzc0Jvb2tpbmdzLCBnZXRDb21wbGV0ZWRCb29raW5ncywgZ2V0Q2FuY2VsbGVkQm9va2luZ3MgfTsiXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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","map":{"version":3,"names":["asyncHandler","require","_require","getPool","sql","getBookingsByStatus","_ref","_asyncToGenerator2","_regenerator","mark","_callee","userID","status","statusDisplayName","pool","bookings","_t","wrap","_context","prev","next","request","input","Int","VarChar","query","sent","recordset","length","abrupt","success","statusCode","data","message","concat","count","console","error","stop","_x","_x2","_x3","apply","arguments","userRequestBooking","_ref2","_callee2","req","res","_req$body","applianceTypeID","issueDescription","bookingDate","bookingTime","paymentMethod","validPaymentMethods","timeRegex","cleanTime","applianceType","basePrice","commissionRate","platformFee","transaction","bookingResult","bookingID","_t2","_t3","_context2","body","json","includes","trim","test","Base_Price","begin","NVarChar","Date","Decimal","Booking_ID","commit","totalPrice","paymentStatus","rollback","number","_x4","_x5","userPayBooking","_ref3","_callee3","_req$body2","transactionID","checkBooking","booking","transactionIdMethods","_t4","_context3","UserID","Status","Payment_Status","Payment_Method","_x6","_x7","userRateBooking","_ref4","_callee4","_req$body3","ratingScore","reviewText","existingRating","_t5","_context4","Number","isInteger","Technician_ID","SmallInt","technicianID","_x8","_x9","getPendingBookings","_ref5","_callee5","result","_context5","_x0","_x1","getConfirmedBookings","_ref6","_callee6","_context6","_x10","_x11","getInProgressBookings","_ref7","_callee7","_context7","_x12","_x13","getCompletedBookings","_ref8","_callee8","_context8","_x14","_x15","getCancelledBookings","_ref9","_callee9","_context9","_x16","_x17","userCancelBooking","_ref0","_callee0","_t6","_t7","_context0","_x18","_x19","module","exports"],"sourceRoot":"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/controllers/","sources":["UserBookingController.js"],"sourcesContent":["/**\n * This controller handles everything related to booking and the user:\n *  1. User requesting a booking\n *  2. User paying a booking\n *  3. User rating a booking\n *  4. user getting their bookings (pending/confirmed/in progress/completed/cancelled)\n */\n\nconst asyncHandler = require(\"express-async-handler\");\n\n\n// sql needed for the type definitions in .input\n// getPool is to do queries\nconst { getPool, sql } = require(\"../config/database\");\n\n\n/**\n * Helper function to get bookings by status for a user\n * Reduces code duplication across the 5 getXBookings functions\n * @param {number} userID - The user's ID\n * @param {string} status - The booking status to filter by\n * @param {string} statusDisplayName - Human-readable status name for messages\n * @returns {Promise<{success: boolean, data?: object, error?: string, statusCode: number}>}\n */\nconst getBookingsByStatus = async (userID, status, statusDisplayName) => {\n    try {\n        const pool = getPool();\n\n        const bookings = await pool.request()\n            .input(\"userID\", sql.Int, userID)\n            .input(\"status\", sql.VarChar, status)\n            .query(`\n                SELECT \n                    Booking.Booking_ID, \n                    Booking.Booking_Date AS \"Scheduled Date\", \n                    Booking.Booking_Time AS \"Scheduled Time\", \n                    Booking.Total_Price AS \"Total Price\", \n                    Booking.createdAt AS \"Created At\",\n                    Appliance_Type.nameEN AS \"Appliance's Name (EN)\", \n                    Appliance_Type.nameAR AS \"Appliance's Name (AR)\",\n                    Booking.Issue_Description AS \"Issue Description\",\n                    Technician.First_Name AS \"Technician's First Name\",\n                    Technician.Last_Name AS \"Technician's Last Name\",\n                    Technician.Phone AS \"Technician's Phone Number\",\n                    Payment.[Status] AS \"Payment Status\",\n                    Payment.Payment_Method AS \"Payment Method\",\n                    Rating.Rating_Score AS \"Rating Score\",\n                    Rating.Review_Text AS \"Review Text\"\n                FROM Booking\n                LEFT JOIN Technician ON Booking.Technician_ID = Technician.Technician_ID\n                LEFT JOIN Payment ON Booking.Booking_ID = Payment.Booking_ID\n                LEFT JOIN Rating ON Booking.Booking_ID = Rating.Booking_ID\n                JOIN Appliance_Type ON Booking.Appliance_Type_ID = Appliance_Type.Appliance_Type_ID\n                WHERE Booking.UserID = @userID AND Booking.[Status] = @status\n                ORDER BY Booking.Booking_Date ASC, Booking.Booking_Time ASC\n            `);\n\n        if (bookings.recordset.length === 0) {\n            return {\n                success: true,\n                statusCode: 200,\n                data: {\n                    message: `You don't have any ${statusDisplayName} bookings.`,\n                    count: 0,\n                    bookings: []\n                }\n            };\n        }\n\n        return {\n            success: true,\n            statusCode: 200,\n            data: {\n                message: `You have ${statusDisplayName} bookings!`,\n                count: bookings.recordset.length,\n                bookings: bookings.recordset\n            }\n        };\n    } catch (error) {\n        console.error(`Unexpected error occurred when trying to fetch ${statusDisplayName} bookings:`, error);\n        return {\n            success: false,\n            statusCode: 500,\n            error: `Unexpected error occurred when trying to fetch your ${statusDisplayName} bookings.`\n        };\n    }\n};\n\n\n// User requesting a new booking\nconst userRequestBooking = asyncHandler(async (req, res) => {\n    // Getting all user input from the request's body and the userID as well passed by the middleware that validates user's login credentials\n    const { applianceTypeID, issueDescription, bookingDate, bookingTime, paymentMethod } = req.body;\n    const userID = req.userID;\n\n    // If any of the inputs arent provided then throw a 400 error\n    if (!applianceTypeID || !issueDescription || !bookingDate || !bookingTime || !paymentMethod) {\n        return res.status(400).json({message: \"All booking details are required: the appliance, a description for the issue, date and time.\"});\n    }\n\n    // Validate the payment method such that it's one of the accepted ones\n    const validPaymentMethods = ['cash', 'credit_card', 'debit_card', 'whish', 'omt'];\n    if (!validPaymentMethods.includes(paymentMethod)) {\n        return res.status(400).json({message: \"Invalid payment method. Choose either cash, credit_card, debit_card, whish or omt.\"});\n    }\n\n    // Validating the time format passed using regex, if doesnt pass then throw a 400 of invalid time format\n    const timeRegex = /^([0-1]?[0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]$/;\n    const cleanTime = bookingTime.trim();\n\n    if (!timeRegex.test(cleanTime)) {\n        return res.status(400).json({message: \"Invalid time format. Use HH:MM:SS (e.g., 14:30:00)\"});\n    }\n\n    try {\n        const pool = getPool();\n\n        // Verifying the appliance type that was passed through the body\n        // Has to be active and has to match the appliance type ID passed by the user\n        const applianceType = await pool.request()\n            .input(\"applianceTypeID\", sql.Int, applianceTypeID)\n            .query(`\n                SELECT Base_Price \n                FROM Appliance_Type\n                WHERE Appliance_Type_ID = @applianceTypeID AND isActive = 1\n                `);\n\n        // If no result returned from the appliance type check query then that means the appliance type id passed\n        // is invalid, throw a 404 error\n        if (applianceType.recordset.length === 0) {\n            return res.status(404).json({message: \"Invalid appliance type chosen.\"});\n        }\n\n        // Getting the base price of the appliance type chosen to specify the price of the booking\n        const basePrice = applianceType.recordset[0].Base_Price;\n\n        // Calculating the platform fee for the payment table based on the base price\n        const commissionRate = 15.00;\n        const platformFee = (basePrice * commissionRate) / 100;\n\n        // Starting a transaction so the booking and payment are created together\n        const transaction = pool.transaction();\n        await transaction.begin();\n\n        try {\n            // Creating booking data by padding the needed column data\n            const bookingResult = await transaction.request()\n                .input(\"userID\", sql.Int, userID)\n                .input(\"applianceTypeID\", sql.Int, applianceTypeID)\n                .input(\"issueDescription\", sql.NVarChar, issueDescription)\n                .input(\"bookingDate\", sql.Date, bookingDate)\n                .input(\"bookingTime\", sql.VarChar(8), cleanTime)\n                .input(\"basePrice\", sql.Decimal(10, 2), basePrice)\n                .query(`\n            INSERT INTO Booking (UserID, Appliance_Type_ID, Issue_Description, Booking_Date, Booking_Time, [Status], Total_Price)\n            OUTPUT INSERTED.Booking_ID -- just so we could use the bookingID later using the result of this query.\n            VALUES(@userID, @applianceTypeID, @issueDescription, @bookingDate, CAST(@bookingTime AS TIME), 'pending', @basePrice)\n            `);\n\n            // Getting the booking id from the above query's result (it outputs the booking id)\n            const bookingID = bookingResult.recordset[0].Booking_ID;\n\n            // Insert the payment data and set it to pending status until the user confirms the payment\n            await transaction.request()\n                .input(\"bookingID\", sql.Int, bookingID)\n                .input(\"amount\", sql.Decimal(10, 2), basePrice)\n                .input(\"paymentMethod\", sql.VarChar, paymentMethod)\n                .input(\"commissionRate\", sql.Decimal(5, 2), commissionRate)\n                .input(\"platformFee\", sql.Decimal(10, 2), platformFee)\n                .query(`\n                        INSERT INTO Payment (Booking_ID, Amount, Payment_Method, [Status], Commission_Rate, Platform_Fee)\n                        VALUES(@bookingID, @amount, @paymentMethod, 'pending', @commissionRate, @platformFee)\n                        `);\n\n            // Comits the changes, which inserts the booking and the payment data of this user's requested booking\n            await transaction.commit();\n\n            // Sending a 201 success message with some information passed\n            res.status(201).json({\n                message: \"Successfully booked! A technician will be assigned soon.\",\n                bookingID: bookingID,\n                totalPrice: basePrice,\n                paymentMethod: paymentMethod,\n                paymentStatus: \"pending\"\n            });\n        } catch (error) {\n            // rollback if something goes wrong\n            await transaction.rollback();\n            throw error;\n        }\n\n    } catch (error) {\n        console.error(\"Unexpected error occurred when booking:\", error);\n\n        // If any data is wrong then this error is thrown (wrong appliance type and wrong/invalid date)\n        if (error.number === 547) {\n            return res.status(400).json({message: \"Invalid booking data. Please check your appliance type, date, and ensure it's today or in the future.\"});\n        }\n\n        res.status(500).json({message: \"An unexpected error occurred while booking.\"});\n    }\n});\n\n// User paying a booking functionality\nconst userPayBooking = asyncHandler(async (req, res) => {\n    // Getting the booking id and the transaction id (if non-cash method) from the body, and the user id passed by the authentication middleware\n    const { bookingID, transactionID } = req.body;\n    const userID = req.userID;\n\n    // If no bookingID is passed then throw a 400 error. Not passing the transactionID is fine if the method is cash.\n    if (!bookingID) {\n        return res.status(400).json({message: \"Booking ID must be passed.\"});\n    }\n\n    try {\n        const pool = getPool();\n\n        // Checking if the bookingID passed is valid\n        const checkBooking = await pool.request()\n            .input(\"bookingID\", sql.Int, bookingID)\n            .input(\"userID\", sql.Int, userID)\n            .query(`\n                SELECT b.Booking_ID, b.[Status], b.UserID, p.Payment_ID, p.[Status] AS Payment_Status, p.Payment_Method\n                FROM Booking b\n                JOIN Payment p ON b.Booking_ID = p.Booking_ID\n                WHERE b.Booking_ID = @bookingID\n                `);\n\n        // If the above select query got no result then the booking is not found, throws a 404\n        if (checkBooking.recordset.length === 0) {\n            return res.status(404).json({message: \"Booking not found\"});\n        }\n\n        // Getting the first row of the returned result\n        const booking = checkBooking.recordset[0];\n\n        // Checking if the booking's userID matches the current logged in's userID, if it doesn't then throw a 403\n        // since the user isn't authorized to pay for this booking.\n        if (booking.UserID !== userID) {\n            return res.status(403).json({message: \"You are not authorized to pay for this booking since it's not yours.\"});\n        }\n\n        // Status checking: cannot pay a booking that's cancelled\n        if (booking.Status === 'cancelled') {\n            return res.status(400).json({message: \"Cannot pay for a cancelled booking!\"});\n        }\n\n        // If the booking is already paid then the user cant pay it again!\n        if (booking.Payment_Status === 'completed') {\n            return res.status(400).json({message: \"This booking has already been paid.\"});\n        }\n\n        // Ensuring that transactionID is passed when the payment method is anything but a cash method\n        // If there is no transactionID, and the payment method isnt cash, then throw a 400 error\n        const transactionIdMethods = ['credit_card', 'debit_card', 'whish', 'omt'];\n        if (transactionIdMethods.includes(booking.Payment_Method) && !transactionID) {\n            return res.status(400).json({message: \"Transaction ID is needed for this payment method!\"});\n        }\n\n        // If all's good then update the Payment row of the bookingID concerned and change the status to \n        // completed, with setting the transactionID (if available) and setting the paidAt to the current date.\n        await pool.request()\n            .input(\"bookingID\", sql.Int, bookingID)\n            .input(\"transactionID\", sql.VarChar, transactionID || null)\n            .query(`\n                UPDATE Payment\n                SET [Status] = 'completed',\n                    Transaction_ID = @transactionID,\n                    paidAt = GETDATE()\n                WHERE Booking_ID = @bookingID\n                `);\n\n        // Send a success message with the booking id and payment status as completed\n        res.status(200).json({\n            message: \"Payment completed.\",\n            bookingID: bookingID,\n            paymentStatus: \"completed\"\n        });\n    } catch (error) {\n        // Throws an error in case the booking id is invalid, or any other unexpected issue that occurred\n        console.error(\"Unexpected error occurred when processing payment:\", error);\n\n        if (error.number === 547) {\n            return res.status(400).json({message: \"Invalid booking ID.\"});\n        }\n\n        res.status(500).json({message: \"An unexpected error occurred when processing the payment.\"});\n    }\n})\n\n// User rating a booking functionality\nconst userRateBooking = asyncHandler(async (req, res) => {\n    // Getting the needed input from the passed body and the userID passed from the middleware\n    const { bookingID, ratingScore, reviewText } = req.body;\n    const userID = req.userID;\n\n    // If the needed values are empty then throw a 400 error\n    if (!bookingID || !ratingScore || !reviewText) {\n        return res.status(400).json({message: \"You have to pass a booking ID, rating score and review text to rate a booking.\"});\n    }\n\n    // If the rating score isn't a number, or isn't between 1 and 5, then throw an error 400\n    if (!Number.isInteger(ratingScore) || ratingScore < 1 || ratingScore > 5) {\n        return res.status(400).json({message: \"Rating score must be a number between 1 and 5!\"});\n    }\n\n    // If the review text is too short then throw a 400 error\n    if (reviewText.trim().length < 15) {\n        return res.status(400).json({message: \"Please write your review text longer, that's too short.\"});\n    }\n\n    try {\n        const pool = getPool();\n\n        // Check if the booking id passed exists\n        const checkBooking = await pool.request()\n            .input(\"bookingID\", sql.Int, bookingID)\n            .input(\"userID\", sql.Int, userID)\n            .query(`\n                SELECT b.Booking_ID, b.UserID, b.Technician_ID, b.[Status]\n                FROM Booking b\n                WHERE b.Booking_ID = @bookingID\n                `);\n\n        // If nothing was returned from the above query then throw a 404 because the booking isn't found\n        if (checkBooking.recordset.length === 0) {\n            return res.status(404).json({message: \"Booking not found.\"});\n        }\n\n        // Get the first booking row\n        const booking = checkBooking.recordset[0];\n\n        // Check if the booking's user id matches the userid of the logged in user, if not then throw a 403 error\n        if (booking.UserID !== userID) {\n            return res.status(403).json({message: \"You are not authorized to review this booking since it's not yours!\"});\n        }\n\n        //If the booking doesn't have a technician then the user cant rate it\n        if (!booking.Technician_ID) {\n            return res.status(400).json({message: \"Cannot rate a booking without an assigned technician.\"});\n        }\n\n        // If the booking isn't completed then the user cant rate it\n        if (booking.Status !== 'completed') {\n            return res.status(400).json({message: \"You can only rate completed bookings.\"});\n        }\n\n        // Checking if a rating already exists for the concerned booking\n        const existingRating = await pool.request()\n            .input(\"bookingID\", sql.Int, bookingID)\n            .query(`SELECT Rating_ID \n                    FROM Rating \n                    WHERE Booking_ID = @bookingID`);\n\n        // If yes then throw a 409 error\n        if (existingRating.recordset.length > 0) {\n            return res.status(409).json({message: \"This booking has already been rated before!\"});\n        }\n\n        // If all's good then insert the rating data with the information taken from the body\n        await pool.request()\n            .input(\"bookingID\", sql.Int, bookingID)\n            .input(\"userID\", sql.Int, userID)\n            .input(\"technicianID\", sql.Int, booking.Technician_ID)\n            .input(\"ratingScore\", sql.SmallInt, ratingScore)\n            .input(\"reviewText\", sql.NVarChar, reviewText.trim())\n            .query(`\n                INSERT INTO Rating (Booking_ID, User_ID, Technician_ID, Rating_Score, Review_Text)\n                VALUES(@bookingID, @userID, @technicianID, @ratingScore, @reviewText)\n                `);\n\n        // Send a 201 success message\n        res.status(201).json({\n            message: \"Successfully rated this booking!\",\n            bookingID: bookingID,\n            technicianID: booking.Technician_ID,\n            ratingScore: ratingScore\n        });\n    } catch (error) {\n        console.error(\"Unexpected error occurred when trying to rate a booking:\", error);\n\n        // Constraint violation handling\n        if (error.number === 547) {\n            return res.status(400).json({message: \"Invalid rating data, please check your inputs.\"});\n        }\n\n        // unique constraint violation (for duplicate ratings)\n        if (error.number === 2627) {\n            return res.status(409).json({message: \"This booking has already been rated.\"});\n        }\n\n        res.status(500).json({message: \"Unexpected error occurred when trying to rate a booking.\"});\n    }\n})\n\n// The below methods get different types of bookings of the user: pending, confirmed, in progress, completed, cancelled\n// All use the helper function getBookingsByStatus to reduce code duplication\nconst getPendingBookings = asyncHandler(async (req, res) => {\n    const userID = req.userID;\n    const result = await getBookingsByStatus(userID, 'pending', 'pending');\n    \n    if (result.success) {\n        return res.status(result.statusCode).json(result.data);\n    }\n    return res.status(result.statusCode).json({ message: result.error });\n});\n\nconst getConfirmedBookings = asyncHandler(async (req, res) => {\n    const userID = req.userID;\n    const result = await getBookingsByStatus(userID, 'confirmed', 'confirmed');\n    \n    if (result.success) {\n        return res.status(result.statusCode).json(result.data);\n    }\n    return res.status(result.statusCode).json({ message: result.error });\n});\n\nconst getInProgressBookings = asyncHandler(async (req, res) => {\n    const userID = req.userID;\n    const result = await getBookingsByStatus(userID, 'in_progress', 'in progress');\n    \n    if (result.success) {\n        return res.status(result.statusCode).json(result.data);\n    }\n    return res.status(result.statusCode).json({ message: result.error });\n});\n\nconst getCompletedBookings = asyncHandler(async (req, res) => {\n    const userID = req.userID;\n    const result = await getBookingsByStatus(userID, 'completed', 'completed');\n    \n    if (result.success) {\n        return res.status(result.statusCode).json(result.data);\n    }\n    return res.status(result.statusCode).json({ message: result.error });\n});\n\nconst getCancelledBookings = asyncHandler(async (req, res) => {\n    const userID = req.userID;\n    const result = await getBookingsByStatus(userID, 'cancelled', 'cancelled');\n    \n    if (result.success) {\n        return res.status(result.statusCode).json(result.data);\n    }\n    return res.status(result.statusCode).json({ message: result.error });\n});\n\n// User cancelling a booking functionality\nconst userCancelBooking = asyncHandler(async (req, res) => {\n    const { bookingID } = req.body;\n    const userID = req.userID;\n\n    // If no bookingID is passed then throw a 400 error\n    if (!bookingID) {\n        return res.status(400).json({message: \"Booking ID must be passed.\"});\n    }\n\n    try {\n        const pool = getPool();\n\n        // Checking if the bookingID passed is valid and belongs to the user\n        const checkBooking = await pool.request()\n            .input(\"bookingID\", sql.Int, bookingID)\n            .input(\"userID\", sql.Int, userID)\n            .query(`\n                SELECT b.Booking_ID, b.[Status], b.UserID, p.Payment_ID, p.[Status] AS Payment_Status\n                FROM Booking b\n                LEFT JOIN Payment p ON b.Booking_ID = p.Booking_ID\n                WHERE b.Booking_ID = @bookingID\n            `);\n\n        // If no result returned then the booking is not found\n        if (checkBooking.recordset.length === 0) {\n            return res.status(404).json({message: \"Booking not found.\"});\n        }\n\n        const booking = checkBooking.recordset[0];\n\n        // Checking if the booking belongs to the logged in user\n        if (booking.UserID !== userID) {\n            return res.status(403).json({message: \"You are not authorized to cancel this booking since it's not yours.\"});\n        }\n\n        // Can only cancel pending bookings\n        if (booking.Status !== 'pending') {\n            return res.status(400).json({message: `Cannot cancel a booking that is ${booking.Status}. Only pending bookings can be cancelled.`});\n        }\n\n        // If payment is already completed, cannot cancel\n        if (booking.Payment_Status === 'completed') {\n            return res.status(400).json({message: \"Cannot cancel a booking that has already been paid.\"});\n        }\n\n        // Start a transaction to update booking and delete payment\n        const transaction = pool.transaction();\n        await transaction.begin();\n\n        try {\n            // Update booking status to cancelled\n            await transaction.request()\n                .input(\"bookingID\", sql.Int, bookingID)\n                .query(`\n                    UPDATE Booking\n                    SET [Status] = 'cancelled',\n                        modifiedAt = GETDATE()\n                    WHERE Booking_ID = @bookingID\n                `);\n\n            // Delete the payment record since booking is cancelled\n            await transaction.request()\n                .input(\"bookingID\", sql.Int, bookingID)\n                .query(`\n                    DELETE FROM Payment\n                    WHERE Booking_ID = @bookingID\n                `);\n\n            await transaction.commit();\n\n            res.status(200).json({\n                message: \"Booking cancelled successfully.\",\n                bookingID: bookingID,\n                status: \"cancelled\"\n            });\n        } catch (error) {\n            await transaction.rollback();\n            throw error;\n        }\n    } catch (error) {\n        console.error(\"Unexpected error occurred when cancelling booking:\", error);\n        res.status(500).json({message: \"An unexpected error occurred while cancelling the booking.\"});\n    }\n});\n\n\nmodule.exports = { userRequestBooking, userPayBooking, userRateBooking, userCancelBooking, getPendingBookings, getConfirmedBookings, getInProgressBookings, getCompletedBookings, getCancelledBookings };"],"mappings":"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","ignoreList":[]}},"mtime":1765035021223},"{\"assumptions\":{},\"sourceRoot\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end\",\"filename\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/routes/technicianRoutes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"_exploded\":true,\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"VoidPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$48\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$49\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"\"use strict\";\n\n/**\n * This express file sets up the routes of the technician, which consist of:\n *      Non-validation required routes: register and login\n *      Validation required routes: logout, setting specialty and service area, and booking-related (seeing pending bookings, accepting a booking,...)\n * \n * Validation requirement is to have the cookie with the right credintials without being expired.\n * \n * The functionalities for the routes themselves can be found in 3 files:\n *      1. controllers/TechnicianController.js for register, login, logout\n *      2. controllers/TechnicianBookingController.js for booking-related functonalities\n *      3. middlewares/auth.js for authenticating the technician's credentials that are either stored or not stored\n */\n\nvar express = require(\"express\");\nvar _require = require(\"../controllers/TechnicianController\"),\n  registerTechnician = _require.registerTechnician,\n  loginTechnician = _require.loginTechnician,\n  logoutTechnician = _require.logoutTechnician,\n  getProfile = _require.getProfile,\n  updateProfile = _require.updateProfile,\n  settingTechnicianSpecialty = _require.settingTechnicianSpecialty,\n  getSpecialties = _require.getSpecialties,\n  removeSpecialty = _require.removeSpecialty,\n  settingTechnicianServiceArea = _require.settingTechnicianServiceArea,\n  getServiceAreas = _require.getServiceAreas,\n  removeServiceArea = _require.removeServiceArea;\nvar _require2 = require(\"../middlewares/auth\"),\n  technicianValidation = _require2.technicianValidation;\nvar _require3 = require(\"../controllers/TechnicianBookingController\"),\n  getPendingBookings = _require3.getPendingBookings,\n  acceptPendingBooking = _require3.acceptPendingBooking,\n  startBooking = _require3.startBooking,\n  completeBooking = _require3.completeBooking,\n  declineBooking = _require3.declineBooking,\n  getActiveBookings = _require3.getActiveBookings,\n  getCompletedBookings = _require3.getCompletedBookings;\nvar _require4 = require(\"../controllers/EarningsController.js\"),\n  getTechnicianEarnings = _require4.getTechnicianEarnings;\nvar router = express.Router();\nrouter.post(\"/register\", registerTechnician);\nrouter.post(\"/login\", loginTechnician);\nrouter.post(\"/logout\", technicianValidation, logoutTechnician);\nrouter.get(\"/profile\", technicianValidation, getProfile);\nrouter.put(\"/profile\", technicianValidation, updateProfile);\nrouter.post(\"/specialty\", technicianValidation, settingTechnicianSpecialty);\nrouter.get(\"/specialties\", technicianValidation, getSpecialties);\nrouter[\"delete\"](\"/specialty/:categoryId\", technicianValidation, removeSpecialty);\nrouter.post(\"/service-area\", technicianValidation, settingTechnicianServiceArea);\nrouter.get(\"/service-areas\", technicianValidation, getServiceAreas);\nrouter[\"delete\"](\"/service-area/:areaId\", technicianValidation, removeServiceArea);\nrouter.get(\"/booking/get-pendings\", technicianValidation, getPendingBookings);\nrouter.get(\"/booking/active\", technicianValidation, getActiveBookings);\nrouter.get(\"/booking/completed\", technicianValidation, getCompletedBookings);\nrouter.post(\"/booking/accept\", technicianValidation, acceptPendingBooking);\nrouter.post(\"/booking/start\", technicianValidation, startBooking);\nrouter.post(\"/booking/complete\", technicianValidation, completeBooking);\nrouter.post(\"/booking/decline\", technicianValidation, declineBooking);\nrouter.get(\"/earnings\", technicianValidation, getTechnicianEarnings);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsIl9yZXF1aXJlIiwicmVnaXN0ZXJUZWNobmljaWFuIiwibG9naW5UZWNobmljaWFuIiwibG9nb3V0VGVjaG5pY2lhbiIsImdldFByb2ZpbGUiLCJ1cGRhdGVQcm9maWxlIiwic2V0dGluZ1RlY2huaWNpYW5TcGVjaWFsdHkiLCJnZXRTcGVjaWFsdGllcyIsInJlbW92ZVNwZWNpYWx0eSIsInNldHRpbmdUZWNobmljaWFuU2VydmljZUFyZWEiLCJnZXRTZXJ2aWNlQXJlYXMiLCJyZW1vdmVTZXJ2aWNlQXJlYSIsIl9yZXF1aXJlMiIsInRlY2huaWNpYW5WYWxpZGF0aW9uIiwiX3JlcXVpcmUzIiwiZ2V0UGVuZGluZ0Jvb2tpbmdzIiwiYWNjZXB0UGVuZGluZ0Jvb2tpbmciLCJzdGFydEJvb2tpbmciLCJjb21wbGV0ZUJvb2tpbmciLCJkZWNsaW5lQm9va2luZyIsImdldEFjdGl2ZUJvb2tpbmdzIiwiZ2V0Q29tcGxldGVkQm9va2luZ3MiLCJfcmVxdWlyZTQiLCJnZXRUZWNobmljaWFuRWFybmluZ3MiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJwb3N0IiwiZ2V0IiwicHV0IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL2hvbWUvc2Vyai9Eb2N1bWVudHMvR2l0SHViL0ZpeEFwcGxpYW5jZS1ib29raW5nQ29tbWVyY2UvYmFjay1lbmQvc3JjL3JvdXRlcy8iLCJzb3VyY2VzIjpbInRlY2huaWNpYW5Sb3V0ZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBUaGlzIGV4cHJlc3MgZmlsZSBzZXRzIHVwIHRoZSByb3V0ZXMgb2YgdGhlIHRlY2huaWNpYW4sIHdoaWNoIGNvbnNpc3Qgb2Y6XG4gKiAgICAgIE5vbi12YWxpZGF0aW9uIHJlcXVpcmVkIHJvdXRlczogcmVnaXN0ZXIgYW5kIGxvZ2luXG4gKiAgICAgIFZhbGlkYXRpb24gcmVxdWlyZWQgcm91dGVzOiBsb2dvdXQsIHNldHRpbmcgc3BlY2lhbHR5IGFuZCBzZXJ2aWNlIGFyZWEsIGFuZCBib29raW5nLXJlbGF0ZWQgKHNlZWluZyBwZW5kaW5nIGJvb2tpbmdzLCBhY2NlcHRpbmcgYSBib29raW5nLC4uLilcbiAqIFxuICogVmFsaWRhdGlvbiByZXF1aXJlbWVudCBpcyB0byBoYXZlIHRoZSBjb29raWUgd2l0aCB0aGUgcmlnaHQgY3JlZGludGlhbHMgd2l0aG91dCBiZWluZyBleHBpcmVkLlxuICogXG4gKiBUaGUgZnVuY3Rpb25hbGl0aWVzIGZvciB0aGUgcm91dGVzIHRoZW1zZWx2ZXMgY2FuIGJlIGZvdW5kIGluIDMgZmlsZXM6XG4gKiAgICAgIDEuIGNvbnRyb2xsZXJzL1RlY2huaWNpYW5Db250cm9sbGVyLmpzIGZvciByZWdpc3RlciwgbG9naW4sIGxvZ291dFxuICogICAgICAyLiBjb250cm9sbGVycy9UZWNobmljaWFuQm9va2luZ0NvbnRyb2xsZXIuanMgZm9yIGJvb2tpbmctcmVsYXRlZCBmdW5jdG9uYWxpdGllc1xuICogICAgICAzLiBtaWRkbGV3YXJlcy9hdXRoLmpzIGZvciBhdXRoZW50aWNhdGluZyB0aGUgdGVjaG5pY2lhbidzIGNyZWRlbnRpYWxzIHRoYXQgYXJlIGVpdGhlciBzdG9yZWQgb3Igbm90IHN0b3JlZFxuICovXG5cbmNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKFwiZXhwcmVzc1wiKTtcbmNvbnN0IHtyZWdpc3RlclRlY2huaWNpYW4sIGxvZ2luVGVjaG5pY2lhbiwgbG9nb3V0VGVjaG5pY2lhbiwgZ2V0UHJvZmlsZSwgdXBkYXRlUHJvZmlsZSwgc2V0dGluZ1RlY2huaWNpYW5TcGVjaWFsdHksIGdldFNwZWNpYWx0aWVzLCByZW1vdmVTcGVjaWFsdHksIHNldHRpbmdUZWNobmljaWFuU2VydmljZUFyZWEsIGdldFNlcnZpY2VBcmVhcywgcmVtb3ZlU2VydmljZUFyZWF9ID0gcmVxdWlyZShcIi4uL2NvbnRyb2xsZXJzL1RlY2huaWNpYW5Db250cm9sbGVyXCIpO1xuY29uc3Qge3RlY2huaWNpYW5WYWxpZGF0aW9ufSA9IHJlcXVpcmUoXCIuLi9taWRkbGV3YXJlcy9hdXRoXCIpO1xuY29uc3Qge2dldFBlbmRpbmdCb29raW5ncywgYWNjZXB0UGVuZGluZ0Jvb2tpbmcsIHN0YXJ0Qm9va2luZywgY29tcGxldGVCb29raW5nLCBkZWNsaW5lQm9va2luZywgZ2V0QWN0aXZlQm9va2luZ3MsIGdldENvbXBsZXRlZEJvb2tpbmdzfSA9IHJlcXVpcmUoXCIuLi9jb250cm9sbGVycy9UZWNobmljaWFuQm9va2luZ0NvbnRyb2xsZXJcIik7XG5jb25zdCB7IGdldFRlY2huaWNpYW5FYXJuaW5ncyB9ID0gcmVxdWlyZShcIi4uL2NvbnRyb2xsZXJzL0Vhcm5pbmdzQ29udHJvbGxlci5qc1wiKTtcblxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcblxucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXJcIiwgcmVnaXN0ZXJUZWNobmljaWFuKTtcbnJvdXRlci5wb3N0KFwiL2xvZ2luXCIsIGxvZ2luVGVjaG5pY2lhbik7XG5yb3V0ZXIucG9zdChcIi9sb2dvdXRcIiwgdGVjaG5pY2lhblZhbGlkYXRpb24sIGxvZ291dFRlY2huaWNpYW4pO1xuXG5yb3V0ZXIuZ2V0KFwiL3Byb2ZpbGVcIiwgdGVjaG5pY2lhblZhbGlkYXRpb24sIGdldFByb2ZpbGUpO1xucm91dGVyLnB1dChcIi9wcm9maWxlXCIsIHRlY2huaWNpYW5WYWxpZGF0aW9uLCB1cGRhdGVQcm9maWxlKTtcblxucm91dGVyLnBvc3QoXCIvc3BlY2lhbHR5XCIsIHRlY2huaWNpYW5WYWxpZGF0aW9uLCBzZXR0aW5nVGVjaG5pY2lhblNwZWNpYWx0eSlcbnJvdXRlci5nZXQoXCIvc3BlY2lhbHRpZXNcIiwgdGVjaG5pY2lhblZhbGlkYXRpb24sIGdldFNwZWNpYWx0aWVzKTtcbnJvdXRlci5kZWxldGUoXCIvc3BlY2lhbHR5LzpjYXRlZ29yeUlkXCIsIHRlY2huaWNpYW5WYWxpZGF0aW9uLCByZW1vdmVTcGVjaWFsdHkpO1xuXG5yb3V0ZXIucG9zdChcIi9zZXJ2aWNlLWFyZWFcIiwgdGVjaG5pY2lhblZhbGlkYXRpb24sIHNldHRpbmdUZWNobmljaWFuU2VydmljZUFyZWEpO1xucm91dGVyLmdldChcIi9zZXJ2aWNlLWFyZWFzXCIsIHRlY2huaWNpYW5WYWxpZGF0aW9uLCBnZXRTZXJ2aWNlQXJlYXMpO1xucm91dGVyLmRlbGV0ZShcIi9zZXJ2aWNlLWFyZWEvOmFyZWFJZFwiLCB0ZWNobmljaWFuVmFsaWRhdGlvbiwgcmVtb3ZlU2VydmljZUFyZWEpO1xuXG5yb3V0ZXIuZ2V0KFwiL2Jvb2tpbmcvZ2V0LXBlbmRpbmdzXCIsIHRlY2huaWNpYW5WYWxpZGF0aW9uLCBnZXRQZW5kaW5nQm9va2luZ3MpO1xucm91dGVyLmdldChcIi9ib29raW5nL2FjdGl2ZVwiLCB0ZWNobmljaWFuVmFsaWRhdGlvbiwgZ2V0QWN0aXZlQm9va2luZ3MpO1xucm91dGVyLmdldChcIi9ib29raW5nL2NvbXBsZXRlZFwiLCB0ZWNobmljaWFuVmFsaWRhdGlvbiwgZ2V0Q29tcGxldGVkQm9va2luZ3MpO1xucm91dGVyLnBvc3QoXCIvYm9va2luZy9hY2NlcHRcIiwgdGVjaG5pY2lhblZhbGlkYXRpb24sIGFjY2VwdFBlbmRpbmdCb29raW5nKTtcbnJvdXRlci5wb3N0KFwiL2Jvb2tpbmcvc3RhcnRcIiwgdGVjaG5pY2lhblZhbGlkYXRpb24sIHN0YXJ0Qm9va2luZyk7XG5yb3V0ZXIucG9zdChcIi9ib29raW5nL2NvbXBsZXRlXCIsIHRlY2huaWNpYW5WYWxpZGF0aW9uLCBjb21wbGV0ZUJvb2tpbmcpO1xucm91dGVyLnBvc3QoXCIvYm9va2luZy9kZWNsaW5lXCIsIHRlY2huaWNpYW5WYWxpZGF0aW9uLCBkZWNsaW5lQm9va2luZyk7XG5cbnJvdXRlci5nZXQoXCIvZWFybmluZ3NcIiwgdGVjaG5pY2lhblZhbGlkYXRpb24sIGdldFRlY2huaWNpYW5FYXJuaW5ncyk7XG5cbm1vZHVsZS5leHBvcnRzID0gcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtB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","map":{"version":3,"names":["express","require","_require","registerTechnician","loginTechnician","logoutTechnician","getProfile","updateProfile","settingTechnicianSpecialty","getSpecialties","removeSpecialty","settingTechnicianServiceArea","getServiceAreas","removeServiceArea","_require2","technicianValidation","_require3","getPendingBookings","acceptPendingBooking","startBooking","completeBooking","declineBooking","getActiveBookings","getCompletedBookings","_require4","getTechnicianEarnings","router","Router","post","get","put","module","exports"],"sourceRoot":"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/routes/","sources":["technicianRoutes.js"],"sourcesContent":["/**\n * This express file sets up the routes of the technician, which consist of:\n *      Non-validation required routes: register and login\n *      Validation required routes: logout, setting specialty and service area, and booking-related (seeing pending bookings, accepting a booking,...)\n * \n * Validation requirement is to have the cookie with the right credintials without being expired.\n * \n * The functionalities for the routes themselves can be found in 3 files:\n *      1. controllers/TechnicianController.js for register, login, logout\n *      2. controllers/TechnicianBookingController.js for booking-related functonalities\n *      3. middlewares/auth.js for authenticating the technician's credentials that are either stored or not stored\n */\n\nconst express = require(\"express\");\nconst {registerTechnician, loginTechnician, logoutTechnician, getProfile, updateProfile, settingTechnicianSpecialty, getSpecialties, removeSpecialty, settingTechnicianServiceArea, getServiceAreas, removeServiceArea} = require(\"../controllers/TechnicianController\");\nconst {technicianValidation} = require(\"../middlewares/auth\");\nconst {getPendingBookings, acceptPendingBooking, startBooking, completeBooking, declineBooking, getActiveBookings, getCompletedBookings} = require(\"../controllers/TechnicianBookingController\");\nconst { getTechnicianEarnings } = require(\"../controllers/EarningsController.js\");\n\nconst router = express.Router();\n\nrouter.post(\"/register\", registerTechnician);\nrouter.post(\"/login\", loginTechnician);\nrouter.post(\"/logout\", technicianValidation, logoutTechnician);\n\nrouter.get(\"/profile\", technicianValidation, getProfile);\nrouter.put(\"/profile\", technicianValidation, updateProfile);\n\nrouter.post(\"/specialty\", technicianValidation, settingTechnicianSpecialty)\nrouter.get(\"/specialties\", technicianValidation, getSpecialties);\nrouter.delete(\"/specialty/:categoryId\", technicianValidation, removeSpecialty);\n\nrouter.post(\"/service-area\", technicianValidation, settingTechnicianServiceArea);\nrouter.get(\"/service-areas\", technicianValidation, getServiceAreas);\nrouter.delete(\"/service-area/:areaId\", technicianValidation, removeServiceArea);\n\nrouter.get(\"/booking/get-pendings\", technicianValidation, getPendingBookings);\nrouter.get(\"/booking/active\", technicianValidation, getActiveBookings);\nrouter.get(\"/booking/completed\", technicianValidation, getCompletedBookings);\nrouter.post(\"/booking/accept\", technicianValidation, acceptPendingBooking);\nrouter.post(\"/booking/start\", technicianValidation, startBooking);\nrouter.post(\"/booking/complete\", technicianValidation, completeBooking);\nrouter.post(\"/booking/decline\", technicianValidation, declineBooking);\n\nrouter.get(\"/earnings\", technicianValidation, getTechnicianEarnings);\n\nmodule.exports = router;"],"mappings":"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","ignoreList":[]}},"mtime":1764743193073},"{\"assumptions\":{},\"sourceRoot\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end\",\"filename\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/controllers/TechnicianController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"_exploded\":true,\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"VoidPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$48\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$49\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n/**\n * This controller provides the following functionalities for a technician: registering, logging in, logging out,\n * setting specialty (appliance categories they work with), and setting service areas.\n * \n * For storing the password, bcrypt is used to hash and jwt (jsonwebtoken) is used to sign a token and store it as cookie.\n */\n\nvar asyncHandler = require(\"express-async-handler\");\nvar bcrypt = require(\"bcrypt\");\nvar jwt = require(\"jsonwebtoken\");\n\n// sql needed for the type definitions in .input\n// getPool is to do queries\nvar _require = require(\"../config/database\"),\n  getPool = _require.getPool,\n  sql = _require.sql;\n\n// Import validation utilities\nvar _require2 = require(\"../utils/validators\"),\n  isValidEmail = _require2.isValidEmail,\n  isValidPhone = _require2.isValidPhone,\n  isValidPassword = _require2.isValidPassword,\n  isValidName = _require2.isValidName,\n  sanitizeString = _require2.sanitizeString;\n\n// Handles the technician registering functionality\nvar registerTechnician = asyncHandler(/*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee(req, res) {\n    var _req$body, firstName, lastName, email, phone, password, passwordValidation, pool, hashedPassword, result, _t;\n    return _regenerator[\"default\"].wrap(function (_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          // Getting the needed data from the request body\n          _req$body = req.body, firstName = _req$body.firstName, lastName = _req$body.lastName, email = _req$body.email, phone = _req$body.phone, password = _req$body.password; // Checking if any of them is empty, if yes then we throw a 400\n          if (!(!firstName || !lastName || !email || !phone || !password)) {\n            _context.next = 1;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"You have to insert all data to register.\"\n          }));\n        case 1:\n          if (isValidName(firstName)) {\n            _context.next = 2;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"First name must be 2-30 characters and contain only letters.\"\n          }));\n        case 2:\n          if (isValidName(lastName)) {\n            _context.next = 3;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"Last name must be 2-30 characters and contain only letters.\"\n          }));\n        case 3:\n          if (isValidEmail(email)) {\n            _context.next = 4;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"Please enter a valid email address.\"\n          }));\n        case 4:\n          if (isValidPhone(phone)) {\n            _context.next = 5;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"Please enter a valid phone number.\"\n          }));\n        case 5:\n          // Validate password strength\n          passwordValidation = isValidPassword(password);\n          if (passwordValidation.valid) {\n            _context.next = 6;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: passwordValidation.message\n          }));\n        case 6:\n          _context.prev = 6;\n          pool = getPool(); // Hashing the password before storing\n          _context.next = 7;\n          return bcrypt.hash(password, 11);\n        case 7:\n          hashedPassword = _context.sent;\n          _context.next = 8;\n          return pool.request().input(\"firstName\", sql.VarChar, sanitizeString(firstName)).input(\"lastName\", sql.VarChar, sanitizeString(lastName)).input(\"email\", sql.VarChar, sanitizeString(email).toLowerCase()).input(\"phone\", sql.VarChar, sanitizeString(phone)).input(\"hashedPassword\", sql.VarChar, hashedPassword).query(\"\\n            INSERT INTO Technician (First_Name, Last_Name, Email, Phone, Password_Hash)\\n            VALUES(@firstName, @lastName, @email, @phone, @hashedPassword)\\n            \");\n        case 8:\n          result = _context.sent;\n          // Sending success message\n          res.status(201).json({\n            message: \"Technician registered successfully!\"\n          });\n          _context.next = 11;\n          break;\n        case 9:\n          _context.prev = 9;\n          _t = _context[\"catch\"](6);\n          if (!(_t.number === 2627 || _t.number === 2601)) {\n            _context.next = 10;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(409).json({\n            message: \"Another account exists already either with this email address or phone number. If you have another account, please use that one instead.\"\n          }));\n        case 10:\n          // Throwing the console error and 500 status in case something goes wrong\n          console.error(\"Unexpected error registering a new technician account: \", _t);\n          res.status(500).json({\n            message: \"An unexpected error occurred while registering the technician.\"\n          });\n        case 11:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[6, 9]]);\n  }));\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}());\n\n// Handling the logging in functionality for technicians\nvar loginTechnician = asyncHandler(/*#__PURE__*/function () {\n  var _ref2 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(req, res) {\n    var _req$body2, email, password, pool, result, technician, isPasswordValid, technicianToken, _t2;\n    return _regenerator[\"default\"].wrap(function (_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          // Getting the email and password that the technician is trying to login with\n          _req$body2 = req.body, email = _req$body2.email, password = _req$body2.password; // Input validation, if either empty then send 400 error\n          if (!(!email || !password)) {\n            _context2.next = 1;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(400).json({\n            message: \"You have to enter both your email and your password\"\n          }));\n        case 1:\n          if (isValidEmail(email)) {\n            _context2.next = 2;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(400).json({\n            message: \"Please enter a valid email address.\"\n          }));\n        case 2:\n          _context2.prev = 2;\n          pool = getPool(); // Searching in the database for a technician with the same email passed to check if exists\n          _context2.next = 3;\n          return pool.request().input(\"email\", sql.VarChar, sanitizeString(email).toLowerCase()).query(\"\\n                SELECT Technician_ID, First_Name, Last_Name, Email, Password_Hash, isActive, Verified\\n                FROM Technician\\n                WHERE Email = @email\\n                \");\n        case 3:\n          result = _context2.sent;\n          if (!(result.recordset.length === 0)) {\n            _context2.next = 4;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(401).json({\n            message: \"Invalid email address or password.\"\n          }));\n        case 4:\n          // Now we are getting the first technician that we got having the same email address\n          technician = result.recordset[0]; // Check if the technician account is active\n          if (technician.isActive) {\n            _context2.next = 5;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(403).json({\n            message: \"Your account is deactivated. Please contact us to resolve this issue.\"\n          }));\n        case 5:\n          if (technician.Verified) {\n            _context2.next = 6;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(403).json({\n            message: \"Your account is not verified yet. Please wait for admin approval.\"\n          }));\n        case 6:\n          _context2.next = 7;\n          return bcrypt.compare(password, technician.Password_Hash);\n        case 7:\n          isPasswordValid = _context2.sent;\n          if (isPasswordValid) {\n            _context2.next = 8;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(401).json({\n            message: \"Invalid email address or password.\"\n          }));\n        case 8:\n          // If the password matches, then create a technician token using jwt by signing it with the TECHNICIAN_ACCESS_TOKEN\n          // stored in the .env file. The token expires in 1 day.\n          technicianToken = jwt.sign({\n            id: technician.Technician_ID,\n            firstName: technician.First_Name,\n            lastName: technician.Last_Name,\n            email: technician.Email\n          }, process.env.TECHNICIAN_ACCESS_TOKEN, {\n            expiresIn: \"1d\"\n          }); // If a cookie exists already for the technician, clear it\n          if (req.cookies.technician_access_token) {\n            res.clearCookie('technician_access_token');\n          }\n\n          // Store the new cookie such that it lasts 1 day, and throw a 200 success message with some data about the technician\n          // (id, firstName, lastName, email)\n          res.cookie('technician_access_token', technicianToken, {\n            httpOnly: true,\n            secure: process.env.NODE_ENV === \"production\",\n            sameSite: process.env.NODE_ENV === \"production\" ? 'strict' : 'lax',\n            maxAge: 24 * 60 * 60 * 1000\n          });\n          res.status(200).json({\n            message: \"Successfully logged in.\",\n            technician: {\n              id: technician.Technician_ID,\n              firstName: technician.First_Name,\n              lastName: technician.Last_Name,\n              email: technician.Email\n            }\n          });\n\n          // If anything goes wrong, throw an error\n          _context2.next = 10;\n          break;\n        case 9:\n          _context2.prev = 9;\n          _t2 = _context2[\"catch\"](2);\n          console.error(\"Login error:\", _t2);\n          res.status(500).json({\n            message: \"An error occurred during login.\"\n          });\n        case 10:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[2, 9]]);\n  }));\n  return function (_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}());\n\n// Logging out functionality by clearing the technician's cookie and sending a success message\nvar logoutTechnician = asyncHandler(/*#__PURE__*/function () {\n  var _ref3 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee3(req, res) {\n    return _regenerator[\"default\"].wrap(function (_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          res.clearCookie('technician_access_token');\n          res.status(200).json({\n            message: \"Successfully logged out.\"\n          });\n        case 1:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3);\n  }));\n  return function (_x5, _x6) {\n    return _ref3.apply(this, arguments);\n  };\n}());\n\n// Getting technician's profile\nvar getProfile = asyncHandler(/*#__PURE__*/function () {\n  var _ref4 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee4(req, res) {\n    var technicianID, pool, technicianResult, applianceResult, serviceAreaResult, technicianData, applianceCategories, serviceAreas, _t3;\n    return _regenerator[\"default\"].wrap(function (_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          technicianID = req.technicianID;\n          _context4.prev = 1;\n          pool = getPool();\n          _context4.next = 2;\n          return pool.request().input(\"technicianId\", sql.Int, technicianID).query(\"\\n            SELECT tec.Technician_ID, tec.First_Name, tec.Last_Name, tec.Email, tec.Phone, tec.isActive, tec.Verified, tec.Average_Rating, tec.Total_Jobs\\n            FROM [Technician] AS tec\\n            WHERE tec.Technician_ID = @technicianId\\n            \");\n        case 2:\n          technicianResult = _context4.sent;\n          if (!(technicianResult.recordset.length === 0)) {\n            _context4.next = 3;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(404).json({\n            message: \"Technician not found.\"\n          }));\n        case 3:\n          _context4.next = 4;\n          return pool.request().input(\"technicianId\", sql.Int, technicianID).query(\"\\n            SELECT tec_cat.Category_ID, cat.NameEN, cat.NameAR, cat.Description, tec_cat.Years_Of_Experience, tec_cat.Certification_Date\\n            FROM Technician_Category AS tec_cat\\n            JOIN Appliance_Category AS cat ON tec_cat.Category_ID = cat.Category_ID\\n            WHERE tec_cat.Technician_ID = @technicianId\\n            \");\n        case 4:\n          applianceResult = _context4.sent;\n          _context4.next = 5;\n          return pool.request().input(\"technicianId\", sql.Int, technicianID).query(\"\\n            SELECT area.Area_ID, area.NameEN, area.NameAR, area.Region, tec_area.Priority_Order\\n            FROM Technician_Service_Area AS tec_area\\n            JOIN Service_Area AS area ON tec_area.Area_ID = area.Area_ID\\n            WHERE tec_area.Technician_ID = @technicianId\\n            ORDER BY tec_area.Priority_Order ASC, area.NameEN ASC\\n            \");\n        case 5:\n          serviceAreaResult = _context4.sent;\n          technicianData = technicianResult.recordset[0];\n          applianceCategories = applianceResult.recordset.map(function (record) {\n            return {\n              categoryId: record.Category_ID,\n              nameEN: record.NameEN,\n              nameAR: record.NameAR,\n              description: record.Description,\n              yearsOfExperience: record.Years_Of_Experience,\n              certificationDate: record.Certification_Date\n            };\n          });\n          serviceAreas = serviceAreaResult.recordset.map(function (record) {\n            return {\n              areaId: record.Area_ID,\n              nameEN: record.NameEN,\n              nameAR: record.NameAR,\n              region: record.Region,\n              priority: record.Priority_Order\n            };\n          });\n          res.status(200).json({\n            firstName: technicianData.First_Name,\n            lastName: technicianData.Last_Name,\n            email: technicianData.Email,\n            phone: technicianData.Phone,\n            isActive: technicianData.isActive,\n            verified: technicianData.Verified,\n            averageRating: technicianData.Average_Rating,\n            totalJobs: technicianData.Total_Jobs,\n            applianceCategories: applianceCategories,\n            serviceAreas: serviceAreas\n          });\n          _context4.next = 7;\n          break;\n        case 6:\n          _context4.prev = 6;\n          _t3 = _context4[\"catch\"](1);\n          // Throwing the console error and 500 status in case something goes wrong.\n          console.error(\"Unexpected error occurred when trying to get profile: \", _t3);\n          res.status(500).json({\n            message: \"An unexpected error occurred while getting profile.\"\n          });\n        case 7:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4, null, [[1, 6]]);\n  }));\n  return function (_x7, _x8) {\n    return _ref4.apply(this, arguments);\n  };\n}());\n\n// Updating technician's profile information\nvar updateProfile = asyncHandler(/*#__PURE__*/function () {\n  var _ref5 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee5(req, res) {\n    var _req$body3, firstName, lastName, email, phone, technicianID, pool, result, _t4;\n    return _regenerator[\"default\"].wrap(function (_context5) {\n      while (1) switch (_context5.prev = _context5.next) {\n        case 0:\n          _req$body3 = req.body, firstName = _req$body3.firstName, lastName = _req$body3.lastName, email = _req$body3.email, phone = _req$body3.phone;\n          technicianID = req.technicianID; // Checking if any of them is empty, if yes then we throw a 400\n          if (!(!firstName || !lastName || !email || !phone)) {\n            _context5.next = 1;\n            break;\n          }\n          return _context5.abrupt(\"return\", res.status(400).json({\n            message: \"You have to insert all profile data to update.\"\n          }));\n        case 1:\n          if (isValidName(firstName)) {\n            _context5.next = 2;\n            break;\n          }\n          return _context5.abrupt(\"return\", res.status(400).json({\n            message: \"First name must be 2-30 characters and contain only letters.\"\n          }));\n        case 2:\n          if (isValidName(lastName)) {\n            _context5.next = 3;\n            break;\n          }\n          return _context5.abrupt(\"return\", res.status(400).json({\n            message: \"Last name must be 2-30 characters and contain only letters.\"\n          }));\n        case 3:\n          if (isValidEmail(email)) {\n            _context5.next = 4;\n            break;\n          }\n          return _context5.abrupt(\"return\", res.status(400).json({\n            message: \"Please enter a valid email address.\"\n          }));\n        case 4:\n          if (isValidPhone(phone)) {\n            _context5.next = 5;\n            break;\n          }\n          return _context5.abrupt(\"return\", res.status(400).json({\n            message: \"Please enter a valid phone number.\"\n          }));\n        case 5:\n          _context5.prev = 5;\n          pool = getPool(); // Updating the technician data\n          _context5.next = 6;\n          return pool.request().input(\"technicianId\", sql.Int, technicianID).input(\"firstName\", sql.VarChar, sanitizeString(firstName)).input(\"lastName\", sql.VarChar, sanitizeString(lastName)).input(\"email\", sql.VarChar, sanitizeString(email).toLowerCase()).input(\"phone\", sql.VarChar, sanitizeString(phone)).query(\"\\n                UPDATE [Technician] \\n                SET First_Name = @firstName, Last_Name = @lastName, Email = @email, \\n                    Phone = @phone, modifiedAt = GETDATE()\\n                WHERE Technician_ID = @technicianId\\n            \");\n        case 6:\n          result = _context5.sent;\n          if (!(result.rowsAffected[0] === 0)) {\n            _context5.next = 7;\n            break;\n          }\n          return _context5.abrupt(\"return\", res.status(404).json({\n            message: \"Technician not found or no changes made.\"\n          }));\n        case 7:\n          // Sending success message\n          res.status(200).json({\n            message: \"Technician profile updated successfully!\"\n          });\n          _context5.next = 10;\n          break;\n        case 8:\n          _context5.prev = 8;\n          _t4 = _context5[\"catch\"](5);\n          if (!(_t4.number === 2627 || _t4.number === 2601)) {\n            _context5.next = 9;\n            break;\n          }\n          return _context5.abrupt(\"return\", res.status(409).json({\n            message: \"Another account exists already either with this email address or phone number. If you have another account, please use that one instead.\"\n          }));\n        case 9:\n          // Throwing the console error and 500 status in case something goes wrong\n          console.error(\"Unexpected error when updating technician profile: \", _t4);\n          res.status(500).json({\n            message: \"An unexpected error occurred while updating the technician's profile.\"\n          });\n        case 10:\n        case \"end\":\n          return _context5.stop();\n      }\n    }, _callee5, null, [[5, 8]]);\n  }));\n  return function (_x9, _x0) {\n    return _ref5.apply(this, arguments);\n  };\n}());\n\n// Getting technician's specialties (appliance categories)\nvar getSpecialties = asyncHandler(/*#__PURE__*/function () {\n  var _ref6 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee6(req, res) {\n    var technicianID, pool, result, specialties, _t5;\n    return _regenerator[\"default\"].wrap(function (_context6) {\n      while (1) switch (_context6.prev = _context6.next) {\n        case 0:\n          technicianID = req.technicianID;\n          _context6.prev = 1;\n          pool = getPool(); // Get all specialties for this technician\n          _context6.next = 2;\n          return pool.request().input(\"technicianId\", sql.Int, technicianID).query(\"\\n                SELECT \\n                    tec_cat.Category_ID, \\n                    cat.NameEN, \\n                    cat.NameAR, \\n                    cat.Description,\\n                    tec_cat.Years_Of_Experience, \\n                    tec_cat.Certification_Date,\\n                    tec_cat.createdAt\\n                FROM Technician_Category AS tec_cat\\n                JOIN Appliance_Category AS cat ON tec_cat.Category_ID = cat.Category_ID\\n                WHERE tec_cat.Technician_ID = @technicianId\\n                ORDER BY cat.NameEN ASC\\n            \");\n        case 2:\n          result = _context6.sent;\n          // Format the response by camelCase\n          specialties = result.recordset.map(function (record) {\n            return {\n              categoryId: record.Category_ID,\n              nameEN: record.NameEN,\n              nameAR: record.NameAR,\n              description: record.Description,\n              yearsOfExperience: record.Years_Of_Experience,\n              certificationDate: record.Certification_Date,\n              addedAt: record.createdAt\n            };\n          });\n          res.status(200).json({\n            message: \"Specialties retrieved successfully.\",\n            count: specialties.length,\n            specialties: specialties\n          });\n          _context6.next = 4;\n          break;\n        case 3:\n          _context6.prev = 3;\n          _t5 = _context6[\"catch\"](1);\n          console.error(\"Unexpected error occurred when trying to get specialties: \", _t5);\n          res.status(500).json({\n            message: \"An unexpected error occurred while retrieving specialties.\"\n          });\n        case 4:\n        case \"end\":\n          return _context6.stop();\n      }\n    }, _callee6, null, [[1, 3]]);\n  }));\n  return function (_x1, _x10) {\n    return _ref6.apply(this, arguments);\n  };\n}());\n\n// Setting technician specialty - allows technicians to add appliance categories they specialize in\nvar settingTechnicianSpecialty = asyncHandler(/*#__PURE__*/function () {\n  var _ref7 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee7(req, res) {\n    var _req$body4, applianceCategoryID, yearsOfExperience, certificateDate, technicianID, certDate, today, fiftyYearsAgo, pool, checkCategory, category, checkDuplicate, _t6;\n    return _regenerator[\"default\"].wrap(function (_context7) {\n      while (1) switch (_context7.prev = _context7.next) {\n        case 0:\n          // Getting the specialty data from the body and the technicianID passed from the middleware\n          _req$body4 = req.body, applianceCategoryID = _req$body4.applianceCategoryID, yearsOfExperience = _req$body4.yearsOfExperience, certificateDate = _req$body4.certificateDate;\n          technicianID = req.technicianID; // If required fields are missing, throw a 400 error\n          // Note: yearsOfExperience uses !== undefined to allow 0 as a valid value\n          if (!(!applianceCategoryID || yearsOfExperience === undefined || yearsOfExperience === null)) {\n            _context7.next = 1;\n            break;\n          }\n          return _context7.abrupt(\"return\", res.status(400).json({\n            message: \"Category ID and years of experience are required for you to pass!\"\n          }));\n        case 1:\n          if (!(!Number.isInteger(yearsOfExperience) || yearsOfExperience < 0 || yearsOfExperience > 50)) {\n            _context7.next = 2;\n            break;\n          }\n          return _context7.abrupt(\"return\", res.status(400).json({\n            message: \"Your years of experience should be between 0 and 50.\"\n          }));\n        case 2:\n          if (!certificateDate) {\n            _context7.next = 4;\n            break;\n          }\n          certDate = new Date(certificateDate);\n          today = new Date();\n          today.setHours(0, 0, 0, 0);\n\n          // Certificate date cannot be in the future\n          if (!(certDate > today)) {\n            _context7.next = 3;\n            break;\n          }\n          return _context7.abrupt(\"return\", res.status(400).json({\n            message: \"Certification date cannot be in the future!\"\n          }));\n        case 3:\n          // Certificate date cannot be more than 50 years ago\n          fiftyYearsAgo = new Date();\n          fiftyYearsAgo.setFullYear(fiftyYearsAgo.getFullYear() - 50);\n          if (!(certDate < fiftyYearsAgo)) {\n            _context7.next = 4;\n            break;\n          }\n          return _context7.abrupt(\"return\", res.status(400).json({\n            message: \"Certification date cannot be more than 50 years ago!\"\n          }));\n        case 4:\n          _context7.prev = 4;\n          pool = getPool(); // Check if the appliance category exists and is active\n          _context7.next = 5;\n          return pool.request().input(\"applianceCategoryID\", sql.Int, applianceCategoryID).query(\"\\n                SELECT Category_ID, NameEN, NameAR, isActive\\n                FROM Appliance_Category\\n                WHERE Category_ID = @applianceCategoryID\\n                \");\n        case 5:\n          checkCategory = _context7.sent;\n          if (!(checkCategory.recordset.length === 0)) {\n            _context7.next = 6;\n            break;\n          }\n          return _context7.abrupt(\"return\", res.status(404).json({\n            message: \"Invalid category passed! You should pick one of the available category IDs only.\"\n          }));\n        case 6:\n          category = checkCategory.recordset[0]; // Check if the category is active\n          if (category.isActive) {\n            _context7.next = 7;\n            break;\n          }\n          return _context7.abrupt(\"return\", res.status(400).json({\n            message: \"The category chosen is currently not active!\"\n          }));\n        case 7:\n          _context7.next = 8;\n          return pool.request().input(\"technicianID\", sql.Int, technicianID).input(\"applianceCategoryID\", sql.Int, applianceCategoryID).query(\"\\n                SELECT Technician_ID\\n                FROM Technician_Category\\n                WHERE Technician_ID = @technicianID AND Category_ID = @applianceCategoryID\\n                \");\n        case 8:\n          checkDuplicate = _context7.sent;\n          if (!(checkDuplicate.recordset.length > 0)) {\n            _context7.next = 9;\n            break;\n          }\n          return _context7.abrupt(\"return\", res.status(409).json({\n            message: \"You already have this specialty added.\"\n          }));\n        case 9:\n          _context7.next = 10;\n          return pool.request().input(\"technicianID\", sql.Int, technicianID).input(\"applianceCategoryID\", sql.Int, applianceCategoryID).input(\"yearsOfExperience\", sql.SmallInt, yearsOfExperience).input(\"certificateDate\", sql.Date, certificateDate || null).query(\"\\n                INSERT INTO Technician_Category (Technician_ID, Category_ID, Years_of_Experience, Certification_Date)\\n                VALUES (@technicianID, @applianceCategoryID, @yearsOfExperience, @certificateDate)\\n                \");\n        case 10:\n          // Return success response with specialty details\n          res.status(201).json({\n            message: \"Successfully set your specialty.\",\n            categoryID: category.Category_ID,\n            categoryNameEN: category.NameEN,\n            categoryNameAR: category.NameAR,\n            yearsOfExperience: yearsOfExperience,\n            certificateDate: certificateDate || null\n          });\n          _context7.next = 14;\n          break;\n        case 11:\n          _context7.prev = 11;\n          _t6 = _context7[\"catch\"](4);\n          console.error(\"An unexpected error occurred when trying to set your specialty:\", _t6);\n\n          // Foreign key constraint violation\n          if (!(_t6.number === 547)) {\n            _context7.next = 12;\n            break;\n          }\n          return _context7.abrupt(\"return\", res.status(400).json({\n            message: \"Invalid technician or category ID.\"\n          }));\n        case 12:\n          if (!(_t6.number === 2627)) {\n            _context7.next = 13;\n            break;\n          }\n          return _context7.abrupt(\"return\", res.status(409).json({\n            message: \"You already have this specialty added!\"\n          }));\n        case 13:\n          res.status(500).json({\n            message: \"An unexpected error occurred when trying to set your specialty.\"\n          });\n        case 14:\n        case \"end\":\n          return _context7.stop();\n      }\n    }, _callee7, null, [[4, 11]]);\n  }));\n  return function (_x11, _x12) {\n    return _ref7.apply(this, arguments);\n  };\n}());\n\n// Removing a specialty from technician's profile\nvar removeSpecialty = asyncHandler(/*#__PURE__*/function () {\n  var _ref8 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee8(req, res) {\n    var categoryId, technicianID, parsedCategoryId, pool, checkExists, result, _t7;\n    return _regenerator[\"default\"].wrap(function (_context8) {\n      while (1) switch (_context8.prev = _context8.next) {\n        case 0:\n          categoryId = req.params.categoryId; // Get from URL parameter\n          technicianID = req.technicianID; // Validate categoryId\n          parsedCategoryId = parseInt(categoryId, 10);\n          if (!isNaN(parsedCategoryId)) {\n            _context8.next = 1;\n            break;\n          }\n          return _context8.abrupt(\"return\", res.status(400).json({\n            message: \"Invalid category ID. Must be a number.\"\n          }));\n        case 1:\n          _context8.prev = 1;\n          pool = getPool(); // Check if the specialty exists before deleting\n          _context8.next = 2;\n          return pool.request().input(\"technicianId\", sql.Int, technicianID).input(\"categoryId\", sql.Int, parsedCategoryId).query(\"\\n                SELECT Category_ID\\n                FROM Technician_Category\\n                WHERE Technician_ID = @technicianId AND Category_ID = @categoryId\\n            \");\n        case 2:\n          checkExists = _context8.sent;\n          if (!(checkExists.recordset.length === 0)) {\n            _context8.next = 3;\n            break;\n          }\n          return _context8.abrupt(\"return\", res.status(404).json({\n            message: \"Specialty not found or not assigned to you.\"\n          }));\n        case 3:\n          _context8.next = 4;\n          return pool.request().input(\"technicianId\", sql.Int, technicianID).input(\"categoryId\", sql.Int, parsedCategoryId).query(\"\\n                DELETE FROM Technician_Category\\n                WHERE Technician_ID = @technicianId AND Category_ID = @categoryId\\n            \");\n        case 4:\n          result = _context8.sent;\n          res.status(200).json({\n            message: \"Specialty removed successfully.\"\n          });\n          _context8.next = 6;\n          break;\n        case 5:\n          _context8.prev = 5;\n          _t7 = _context8[\"catch\"](1);\n          console.error(\"Unexpected error occurred when trying to remove specialty: \", _t7);\n          res.status(500).json({\n            message: \"An unexpected error occurred while removing the specialty.\"\n          });\n        case 6:\n        case \"end\":\n          return _context8.stop();\n      }\n    }, _callee8, null, [[1, 5]]);\n  }));\n  return function (_x13, _x14) {\n    return _ref8.apply(this, arguments);\n  };\n}());\n\n// Getting technician's service areas\nvar getServiceAreas = asyncHandler(/*#__PURE__*/function () {\n  var _ref9 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee9(req, res) {\n    var technicianID, pool, result, serviceAreas, _t8;\n    return _regenerator[\"default\"].wrap(function (_context9) {\n      while (1) switch (_context9.prev = _context9.next) {\n        case 0:\n          technicianID = req.technicianID;\n          _context9.prev = 1;\n          pool = getPool(); // Get all service areas for this technician, sorted by priority\n          _context9.next = 2;\n          return pool.request().input(\"technicianId\", sql.Int, technicianID).query(\"\\n                SELECT \\n                    tec_area.Area_ID,\\n                    area.NameEN,\\n                    area.NameAR,\\n                    area.Region,\\n                    tec_area.Priority_Order,\\n                    tec_area.createdAt\\n                FROM Technician_Service_Area AS tec_area\\n                JOIN Service_Area AS area ON tec_area.Area_ID = area.Area_ID\\n                WHERE tec_area.Technician_ID = @technicianId\\n                ORDER BY tec_area.Priority_Order ASC, area.NameEN ASC\\n            \");\n        case 2:\n          result = _context9.sent;\n          // Format the response with consistent camelCase\n          serviceAreas = result.recordset.map(function (record) {\n            return {\n              areaId: record.Area_ID,\n              nameEN: record.NameEN,\n              nameAR: record.NameAR,\n              region: record.Region,\n              priority: record.Priority_Order,\n              addedAt: record.createdAt\n            };\n          });\n          res.status(200).json({\n            message: \"Service areas retrieved successfully.\",\n            count: serviceAreas.length,\n            serviceAreas: serviceAreas\n          });\n          _context9.next = 4;\n          break;\n        case 3:\n          _context9.prev = 3;\n          _t8 = _context9[\"catch\"](1);\n          console.error(\"Unexpected error occurred when trying to get service areas: \", _t8);\n          res.status(500).json({\n            message: \"An unexpected error occurred while retrieving service areas.\"\n          });\n        case 4:\n        case \"end\":\n          return _context9.stop();\n      }\n    }, _callee9, null, [[1, 3]]);\n  }));\n  return function (_x15, _x16) {\n    return _ref9.apply(this, arguments);\n  };\n}());\n\n// Setting technician service area - allows technicians to add areas they work in with priority\nvar settingTechnicianServiceArea = asyncHandler(/*#__PURE__*/function () {\n  var _ref0 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee0(req, res) {\n    var _req$body5, serviceAreaID, priority, technicianID, pool, checkArea, serviceArea, checkDuplicate, _t9;\n    return _regenerator[\"default\"].wrap(function (_context0) {\n      while (1) switch (_context0.prev = _context0.next) {\n        case 0:\n          // Getting the service area data from the body and the technicianID passed from the middleware\n          _req$body5 = req.body, serviceAreaID = _req$body5.serviceAreaID, priority = _req$body5.priority;\n          technicianID = req.technicianID; // If required fields are missing, throw a 400 error\n          if (!(!serviceAreaID || !priority)) {\n            _context0.next = 1;\n            break;\n          }\n          return _context0.abrupt(\"return\", res.status(400).json({\n            message: \"You have to specify from which service area you are and the priority of it.\"\n          }));\n        case 1:\n          if (!(!Number.isInteger(priority) || priority < 1 || priority > 100)) {\n            _context0.next = 2;\n            break;\n          }\n          return _context0.abrupt(\"return\", res.status(400).json({\n            message: \"Priority must be an integer between 1 and 100.\"\n          }));\n        case 2:\n          _context0.prev = 2;\n          pool = getPool(); // Check if the service area exists\n          _context0.next = 3;\n          return pool.request().input(\"serviceAreaID\", sql.Int, serviceAreaID).query(\"\\n                SELECT Area_ID, NameEN, NameAR, Region, isActive\\n                FROM Service_Area\\n                WHERE Area_ID = @serviceAreaID\\n                \");\n        case 3:\n          checkArea = _context0.sent;\n          if (!(checkArea.recordset.length === 0)) {\n            _context0.next = 4;\n            break;\n          }\n          return _context0.abrupt(\"return\", res.status(404).json({\n            message: \"Invalid service area chosen! You have to choose one of the available ones.\"\n          }));\n        case 4:\n          serviceArea = checkArea.recordset[0]; // Check if the service area is active\n          if (serviceArea.isActive) {\n            _context0.next = 5;\n            break;\n          }\n          return _context0.abrupt(\"return\", res.status(400).json({\n            message: \"Currently this service area is not active.\"\n          }));\n        case 5:\n          _context0.next = 6;\n          return pool.request().input(\"technicianID\", sql.Int, technicianID).input(\"serviceAreaID\", sql.Int, serviceAreaID).query(\"\\n                SELECT Technician_ID\\n                FROM Technician_Service_Area\\n                WHERE Technician_ID = @technicianID AND Area_ID = @serviceAreaID\\n                \");\n        case 6:\n          checkDuplicate = _context0.sent;\n          if (!(checkDuplicate.recordset.length > 0)) {\n            _context0.next = 7;\n            break;\n          }\n          return _context0.abrupt(\"return\", res.status(409).json({\n            message: \"You already have set this service area!\"\n          }));\n        case 7:\n          _context0.next = 8;\n          return pool.request().input(\"technicianID\", sql.Int, technicianID).input(\"serviceAreaID\", sql.Int, serviceAreaID).input(\"priority\", sql.Int, priority).query(\"\\n                INSERT INTO Technician_Service_Area (Technician_ID, Area_ID, Priority_Order)\\n                VALUES (@technicianID, @serviceAreaID, @priority)\\n                \");\n        case 8:\n          // Return success response with service area details\n          res.status(201).json({\n            message: \"Successfully set your service area.\",\n            areaID: serviceArea.Area_ID,\n            areaNameEN: serviceArea.NameEN,\n            areaNameAR: serviceArea.NameAR,\n            areaRegion: serviceArea.Region,\n            priority: priority\n          });\n          _context0.next = 12;\n          break;\n        case 9:\n          _context0.prev = 9;\n          _t9 = _context0[\"catch\"](2);\n          console.error(\"An unexpected error occurred when trying to set your service area:\", _t9);\n\n          // Foreign key constraint violation\n          if (!(_t9.number === 547)) {\n            _context0.next = 10;\n            break;\n          }\n          return _context0.abrupt(\"return\", res.status(400).json({\n            message: \"Invalid technician or service area ID.\"\n          }));\n        case 10:\n          if (!(_t9.number === 2627)) {\n            _context0.next = 11;\n            break;\n          }\n          return _context0.abrupt(\"return\", res.status(409).json({\n            message: \"You already have this service area set!\"\n          }));\n        case 11:\n          res.status(500).json({\n            message: \"An unexpected error occurred when trying to set your service area.\"\n          });\n        case 12:\n        case \"end\":\n          return _context0.stop();\n      }\n    }, _callee0, null, [[2, 9]]);\n  }));\n  return function (_x17, _x18) {\n    return _ref0.apply(this, arguments);\n  };\n}());\n\n// Removing a service area from technician's profile\nvar removeServiceArea = asyncHandler(/*#__PURE__*/function () {\n  var _ref1 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee1(req, res) {\n    var areaId, technicianID, parsedAreaId, pool, checkExists, result, _t0;\n    return _regenerator[\"default\"].wrap(function (_context1) {\n      while (1) switch (_context1.prev = _context1.next) {\n        case 0:\n          areaId = req.params.areaId; // Get from URL parameter\n          technicianID = req.technicianID; // Validate areaId\n          parsedAreaId = parseInt(areaId, 10);\n          if (!isNaN(parsedAreaId)) {\n            _context1.next = 1;\n            break;\n          }\n          return _context1.abrupt(\"return\", res.status(400).json({\n            message: \"Invalid area ID. Must be a number.\"\n          }));\n        case 1:\n          _context1.prev = 1;\n          pool = getPool(); // Check if the service area exists before deleting\n          _context1.next = 2;\n          return pool.request().input(\"technicianId\", sql.Int, technicianID).input(\"areaId\", sql.Int, parsedAreaId).query(\"\\n                SELECT Area_ID\\n                FROM Technician_Service_Area\\n                WHERE Technician_ID = @technicianId AND Area_ID = @areaId\\n            \");\n        case 2:\n          checkExists = _context1.sent;\n          if (!(checkExists.recordset.length === 0)) {\n            _context1.next = 3;\n            break;\n          }\n          return _context1.abrupt(\"return\", res.status(404).json({\n            message: \"Service area not found or not assigned to you.\"\n          }));\n        case 3:\n          _context1.next = 4;\n          return pool.request().input(\"technicianId\", sql.Int, technicianID).input(\"areaId\", sql.Int, parsedAreaId).query(\"\\n                DELETE FROM Technician_Service_Area\\n                WHERE Technician_ID = @technicianId AND Area_ID = @areaId\\n            \");\n        case 4:\n          result = _context1.sent;\n          res.status(200).json({\n            message: \"Service area removed successfully.\"\n          });\n          _context1.next = 6;\n          break;\n        case 5:\n          _context1.prev = 5;\n          _t0 = _context1[\"catch\"](1);\n          console.error(\"Unexpected error occurred when trying to remove service area: \", _t0);\n          res.status(500).json({\n            message: \"An unexpected error occurred while removing the service area.\"\n          });\n        case 6:\n        case \"end\":\n          return _context1.stop();\n      }\n    }, _callee1, null, [[1, 5]]);\n  }));\n  return function (_x19, _x20) {\n    return _ref1.apply(this, arguments);\n  };\n}());\nmodule.exports = {\n  registerTechnician: registerTechnician,\n  loginTechnician: loginTechnician,\n  logoutTechnician: logoutTechnician,\n  getProfile: getProfile,\n  updateProfile: updateProfile,\n  settingTechnicianSpecialty: settingTechnicianSpecialty,\n  getSpecialties: getSpecialties,\n  removeSpecialty: removeSpecialty,\n  settingTechnicianServiceArea: settingTechnicianServiceArea,\n  getServiceAreas: getServiceAreas,\n  removeServiceArea: removeServiceArea\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhc3luY0hhbmRsZXIiLCJyZXF1aXJlIiwiYmNyeXB0Iiwiand0IiwiX3JlcXVpcmUiLCJnZXRQb29sIiwic3FsIiwiX3JlcXVpcmUyIiwiaXNWYWxpZEVtYWlsIiwiaXNWYWxpZFBob25lIiwiaXNWYWxpZFBhc3N3b3JkIiwiaXNWYWxpZE5hbWUiLCJzYW5pdGl6ZVN0cmluZyIsInJlZ2lzdGVyVGVjaG5pY2lhbiIsIl9yZWYiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJfcmVnZW5lcmF0b3IiLCJtYXJrIiwiX2NhbGxlZSIsInJlcSIsInJlcyIsIl9yZXEkYm9keSIsImZpcnN0TmFtZSIsImxhc3ROYW1lIiwiZW1haWwiLCJwaG9uZSIsInBhc3N3b3JkIiwicGFzc3dvcmRWYWxpZGF0aW9uIiwicG9vbCIsImhhc2hlZFBhc3N3b3JkIiwicmVzdWx0IiwiX3QiLCJ3cmFwIiwiX2NvbnRleHQiLCJwcmV2IiwibmV4dCIsImJvZHkiLCJhYnJ1cHQiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsInZhbGlkIiwiaGFzaCIsInNlbnQiLCJyZXF1ZXN0IiwiaW5wdXQiLCJWYXJDaGFyIiwidG9Mb3dlckNhc2UiLCJxdWVyeSIsIm51bWJlciIsImNvbnNvbGUiLCJlcnJvciIsInN0b3AiLCJfeCIsIl94MiIsImFwcGx5IiwiYXJndW1lbnRzIiwibG9naW5UZWNobmljaWFuIiwiX3JlZjIiLCJfY2FsbGVlMiIsIl9yZXEkYm9keTIiLCJ0ZWNobmljaWFuIiwiaXNQYXNzd29yZFZhbGlkIiwidGVjaG5pY2lhblRva2VuIiwiX3QyIiwiX2NvbnRleHQyIiwicmVjb3Jkc2V0IiwibGVuZ3RoIiwiaXNBY3RpdmUiLCJWZXJpZmllZCIsImNvbXBhcmUiLCJQYXNzd29yZF9IYXNoIiwic2lnbiIsImlkIiwiVGVjaG5pY2lhbl9JRCIsIkZpcnN0X05hbWUiLCJMYXN0X05hbWUiLCJFbWFpbCIsInByb2Nlc3MiLCJlbnYiLCJURUNITklDSUFOX0FDQ0VTU19UT0tFTiIsImV4cGlyZXNJbiIsImNvb2tpZXMiLCJ0ZWNobmljaWFuX2FjY2Vzc190b2tlbiIsImNsZWFyQ29va2llIiwiY29va2llIiwiaHR0cE9ubHkiLCJzZWN1cmUiLCJOT0RFX0VOViIsInNhbWVTaXRlIiwibWF4QWdlIiwiX3gzIiwiX3g0IiwibG9nb3V0VGVjaG5pY2lhbiIsIl9yZWYzIiwiX2NhbGxlZTMiLCJfY29udGV4dDMiLCJfeDUiLCJfeDYiLCJnZXRQcm9maWxlIiwiX3JlZjQiLCJfY2FsbGVlNCIsInRlY2huaWNpYW5JRCIsInRlY2huaWNpYW5SZXN1bHQiLCJhcHBsaWFuY2VSZXN1bHQiLCJzZXJ2aWNlQXJlYVJlc3VsdCIsInRlY2huaWNpYW5EYXRhIiwiYXBwbGlhbmNlQ2F0ZWdvcmllcyIsInNlcnZpY2VBcmVhcyIsIl90MyIsIl9jb250ZXh0NCIsIkludCIsIm1hcCIsInJlY29yZCIsImNhdGVnb3J5SWQiLCJDYXRlZ29yeV9JRCIsIm5hbWVFTiIsIk5hbWVFTiIsIm5hbWVBUiIsIk5hbWVBUiIsImRlc2NyaXB0aW9uIiwiRGVzY3JpcHRpb24iLCJ5ZWFyc09mRXhwZXJpZW5jZSIsIlllYXJzX09mX0V4cGVyaWVuY2UiLCJjZXJ0aWZpY2F0aW9uRGF0ZSIsIkNlcnRpZmljYXRpb25fRGF0ZSIsImFyZWFJZCIsIkFyZWFfSUQiLCJyZWdpb24iLCJSZWdpb24iLCJwcmlvcml0eSIsIlByaW9yaXR5X09yZGVyIiwiUGhvbmUiLCJ2ZXJpZmllZCIsImF2ZXJhZ2VSYXRpbmciLCJBdmVyYWdlX1JhdGluZyIsInRvdGFsSm9icyIsIlRvdGFsX0pvYnMiLCJfeDciLCJfeDgiLCJ1cGRhdGVQcm9maWxlIiwiX3JlZjUiLCJfY2FsbGVlNSIsIl9yZXEkYm9keTMiLCJfdDQiLCJfY29udGV4dDUiLCJyb3dzQWZmZWN0ZWQiLCJfeDkiLCJfeDAiLCJnZXRTcGVjaWFsdGllcyIsIl9yZWY2IiwiX2NhbGxlZTYiLCJzcGVjaWFsdGllcyIsIl90NSIsIl9jb250ZXh0NiIsImFkZGVkQXQiLCJjcmVhdGVkQXQiLCJjb3VudCIsIl94MSIsIl94MTAiLCJzZXR0aW5nVGVjaG5pY2lhblNwZWNpYWx0eSIsIl9yZWY3IiwiX2NhbGxlZTciLCJfcmVxJGJvZHk0IiwiYXBwbGlhbmNlQ2F0ZWdvcnlJRCIsImNlcnRpZmljYXRlRGF0ZSIsImNlcnREYXRlIiwidG9kYXkiLCJmaWZ0eVllYXJzQWdvIiwiY2hlY2tDYXRlZ29yeSIsImNhdGVnb3J5IiwiY2hlY2tEdXBsaWNhdGUiLCJfdDYiLCJfY29udGV4dDciLCJ1bmRlZmluZWQiLCJOdW1iZXIiLCJpc0ludGVnZXIiLCJEYXRlIiwic2V0SG91cnMiLCJzZXRGdWxsWWVhciIsImdldEZ1bGxZZWFyIiwiU21hbGxJbnQiLCJjYXRlZ29yeUlEIiwiY2F0ZWdvcnlOYW1lRU4iLCJjYXRlZ29yeU5hbWVBUiIsIl94MTEiLCJfeDEyIiwicmVtb3ZlU3BlY2lhbHR5IiwiX3JlZjgiLCJfY2FsbGVlOCIsInBhcnNlZENhdGVnb3J5SWQiLCJjaGVja0V4aXN0cyIsIl90NyIsIl9jb250ZXh0OCIsInBhcmFtcyIsInBhcnNlSW50IiwiaXNOYU4iLCJfeDEzIiwiX3gxNCIsImdldFNlcnZpY2VBcmVhcyIsIl9yZWY5IiwiX2NhbGxlZTkiLCJfdDgiLCJfY29udGV4dDkiLCJfeDE1IiwiX3gxNiIsInNldHRpbmdUZWNobmljaWFuU2VydmljZUFyZWEiLCJfcmVmMCIsIl9jYWxsZWUwIiwiX3JlcSRib2R5NSIsInNlcnZpY2VBcmVhSUQiLCJjaGVja0FyZWEiLCJzZXJ2aWNlQXJlYSIsIl90OSIsIl9jb250ZXh0MCIsImFyZWFJRCIsImFyZWFOYW1lRU4iLCJhcmVhTmFtZUFSIiwiYXJlYVJlZ2lvbiIsIl94MTciLCJfeDE4IiwicmVtb3ZlU2VydmljZUFyZWEiLCJfcmVmMSIsIl9jYWxsZWUxIiwicGFyc2VkQXJlYUlkIiwiX3QwIiwiX2NvbnRleHQxIiwiX3gxOSIsIl94MjAiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9zZXJqL0RvY3VtZW50cy9HaXRIdWIvRml4QXBwbGlhbmNlLWJvb2tpbmdDb21tZXJjZS9iYWNrLWVuZC9zcmMvY29udHJvbGxlcnMvIiwic291cmNlcyI6WyJUZWNobmljaWFuQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFRoaXMgY29udHJvbGxlciBwcm92aWRlcyB0aGUgZm9sbG93aW5nIGZ1bmN0aW9uYWxpdGllcyBmb3IgYSB0ZWNobmljaWFuOiByZWdpc3RlcmluZywgbG9nZ2luZyBpbiwgbG9nZ2luZyBvdXQsXG4gKiBzZXR0aW5nIHNwZWNpYWx0eSAoYXBwbGlhbmNlIGNhdGVnb3JpZXMgdGhleSB3b3JrIHdpdGgpLCBhbmQgc2V0dGluZyBzZXJ2aWNlIGFyZWFzLlxuICogXG4gKiBGb3Igc3RvcmluZyB0aGUgcGFzc3dvcmQsIGJjcnlwdCBpcyB1c2VkIHRvIGhhc2ggYW5kIGp3dCAoanNvbndlYnRva2VuKSBpcyB1c2VkIHRvIHNpZ24gYSB0b2tlbiBhbmQgc3RvcmUgaXQgYXMgY29va2llLlxuICovXG5cbmNvbnN0IGFzeW5jSGFuZGxlciA9IHJlcXVpcmUoXCJleHByZXNzLWFzeW5jLWhhbmRsZXJcIik7XG5jb25zdCBiY3J5cHQgPSByZXF1aXJlKFwiYmNyeXB0XCIpO1xuY29uc3Qgand0ID0gcmVxdWlyZShcImpzb253ZWJ0b2tlblwiKTtcblxuLy8gc3FsIG5lZWRlZCBmb3IgdGhlIHR5cGUgZGVmaW5pdGlvbnMgaW4gLmlucHV0XG4vLyBnZXRQb29sIGlzIHRvIGRvIHF1ZXJpZXNcbmNvbnN0IHsgZ2V0UG9vbCwgc3FsIH0gPSByZXF1aXJlKFwiLi4vY29uZmlnL2RhdGFiYXNlXCIpO1xuXG4vLyBJbXBvcnQgdmFsaWRhdGlvbiB1dGlsaXRpZXNcbmNvbnN0IHsgaXNWYWxpZEVtYWlsLCBpc1ZhbGlkUGhvbmUsIGlzVmFsaWRQYXNzd29yZCwgaXNWYWxpZE5hbWUsIHNhbml0aXplU3RyaW5nIH0gPSByZXF1aXJlKFwiLi4vdXRpbHMvdmFsaWRhdG9yc1wiKTtcblxuXG4vLyBIYW5kbGVzIHRoZSB0ZWNobmljaWFuIHJlZ2lzdGVyaW5nIGZ1bmN0aW9uYWxpdHlcbmNvbnN0IHJlZ2lzdGVyVGVjaG5pY2lhbiA9IGFzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICAvLyBHZXR0aW5nIHRoZSBuZWVkZWQgZGF0YSBmcm9tIHRoZSByZXF1ZXN0IGJvZHlcbiAgICBjb25zdCB7IGZpcnN0TmFtZSwgbGFzdE5hbWUsIGVtYWlsLCBwaG9uZSwgcGFzc3dvcmR9ID0gcmVxLmJvZHk7XG5cbiAgICAvLyBDaGVja2luZyBpZiBhbnkgb2YgdGhlbSBpcyBlbXB0eSwgaWYgeWVzIHRoZW4gd2UgdGhyb3cgYSA0MDBcbiAgICBpZiAoIWZpcnN0TmFtZSB8fCAhbGFzdE5hbWUgfHwgIWVtYWlsIHx8ICFwaG9uZSB8fCAhcGFzc3dvcmQpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttZXNzYWdlOiBcIllvdSBoYXZlIHRvIGluc2VydCBhbGwgZGF0YSB0byByZWdpc3Rlci5cIn0pO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRlIGZpcnN0IG5hbWUgZm9ybWF0XG4gICAgaWYgKCFpc1ZhbGlkTmFtZShmaXJzdE5hbWUpKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJGaXJzdCBuYW1lIG11c3QgYmUgMi0zMCBjaGFyYWN0ZXJzIGFuZCBjb250YWluIG9ubHkgbGV0dGVycy5cIn0pO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRlIGxhc3QgbmFtZSBmb3JtYXRcbiAgICBpZiAoIWlzVmFsaWROYW1lKGxhc3ROYW1lKSkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiTGFzdCBuYW1lIG11c3QgYmUgMi0zMCBjaGFyYWN0ZXJzIGFuZCBjb250YWluIG9ubHkgbGV0dGVycy5cIn0pO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRlIGVtYWlsIGZvcm1hdFxuICAgIGlmICghaXNWYWxpZEVtYWlsKGVtYWlsKSkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiUGxlYXNlIGVudGVyIGEgdmFsaWQgZW1haWwgYWRkcmVzcy5cIn0pO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRlIHBob25lIGZvcm1hdFxuICAgIGlmICghaXNWYWxpZFBob25lKHBob25lKSkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiUGxlYXNlIGVudGVyIGEgdmFsaWQgcGhvbmUgbnVtYmVyLlwifSk7XG4gICAgfVxuXG4gICAgLy8gVmFsaWRhdGUgcGFzc3dvcmQgc3RyZW5ndGhcbiAgICBjb25zdCBwYXNzd29yZFZhbGlkYXRpb24gPSBpc1ZhbGlkUGFzc3dvcmQocGFzc3dvcmQpO1xuICAgIGlmICghcGFzc3dvcmRWYWxpZGF0aW9uLnZhbGlkKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogcGFzc3dvcmRWYWxpZGF0aW9uLm1lc3NhZ2V9KTtcbiAgICB9XG5cbiAgICAvLyBXZSBub3cgdHJ5IHRvIGFjY2VzcyB0aGUgZGF0YWJhc2UgdG8gaW5zZXJ0IHRoZSB0ZWNobmljaWFuXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcG9vbCA9IGdldFBvb2woKTtcblxuICAgICAgICAvLyBIYXNoaW5nIHRoZSBwYXNzd29yZCBiZWZvcmUgc3RvcmluZ1xuICAgICAgICBjb25zdCBoYXNoZWRQYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKHBhc3N3b3JkLCAxMSk7XG5cbiAgICAgICAgLy8gSW5zZXJ0aW5nIHRoZSB0ZWNobmljaWFuIGludG8gdGhlIGRhdGFiYXNlIFRlY2huaWNpYW4gdGFibGVcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcG9vbC5yZXF1ZXN0KClcbiAgICAgICAgICAgIC5pbnB1dChcImZpcnN0TmFtZVwiLCBzcWwuVmFyQ2hhciwgc2FuaXRpemVTdHJpbmcoZmlyc3ROYW1lKSlcbiAgICAgICAgICAgIC5pbnB1dChcImxhc3ROYW1lXCIsIHNxbC5WYXJDaGFyLCBzYW5pdGl6ZVN0cmluZyhsYXN0TmFtZSkpXG4gICAgICAgICAgICAuaW5wdXQoXCJlbWFpbFwiLCBzcWwuVmFyQ2hhciwgc2FuaXRpemVTdHJpbmcoZW1haWwpLnRvTG93ZXJDYXNlKCkpXG4gICAgICAgICAgICAuaW5wdXQoXCJwaG9uZVwiLCBzcWwuVmFyQ2hhciwgc2FuaXRpemVTdHJpbmcocGhvbmUpKVxuICAgICAgICAgICAgLmlucHV0KFwiaGFzaGVkUGFzc3dvcmRcIiwgc3FsLlZhckNoYXIsIGhhc2hlZFBhc3N3b3JkKVxuICAgICAgICAgICAgLnF1ZXJ5KGBcbiAgICAgICAgICAgIElOU0VSVCBJTlRPIFRlY2huaWNpYW4gKEZpcnN0X05hbWUsIExhc3RfTmFtZSwgRW1haWwsIFBob25lLCBQYXNzd29yZF9IYXNoKVxuICAgICAgICAgICAgVkFMVUVTKEBmaXJzdE5hbWUsIEBsYXN0TmFtZSwgQGVtYWlsLCBAcGhvbmUsIEBoYXNoZWRQYXNzd29yZClcbiAgICAgICAgICAgIGApO1xuXG4gICAgICAgIC8vIFNlbmRpbmcgc3VjY2VzcyBtZXNzYWdlXG4gICAgICAgIHJlcy5zdGF0dXMoMjAxKS5qc29uKHttZXNzYWdlOiBcIlRlY2huaWNpYW4gcmVnaXN0ZXJlZCBzdWNjZXNzZnVsbHkhXCJ9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAvLyBIYW5kbGluZyB0aGUgdW5pcXVlIGNvbnN0cmFpbnRzIGZvciBlbWFpbCBhbmQgcGhvbmUgbnVtYmVyc1xuICAgICAgICAvLyAyNjI3IGlzIGZvciB2aW9sYXRpb24gb2YgdGhlIHVuaXF1ZSBrZXkgY29uc3RyYWludCwgYW5kIDI2MDEgaXMgZm9yIHVuaXF1ZSBpbmRleCB2aW9sYXRpb25cbiAgICAgICAgaWYgKGVycm9yLm51bWJlciA9PT0gMjYyNyB8fCBlcnJvci5udW1iZXIgPT09IDI2MDEpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwOSkuanNvbih7bWVzc2FnZTogXCJBbm90aGVyIGFjY291bnQgZXhpc3RzIGFscmVhZHkgZWl0aGVyIHdpdGggdGhpcyBlbWFpbCBhZGRyZXNzIG9yIHBob25lIG51bWJlci4gSWYgeW91IGhhdmUgYW5vdGhlciBhY2NvdW50LCBwbGVhc2UgdXNlIHRoYXQgb25lIGluc3RlYWQuXCJ9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRocm93aW5nIHRoZSBjb25zb2xlIGVycm9yIGFuZCA1MDAgc3RhdHVzIGluIGNhc2Ugc29tZXRoaW5nIGdvZXMgd3JvbmdcbiAgICAgICAgY29uc29sZS5lcnJvcihcIlVuZXhwZWN0ZWQgZXJyb3IgcmVnaXN0ZXJpbmcgYSBuZXcgdGVjaG5pY2lhbiBhY2NvdW50OiBcIiwgZXJyb3IpO1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7bWVzc2FnZTogXCJBbiB1bmV4cGVjdGVkIGVycm9yIG9jY3VycmVkIHdoaWxlIHJlZ2lzdGVyaW5nIHRoZSB0ZWNobmljaWFuLlwifSk7XG4gICAgfVxufSk7XG5cbi8vIEhhbmRsaW5nIHRoZSBsb2dnaW5nIGluIGZ1bmN0aW9uYWxpdHkgZm9yIHRlY2huaWNpYW5zXG5jb25zdCBsb2dpblRlY2huaWNpYW4gPSBhc3luY0hhbmRsZXIoYXN5bmMgKHJlcSxyZXMpID0+IHtcbiAgICAvLyBHZXR0aW5nIHRoZSBlbWFpbCBhbmQgcGFzc3dvcmQgdGhhdCB0aGUgdGVjaG5pY2lhbiBpcyB0cnlpbmcgdG8gbG9naW4gd2l0aFxuICAgIGNvbnN0IHtlbWFpbCwgcGFzc3dvcmR9ID0gcmVxLmJvZHk7XG5cbiAgICAvLyBJbnB1dCB2YWxpZGF0aW9uLCBpZiBlaXRoZXIgZW1wdHkgdGhlbiBzZW5kIDQwMCBlcnJvclxuICAgIGlmICghZW1haWwgfHwgIXBhc3N3b3JkKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJZb3UgaGF2ZSB0byBlbnRlciBib3RoIHlvdXIgZW1haWwgYW5kIHlvdXIgcGFzc3dvcmRcIn0pO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRlIGVtYWlsIGZvcm1hdFxuICAgIGlmICghaXNWYWxpZEVtYWlsKGVtYWlsKSkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiUGxlYXNlIGVudGVyIGEgdmFsaWQgZW1haWwgYWRkcmVzcy5cIn0pO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHBvb2wgPSBnZXRQb29sKCk7XG5cbiAgICAgICAgLy8gU2VhcmNoaW5nIGluIHRoZSBkYXRhYmFzZSBmb3IgYSB0ZWNobmljaWFuIHdpdGggdGhlIHNhbWUgZW1haWwgcGFzc2VkIHRvIGNoZWNrIGlmIGV4aXN0c1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwb29sLnJlcXVlc3QoKVxuICAgICAgICAgICAgLmlucHV0KFwiZW1haWxcIiwgc3FsLlZhckNoYXIsIHNhbml0aXplU3RyaW5nKGVtYWlsKS50b0xvd2VyQ2FzZSgpKVxuICAgICAgICAgICAgLnF1ZXJ5KGBcbiAgICAgICAgICAgICAgICBTRUxFQ1QgVGVjaG5pY2lhbl9JRCwgRmlyc3RfTmFtZSwgTGFzdF9OYW1lLCBFbWFpbCwgUGFzc3dvcmRfSGFzaCwgaXNBY3RpdmUsIFZlcmlmaWVkXG4gICAgICAgICAgICAgICAgRlJPTSBUZWNobmljaWFuXG4gICAgICAgICAgICAgICAgV0hFUkUgRW1haWwgPSBAZW1haWxcbiAgICAgICAgICAgICAgICBgKTtcblxuICAgICAgICAvLyBJZiBubyByZXN1bHRzIHJldHVybmVkIGZyb20gdGhlIHF1ZXJ5LCB0aGVuIHRoZSBlbWFpbCBlbnRlcmVkIGlzIGludmFsaWRcbiAgICAgICAgaWYgKHJlc3VsdC5yZWNvcmRzZXQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oe21lc3NhZ2U6IFwiSW52YWxpZCBlbWFpbCBhZGRyZXNzIG9yIHBhc3N3b3JkLlwifSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBOb3cgd2UgYXJlIGdldHRpbmcgdGhlIGZpcnN0IHRlY2huaWNpYW4gdGhhdCB3ZSBnb3QgaGF2aW5nIHRoZSBzYW1lIGVtYWlsIGFkZHJlc3NcbiAgICAgICAgY29uc3QgdGVjaG5pY2lhbiA9IHJlc3VsdC5yZWNvcmRzZXRbMF07XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHRlY2huaWNpYW4gYWNjb3VudCBpcyBhY3RpdmVcbiAgICAgICAgaWYgKCF0ZWNobmljaWFuLmlzQWN0aXZlKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDMpLmpzb24oe21lc3NhZ2U6IFwiWW91ciBhY2NvdW50IGlzIGRlYWN0aXZhdGVkLiBQbGVhc2UgY29udGFjdCB1cyB0byByZXNvbHZlIHRoaXMgaXNzdWUuXCJ9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENoZWNrIGlmIHRoZSB0ZWNobmljaWFuIGFjY291bnQgaXMgdmVyaWZpZWQgYnkgYWRtaW5cbiAgICAgICAgaWYgKCF0ZWNobmljaWFuLlZlcmlmaWVkKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDMpLmpzb24oe21lc3NhZ2U6IFwiWW91ciBhY2NvdW50IGlzIG5vdCB2ZXJpZmllZCB5ZXQuIFBsZWFzZSB3YWl0IGZvciBhZG1pbiBhcHByb3ZhbC5cIn0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVXNpbmcgYmNyeXB0IHRvIGNoZWNrIGlmIHRoZSBwYXNzd29yZCBwYXNzZWQgaXMgdGhlIHNhbWUgYXMgdGhlIGhhc2hlZCBvbmUgc3RvcmVkIGluIHRoZSBkYXRhYmFzZVxuICAgICAgICAvLyBJZiBubywgdGhyb3cgYSA0MDEgZXJyb3JcbiAgICAgICAgY29uc3QgaXNQYXNzd29yZFZhbGlkID0gYXdhaXQgYmNyeXB0LmNvbXBhcmUocGFzc3dvcmQsIHRlY2huaWNpYW4uUGFzc3dvcmRfSGFzaCk7XG4gICAgICAgIGlmICghaXNQYXNzd29yZFZhbGlkKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oe21lc3NhZ2U6IFwiSW52YWxpZCBlbWFpbCBhZGRyZXNzIG9yIHBhc3N3b3JkLlwifSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiB0aGUgcGFzc3dvcmQgbWF0Y2hlcywgdGhlbiBjcmVhdGUgYSB0ZWNobmljaWFuIHRva2VuIHVzaW5nIGp3dCBieSBzaWduaW5nIGl0IHdpdGggdGhlIFRFQ0hOSUNJQU5fQUNDRVNTX1RPS0VOXG4gICAgICAgIC8vIHN0b3JlZCBpbiB0aGUgLmVudiBmaWxlLiBUaGUgdG9rZW4gZXhwaXJlcyBpbiAxIGRheS5cbiAgICAgICAgY29uc3QgdGVjaG5pY2lhblRva2VuID0gand0LnNpZ24oe1xuICAgICAgICAgICAgaWQ6IHRlY2huaWNpYW4uVGVjaG5pY2lhbl9JRCxcbiAgICAgICAgICAgIGZpcnN0TmFtZTogdGVjaG5pY2lhbi5GaXJzdF9OYW1lLFxuICAgICAgICAgICAgbGFzdE5hbWU6IHRlY2huaWNpYW4uTGFzdF9OYW1lLFxuICAgICAgICAgICAgZW1haWw6IHRlY2huaWNpYW4uRW1haWxcbiAgICAgICAgfSxcbiAgICAgICAgICAgIHByb2Nlc3MuZW52LlRFQ0hOSUNJQU5fQUNDRVNTX1RPS0VOLFxuICAgICAgICAgICAge2V4cGlyZXNJbjogXCIxZFwifVxuICAgICAgICApO1xuXG4gICAgICAgIC8vIElmIGEgY29va2llIGV4aXN0cyBhbHJlYWR5IGZvciB0aGUgdGVjaG5pY2lhbiwgY2xlYXIgaXRcbiAgICAgICAgaWYgKHJlcS5jb29raWVzLnRlY2huaWNpYW5fYWNjZXNzX3Rva2VuKSB7XG4gICAgICAgICAgICByZXMuY2xlYXJDb29raWUoJ3RlY2huaWNpYW5fYWNjZXNzX3Rva2VuJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTdG9yZSB0aGUgbmV3IGNvb2tpZSBzdWNoIHRoYXQgaXQgbGFzdHMgMSBkYXksIGFuZCB0aHJvdyBhIDIwMCBzdWNjZXNzIG1lc3NhZ2Ugd2l0aCBzb21lIGRhdGEgYWJvdXQgdGhlIHRlY2huaWNpYW5cbiAgICAgICAgLy8gKGlkLCBmaXJzdE5hbWUsIGxhc3ROYW1lLCBlbWFpbClcbiAgICAgICAgcmVzLmNvb2tpZSgndGVjaG5pY2lhbl9hY2Nlc3NfdG9rZW4nLCB0ZWNobmljaWFuVG9rZW4sIFxuICAgICAgICAgICAge2h0dHBPbmx5OiB0cnVlLCBcbiAgICAgICAgICAgIHNlY3VyZTogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiLFxuICAgICAgICAgICAgc2FtZVNpdGU6IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIiA/ICdzdHJpY3QnIDogJ2xheCcsXG4gICAgICAgICAgICBtYXhBZ2U6IDI0ICogNjAgKiA2MCAqIDEwMDB9KTtcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgbWVzc2FnZTogXCJTdWNjZXNzZnVsbHkgbG9nZ2VkIGluLlwiLFxuICAgICAgICAgICAgdGVjaG5pY2lhbjoge1xuICAgICAgICAgICAgICAgIGlkOiB0ZWNobmljaWFuLlRlY2huaWNpYW5fSUQsXG4gICAgICAgICAgICAgICAgZmlyc3ROYW1lOiB0ZWNobmljaWFuLkZpcnN0X05hbWUsXG4gICAgICAgICAgICAgICAgbGFzdE5hbWU6IHRlY2huaWNpYW4uTGFzdF9OYW1lLFxuICAgICAgICAgICAgICAgIGVtYWlsOiB0ZWNobmljaWFuLkVtYWlsXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG5cbiAgICAgICAgLy8gSWYgYW55dGhpbmcgZ29lcyB3cm9uZywgdGhyb3cgYW4gZXJyb3JcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiTG9naW4gZXJyb3I6XCIsIGVycm9yKTtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe21lc3NhZ2U6IFwiQW4gZXJyb3Igb2NjdXJyZWQgZHVyaW5nIGxvZ2luLlwifSk7XG4gICAgfVxufSk7XG5cbi8vIExvZ2dpbmcgb3V0IGZ1bmN0aW9uYWxpdHkgYnkgY2xlYXJpbmcgdGhlIHRlY2huaWNpYW4ncyBjb29raWUgYW5kIHNlbmRpbmcgYSBzdWNjZXNzIG1lc3NhZ2VcbmNvbnN0IGxvZ291dFRlY2huaWNpYW4gPSBhc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgcmVzLmNsZWFyQ29va2llKCd0ZWNobmljaWFuX2FjY2Vzc190b2tlbicpO1xuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHttZXNzYWdlOiBcIlN1Y2Nlc3NmdWxseSBsb2dnZWQgb3V0LlwifSk7XG59KVxuXG4vLyBHZXR0aW5nIHRlY2huaWNpYW4ncyBwcm9maWxlXG5jb25zdCBnZXRQcm9maWxlID0gYXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHRlY2huaWNpYW5JRCA9IHJlcS50ZWNobmljaWFuSUQ7XG5cbiAgICB0cnkge1xuICAgICAgICBjb25zdCBwb29sID0gZ2V0UG9vbCgpO1xuXG4gICAgICAgIGNvbnN0IHRlY2huaWNpYW5SZXN1bHQgPSBhd2FpdCBwb29sLnJlcXVlc3QoKVxuICAgICAgICAgICAgLmlucHV0KFwidGVjaG5pY2lhbklkXCIsIHNxbC5JbnQsIHRlY2huaWNpYW5JRClcbiAgICAgICAgICAgIC5xdWVyeShgXG4gICAgICAgICAgICBTRUxFQ1QgdGVjLlRlY2huaWNpYW5fSUQsIHRlYy5GaXJzdF9OYW1lLCB0ZWMuTGFzdF9OYW1lLCB0ZWMuRW1haWwsIHRlYy5QaG9uZSwgdGVjLmlzQWN0aXZlLCB0ZWMuVmVyaWZpZWQsIHRlYy5BdmVyYWdlX1JhdGluZywgdGVjLlRvdGFsX0pvYnNcbiAgICAgICAgICAgIEZST00gW1RlY2huaWNpYW5dIEFTIHRlY1xuICAgICAgICAgICAgV0hFUkUgdGVjLlRlY2huaWNpYW5fSUQgPSBAdGVjaG5pY2lhbklkXG4gICAgICAgICAgICBgKTtcblxuXG4gICAgICAgIGlmICh0ZWNobmljaWFuUmVzdWx0LnJlY29yZHNldC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7bWVzc2FnZTogXCJUZWNobmljaWFuIG5vdCBmb3VuZC5cIn0pO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYXBwbGlhbmNlUmVzdWx0ID0gYXdhaXQgcG9vbC5yZXF1ZXN0KClcbiAgICAgICAgICAgIC5pbnB1dChcInRlY2huaWNpYW5JZFwiLCBzcWwuSW50LCB0ZWNobmljaWFuSUQpXG4gICAgICAgICAgICAucXVlcnkoYFxuICAgICAgICAgICAgU0VMRUNUIHRlY19jYXQuQ2F0ZWdvcnlfSUQsIGNhdC5OYW1lRU4sIGNhdC5OYW1lQVIsIGNhdC5EZXNjcmlwdGlvbiwgdGVjX2NhdC5ZZWFyc19PZl9FeHBlcmllbmNlLCB0ZWNfY2F0LkNlcnRpZmljYXRpb25fRGF0ZVxuICAgICAgICAgICAgRlJPTSBUZWNobmljaWFuX0NhdGVnb3J5IEFTIHRlY19jYXRcbiAgICAgICAgICAgIEpPSU4gQXBwbGlhbmNlX0NhdGVnb3J5IEFTIGNhdCBPTiB0ZWNfY2F0LkNhdGVnb3J5X0lEID0gY2F0LkNhdGVnb3J5X0lEXG4gICAgICAgICAgICBXSEVSRSB0ZWNfY2F0LlRlY2huaWNpYW5fSUQgPSBAdGVjaG5pY2lhbklkXG4gICAgICAgICAgICBgKTtcblxuICAgICAgICBjb25zdCBzZXJ2aWNlQXJlYVJlc3VsdCA9IGF3YWl0IHBvb2wucmVxdWVzdCgpXG4gICAgICAgICAgICAuaW5wdXQoXCJ0ZWNobmljaWFuSWRcIiwgc3FsLkludCwgdGVjaG5pY2lhbklEKVxuICAgICAgICAgICAgLnF1ZXJ5KGBcbiAgICAgICAgICAgIFNFTEVDVCBhcmVhLkFyZWFfSUQsIGFyZWEuTmFtZUVOLCBhcmVhLk5hbWVBUiwgYXJlYS5SZWdpb24sIHRlY19hcmVhLlByaW9yaXR5X09yZGVyXG4gICAgICAgICAgICBGUk9NIFRlY2huaWNpYW5fU2VydmljZV9BcmVhIEFTIHRlY19hcmVhXG4gICAgICAgICAgICBKT0lOIFNlcnZpY2VfQXJlYSBBUyBhcmVhIE9OIHRlY19hcmVhLkFyZWFfSUQgPSBhcmVhLkFyZWFfSURcbiAgICAgICAgICAgIFdIRVJFIHRlY19hcmVhLlRlY2huaWNpYW5fSUQgPSBAdGVjaG5pY2lhbklkXG4gICAgICAgICAgICBPUkRFUiBCWSB0ZWNfYXJlYS5Qcmlvcml0eV9PcmRlciBBU0MsIGFyZWEuTmFtZUVOIEFTQ1xuICAgICAgICAgICAgYCk7XG5cbiAgICAgICAgY29uc3QgdGVjaG5pY2lhbkRhdGEgPSB0ZWNobmljaWFuUmVzdWx0LnJlY29yZHNldFswXTtcblxuICAgICAgICBjb25zdCBhcHBsaWFuY2VDYXRlZ29yaWVzID0gYXBwbGlhbmNlUmVzdWx0LnJlY29yZHNldC5tYXAocmVjb3JkID0+ICh7XG4gICAgICAgICAgICBjYXRlZ29yeUlkOiByZWNvcmQuQ2F0ZWdvcnlfSUQsXG4gICAgICAgICAgICBuYW1lRU46IHJlY29yZC5OYW1lRU4sXG4gICAgICAgICAgICBuYW1lQVI6IHJlY29yZC5OYW1lQVIsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogcmVjb3JkLkRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgeWVhcnNPZkV4cGVyaWVuY2U6IHJlY29yZC5ZZWFyc19PZl9FeHBlcmllbmNlLFxuICAgICAgICAgICAgY2VydGlmaWNhdGlvbkRhdGU6IHJlY29yZC5DZXJ0aWZpY2F0aW9uX0RhdGVcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIGNvbnN0IHNlcnZpY2VBcmVhcyA9IHNlcnZpY2VBcmVhUmVzdWx0LnJlY29yZHNldC5tYXAocmVjb3JkID0+ICh7XG4gICAgICAgICAgICBhcmVhSWQ6IHJlY29yZC5BcmVhX0lELFxuICAgICAgICAgICAgbmFtZUVOOiByZWNvcmQuTmFtZUVOLFxuICAgICAgICAgICAgbmFtZUFSOiByZWNvcmQuTmFtZUFSLFxuICAgICAgICAgICAgcmVnaW9uOiByZWNvcmQuUmVnaW9uLFxuICAgICAgICAgICAgcHJpb3JpdHk6IHJlY29yZC5Qcmlvcml0eV9PcmRlclxuICAgICAgICB9KSk7XG5cbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBcbiAgICAgICAgICAgIGZpcnN0TmFtZTogdGVjaG5pY2lhbkRhdGEuRmlyc3RfTmFtZSxcbiAgICAgICAgICAgIGxhc3ROYW1lOiB0ZWNobmljaWFuRGF0YS5MYXN0X05hbWUsXG4gICAgICAgICAgICBlbWFpbDogdGVjaG5pY2lhbkRhdGEuRW1haWwsXG4gICAgICAgICAgICBwaG9uZTogdGVjaG5pY2lhbkRhdGEuUGhvbmUsXG4gICAgICAgICAgICBpc0FjdGl2ZTogdGVjaG5pY2lhbkRhdGEuaXNBY3RpdmUsXG4gICAgICAgICAgICB2ZXJpZmllZDogdGVjaG5pY2lhbkRhdGEuVmVyaWZpZWQsXG4gICAgICAgICAgICBhdmVyYWdlUmF0aW5nOiB0ZWNobmljaWFuRGF0YS5BdmVyYWdlX1JhdGluZyxcbiAgICAgICAgICAgIHRvdGFsSm9iczogdGVjaG5pY2lhbkRhdGEuVG90YWxfSm9icyxcbiAgICAgICAgICAgIGFwcGxpYW5jZUNhdGVnb3JpZXM6IGFwcGxpYW5jZUNhdGVnb3JpZXMsXG4gICAgICAgICAgICBzZXJ2aWNlQXJlYXM6IHNlcnZpY2VBcmVhcyxcbiAgICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgLy8gVGhyb3dpbmcgdGhlIGNvbnNvbGUgZXJyb3IgYW5kIDUwMCBzdGF0dXMgaW4gY2FzZSBzb21ldGhpbmcgZ29lcyB3cm9uZy5cbiAgICAgICAgY29uc29sZS5lcnJvcihcIlVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQgd2hlbiB0cnlpbmcgdG8gZ2V0IHByb2ZpbGU6IFwiLCBlcnJvcik7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogXCJBbiB1bmV4cGVjdGVkIGVycm9yIG9jY3VycmVkIHdoaWxlIGdldHRpbmcgcHJvZmlsZS5cIiB9KTtcbiAgICB9XG59KVxuXG4vLyBVcGRhdGluZyB0ZWNobmljaWFuJ3MgcHJvZmlsZSBpbmZvcm1hdGlvblxuY29uc3QgdXBkYXRlUHJvZmlsZSA9IGFzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCB7IGZpcnN0TmFtZSwgbGFzdE5hbWUsIGVtYWlsLCBwaG9uZSB9ID0gcmVxLmJvZHk7XG4gICAgY29uc3QgdGVjaG5pY2lhbklEID0gcmVxLnRlY2huaWNpYW5JRDtcblxuICAgIC8vIENoZWNraW5nIGlmIGFueSBvZiB0aGVtIGlzIGVtcHR5LCBpZiB5ZXMgdGhlbiB3ZSB0aHJvdyBhIDQwMFxuICAgIGlmICghZmlyc3ROYW1lIHx8ICFsYXN0TmFtZSB8fCAhZW1haWwgfHwgIXBob25lKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6IFwiWW91IGhhdmUgdG8gaW5zZXJ0IGFsbCBwcm9maWxlIGRhdGEgdG8gdXBkYXRlLlwiIH0pO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRlIGZpcnN0IG5hbWUgZm9ybWF0XG4gICAgaWYgKCFpc1ZhbGlkTmFtZShmaXJzdE5hbWUpKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6IFwiRmlyc3QgbmFtZSBtdXN0IGJlIDItMzAgY2hhcmFjdGVycyBhbmQgY29udGFpbiBvbmx5IGxldHRlcnMuXCIgfSk7XG4gICAgfVxuXG4gICAgLy8gVmFsaWRhdGUgbGFzdCBuYW1lIGZvcm1hdFxuICAgIGlmICghaXNWYWxpZE5hbWUobGFzdE5hbWUpKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6IFwiTGFzdCBuYW1lIG11c3QgYmUgMi0zMCBjaGFyYWN0ZXJzIGFuZCBjb250YWluIG9ubHkgbGV0dGVycy5cIiB9KTtcbiAgICB9XG5cbiAgICAvLyBWYWxpZGF0ZSBlbWFpbCBmb3JtYXRcbiAgICBpZiAoIWlzVmFsaWRFbWFpbChlbWFpbCkpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogXCJQbGVhc2UgZW50ZXIgYSB2YWxpZCBlbWFpbCBhZGRyZXNzLlwiIH0pO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRlIHBob25lIGZvcm1hdFxuICAgIGlmICghaXNWYWxpZFBob25lKHBob25lKSkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiBcIlBsZWFzZSBlbnRlciBhIHZhbGlkIHBob25lIG51bWJlci5cIiB9KTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgICBjb25zdCBwb29sID0gZ2V0UG9vbCgpO1xuXG4gICAgICAgIC8vIFVwZGF0aW5nIHRoZSB0ZWNobmljaWFuIGRhdGFcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcG9vbC5yZXF1ZXN0KClcbiAgICAgICAgICAgIC5pbnB1dChcInRlY2huaWNpYW5JZFwiLCBzcWwuSW50LCB0ZWNobmljaWFuSUQpXG4gICAgICAgICAgICAuaW5wdXQoXCJmaXJzdE5hbWVcIiwgc3FsLlZhckNoYXIsIHNhbml0aXplU3RyaW5nKGZpcnN0TmFtZSkpXG4gICAgICAgICAgICAuaW5wdXQoXCJsYXN0TmFtZVwiLCBzcWwuVmFyQ2hhciwgc2FuaXRpemVTdHJpbmcobGFzdE5hbWUpKVxuICAgICAgICAgICAgLmlucHV0KFwiZW1haWxcIiwgc3FsLlZhckNoYXIsIHNhbml0aXplU3RyaW5nKGVtYWlsKS50b0xvd2VyQ2FzZSgpKVxuICAgICAgICAgICAgLmlucHV0KFwicGhvbmVcIiwgc3FsLlZhckNoYXIsIHNhbml0aXplU3RyaW5nKHBob25lKSlcbiAgICAgICAgICAgIC5xdWVyeShgXG4gICAgICAgICAgICAgICAgVVBEQVRFIFtUZWNobmljaWFuXSBcbiAgICAgICAgICAgICAgICBTRVQgRmlyc3RfTmFtZSA9IEBmaXJzdE5hbWUsIExhc3RfTmFtZSA9IEBsYXN0TmFtZSwgRW1haWwgPSBAZW1haWwsIFxuICAgICAgICAgICAgICAgICAgICBQaG9uZSA9IEBwaG9uZSwgbW9kaWZpZWRBdCA9IEdFVERBVEUoKVxuICAgICAgICAgICAgICAgIFdIRVJFIFRlY2huaWNpYW5fSUQgPSBAdGVjaG5pY2lhbklkXG4gICAgICAgICAgICBgKTtcblxuICAgICAgICAvLyBDaGVjayBpZiB1cGRhdGUgYWZmZWN0ZWQgYW55IHJvd3NcbiAgICAgICAgaWYgKHJlc3VsdC5yb3dzQWZmZWN0ZWRbMF0gPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IG1lc3NhZ2U6IFwiVGVjaG5pY2lhbiBub3QgZm91bmQgb3Igbm8gY2hhbmdlcyBtYWRlLlwiIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2VuZGluZyBzdWNjZXNzIG1lc3NhZ2VcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBtZXNzYWdlOiBcIlRlY2huaWNpYW4gcHJvZmlsZSB1cGRhdGVkIHN1Y2Nlc3NmdWxseSFcIiB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAvLyBIYW5kbGluZyB0aGUgdW5pcXVlIGNvbnN0cmFpbnRzIGZvciBlbWFpbCBhbmQgcGhvbmUgbnVtYmVyc1xuICAgICAgICBpZiAoZXJyb3IubnVtYmVyID09PSAyNjI3IHx8IGVycm9yLm51bWJlciA9PT0gMjYwMSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA5KS5qc29uKHsgbWVzc2FnZTogXCJBbm90aGVyIGFjY291bnQgZXhpc3RzIGFscmVhZHkgZWl0aGVyIHdpdGggdGhpcyBlbWFpbCBhZGRyZXNzIG9yIHBob25lIG51bWJlci4gSWYgeW91IGhhdmUgYW5vdGhlciBhY2NvdW50LCBwbGVhc2UgdXNlIHRoYXQgb25lIGluc3RlYWQuXCIgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUaHJvd2luZyB0aGUgY29uc29sZSBlcnJvciBhbmQgNTAwIHN0YXR1cyBpbiBjYXNlIHNvbWV0aGluZyBnb2VzIHdyb25nXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJVbmV4cGVjdGVkIGVycm9yIHdoZW4gdXBkYXRpbmcgdGVjaG5pY2lhbiBwcm9maWxlOiBcIiwgZXJyb3IpO1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IG1lc3NhZ2U6IFwiQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZCB3aGlsZSB1cGRhdGluZyB0aGUgdGVjaG5pY2lhbidzIHByb2ZpbGUuXCIgfSk7XG4gICAgfVxufSk7XG5cbi8vIEdldHRpbmcgdGVjaG5pY2lhbidzIHNwZWNpYWx0aWVzIChhcHBsaWFuY2UgY2F0ZWdvcmllcylcbmNvbnN0IGdldFNwZWNpYWx0aWVzID0gYXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHRlY2huaWNpYW5JRCA9IHJlcS50ZWNobmljaWFuSUQ7XG5cbiAgICB0cnkge1xuICAgICAgICBjb25zdCBwb29sID0gZ2V0UG9vbCgpO1xuXG4gICAgICAgIC8vIEdldCBhbGwgc3BlY2lhbHRpZXMgZm9yIHRoaXMgdGVjaG5pY2lhblxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwb29sLnJlcXVlc3QoKVxuICAgICAgICAgICAgLmlucHV0KFwidGVjaG5pY2lhbklkXCIsIHNxbC5JbnQsIHRlY2huaWNpYW5JRClcbiAgICAgICAgICAgIC5xdWVyeShgXG4gICAgICAgICAgICAgICAgU0VMRUNUIFxuICAgICAgICAgICAgICAgICAgICB0ZWNfY2F0LkNhdGVnb3J5X0lELCBcbiAgICAgICAgICAgICAgICAgICAgY2F0Lk5hbWVFTiwgXG4gICAgICAgICAgICAgICAgICAgIGNhdC5OYW1lQVIsIFxuICAgICAgICAgICAgICAgICAgICBjYXQuRGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgICAgIHRlY19jYXQuWWVhcnNfT2ZfRXhwZXJpZW5jZSwgXG4gICAgICAgICAgICAgICAgICAgIHRlY19jYXQuQ2VydGlmaWNhdGlvbl9EYXRlLFxuICAgICAgICAgICAgICAgICAgICB0ZWNfY2F0LmNyZWF0ZWRBdFxuICAgICAgICAgICAgICAgIEZST00gVGVjaG5pY2lhbl9DYXRlZ29yeSBBUyB0ZWNfY2F0XG4gICAgICAgICAgICAgICAgSk9JTiBBcHBsaWFuY2VfQ2F0ZWdvcnkgQVMgY2F0IE9OIHRlY19jYXQuQ2F0ZWdvcnlfSUQgPSBjYXQuQ2F0ZWdvcnlfSURcbiAgICAgICAgICAgICAgICBXSEVSRSB0ZWNfY2F0LlRlY2huaWNpYW5fSUQgPSBAdGVjaG5pY2lhbklkXG4gICAgICAgICAgICAgICAgT1JERVIgQlkgY2F0Lk5hbWVFTiBBU0NcbiAgICAgICAgICAgIGApO1xuXG4gICAgICAgIC8vIEZvcm1hdCB0aGUgcmVzcG9uc2UgYnkgY2FtZWxDYXNlXG4gICAgICAgIGNvbnN0IHNwZWNpYWx0aWVzID0gcmVzdWx0LnJlY29yZHNldC5tYXAocmVjb3JkID0+ICh7XG4gICAgICAgICAgICBjYXRlZ29yeUlkOiByZWNvcmQuQ2F0ZWdvcnlfSUQsXG4gICAgICAgICAgICBuYW1lRU46IHJlY29yZC5OYW1lRU4sXG4gICAgICAgICAgICBuYW1lQVI6IHJlY29yZC5OYW1lQVIsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogcmVjb3JkLkRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgeWVhcnNPZkV4cGVyaWVuY2U6IHJlY29yZC5ZZWFyc19PZl9FeHBlcmllbmNlLFxuICAgICAgICAgICAgY2VydGlmaWNhdGlvbkRhdGU6IHJlY29yZC5DZXJ0aWZpY2F0aW9uX0RhdGUsXG4gICAgICAgICAgICBhZGRlZEF0OiByZWNvcmQuY3JlYXRlZEF0XG4gICAgICAgIH0pKTtcblxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIlNwZWNpYWx0aWVzIHJldHJpZXZlZCBzdWNjZXNzZnVsbHkuXCIsXG4gICAgICAgICAgICBjb3VudDogc3BlY2lhbHRpZXMubGVuZ3RoLFxuICAgICAgICAgICAgc3BlY2lhbHRpZXM6IHNwZWNpYWx0aWVzXG4gICAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJVbmV4cGVjdGVkIGVycm9yIG9jY3VycmVkIHdoZW4gdHJ5aW5nIHRvIGdldCBzcGVjaWFsdGllczogXCIsIGVycm9yKTtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiBcIkFuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQgd2hpbGUgcmV0cmlldmluZyBzcGVjaWFsdGllcy5cIiB9KTtcbiAgICB9XG59KTtcblxuLy8gU2V0dGluZyB0ZWNobmljaWFuIHNwZWNpYWx0eSAtIGFsbG93cyB0ZWNobmljaWFucyB0byBhZGQgYXBwbGlhbmNlIGNhdGVnb3JpZXMgdGhleSBzcGVjaWFsaXplIGluXG5jb25zdCBzZXR0aW5nVGVjaG5pY2lhblNwZWNpYWx0eSA9IGFzeW5jSGFuZGxlcihhc3luYyAocmVxLHJlcykgPT4ge1xuICAgIC8vIEdldHRpbmcgdGhlIHNwZWNpYWx0eSBkYXRhIGZyb20gdGhlIGJvZHkgYW5kIHRoZSB0ZWNobmljaWFuSUQgcGFzc2VkIGZyb20gdGhlIG1pZGRsZXdhcmVcbiAgICBjb25zdCB7YXBwbGlhbmNlQ2F0ZWdvcnlJRCwgeWVhcnNPZkV4cGVyaWVuY2UsIGNlcnRpZmljYXRlRGF0ZX0gPSByZXEuYm9keTtcbiAgICBjb25zdCB0ZWNobmljaWFuSUQgPSByZXEudGVjaG5pY2lhbklEO1xuXG4gICAgLy8gSWYgcmVxdWlyZWQgZmllbGRzIGFyZSBtaXNzaW5nLCB0aHJvdyBhIDQwMCBlcnJvclxuICAgIC8vIE5vdGU6IHllYXJzT2ZFeHBlcmllbmNlIHVzZXMgIT09IHVuZGVmaW5lZCB0byBhbGxvdyAwIGFzIGEgdmFsaWQgdmFsdWVcbiAgICBpZiAoIWFwcGxpYW5jZUNhdGVnb3J5SUQgfHwgeWVhcnNPZkV4cGVyaWVuY2UgPT09IHVuZGVmaW5lZCB8fCB5ZWFyc09mRXhwZXJpZW5jZSA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiQ2F0ZWdvcnkgSUQgYW5kIHllYXJzIG9mIGV4cGVyaWVuY2UgYXJlIHJlcXVpcmVkIGZvciB5b3UgdG8gcGFzcyFcIn0pO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRpbmcgeWVhcnMgb2YgZXhwZXJpZW5jZSAtIG11c3QgYmUgYW4gaW50ZWdlciBiZXR3ZWVuIDAgYW5kIDUwXG4gICAgaWYgKCFOdW1iZXIuaXNJbnRlZ2VyKHllYXJzT2ZFeHBlcmllbmNlKSB8fCB5ZWFyc09mRXhwZXJpZW5jZSA8IDAgfHwgeWVhcnNPZkV4cGVyaWVuY2UgPiA1MCkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiWW91ciB5ZWFycyBvZiBleHBlcmllbmNlIHNob3VsZCBiZSBiZXR3ZWVuIDAgYW5kIDUwLlwifSk7XG4gICAgfVxuXG4gICAgLy8gSWYgY2VydGlmaWNhdGUgZGF0ZSBpcyBwcm92aWRlZCwgdmFsaWRhdGUgaXRcbiAgICBpZiAoY2VydGlmaWNhdGVEYXRlKSB7XG4gICAgICAgIGNvbnN0IGNlcnREYXRlID0gbmV3IERhdGUoY2VydGlmaWNhdGVEYXRlKTtcbiAgICAgICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpO1xuICAgICAgICB0b2RheS5zZXRIb3VycygwLDAsMCwwKTtcblxuICAgICAgICAvLyBDZXJ0aWZpY2F0ZSBkYXRlIGNhbm5vdCBiZSBpbiB0aGUgZnV0dXJlXG4gICAgICAgIGlmIChjZXJ0RGF0ZSA+IHRvZGF5KSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiQ2VydGlmaWNhdGlvbiBkYXRlIGNhbm5vdCBiZSBpbiB0aGUgZnV0dXJlIVwifSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDZXJ0aWZpY2F0ZSBkYXRlIGNhbm5vdCBiZSBtb3JlIHRoYW4gNTAgeWVhcnMgYWdvXG4gICAgICAgIGNvbnN0IGZpZnR5WWVhcnNBZ28gPSBuZXcgRGF0ZSgpO1xuICAgICAgICBmaWZ0eVllYXJzQWdvLnNldEZ1bGxZZWFyKGZpZnR5WWVhcnNBZ28uZ2V0RnVsbFllYXIoKSAtIDUwKTtcblxuICAgICAgICBpZiAoY2VydERhdGUgPCBmaWZ0eVllYXJzQWdvKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiQ2VydGlmaWNhdGlvbiBkYXRlIGNhbm5vdCBiZSBtb3JlIHRoYW4gNTAgeWVhcnMgYWdvIVwifSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgICBjb25zdCBwb29sID0gZ2V0UG9vbCgpO1xuXG4gICAgICAgIC8vIENoZWNrIGlmIHRoZSBhcHBsaWFuY2UgY2F0ZWdvcnkgZXhpc3RzIGFuZCBpcyBhY3RpdmVcbiAgICAgICAgY29uc3QgY2hlY2tDYXRlZ29yeSA9IGF3YWl0IHBvb2wucmVxdWVzdCgpXG4gICAgICAgICAgICAuaW5wdXQoXCJhcHBsaWFuY2VDYXRlZ29yeUlEXCIsIHNxbC5JbnQsIGFwcGxpYW5jZUNhdGVnb3J5SUQpXG4gICAgICAgICAgICAucXVlcnkoYFxuICAgICAgICAgICAgICAgIFNFTEVDVCBDYXRlZ29yeV9JRCwgTmFtZUVOLCBOYW1lQVIsIGlzQWN0aXZlXG4gICAgICAgICAgICAgICAgRlJPTSBBcHBsaWFuY2VfQ2F0ZWdvcnlcbiAgICAgICAgICAgICAgICBXSEVSRSBDYXRlZ29yeV9JRCA9IEBhcHBsaWFuY2VDYXRlZ29yeUlEXG4gICAgICAgICAgICAgICAgYCk7XG5cbiAgICAgICAgLy8gSWYgbm8gcmVzdWx0IHJldHVybmVkLCB0aGUgY2F0ZWdvcnkgSUQgaXMgaW52YWxpZFxuICAgICAgICBpZiAoY2hlY2tDYXRlZ29yeS5yZWNvcmRzZXQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe21lc3NhZ2U6IFwiSW52YWxpZCBjYXRlZ29yeSBwYXNzZWQhIFlvdSBzaG91bGQgcGljayBvbmUgb2YgdGhlIGF2YWlsYWJsZSBjYXRlZ29yeSBJRHMgb25seS5cIn0pO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY2F0ZWdvcnkgPSBjaGVja0NhdGVnb3J5LnJlY29yZHNldFswXTtcblxuICAgICAgICAvLyBDaGVjayBpZiB0aGUgY2F0ZWdvcnkgaXMgYWN0aXZlXG4gICAgICAgIGlmICghY2F0ZWdvcnkuaXNBY3RpdmUpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJUaGUgY2F0ZWdvcnkgY2hvc2VuIGlzIGN1cnJlbnRseSBub3QgYWN0aXZlIVwifSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDaGVja2luZyBmb3IgZHVwbGljYXRlIHNwZWNpYWx0eSAtIHRlY2huaWNpYW4gY2Fubm90IGFkZCBzYW1lIGNhdGVnb3J5IHR3aWNlXG4gICAgICAgIGNvbnN0IGNoZWNrRHVwbGljYXRlID0gYXdhaXQgcG9vbC5yZXF1ZXN0KClcbiAgICAgICAgICAgIC5pbnB1dChcInRlY2huaWNpYW5JRFwiLCBzcWwuSW50LCB0ZWNobmljaWFuSUQpXG4gICAgICAgICAgICAuaW5wdXQoXCJhcHBsaWFuY2VDYXRlZ29yeUlEXCIsIHNxbC5JbnQsIGFwcGxpYW5jZUNhdGVnb3J5SUQpXG4gICAgICAgICAgICAucXVlcnkoYFxuICAgICAgICAgICAgICAgIFNFTEVDVCBUZWNobmljaWFuX0lEXG4gICAgICAgICAgICAgICAgRlJPTSBUZWNobmljaWFuX0NhdGVnb3J5XG4gICAgICAgICAgICAgICAgV0hFUkUgVGVjaG5pY2lhbl9JRCA9IEB0ZWNobmljaWFuSUQgQU5EIENhdGVnb3J5X0lEID0gQGFwcGxpYW5jZUNhdGVnb3J5SURcbiAgICAgICAgICAgICAgICBgKTtcblxuICAgICAgICAvLyBJZiBkdXBsaWNhdGUgZm91bmQsIHRocm93IGEgNDA5IGNvbmZsaWN0IGVycm9yXG4gICAgICAgIGlmIChjaGVja0R1cGxpY2F0ZS5yZWNvcmRzZXQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA5KS5qc29uKHttZXNzYWdlOiBcIllvdSBhbHJlYWR5IGhhdmUgdGhpcyBzcGVjaWFsdHkgYWRkZWQuXCJ9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEluc2VydCB0aGUgbmV3IHNwZWNpYWx0eSBpbnRvIFRlY2huaWNpYW5fQ2F0ZWdvcnkgdGFibGVcbiAgICAgICAgYXdhaXQgcG9vbC5yZXF1ZXN0KClcbiAgICAgICAgICAgIC5pbnB1dChcInRlY2huaWNpYW5JRFwiLCBzcWwuSW50LCB0ZWNobmljaWFuSUQpXG4gICAgICAgICAgICAuaW5wdXQoXCJhcHBsaWFuY2VDYXRlZ29yeUlEXCIsIHNxbC5JbnQsIGFwcGxpYW5jZUNhdGVnb3J5SUQpXG4gICAgICAgICAgICAuaW5wdXQoXCJ5ZWFyc09mRXhwZXJpZW5jZVwiLCBzcWwuU21hbGxJbnQsIHllYXJzT2ZFeHBlcmllbmNlKVxuICAgICAgICAgICAgLmlucHV0KFwiY2VydGlmaWNhdGVEYXRlXCIsIHNxbC5EYXRlLCBjZXJ0aWZpY2F0ZURhdGUgfHwgbnVsbClcbiAgICAgICAgICAgIC5xdWVyeShgXG4gICAgICAgICAgICAgICAgSU5TRVJUIElOVE8gVGVjaG5pY2lhbl9DYXRlZ29yeSAoVGVjaG5pY2lhbl9JRCwgQ2F0ZWdvcnlfSUQsIFllYXJzX29mX0V4cGVyaWVuY2UsIENlcnRpZmljYXRpb25fRGF0ZSlcbiAgICAgICAgICAgICAgICBWQUxVRVMgKEB0ZWNobmljaWFuSUQsIEBhcHBsaWFuY2VDYXRlZ29yeUlELCBAeWVhcnNPZkV4cGVyaWVuY2UsIEBjZXJ0aWZpY2F0ZURhdGUpXG4gICAgICAgICAgICAgICAgYCk7XG5cbiAgICAgICAgLy8gUmV0dXJuIHN1Y2Nlc3MgcmVzcG9uc2Ugd2l0aCBzcGVjaWFsdHkgZGV0YWlsc1xuICAgICAgICByZXMuc3RhdHVzKDIwMSkuanNvbih7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIlN1Y2Nlc3NmdWxseSBzZXQgeW91ciBzcGVjaWFsdHkuXCIsXG4gICAgICAgICAgICBjYXRlZ29yeUlEOiBjYXRlZ29yeS5DYXRlZ29yeV9JRCxcbiAgICAgICAgICAgIGNhdGVnb3J5TmFtZUVOOiBjYXRlZ29yeS5OYW1lRU4sXG4gICAgICAgICAgICBjYXRlZ29yeU5hbWVBUjogY2F0ZWdvcnkuTmFtZUFSLFxuICAgICAgICAgICAgeWVhcnNPZkV4cGVyaWVuY2U6IHllYXJzT2ZFeHBlcmllbmNlLFxuICAgICAgICAgICAgY2VydGlmaWNhdGVEYXRlOiBjZXJ0aWZpY2F0ZURhdGUgfHwgbnVsbFxuICAgICAgICB9KTtcblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJBbiB1bmV4cGVjdGVkIGVycm9yIG9jY3VycmVkIHdoZW4gdHJ5aW5nIHRvIHNldCB5b3VyIHNwZWNpYWx0eTpcIiwgZXJyb3IpO1xuXG4gICAgICAgIC8vIEZvcmVpZ24ga2V5IGNvbnN0cmFpbnQgdmlvbGF0aW9uXG4gICAgICAgIGlmIChlcnJvci5udW1iZXIgPT09IDU0Nykge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttZXNzYWdlOiBcIkludmFsaWQgdGVjaG5pY2lhbiBvciBjYXRlZ29yeSBJRC5cIn0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVW5pcXVlIGNvbnN0cmFpbnQgdmlvbGF0aW9uIChkdXBsaWNhdGUgZW50cnkpXG4gICAgICAgIGlmIChlcnJvci5udW1iZXIgPT09IDI2MjcpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwOSkuanNvbih7bWVzc2FnZTogXCJZb3UgYWxyZWFkeSBoYXZlIHRoaXMgc3BlY2lhbHR5IGFkZGVkIVwifSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7bWVzc2FnZTogXCJBbiB1bmV4cGVjdGVkIGVycm9yIG9jY3VycmVkIHdoZW4gdHJ5aW5nIHRvIHNldCB5b3VyIHNwZWNpYWx0eS5cIn0pO1xuICAgIH1cbn0pXG5cbi8vIFJlbW92aW5nIGEgc3BlY2lhbHR5IGZyb20gdGVjaG5pY2lhbidzIHByb2ZpbGVcbmNvbnN0IHJlbW92ZVNwZWNpYWx0eSA9IGFzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCB7IGNhdGVnb3J5SWQgfSA9IHJlcS5wYXJhbXM7ICAvLyBHZXQgZnJvbSBVUkwgcGFyYW1ldGVyXG4gICAgY29uc3QgdGVjaG5pY2lhbklEID0gcmVxLnRlY2huaWNpYW5JRDtcblxuICAgIC8vIFZhbGlkYXRlIGNhdGVnb3J5SWRcbiAgICBjb25zdCBwYXJzZWRDYXRlZ29yeUlkID0gcGFyc2VJbnQoY2F0ZWdvcnlJZCwgMTApO1xuICAgIGlmIChpc05hTihwYXJzZWRDYXRlZ29yeUlkKSkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiBcIkludmFsaWQgY2F0ZWdvcnkgSUQuIE11c3QgYmUgYSBudW1iZXIuXCIgfSk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcG9vbCA9IGdldFBvb2woKTtcblxuICAgICAgICAvLyBDaGVjayBpZiB0aGUgc3BlY2lhbHR5IGV4aXN0cyBiZWZvcmUgZGVsZXRpbmdcbiAgICAgICAgY29uc3QgY2hlY2tFeGlzdHMgPSBhd2FpdCBwb29sLnJlcXVlc3QoKVxuICAgICAgICAgICAgLmlucHV0KFwidGVjaG5pY2lhbklkXCIsIHNxbC5JbnQsIHRlY2huaWNpYW5JRClcbiAgICAgICAgICAgIC5pbnB1dChcImNhdGVnb3J5SWRcIiwgc3FsLkludCwgcGFyc2VkQ2F0ZWdvcnlJZClcbiAgICAgICAgICAgIC5xdWVyeShgXG4gICAgICAgICAgICAgICAgU0VMRUNUIENhdGVnb3J5X0lEXG4gICAgICAgICAgICAgICAgRlJPTSBUZWNobmljaWFuX0NhdGVnb3J5XG4gICAgICAgICAgICAgICAgV0hFUkUgVGVjaG5pY2lhbl9JRCA9IEB0ZWNobmljaWFuSWQgQU5EIENhdGVnb3J5X0lEID0gQGNhdGVnb3J5SWRcbiAgICAgICAgICAgIGApO1xuXG4gICAgICAgIGlmIChjaGVja0V4aXN0cy5yZWNvcmRzZXQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBtZXNzYWdlOiBcIlNwZWNpYWx0eSBub3QgZm91bmQgb3Igbm90IGFzc2lnbmVkIHRvIHlvdS5cIiB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIERlbGV0ZSB0aGUgc3BlY2lhbHR5XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBvb2wucmVxdWVzdCgpXG4gICAgICAgICAgICAuaW5wdXQoXCJ0ZWNobmljaWFuSWRcIiwgc3FsLkludCwgdGVjaG5pY2lhbklEKVxuICAgICAgICAgICAgLmlucHV0KFwiY2F0ZWdvcnlJZFwiLCBzcWwuSW50LCBwYXJzZWRDYXRlZ29yeUlkKVxuICAgICAgICAgICAgLnF1ZXJ5KGBcbiAgICAgICAgICAgICAgICBERUxFVEUgRlJPTSBUZWNobmljaWFuX0NhdGVnb3J5XG4gICAgICAgICAgICAgICAgV0hFUkUgVGVjaG5pY2lhbl9JRCA9IEB0ZWNobmljaWFuSWQgQU5EIENhdGVnb3J5X0lEID0gQGNhdGVnb3J5SWRcbiAgICAgICAgICAgIGApO1xuXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgbWVzc2FnZTogXCJTcGVjaWFsdHkgcmVtb3ZlZCBzdWNjZXNzZnVsbHkuXCIgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIlVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQgd2hlbiB0cnlpbmcgdG8gcmVtb3ZlIHNwZWNpYWx0eTogXCIsIGVycm9yKTtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiBcIkFuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQgd2hpbGUgcmVtb3ZpbmcgdGhlIHNwZWNpYWx0eS5cIiB9KTtcbiAgICB9XG59KTtcblxuLy8gR2V0dGluZyB0ZWNobmljaWFuJ3Mgc2VydmljZSBhcmVhc1xuY29uc3QgZ2V0U2VydmljZUFyZWFzID0gYXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHRlY2huaWNpYW5JRCA9IHJlcS50ZWNobmljaWFuSUQ7XG5cbiAgICB0cnkge1xuICAgICAgICBjb25zdCBwb29sID0gZ2V0UG9vbCgpO1xuXG4gICAgICAgIC8vIEdldCBhbGwgc2VydmljZSBhcmVhcyBmb3IgdGhpcyB0ZWNobmljaWFuLCBzb3J0ZWQgYnkgcHJpb3JpdHlcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcG9vbC5yZXF1ZXN0KClcbiAgICAgICAgICAgIC5pbnB1dChcInRlY2huaWNpYW5JZFwiLCBzcWwuSW50LCB0ZWNobmljaWFuSUQpXG4gICAgICAgICAgICAucXVlcnkoYFxuICAgICAgICAgICAgICAgIFNFTEVDVCBcbiAgICAgICAgICAgICAgICAgICAgdGVjX2FyZWEuQXJlYV9JRCxcbiAgICAgICAgICAgICAgICAgICAgYXJlYS5OYW1lRU4sXG4gICAgICAgICAgICAgICAgICAgIGFyZWEuTmFtZUFSLFxuICAgICAgICAgICAgICAgICAgICBhcmVhLlJlZ2lvbixcbiAgICAgICAgICAgICAgICAgICAgdGVjX2FyZWEuUHJpb3JpdHlfT3JkZXIsXG4gICAgICAgICAgICAgICAgICAgIHRlY19hcmVhLmNyZWF0ZWRBdFxuICAgICAgICAgICAgICAgIEZST00gVGVjaG5pY2lhbl9TZXJ2aWNlX0FyZWEgQVMgdGVjX2FyZWFcbiAgICAgICAgICAgICAgICBKT0lOIFNlcnZpY2VfQXJlYSBBUyBhcmVhIE9OIHRlY19hcmVhLkFyZWFfSUQgPSBhcmVhLkFyZWFfSURcbiAgICAgICAgICAgICAgICBXSEVSRSB0ZWNfYXJlYS5UZWNobmljaWFuX0lEID0gQHRlY2huaWNpYW5JZFxuICAgICAgICAgICAgICAgIE9SREVSIEJZIHRlY19hcmVhLlByaW9yaXR5X09yZGVyIEFTQywgYXJlYS5OYW1lRU4gQVNDXG4gICAgICAgICAgICBgKTtcblxuICAgICAgICAvLyBGb3JtYXQgdGhlIHJlc3BvbnNlIHdpdGggY29uc2lzdGVudCBjYW1lbENhc2VcbiAgICAgICAgY29uc3Qgc2VydmljZUFyZWFzID0gcmVzdWx0LnJlY29yZHNldC5tYXAocmVjb3JkID0+ICh7XG4gICAgICAgICAgICBhcmVhSWQ6IHJlY29yZC5BcmVhX0lELFxuICAgICAgICAgICAgbmFtZUVOOiByZWNvcmQuTmFtZUVOLFxuICAgICAgICAgICAgbmFtZUFSOiByZWNvcmQuTmFtZUFSLFxuICAgICAgICAgICAgcmVnaW9uOiByZWNvcmQuUmVnaW9uLFxuICAgICAgICAgICAgcHJpb3JpdHk6IHJlY29yZC5Qcmlvcml0eV9PcmRlcixcbiAgICAgICAgICAgIGFkZGVkQXQ6IHJlY29yZC5jcmVhdGVkQXRcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiU2VydmljZSBhcmVhcyByZXRyaWV2ZWQgc3VjY2Vzc2Z1bGx5LlwiLFxuICAgICAgICAgICAgY291bnQ6IHNlcnZpY2VBcmVhcy5sZW5ndGgsXG4gICAgICAgICAgICBzZXJ2aWNlQXJlYXM6IHNlcnZpY2VBcmVhc1xuICAgICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiVW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZCB3aGVuIHRyeWluZyB0byBnZXQgc2VydmljZSBhcmVhczogXCIsIGVycm9yKTtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiBcIkFuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQgd2hpbGUgcmV0cmlldmluZyBzZXJ2aWNlIGFyZWFzLlwiIH0pO1xuICAgIH1cbn0pO1xuXG4vLyBTZXR0aW5nIHRlY2huaWNpYW4gc2VydmljZSBhcmVhIC0gYWxsb3dzIHRlY2huaWNpYW5zIHRvIGFkZCBhcmVhcyB0aGV5IHdvcmsgaW4gd2l0aCBwcmlvcml0eVxuY29uc3Qgc2V0dGluZ1RlY2huaWNpYW5TZXJ2aWNlQXJlYSA9IGFzeW5jSGFuZGxlcihhc3luYyAocmVxLHJlcykgPT4ge1xuICAgIC8vIEdldHRpbmcgdGhlIHNlcnZpY2UgYXJlYSBkYXRhIGZyb20gdGhlIGJvZHkgYW5kIHRoZSB0ZWNobmljaWFuSUQgcGFzc2VkIGZyb20gdGhlIG1pZGRsZXdhcmVcbiAgICBjb25zdCB7c2VydmljZUFyZWFJRCwgcHJpb3JpdHl9ID0gcmVxLmJvZHk7XG4gICAgY29uc3QgdGVjaG5pY2lhbklEID0gcmVxLnRlY2huaWNpYW5JRDtcblxuICAgIC8vIElmIHJlcXVpcmVkIGZpZWxkcyBhcmUgbWlzc2luZywgdGhyb3cgYSA0MDAgZXJyb3JcbiAgICBpZiAoIXNlcnZpY2VBcmVhSUQgfHwgIXByaW9yaXR5KSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJZb3UgaGF2ZSB0byBzcGVjaWZ5IGZyb20gd2hpY2ggc2VydmljZSBhcmVhIHlvdSBhcmUgYW5kIHRoZSBwcmlvcml0eSBvZiBpdC5cIn0pO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRpbmcgcHJpb3JpdHkgLSBtdXN0IGJlIGFuIGludGVnZXIgYmV0d2VlbiAxIGFuZCAxMDBcbiAgICBpZiAoIU51bWJlci5pc0ludGVnZXIocHJpb3JpdHkpIHx8IHByaW9yaXR5IDwgMSB8fCBwcmlvcml0eSA+IDEwMCkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiUHJpb3JpdHkgbXVzdCBiZSBhbiBpbnRlZ2VyIGJldHdlZW4gMSBhbmQgMTAwLlwifSk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcG9vbCA9IGdldFBvb2woKTtcblxuICAgICAgICAvLyBDaGVjayBpZiB0aGUgc2VydmljZSBhcmVhIGV4aXN0c1xuICAgICAgICBjb25zdCBjaGVja0FyZWEgPSBhd2FpdCBwb29sLnJlcXVlc3QoKVxuICAgICAgICAgICAgLmlucHV0KFwic2VydmljZUFyZWFJRFwiLCBzcWwuSW50LCBzZXJ2aWNlQXJlYUlEKVxuICAgICAgICAgICAgLnF1ZXJ5KGBcbiAgICAgICAgICAgICAgICBTRUxFQ1QgQXJlYV9JRCwgTmFtZUVOLCBOYW1lQVIsIFJlZ2lvbiwgaXNBY3RpdmVcbiAgICAgICAgICAgICAgICBGUk9NIFNlcnZpY2VfQXJlYVxuICAgICAgICAgICAgICAgIFdIRVJFIEFyZWFfSUQgPSBAc2VydmljZUFyZWFJRFxuICAgICAgICAgICAgICAgIGApO1xuXG4gICAgICAgIC8vIElmIG5vIHJlc3VsdCByZXR1cm5lZCwgdGhlIHNlcnZpY2UgYXJlYSBJRCBpcyBpbnZhbGlkXG4gICAgICAgIGlmIChjaGVja0FyZWEucmVjb3Jkc2V0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHttZXNzYWdlOiBcIkludmFsaWQgc2VydmljZSBhcmVhIGNob3NlbiEgWW91IGhhdmUgdG8gY2hvb3NlIG9uZSBvZiB0aGUgYXZhaWxhYmxlIG9uZXMuXCJ9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNlcnZpY2VBcmVhID0gY2hlY2tBcmVhLnJlY29yZHNldFswXTtcblxuICAgICAgICAvLyBDaGVjayBpZiB0aGUgc2VydmljZSBhcmVhIGlzIGFjdGl2ZVxuICAgICAgICBpZiAoIXNlcnZpY2VBcmVhLmlzQWN0aXZlKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiQ3VycmVudGx5IHRoaXMgc2VydmljZSBhcmVhIGlzIG5vdCBhY3RpdmUuXCJ9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENoZWNraW5nIGZvciBkdXBsaWNhdGUgc2VydmljZSBhcmVhIC0gdGVjaG5pY2lhbiBjYW5ub3QgYWRkIHNhbWUgYXJlYSB0d2ljZVxuICAgICAgICBjb25zdCBjaGVja0R1cGxpY2F0ZSA9IGF3YWl0IHBvb2wucmVxdWVzdCgpXG4gICAgICAgICAgICAuaW5wdXQoXCJ0ZWNobmljaWFuSURcIiwgc3FsLkludCwgdGVjaG5pY2lhbklEKVxuICAgICAgICAgICAgLmlucHV0KFwic2VydmljZUFyZWFJRFwiLCBzcWwuSW50LCBzZXJ2aWNlQXJlYUlEKVxuICAgICAgICAgICAgLnF1ZXJ5KGBcbiAgICAgICAgICAgICAgICBTRUxFQ1QgVGVjaG5pY2lhbl9JRFxuICAgICAgICAgICAgICAgIEZST00gVGVjaG5pY2lhbl9TZXJ2aWNlX0FyZWFcbiAgICAgICAgICAgICAgICBXSEVSRSBUZWNobmljaWFuX0lEID0gQHRlY2huaWNpYW5JRCBBTkQgQXJlYV9JRCA9IEBzZXJ2aWNlQXJlYUlEXG4gICAgICAgICAgICAgICAgYCk7XG5cbiAgICAgICAgLy8gSWYgZHVwbGljYXRlIGZvdW5kLCB0aHJvdyBhIDQwOSBjb25mbGljdCBlcnJvclxuICAgICAgICBpZiAoY2hlY2tEdXBsaWNhdGUucmVjb3Jkc2V0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwOSkuanNvbih7bWVzc2FnZTogXCJZb3UgYWxyZWFkeSBoYXZlIHNldCB0aGlzIHNlcnZpY2UgYXJlYSFcIn0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSW5zZXJ0IHRoZSBuZXcgc2VydmljZSBhcmVhIGludG8gVGVjaG5pY2lhbl9TZXJ2aWNlX0FyZWEgdGFibGVcbiAgICAgICAgYXdhaXQgcG9vbC5yZXF1ZXN0KClcbiAgICAgICAgICAgIC5pbnB1dChcInRlY2huaWNpYW5JRFwiLCBzcWwuSW50LCB0ZWNobmljaWFuSUQpXG4gICAgICAgICAgICAuaW5wdXQoXCJzZXJ2aWNlQXJlYUlEXCIsIHNxbC5JbnQsIHNlcnZpY2VBcmVhSUQpXG4gICAgICAgICAgICAuaW5wdXQoXCJwcmlvcml0eVwiLCBzcWwuSW50LCBwcmlvcml0eSlcbiAgICAgICAgICAgIC5xdWVyeShgXG4gICAgICAgICAgICAgICAgSU5TRVJUIElOVE8gVGVjaG5pY2lhbl9TZXJ2aWNlX0FyZWEgKFRlY2huaWNpYW5fSUQsIEFyZWFfSUQsIFByaW9yaXR5X09yZGVyKVxuICAgICAgICAgICAgICAgIFZBTFVFUyAoQHRlY2huaWNpYW5JRCwgQHNlcnZpY2VBcmVhSUQsIEBwcmlvcml0eSlcbiAgICAgICAgICAgICAgICBgKTtcblxuICAgICAgICAvLyBSZXR1cm4gc3VjY2VzcyByZXNwb25zZSB3aXRoIHNlcnZpY2UgYXJlYSBkZXRhaWxzXG4gICAgICAgIHJlcy5zdGF0dXMoMjAxKS5qc29uKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiU3VjY2Vzc2Z1bGx5IHNldCB5b3VyIHNlcnZpY2UgYXJlYS5cIixcbiAgICAgICAgICAgIGFyZWFJRDogc2VydmljZUFyZWEuQXJlYV9JRCxcbiAgICAgICAgICAgIGFyZWFOYW1lRU46IHNlcnZpY2VBcmVhLk5hbWVFTixcbiAgICAgICAgICAgIGFyZWFOYW1lQVI6IHNlcnZpY2VBcmVhLk5hbWVBUixcbiAgICAgICAgICAgIGFyZWFSZWdpb246IHNlcnZpY2VBcmVhLlJlZ2lvbixcbiAgICAgICAgICAgIHByaW9yaXR5OiBwcmlvcml0eVxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkFuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQgd2hlbiB0cnlpbmcgdG8gc2V0IHlvdXIgc2VydmljZSBhcmVhOlwiLCBlcnJvcik7XG5cbiAgICAgICAgLy8gRm9yZWlnbiBrZXkgY29uc3RyYWludCB2aW9sYXRpb25cbiAgICAgICAgaWYgKGVycm9yLm51bWJlciA9PT0gNTQ3KSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiSW52YWxpZCB0ZWNobmljaWFuIG9yIHNlcnZpY2UgYXJlYSBJRC5cIn0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVW5pcXVlIGNvbnN0cmFpbnQgdmlvbGF0aW9uIChkdXBsaWNhdGUgZW50cnkpXG4gICAgICAgIGlmIChlcnJvci5udW1iZXIgPT09IDI2MjcpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwOSkuanNvbih7bWVzc2FnZTogXCJZb3UgYWxyZWFkeSBoYXZlIHRoaXMgc2VydmljZSBhcmVhIHNldCFcIn0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe21lc3NhZ2U6IFwiQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZCB3aGVuIHRyeWluZyB0byBzZXQgeW91ciBzZXJ2aWNlIGFyZWEuXCJ9KTtcbiAgICB9XG59KVxuXG4vLyBSZW1vdmluZyBhIHNlcnZpY2UgYXJlYSBmcm9tIHRlY2huaWNpYW4ncyBwcm9maWxlXG5jb25zdCByZW1vdmVTZXJ2aWNlQXJlYSA9IGFzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCB7IGFyZWFJZCB9ID0gcmVxLnBhcmFtczsgIC8vIEdldCBmcm9tIFVSTCBwYXJhbWV0ZXJcbiAgICBjb25zdCB0ZWNobmljaWFuSUQgPSByZXEudGVjaG5pY2lhbklEO1xuXG4gICAgLy8gVmFsaWRhdGUgYXJlYUlkXG4gICAgY29uc3QgcGFyc2VkQXJlYUlkID0gcGFyc2VJbnQoYXJlYUlkLCAxMCk7XG4gICAgaWYgKGlzTmFOKHBhcnNlZEFyZWFJZCkpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogXCJJbnZhbGlkIGFyZWEgSUQuIE11c3QgYmUgYSBudW1iZXIuXCIgfSk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcG9vbCA9IGdldFBvb2woKTtcblxuICAgICAgICAvLyBDaGVjayBpZiB0aGUgc2VydmljZSBhcmVhIGV4aXN0cyBiZWZvcmUgZGVsZXRpbmdcbiAgICAgICAgY29uc3QgY2hlY2tFeGlzdHMgPSBhd2FpdCBwb29sLnJlcXVlc3QoKVxuICAgICAgICAgICAgLmlucHV0KFwidGVjaG5pY2lhbklkXCIsIHNxbC5JbnQsIHRlY2huaWNpYW5JRClcbiAgICAgICAgICAgIC5pbnB1dChcImFyZWFJZFwiLCBzcWwuSW50LCBwYXJzZWRBcmVhSWQpXG4gICAgICAgICAgICAucXVlcnkoYFxuICAgICAgICAgICAgICAgIFNFTEVDVCBBcmVhX0lEXG4gICAgICAgICAgICAgICAgRlJPTSBUZWNobmljaWFuX1NlcnZpY2VfQXJlYVxuICAgICAgICAgICAgICAgIFdIRVJFIFRlY2huaWNpYW5fSUQgPSBAdGVjaG5pY2lhbklkIEFORCBBcmVhX0lEID0gQGFyZWFJZFxuICAgICAgICAgICAgYCk7XG5cbiAgICAgICAgaWYgKGNoZWNrRXhpc3RzLnJlY29yZHNldC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IG1lc3NhZ2U6IFwiU2VydmljZSBhcmVhIG5vdCBmb3VuZCBvciBub3QgYXNzaWduZWQgdG8geW91LlwiIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRGVsZXRlIHRoZSBzZXJ2aWNlIGFyZWFcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcG9vbC5yZXF1ZXN0KClcbiAgICAgICAgICAgIC5pbnB1dChcInRlY2huaWNpYW5JZFwiLCBzcWwuSW50LCB0ZWNobmljaWFuSUQpXG4gICAgICAgICAgICAuaW5wdXQoXCJhcmVhSWRcIiwgc3FsLkludCwgcGFyc2VkQXJlYUlkKVxuICAgICAgICAgICAgLnF1ZXJ5KGBcbiAgICAgICAgICAgICAgICBERUxFVEUgRlJPTSBUZWNobmljaWFuX1NlcnZpY2VfQXJlYVxuICAgICAgICAgICAgICAgIFdIRVJFIFRlY2huaWNpYW5fSUQgPSBAdGVjaG5pY2lhbklkIEFORCBBcmVhX0lEID0gQGFyZWFJZFxuICAgICAgICAgICAgYCk7XG5cbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBtZXNzYWdlOiBcIlNlcnZpY2UgYXJlYSByZW1vdmVkIHN1Y2Nlc3NmdWxseS5cIiB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiVW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZCB3aGVuIHRyeWluZyB0byByZW1vdmUgc2VydmljZSBhcmVhOiBcIiwgZXJyb3IpO1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IG1lc3NhZ2U6IFwiQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZCB3aGlsZSByZW1vdmluZyB0aGUgc2VydmljZSBhcmVhLlwiIH0pO1xuICAgIH1cbn0pO1xuXG5cbm1vZHVsZS5leHBvcnRzID0ge3JlZ2lzdGVyVGVjaG5pY2lhbiwgbG9naW5UZWNobmljaWFuLCBsb2dvdXRUZWNobmljaWFuLCBnZXRQcm9maWxlLCB1cGRhdGVQcm9maWxlLCBzZXR0aW5nVGVjaG5pY2lhblNwZWNpYWx0eSwgZ2V0U3BlY2lhbHRpZXMsIHJlbW92ZVNwZWNpYWx0eSwgc2V0dGluZ1RlY2huaWNpYW5TZXJ2aWNlQXJlYSwgZ2V0U2VydmljZUFyZWFzLCByZW1vdmVTZXJ2aWNlQXJlYX07ICJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsSUFBTUEsWUFBWSxHQUFHQyxPQUFPLENBQUMsdUJBQXVCLENBQUM7QUFDckQsSUFBTUMsTUFBTSxHQUFHRCxPQUFPLENBQUMsUUFBUSxDQUFDO0FBQ2hDLElBQU1FLEdBQUcsR0FBR0YsT0FBTyxDQUFDLGNBQWMsQ0FBQzs7QUFFbkM7QUFDQTtBQUNBLElBQUFHLFFBQUEsR0FBeUJILE9BQU8sQ0FBQyxvQkFBb0IsQ0FBQztFQUE5Q0ksT0FBTyxHQUFBRCxRQUFBLENBQVBDLE9BQU87RUFBRUMsR0FBRyxHQUFBRixRQUFBLENBQUhFLEdB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","map":{"version":3,"names":["asyncHandler","require","bcrypt","jwt","_require","getPool","sql","_require2","isValidEmail","isValidPhone","isValidPassword","isValidName","sanitizeString","registerTechnician","_ref","_asyncToGenerator2","_regenerator","mark","_callee","req","res","_req$body","firstName","lastName","email","phone","password","passwordValidation","pool","hashedPassword","result","_t","wrap","_context","prev","next","body","abrupt","status","json","message","valid","hash","sent","request","input","VarChar","toLowerCase","query","number","console","error","stop","_x","_x2","apply","arguments","loginTechnician","_ref2","_callee2","_req$body2","technician","isPasswordValid","technicianToken","_t2","_context2","recordset","length","isActive","Verified","compare","Password_Hash","sign","id","Technician_ID","First_Name","Last_Name","Email","process","env","TECHNICIAN_ACCESS_TOKEN","expiresIn","cookies","technician_access_token","clearCookie","cookie","httpOnly","secure","NODE_ENV","sameSite","maxAge","_x3","_x4","logoutTechnician","_ref3","_callee3","_context3","_x5","_x6","getProfile","_ref4","_callee4","technicianID","technicianResult","applianceResult","serviceAreaResult","technicianData","applianceCategories","serviceAreas","_t3","_context4","Int","map","record","categoryId","Category_ID","nameEN","NameEN","nameAR","NameAR","description","Description","yearsOfExperience","Years_Of_Experience","certificationDate","Certification_Date","areaId","Area_ID","region","Region","priority","Priority_Order","Phone","verified","averageRating","Average_Rating","totalJobs","Total_Jobs","_x7","_x8","updateProfile","_ref5","_callee5","_req$body3","_t4","_context5","rowsAffected","_x9","_x0","getSpecialties","_ref6","_callee6","specialties","_t5","_context6","addedAt","createdAt","count","_x1","_x10","settingTechnicianSpecialty","_ref7","_callee7","_req$body4","applianceCategoryID","certificateDate","certDate","today","fiftyYearsAgo","checkCategory","category","checkDuplicate","_t6","_context7","undefined","Number","isInteger","Date","setHours","setFullYear","getFullYear","SmallInt","categoryID","categoryNameEN","categoryNameAR","_x11","_x12","removeSpecialty","_ref8","_callee8","parsedCategoryId","checkExists","_t7","_context8","params","parseInt","isNaN","_x13","_x14","getServiceAreas","_ref9","_callee9","_t8","_context9","_x15","_x16","settingTechnicianServiceArea","_ref0","_callee0","_req$body5","serviceAreaID","checkArea","serviceArea","_t9","_context0","areaID","areaNameEN","areaNameAR","areaRegion","_x17","_x18","removeServiceArea","_ref1","_callee1","parsedAreaId","_t0","_context1","_x19","_x20","module","exports"],"sourceRoot":"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/controllers/","sources":["TechnicianController.js"],"sourcesContent":["/**\n * This controller provides the following functionalities for a technician: registering, logging in, logging out,\n * setting specialty (appliance categories they work with), and setting service areas.\n * \n * For storing the password, bcrypt is used to hash and jwt (jsonwebtoken) is used to sign a token and store it as cookie.\n */\n\nconst asyncHandler = require(\"express-async-handler\");\nconst bcrypt = require(\"bcrypt\");\nconst jwt = require(\"jsonwebtoken\");\n\n// sql needed for the type definitions in .input\n// getPool is to do queries\nconst { getPool, sql } = require(\"../config/database\");\n\n// Import validation utilities\nconst { isValidEmail, isValidPhone, isValidPassword, isValidName, sanitizeString } = require(\"../utils/validators\");\n\n\n// Handles the technician registering functionality\nconst registerTechnician = asyncHandler(async (req, res) => {\n    // Getting the needed data from the request body\n    const { firstName, lastName, email, phone, password} = req.body;\n\n    // Checking if any of them is empty, if yes then we throw a 400\n    if (!firstName || !lastName || !email || !phone || !password) {\n        return res.status(400).json({message: \"You have to insert all data to register.\"});\n    }\n\n    // Validate first name format\n    if (!isValidName(firstName)) {\n        return res.status(400).json({message: \"First name must be 2-30 characters and contain only letters.\"});\n    }\n\n    // Validate last name format\n    if (!isValidName(lastName)) {\n        return res.status(400).json({message: \"Last name must be 2-30 characters and contain only letters.\"});\n    }\n\n    // Validate email format\n    if (!isValidEmail(email)) {\n        return res.status(400).json({message: \"Please enter a valid email address.\"});\n    }\n\n    // Validate phone format\n    if (!isValidPhone(phone)) {\n        return res.status(400).json({message: \"Please enter a valid phone number.\"});\n    }\n\n    // Validate password strength\n    const passwordValidation = isValidPassword(password);\n    if (!passwordValidation.valid) {\n        return res.status(400).json({message: passwordValidation.message});\n    }\n\n    // We now try to access the database to insert the technician\n    try {\n        const pool = getPool();\n\n        // Hashing the password before storing\n        const hashedPassword = await bcrypt.hash(password, 11);\n\n        // Inserting the technician into the database Technician table\n        const result = await pool.request()\n            .input(\"firstName\", sql.VarChar, sanitizeString(firstName))\n            .input(\"lastName\", sql.VarChar, sanitizeString(lastName))\n            .input(\"email\", sql.VarChar, sanitizeString(email).toLowerCase())\n            .input(\"phone\", sql.VarChar, sanitizeString(phone))\n            .input(\"hashedPassword\", sql.VarChar, hashedPassword)\n            .query(`\n            INSERT INTO Technician (First_Name, Last_Name, Email, Phone, Password_Hash)\n            VALUES(@firstName, @lastName, @email, @phone, @hashedPassword)\n            `);\n\n        // Sending success message\n        res.status(201).json({message: \"Technician registered successfully!\"});\n    } catch (error) {\n        // Handling the unique constraints for email and phone numbers\n        // 2627 is for violation of the unique key constraint, and 2601 is for unique index violation\n        if (error.number === 2627 || error.number === 2601) {\n            return res.status(409).json({message: \"Another account exists already either with this email address or phone number. If you have another account, please use that one instead.\"});\n        }\n\n        // Throwing the console error and 500 status in case something goes wrong\n        console.error(\"Unexpected error registering a new technician account: \", error);\n        res.status(500).json({message: \"An unexpected error occurred while registering the technician.\"});\n    }\n});\n\n// Handling the logging in functionality for technicians\nconst loginTechnician = asyncHandler(async (req,res) => {\n    // Getting the email and password that the technician is trying to login with\n    const {email, password} = req.body;\n\n    // Input validation, if either empty then send 400 error\n    if (!email || !password) {\n        return res.status(400).json({message: \"You have to enter both your email and your password\"});\n    }\n\n    // Validate email format\n    if (!isValidEmail(email)) {\n        return res.status(400).json({message: \"Please enter a valid email address.\"});\n    }\n\n    try {\n        const pool = getPool();\n\n        // Searching in the database for a technician with the same email passed to check if exists\n        const result = await pool.request()\n            .input(\"email\", sql.VarChar, sanitizeString(email).toLowerCase())\n            .query(`\n                SELECT Technician_ID, First_Name, Last_Name, Email, Password_Hash, isActive, Verified\n                FROM Technician\n                WHERE Email = @email\n                `);\n\n        // If no results returned from the query, then the email entered is invalid\n        if (result.recordset.length === 0) {\n            return res.status(401).json({message: \"Invalid email address or password.\"});\n        }\n\n        // Now we are getting the first technician that we got having the same email address\n        const technician = result.recordset[0];\n\n        // Check if the technician account is active\n        if (!technician.isActive) {\n            return res.status(403).json({message: \"Your account is deactivated. Please contact us to resolve this issue.\"});\n        }\n\n        // Check if the technician account is verified by admin\n        if (!technician.Verified) {\n            return res.status(403).json({message: \"Your account is not verified yet. Please wait for admin approval.\"});\n        }\n\n        // Using bcrypt to check if the password passed is the same as the hashed one stored in the database\n        // If no, throw a 401 error\n        const isPasswordValid = await bcrypt.compare(password, technician.Password_Hash);\n        if (!isPasswordValid) {\n            return res.status(401).json({message: \"Invalid email address or password.\"});\n        }\n\n        // If the password matches, then create a technician token using jwt by signing it with the TECHNICIAN_ACCESS_TOKEN\n        // stored in the .env file. The token expires in 1 day.\n        const technicianToken = jwt.sign({\n            id: technician.Technician_ID,\n            firstName: technician.First_Name,\n            lastName: technician.Last_Name,\n            email: technician.Email\n        },\n            process.env.TECHNICIAN_ACCESS_TOKEN,\n            {expiresIn: \"1d\"}\n        );\n\n        // If a cookie exists already for the technician, clear it\n        if (req.cookies.technician_access_token) {\n            res.clearCookie('technician_access_token');\n        }\n\n        // Store the new cookie such that it lasts 1 day, and throw a 200 success message with some data about the technician\n        // (id, firstName, lastName, email)\n        res.cookie('technician_access_token', technicianToken, \n            {httpOnly: true, \n            secure: process.env.NODE_ENV === \"production\",\n            sameSite: process.env.NODE_ENV === \"production\" ? 'strict' : 'lax',\n            maxAge: 24 * 60 * 60 * 1000});\n        res.status(200).json({\n            message: \"Successfully logged in.\",\n            technician: {\n                id: technician.Technician_ID,\n                firstName: technician.First_Name,\n                lastName: technician.Last_Name,\n                email: technician.Email\n            }\n        })\n\n        // If anything goes wrong, throw an error\n    } catch (error) {\n        console.error(\"Login error:\", error);\n        res.status(500).json({message: \"An error occurred during login.\"});\n    }\n});\n\n// Logging out functionality by clearing the technician's cookie and sending a success message\nconst logoutTechnician = asyncHandler(async (req, res) => {\n    res.clearCookie('technician_access_token');\n    res.status(200).json({message: \"Successfully logged out.\"});\n})\n\n// Getting technician's profile\nconst getProfile = asyncHandler(async (req, res) => {\n    const technicianID = req.technicianID;\n\n    try {\n        const pool = getPool();\n\n        const technicianResult = await pool.request()\n            .input(\"technicianId\", sql.Int, technicianID)\n            .query(`\n            SELECT tec.Technician_ID, tec.First_Name, tec.Last_Name, tec.Email, tec.Phone, tec.isActive, tec.Verified, tec.Average_Rating, tec.Total_Jobs\n            FROM [Technician] AS tec\n            WHERE tec.Technician_ID = @technicianId\n            `);\n\n\n        if (technicianResult.recordset.length === 0) {\n            return res.status(404).json({message: \"Technician not found.\"});\n        }\n\n        const applianceResult = await pool.request()\n            .input(\"technicianId\", sql.Int, technicianID)\n            .query(`\n            SELECT tec_cat.Category_ID, cat.NameEN, cat.NameAR, cat.Description, tec_cat.Years_Of_Experience, tec_cat.Certification_Date\n            FROM Technician_Category AS tec_cat\n            JOIN Appliance_Category AS cat ON tec_cat.Category_ID = cat.Category_ID\n            WHERE tec_cat.Technician_ID = @technicianId\n            `);\n\n        const serviceAreaResult = await pool.request()\n            .input(\"technicianId\", sql.Int, technicianID)\n            .query(`\n            SELECT area.Area_ID, area.NameEN, area.NameAR, area.Region, tec_area.Priority_Order\n            FROM Technician_Service_Area AS tec_area\n            JOIN Service_Area AS area ON tec_area.Area_ID = area.Area_ID\n            WHERE tec_area.Technician_ID = @technicianId\n            ORDER BY tec_area.Priority_Order ASC, area.NameEN ASC\n            `);\n\n        const technicianData = technicianResult.recordset[0];\n\n        const applianceCategories = applianceResult.recordset.map(record => ({\n            categoryId: record.Category_ID,\n            nameEN: record.NameEN,\n            nameAR: record.NameAR,\n            description: record.Description,\n            yearsOfExperience: record.Years_Of_Experience,\n            certificationDate: record.Certification_Date\n        }));\n\n        const serviceAreas = serviceAreaResult.recordset.map(record => ({\n            areaId: record.Area_ID,\n            nameEN: record.NameEN,\n            nameAR: record.NameAR,\n            region: record.Region,\n            priority: record.Priority_Order\n        }));\n\n        res.status(200).json({ \n            firstName: technicianData.First_Name,\n            lastName: technicianData.Last_Name,\n            email: technicianData.Email,\n            phone: technicianData.Phone,\n            isActive: technicianData.isActive,\n            verified: technicianData.Verified,\n            averageRating: technicianData.Average_Rating,\n            totalJobs: technicianData.Total_Jobs,\n            applianceCategories: applianceCategories,\n            serviceAreas: serviceAreas,\n        });\n    } catch (error) {\n        // Throwing the console error and 500 status in case something goes wrong.\n        console.error(\"Unexpected error occurred when trying to get profile: \", error);\n        res.status(500).json({ message: \"An unexpected error occurred while getting profile.\" });\n    }\n})\n\n// Updating technician's profile information\nconst updateProfile = asyncHandler(async (req, res) => {\n    const { firstName, lastName, email, phone } = req.body;\n    const technicianID = req.technicianID;\n\n    // Checking if any of them is empty, if yes then we throw a 400\n    if (!firstName || !lastName || !email || !phone) {\n        return res.status(400).json({ message: \"You have to insert all profile data to update.\" });\n    }\n\n    // Validate first name format\n    if (!isValidName(firstName)) {\n        return res.status(400).json({ message: \"First name must be 2-30 characters and contain only letters.\" });\n    }\n\n    // Validate last name format\n    if (!isValidName(lastName)) {\n        return res.status(400).json({ message: \"Last name must be 2-30 characters and contain only letters.\" });\n    }\n\n    // Validate email format\n    if (!isValidEmail(email)) {\n        return res.status(400).json({ message: \"Please enter a valid email address.\" });\n    }\n\n    // Validate phone format\n    if (!isValidPhone(phone)) {\n        return res.status(400).json({ message: \"Please enter a valid phone number.\" });\n    }\n\n    try {\n        const pool = getPool();\n\n        // Updating the technician data\n        const result = await pool.request()\n            .input(\"technicianId\", sql.Int, technicianID)\n            .input(\"firstName\", sql.VarChar, sanitizeString(firstName))\n            .input(\"lastName\", sql.VarChar, sanitizeString(lastName))\n            .input(\"email\", sql.VarChar, sanitizeString(email).toLowerCase())\n            .input(\"phone\", sql.VarChar, sanitizeString(phone))\n            .query(`\n                UPDATE [Technician] \n                SET First_Name = @firstName, Last_Name = @lastName, Email = @email, \n                    Phone = @phone, modifiedAt = GETDATE()\n                WHERE Technician_ID = @technicianId\n            `);\n\n        // Check if update affected any rows\n        if (result.rowsAffected[0] === 0) {\n            return res.status(404).json({ message: \"Technician not found or no changes made.\" });\n        }\n\n        // Sending success message\n        res.status(200).json({ message: \"Technician profile updated successfully!\" });\n    } catch (error) {\n        // Handling the unique constraints for email and phone numbers\n        if (error.number === 2627 || error.number === 2601) {\n            return res.status(409).json({ message: \"Another account exists already either with this email address or phone number. If you have another account, please use that one instead.\" });\n        }\n\n        // Throwing the console error and 500 status in case something goes wrong\n        console.error(\"Unexpected error when updating technician profile: \", error);\n        res.status(500).json({ message: \"An unexpected error occurred while updating the technician's profile.\" });\n    }\n});\n\n// Getting technician's specialties (appliance categories)\nconst getSpecialties = asyncHandler(async (req, res) => {\n    const technicianID = req.technicianID;\n\n    try {\n        const pool = getPool();\n\n        // Get all specialties for this technician\n        const result = await pool.request()\n            .input(\"technicianId\", sql.Int, technicianID)\n            .query(`\n                SELECT \n                    tec_cat.Category_ID, \n                    cat.NameEN, \n                    cat.NameAR, \n                    cat.Description,\n                    tec_cat.Years_Of_Experience, \n                    tec_cat.Certification_Date,\n                    tec_cat.createdAt\n                FROM Technician_Category AS tec_cat\n                JOIN Appliance_Category AS cat ON tec_cat.Category_ID = cat.Category_ID\n                WHERE tec_cat.Technician_ID = @technicianId\n                ORDER BY cat.NameEN ASC\n            `);\n\n        // Format the response by camelCase\n        const specialties = result.recordset.map(record => ({\n            categoryId: record.Category_ID,\n            nameEN: record.NameEN,\n            nameAR: record.NameAR,\n            description: record.Description,\n            yearsOfExperience: record.Years_Of_Experience,\n            certificationDate: record.Certification_Date,\n            addedAt: record.createdAt\n        }));\n\n        res.status(200).json({\n            message: \"Specialties retrieved successfully.\",\n            count: specialties.length,\n            specialties: specialties\n        });\n    } catch (error) {\n        console.error(\"Unexpected error occurred when trying to get specialties: \", error);\n        res.status(500).json({ message: \"An unexpected error occurred while retrieving specialties.\" });\n    }\n});\n\n// Setting technician specialty - allows technicians to add appliance categories they specialize in\nconst settingTechnicianSpecialty = asyncHandler(async (req,res) => {\n    // Getting the specialty data from the body and the technicianID passed from the middleware\n    const {applianceCategoryID, yearsOfExperience, certificateDate} = req.body;\n    const technicianID = req.technicianID;\n\n    // If required fields are missing, throw a 400 error\n    // Note: yearsOfExperience uses !== undefined to allow 0 as a valid value\n    if (!applianceCategoryID || yearsOfExperience === undefined || yearsOfExperience === null) {\n        return res.status(400).json({message: \"Category ID and years of experience are required for you to pass!\"});\n    }\n\n    // Validating years of experience - must be an integer between 0 and 50\n    if (!Number.isInteger(yearsOfExperience) || yearsOfExperience < 0 || yearsOfExperience > 50) {\n        return res.status(400).json({message: \"Your years of experience should be between 0 and 50.\"});\n    }\n\n    // If certificate date is provided, validate it\n    if (certificateDate) {\n        const certDate = new Date(certificateDate);\n        const today = new Date();\n        today.setHours(0,0,0,0);\n\n        // Certificate date cannot be in the future\n        if (certDate > today) {\n            return res.status(400).json({message: \"Certification date cannot be in the future!\"});\n        }\n\n        // Certificate date cannot be more than 50 years ago\n        const fiftyYearsAgo = new Date();\n        fiftyYearsAgo.setFullYear(fiftyYearsAgo.getFullYear() - 50);\n\n        if (certDate < fiftyYearsAgo) {\n            return res.status(400).json({message: \"Certification date cannot be more than 50 years ago!\"});\n        }\n    }\n\n    try {\n        const pool = getPool();\n\n        // Check if the appliance category exists and is active\n        const checkCategory = await pool.request()\n            .input(\"applianceCategoryID\", sql.Int, applianceCategoryID)\n            .query(`\n                SELECT Category_ID, NameEN, NameAR, isActive\n                FROM Appliance_Category\n                WHERE Category_ID = @applianceCategoryID\n                `);\n\n        // If no result returned, the category ID is invalid\n        if (checkCategory.recordset.length === 0) {\n            return res.status(404).json({message: \"Invalid category passed! You should pick one of the available category IDs only.\"});\n        }\n\n        const category = checkCategory.recordset[0];\n\n        // Check if the category is active\n        if (!category.isActive) {\n            return res.status(400).json({message: \"The category chosen is currently not active!\"});\n        }\n\n        // Checking for duplicate specialty - technician cannot add same category twice\n        const checkDuplicate = await pool.request()\n            .input(\"technicianID\", sql.Int, technicianID)\n            .input(\"applianceCategoryID\", sql.Int, applianceCategoryID)\n            .query(`\n                SELECT Technician_ID\n                FROM Technician_Category\n                WHERE Technician_ID = @technicianID AND Category_ID = @applianceCategoryID\n                `);\n\n        // If duplicate found, throw a 409 conflict error\n        if (checkDuplicate.recordset.length > 0) {\n            return res.status(409).json({message: \"You already have this specialty added.\"});\n        }\n\n        // Insert the new specialty into Technician_Category table\n        await pool.request()\n            .input(\"technicianID\", sql.Int, technicianID)\n            .input(\"applianceCategoryID\", sql.Int, applianceCategoryID)\n            .input(\"yearsOfExperience\", sql.SmallInt, yearsOfExperience)\n            .input(\"certificateDate\", sql.Date, certificateDate || null)\n            .query(`\n                INSERT INTO Technician_Category (Technician_ID, Category_ID, Years_of_Experience, Certification_Date)\n                VALUES (@technicianID, @applianceCategoryID, @yearsOfExperience, @certificateDate)\n                `);\n\n        // Return success response with specialty details\n        res.status(201).json({\n            message: \"Successfully set your specialty.\",\n            categoryID: category.Category_ID,\n            categoryNameEN: category.NameEN,\n            categoryNameAR: category.NameAR,\n            yearsOfExperience: yearsOfExperience,\n            certificateDate: certificateDate || null\n        });\n\n    } catch (error) {\n        console.error(\"An unexpected error occurred when trying to set your specialty:\", error);\n\n        // Foreign key constraint violation\n        if (error.number === 547) {\n            return res.status(400).json({message: \"Invalid technician or category ID.\"});\n        }\n\n        // Unique constraint violation (duplicate entry)\n        if (error.number === 2627) {\n            return res.status(409).json({message: \"You already have this specialty added!\"});\n        }\n\n        res.status(500).json({message: \"An unexpected error occurred when trying to set your specialty.\"});\n    }\n})\n\n// Removing a specialty from technician's profile\nconst removeSpecialty = asyncHandler(async (req, res) => {\n    const { categoryId } = req.params;  // Get from URL parameter\n    const technicianID = req.technicianID;\n\n    // Validate categoryId\n    const parsedCategoryId = parseInt(categoryId, 10);\n    if (isNaN(parsedCategoryId)) {\n        return res.status(400).json({ message: \"Invalid category ID. Must be a number.\" });\n    }\n\n    try {\n        const pool = getPool();\n\n        // Check if the specialty exists before deleting\n        const checkExists = await pool.request()\n            .input(\"technicianId\", sql.Int, technicianID)\n            .input(\"categoryId\", sql.Int, parsedCategoryId)\n            .query(`\n                SELECT Category_ID\n                FROM Technician_Category\n                WHERE Technician_ID = @technicianId AND Category_ID = @categoryId\n            `);\n\n        if (checkExists.recordset.length === 0) {\n            return res.status(404).json({ message: \"Specialty not found or not assigned to you.\" });\n        }\n\n        // Delete the specialty\n        const result = await pool.request()\n            .input(\"technicianId\", sql.Int, technicianID)\n            .input(\"categoryId\", sql.Int, parsedCategoryId)\n            .query(`\n                DELETE FROM Technician_Category\n                WHERE Technician_ID = @technicianId AND Category_ID = @categoryId\n            `);\n\n        res.status(200).json({ message: \"Specialty removed successfully.\" });\n    } catch (error) {\n        console.error(\"Unexpected error occurred when trying to remove specialty: \", error);\n        res.status(500).json({ message: \"An unexpected error occurred while removing the specialty.\" });\n    }\n});\n\n// Getting technician's service areas\nconst getServiceAreas = asyncHandler(async (req, res) => {\n    const technicianID = req.technicianID;\n\n    try {\n        const pool = getPool();\n\n        // Get all service areas for this technician, sorted by priority\n        const result = await pool.request()\n            .input(\"technicianId\", sql.Int, technicianID)\n            .query(`\n                SELECT \n                    tec_area.Area_ID,\n                    area.NameEN,\n                    area.NameAR,\n                    area.Region,\n                    tec_area.Priority_Order,\n                    tec_area.createdAt\n                FROM Technician_Service_Area AS tec_area\n                JOIN Service_Area AS area ON tec_area.Area_ID = area.Area_ID\n                WHERE tec_area.Technician_ID = @technicianId\n                ORDER BY tec_area.Priority_Order ASC, area.NameEN ASC\n            `);\n\n        // Format the response with consistent camelCase\n        const serviceAreas = result.recordset.map(record => ({\n            areaId: record.Area_ID,\n            nameEN: record.NameEN,\n            nameAR: record.NameAR,\n            region: record.Region,\n            priority: record.Priority_Order,\n            addedAt: record.createdAt\n        }));\n\n        res.status(200).json({\n            message: \"Service areas retrieved successfully.\",\n            count: serviceAreas.length,\n            serviceAreas: serviceAreas\n        });\n    } catch (error) {\n        console.error(\"Unexpected error occurred when trying to get service areas: \", error);\n        res.status(500).json({ message: \"An unexpected error occurred while retrieving service areas.\" });\n    }\n});\n\n// Setting technician service area - allows technicians to add areas they work in with priority\nconst settingTechnicianServiceArea = asyncHandler(async (req,res) => {\n    // Getting the service area data from the body and the technicianID passed from the middleware\n    const {serviceAreaID, priority} = req.body;\n    const technicianID = req.technicianID;\n\n    // If required fields are missing, throw a 400 error\n    if (!serviceAreaID || !priority) {\n        return res.status(400).json({message: \"You have to specify from which service area you are and the priority of it.\"});\n    }\n\n    // Validating priority - must be an integer between 1 and 100\n    if (!Number.isInteger(priority) || priority < 1 || priority > 100) {\n        return res.status(400).json({message: \"Priority must be an integer between 1 and 100.\"});\n    }\n\n    try {\n        const pool = getPool();\n\n        // Check if the service area exists\n        const checkArea = await pool.request()\n            .input(\"serviceAreaID\", sql.Int, serviceAreaID)\n            .query(`\n                SELECT Area_ID, NameEN, NameAR, Region, isActive\n                FROM Service_Area\n                WHERE Area_ID = @serviceAreaID\n                `);\n\n        // If no result returned, the service area ID is invalid\n        if (checkArea.recordset.length === 0) {\n            return res.status(404).json({message: \"Invalid service area chosen! You have to choose one of the available ones.\"});\n        }\n\n        const serviceArea = checkArea.recordset[0];\n\n        // Check if the service area is active\n        if (!serviceArea.isActive) {\n            return res.status(400).json({message: \"Currently this service area is not active.\"});\n        }\n\n        // Checking for duplicate service area - technician cannot add same area twice\n        const checkDuplicate = await pool.request()\n            .input(\"technicianID\", sql.Int, technicianID)\n            .input(\"serviceAreaID\", sql.Int, serviceAreaID)\n            .query(`\n                SELECT Technician_ID\n                FROM Technician_Service_Area\n                WHERE Technician_ID = @technicianID AND Area_ID = @serviceAreaID\n                `);\n\n        // If duplicate found, throw a 409 conflict error\n        if (checkDuplicate.recordset.length > 0) {\n            return res.status(409).json({message: \"You already have set this service area!\"});\n        }\n\n        // Insert the new service area into Technician_Service_Area table\n        await pool.request()\n            .input(\"technicianID\", sql.Int, technicianID)\n            .input(\"serviceAreaID\", sql.Int, serviceAreaID)\n            .input(\"priority\", sql.Int, priority)\n            .query(`\n                INSERT INTO Technician_Service_Area (Technician_ID, Area_ID, Priority_Order)\n                VALUES (@technicianID, @serviceAreaID, @priority)\n                `);\n\n        // Return success response with service area details\n        res.status(201).json({\n            message: \"Successfully set your service area.\",\n            areaID: serviceArea.Area_ID,\n            areaNameEN: serviceArea.NameEN,\n            areaNameAR: serviceArea.NameAR,\n            areaRegion: serviceArea.Region,\n            priority: priority\n        });\n        \n    } catch (error) {\n        console.error(\"An unexpected error occurred when trying to set your service area:\", error);\n\n        // Foreign key constraint violation\n        if (error.number === 547) {\n            return res.status(400).json({message: \"Invalid technician or service area ID.\"});\n        }\n\n        // Unique constraint violation (duplicate entry)\n        if (error.number === 2627) {\n            return res.status(409).json({message: \"You already have this service area set!\"});\n        }\n\n        res.status(500).json({message: \"An unexpected error occurred when trying to set your service area.\"});\n    }\n})\n\n// Removing a service area from technician's profile\nconst removeServiceArea = asyncHandler(async (req, res) => {\n    const { areaId } = req.params;  // Get from URL parameter\n    const technicianID = req.technicianID;\n\n    // Validate areaId\n    const parsedAreaId = parseInt(areaId, 10);\n    if (isNaN(parsedAreaId)) {\n        return res.status(400).json({ message: \"Invalid area ID. Must be a number.\" });\n    }\n\n    try {\n        const pool = getPool();\n\n        // Check if the service area exists before deleting\n        const checkExists = await pool.request()\n            .input(\"technicianId\", sql.Int, technicianID)\n            .input(\"areaId\", sql.Int, parsedAreaId)\n            .query(`\n                SELECT Area_ID\n                FROM Technician_Service_Area\n                WHERE Technician_ID = @technicianId AND Area_ID = @areaId\n            `);\n\n        if (checkExists.recordset.length === 0) {\n            return res.status(404).json({ message: \"Service area not found or not assigned to you.\" });\n        }\n\n        // Delete the service area\n        const result = await pool.request()\n            .input(\"technicianId\", sql.Int, technicianID)\n            .input(\"areaId\", sql.Int, parsedAreaId)\n            .query(`\n                DELETE FROM Technician_Service_Area\n                WHERE Technician_ID = @technicianId AND Area_ID = @areaId\n            `);\n\n        res.status(200).json({ message: \"Service area removed successfully.\" });\n    } catch (error) {\n        console.error(\"Unexpected error occurred when trying to remove service area: \", error);\n        res.status(500).json({ message: \"An unexpected error occurred while removing the service area.\" });\n    }\n});\n\n\nmodule.exports = {registerTechnician, loginTechnician, logoutTechnician, getProfile, updateProfile, settingTechnicianSpecialty, getSpecialties, removeSpecialty, settingTechnicianServiceArea, getServiceAreas, removeServiceArea}; "],"mappings":"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","ignoreList":[]}},"mtime":1764708215026},"{\"assumptions\":{},\"sourceRoot\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end\",\"filename\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/controllers/TechnicianBookingController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"_exploded\":true,\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"VoidPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$48\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$49\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n/**\n * This controller handles everything related to booking and the technician:\n *  1. Technician accepting a pending booking\n *  2. Technician getting all pending bookings available to accept\n */\n\nvar asyncHandler = require(\"express-async-handler\");\n\n// sql needed for the type definitions in .input\n// getPool is to do queries\nvar _require = require(\"../config/database\"),\n  getPool = _require.getPool,\n  sql = _require.sql;\n\n// Technician accepting a pending booking\nvar acceptPendingBooking = asyncHandler(/*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee(req, res) {\n    var bookingID, technicianID, pool, checkBooking, booking, result, _t;\n    return _regenerator[\"default\"].wrap(function (_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          // Getting the booking ID from the body and the technician ID passed from the middleware\n          bookingID = req.body.bookingID;\n          technicianID = req.technicianID; // If no booking ID is passed, throw a 400 error\n          if (bookingID) {\n            _context.next = 1;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"You need to pass a booking ID.\"\n          }));\n        case 1:\n          _context.prev = 1;\n          pool = getPool(); // Check if the booking exists and get its current status and assigned technician\n          _context.next = 2;\n          return pool.request().input(\"bookingID\", sql.Int, bookingID).query(\"\\n                    SELECT Booking_ID, [Status], Technician_ID\\n                    FROM Booking\\n                    WHERE Booking_ID = @bookingID\\n                    \");\n        case 2:\n          checkBooking = _context.sent;\n          if (!(checkBooking.recordset.length === 0)) {\n            _context.next = 3;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(404).json({\n            message: \"Booking not found.\"\n          }));\n        case 3:\n          booking = checkBooking.recordset[0]; // Check if booking is already assigned to another technician\n          if (!(booking.Technician_ID !== null)) {\n            _context.next = 4;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(409).json({\n            message: \"This booking is already assigned to another technician.\"\n          }));\n        case 4:\n          if (!(booking.Status !== 'pending')) {\n            _context.next = 5;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"This booking is \".concat(booking.Status, \" and cannot be accepted.\")\n          }));\n        case 5:\n          _context.next = 6;\n          return pool.request().input(\"bookingID\", sql.Int, bookingID).input(\"technicianID\", sql.Int, technicianID).query(\"\\n                    UPDATE Booking\\n                    SET Technician_ID = @technicianID,\\n                        [Status] = 'confirmed',\\n                        modifiedAt = GETDATE()\\n                    WHERE Booking_ID = @bookingID\\n                    \");\n        case 6:\n          result = _context.sent;\n          // Return success response with booking and technician details\n          res.status(200).json({\n            message: \"Booking accepted successfully.\",\n            bookingID: bookingID,\n            technicianID: technicianID\n          });\n          _context.next = 9;\n          break;\n        case 7:\n          _context.prev = 7;\n          _t = _context[\"catch\"](1);\n          console.error(\"Unexpected error occurred when trying to apply booking to technician: \", _t);\n\n          // Foreign key constraint violation\n          if (!(_t.number === 547)) {\n            _context.next = 8;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"Invalid booking or technician ID.\"\n          }));\n        case 8:\n          res.status(500).json({\n            message: \"Unexpected error occurred when trying to set booking to technician.\"\n          });\n        case 9:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[1, 7]]);\n  }));\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}());\n\n// Technician starting work on a confirmed booking\nvar startBooking = asyncHandler(/*#__PURE__*/function () {\n  var _ref2 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(req, res) {\n    var bookingID, technicianID, pool, checkBooking, booking, _t2;\n    return _regenerator[\"default\"].wrap(function (_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          bookingID = req.body.bookingID;\n          technicianID = req.technicianID; // If no booking ID is passed, throw a 400 error\n          if (bookingID) {\n            _context2.next = 1;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(400).json({\n            message: \"You need to pass a booking ID.\"\n          }));\n        case 1:\n          _context2.prev = 1;\n          pool = getPool(); // Check if the booking exists and belongs to this technician\n          _context2.next = 2;\n          return pool.request().input(\"bookingID\", sql.Int, bookingID).input(\"technicianID\", sql.Int, technicianID).query(\"\\n                SELECT Booking_ID, [Status], Technician_ID, Booking_Date, Booking_Time\\n                FROM Booking\\n                WHERE Booking_ID = @bookingID\\n            \");\n        case 2:\n          checkBooking = _context2.sent;\n          if (!(checkBooking.recordset.length === 0)) {\n            _context2.next = 3;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(404).json({\n            message: \"Booking not found.\"\n          }));\n        case 3:\n          booking = checkBooking.recordset[0]; // Check if booking is assigned to this technician\n          if (!(booking.Technician_ID !== technicianID)) {\n            _context2.next = 4;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(403).json({\n            message: \"You are not authorized to start this booking as it's not assigned to you.\"\n          }));\n        case 4:\n          if (!(booking.Status !== 'confirmed')) {\n            _context2.next = 5;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(400).json({\n            message: \"This booking is \".concat(booking.Status, \" and cannot be started. Only confirmed bookings can be started.\")\n          }));\n        case 5:\n          _context2.next = 6;\n          return pool.request().input(\"bookingID\", sql.Int, bookingID).query(\"\\n                UPDATE Booking\\n                SET [Status] = 'in_progress',\\n                    modifiedAt = GETDATE()\\n                WHERE Booking_ID = @bookingID\\n            \");\n        case 6:\n          // Return success response\n          res.status(200).json({\n            message: \"Booking started successfully.\",\n            bookingID: bookingID,\n            status: \"in_progress\"\n          });\n          _context2.next = 8;\n          break;\n        case 7:\n          _context2.prev = 7;\n          _t2 = _context2[\"catch\"](1);\n          console.error(\"Unexpected error occurred when trying to start booking: \", _t2);\n          res.status(500).json({\n            message: \"An unexpected error occurred when trying to start the booking.\"\n          });\n        case 8:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[1, 7]]);\n  }));\n  return function (_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}());\n\n// Technician completing a booking\nvar completeBooking = asyncHandler(/*#__PURE__*/function () {\n  var _ref3 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee3(req, res) {\n    var bookingID, technicianID, pool, checkBooking, booking, _t3;\n    return _regenerator[\"default\"].wrap(function (_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          bookingID = req.body.bookingID;\n          technicianID = req.technicianID; // If no booking ID is passed, throw a 400 error\n          if (bookingID) {\n            _context3.next = 1;\n            break;\n          }\n          return _context3.abrupt(\"return\", res.status(400).json({\n            message: \"You need to pass a booking ID.\"\n          }));\n        case 1:\n          _context3.prev = 1;\n          pool = getPool(); // Check if the booking exists and belongs to this technician\n          _context3.next = 2;\n          return pool.request().input(\"bookingID\", sql.Int, bookingID).input(\"technicianID\", sql.Int, technicianID).query(\"\\n                SELECT b.Booking_ID, b.[Status], b.Technician_ID, p.[Status] AS Payment_Status\\n                FROM Booking b\\n                JOIN Payment p ON b.Booking_ID = p.Booking_ID\\n                WHERE b.Booking_ID = @bookingID\\n            \");\n        case 2:\n          checkBooking = _context3.sent;\n          if (!(checkBooking.recordset.length === 0)) {\n            _context3.next = 3;\n            break;\n          }\n          return _context3.abrupt(\"return\", res.status(404).json({\n            message: \"Booking not found.\"\n          }));\n        case 3:\n          booking = checkBooking.recordset[0]; // Check if booking is assigned to this technician\n          if (!(booking.Technician_ID !== technicianID)) {\n            _context3.next = 4;\n            break;\n          }\n          return _context3.abrupt(\"return\", res.status(403).json({\n            message: \"You are not authorized to complete this booking as it's not assigned to you.\"\n          }));\n        case 4:\n          if (!(booking.Status !== 'in_progress')) {\n            _context3.next = 5;\n            break;\n          }\n          return _context3.abrupt(\"return\", res.status(400).json({\n            message: \"This booking is \".concat(booking.Status, \" and cannot be completed. Only in-progress bookings can be marked as completed.\")\n          }));\n        case 5:\n          if (!(booking.Payment_Status !== 'completed')) {\n            _context3.next = 6;\n            break;\n          }\n          return _context3.abrupt(\"return\", res.status(400).json({\n            message: \"Cannot complete booking until payment is completed.\"\n          }));\n        case 6:\n          _context3.next = 7;\n          return pool.request().input(\"bookingID\", sql.Int, bookingID).query(\"\\n                UPDATE Booking\\n                SET [Status] = 'completed',\\n                    completedAt = GETDATE(),\\n                    modifiedAt = GETDATE()\\n                WHERE Booking_ID = @bookingID\\n            \");\n        case 7:\n          _context3.next = 8;\n          return pool.request().input(\"technicianID\", sql.Int, technicianID).query(\"\\n                UPDATE Technician\\n                SET Total_Jobs = Total_Jobs + 1\\n                WHERE Technician_ID = @technicianID\\n            \");\n        case 8:\n          // Return success response\n          res.status(200).json({\n            message: \"Booking completed successfully.\",\n            bookingID: bookingID,\n            status: \"completed\"\n          });\n          _context3.next = 10;\n          break;\n        case 9:\n          _context3.prev = 9;\n          _t3 = _context3[\"catch\"](1);\n          console.error(\"Unexpected error occurred when trying to complete booking: \", _t3);\n          res.status(500).json({\n            message: \"An unexpected error occurred when trying to complete the booking.\"\n          });\n        case 10:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3, null, [[1, 9]]);\n  }));\n  return function (_x5, _x6) {\n    return _ref3.apply(this, arguments);\n  };\n}());\n\n// Technician declining a pending booking\nvar declineBooking = asyncHandler(/*#__PURE__*/function () {\n  var _ref4 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee4(req, res) {\n    var bookingID, technicianID, pool, checkBooking, booking, bookingDate, today, newStatus, _t4;\n    return _regenerator[\"default\"].wrap(function (_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          bookingID = req.body.bookingID;\n          technicianID = req.technicianID; // If no booking ID is passed, throw a 400 error\n          if (bookingID) {\n            _context4.next = 1;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(400).json({\n            message: \"You need to pass a booking ID.\"\n          }));\n        case 1:\n          _context4.prev = 1;\n          pool = getPool(); // Check if the booking exists and is assigned to this technician\n          // Also get Booking_Date and Payment_Status to validate decline request\n          _context4.next = 2;\n          return pool.request().input(\"bookingID\", sql.Int, bookingID).query(\"\\n                SELECT b.Booking_ID, b.[Status], b.Technician_ID, b.Booking_Date, p.[Status] AS Payment_Status\\n                FROM Booking b\\n                LEFT JOIN Payment p ON b.Booking_ID = p.Booking_ID\\n                WHERE b.Booking_ID = @bookingID\\n            \");\n        case 2:\n          checkBooking = _context4.sent;\n          if (!(checkBooking.recordset.length === 0)) {\n            _context4.next = 3;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(404).json({\n            message: \"Booking not found.\"\n          }));\n        case 3:\n          booking = checkBooking.recordset[0]; // Check if booking is assigned to this technician\n          if (!(booking.Technician_ID !== technicianID)) {\n            _context4.next = 4;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(403).json({\n            message: \"You are not authorized to decline this booking as it's not assigned to you.\"\n          }));\n        case 4:\n          if (!(booking.Status !== 'confirmed')) {\n            _context4.next = 5;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(400).json({\n            message: \"This booking is \".concat(booking.Status, \" and cannot be declined. Only confirmed bookings can be declined.\")\n          }));\n        case 5:\n          if (!(booking.Payment_Status === 'completed')) {\n            _context4.next = 6;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(400).json({\n            message: \"Cannot decline a booking that has already been paid. Please contact the customer or support.\"\n          }));\n        case 6:\n          // Determine new status based on booking date\n          // Constraint: pending bookings MUST have Booking_Date >= today's date\n          bookingDate = new Date(booking.Booking_Date);\n          today = new Date();\n          today.setHours(0, 0, 0, 0);\n          bookingDate.setHours(0, 0, 0, 0);\n          newStatus = bookingDate >= today ? 'pending' : 'cancelled'; // Update the booking - remove technician assignment and change status\n          _context4.next = 7;\n          return pool.request().input(\"bookingID\", sql.Int, bookingID).input(\"newStatus\", sql.VarChar, newStatus).query(\"\\n                UPDATE Booking\\n                SET Technician_ID = NULL,\\n                    [Status] = @newStatus,\\n                    modifiedAt = GETDATE()\\n                WHERE Booking_ID = @bookingID\\n            \");\n        case 7:\n          // Return success response\n          res.status(200).json({\n            message: newStatus === 'pending' ? \"Booking declined successfully. It is now available for other technicians.\" : \"Booking declined successfully. It has been cancelled as the scheduled date has passed.\",\n            bookingID: bookingID,\n            status: newStatus\n          });\n          _context4.next = 9;\n          break;\n        case 8:\n          _context4.prev = 8;\n          _t4 = _context4[\"catch\"](1);\n          console.error(\"Unexpected error occurred when trying to decline booking: \", _t4);\n          res.status(500).json({\n            message: \"An unexpected error occurred when trying to decline the booking.\"\n          });\n        case 9:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4, null, [[1, 8]]);\n  }));\n  return function (_x7, _x8) {\n    return _ref4.apply(this, arguments);\n  };\n}());\n\n// Get all pending bookings available for technicians to accept\nvar getPendingBookings = asyncHandler(/*#__PURE__*/function () {\n  var _ref5 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee5(req, res) {\n    var pool, result, _t5;\n    return _regenerator[\"default\"].wrap(function (_context5) {\n      while (1) switch (_context5.prev = _context5.next) {\n        case 0:\n          _context5.prev = 0;\n          pool = getPool(); // Query all pending bookings with user and appliance details\n          // Ordered by date and time (earliest first)\n          _context5.next = 1;\n          return pool.request().query(\"\\n                SELECT \\n                    Booking.Booking_ID, \\n                    Booking.Booking_Date AS \\\"Scheduled Date\\\", \\n                    Booking.Booking_Time AS \\\"Scheduled Time\\\", \\n                    Booking.Total_Price AS \\\"Total Price\\\", \\n                    Appliance_Type.nameEN AS \\\"Appliance's Name (EN)\\\", \\n                    Appliance_Type.nameAR AS \\\"Appliance's Name (AR)\\\",\\n                    Booking.Issue_Description AS \\\"Issue Description\\\",\\n                    [User].First_Name AS \\\"First Name\\\",\\n                    [User].Last_Name AS \\\"Last Name\\\", \\n                    [User].Phone AS \\\"Phone Number\\\",\\n                    [User].City AS \\\"City\\\",\\n                    [User].Street_Address AS \\\"Street Address\\\", \\n                    [User].Building_Name AS \\\"Building Name\\\", \\n                    [User].Floor AS \\\"Building Floor\\\", \\n                    [User].Postal_Code AS \\\"Postal Code\\\"\\n                FROM Booking\\n                JOIN [User] ON Booking.UserID = [User].User_ID\\n                JOIN Appliance_Type ON Booking.Appliance_Type_ID = Appliance_Type.Appliance_Type_ID\\n                WHERE Booking.[Status] = 'pending'\\n                ORDER BY Booking.Booking_Date ASC, Booking.Booking_Time ASC\\n            \");\n        case 1:\n          result = _context5.sent;\n          if (!(result.recordset.length === 0)) {\n            _context5.next = 2;\n            break;\n          }\n          return _context5.abrupt(\"return\", res.status(200).json({\n            message: \"No pending bookings found.\",\n            bookings: []\n          }));\n        case 2:\n          // Return pending bookings with count\n          res.status(200).json({\n            message: \"There are pending bookings.\",\n            count: result.recordset.length,\n            bookings: result.recordset\n          });\n          _context5.next = 4;\n          break;\n        case 3:\n          _context5.prev = 3;\n          _t5 = _context5[\"catch\"](0);\n          console.error(\"Unexpected error occurred while fetching pending bookings:\", _t5);\n          res.status(500).json({\n            message: \"An unexpected error occurred while fetching pending bookings.\"\n          });\n        case 4:\n        case \"end\":\n          return _context5.stop();\n      }\n    }, _callee5, null, [[0, 3]]);\n  }));\n  return function (_x9, _x0) {\n    return _ref5.apply(this, arguments);\n  };\n}());\n\n// Get active bookings assigned to a technician (confirmed + in_progress)\nvar getActiveBookings = asyncHandler(/*#__PURE__*/function () {\n  var _ref6 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee6(req, res) {\n    var technicianID, pool, result, _t6;\n    return _regenerator[\"default\"].wrap(function (_context6) {\n      while (1) switch (_context6.prev = _context6.next) {\n        case 0:\n          technicianID = req.technicianID;\n          _context6.prev = 1;\n          pool = getPool();\n          _context6.next = 2;\n          return pool.request().input(\"technicianID\", sql.Int, technicianID).query(\"\\n                SELECT \\n                    Booking.Booking_ID, \\n                    Booking.[Status],\\n                    Booking.Booking_Date AS \\\"Scheduled Date\\\", \\n                    Booking.Booking_Time AS \\\"Scheduled Time\\\", \\n                    Booking.Total_Price AS \\\"Total Price\\\", \\n                    Appliance_Type.nameEN AS \\\"Appliance's Name (EN)\\\", \\n                    Appliance_Type.nameAR AS \\\"Appliance's Name (AR)\\\",\\n                    Booking.Issue_Description AS \\\"Issue Description\\\",\\n                    [User].First_Name AS \\\"First Name\\\",\\n                    [User].Last_Name AS \\\"Last Name\\\", \\n                    [User].Phone AS \\\"Phone Number\\\",\\n                    [User].City AS \\\"City\\\",\\n                    [User].Street_Address AS \\\"Street Address\\\", \\n                    [User].Building_Name AS \\\"Building Name\\\", \\n                    [User].Floor AS \\\"Building Floor\\\", \\n                    [User].Postal_Code AS \\\"Postal Code\\\",\\n                    Payment.[Status] AS \\\"Payment Status\\\"\\n                FROM Booking\\n                JOIN [User] ON Booking.UserID = [User].User_ID\\n                JOIN Appliance_Type ON Booking.Appliance_Type_ID = Appliance_Type.Appliance_Type_ID\\n                LEFT JOIN Payment ON Booking.Booking_ID = Payment.Booking_ID\\n                WHERE Booking.Technician_ID = @technicianID \\n                    AND Booking.[Status] IN ('confirmed', 'in_progress')\\n                ORDER BY Booking.Booking_Date ASC, Booking.Booking_Time ASC\\n            \");\n        case 2:\n          result = _context6.sent;\n          res.status(200).json({\n            message: result.recordset.length > 0 ? \"Active bookings found.\" : \"No active bookings.\",\n            count: result.recordset.length,\n            bookings: result.recordset\n          });\n          _context6.next = 4;\n          break;\n        case 3:\n          _context6.prev = 3;\n          _t6 = _context6[\"catch\"](1);\n          console.error(\"Unexpected error occurred while fetching active bookings:\", _t6);\n          res.status(500).json({\n            message: \"An unexpected error occurred while fetching active bookings.\"\n          });\n        case 4:\n        case \"end\":\n          return _context6.stop();\n      }\n    }, _callee6, null, [[1, 3]]);\n  }));\n  return function (_x1, _x10) {\n    return _ref6.apply(this, arguments);\n  };\n}());\n\n// Get completed bookings for a technician\nvar getCompletedBookings = asyncHandler(/*#__PURE__*/function () {\n  var _ref7 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee7(req, res) {\n    var technicianID, pool, result, _t7;\n    return _regenerator[\"default\"].wrap(function (_context7) {\n      while (1) switch (_context7.prev = _context7.next) {\n        case 0:\n          technicianID = req.technicianID;\n          _context7.prev = 1;\n          pool = getPool();\n          _context7.next = 2;\n          return pool.request().input(\"technicianID\", sql.Int, technicianID).query(\"\\n                SELECT \\n                    Booking.Booking_ID, \\n                    Booking.[Status],\\n                    Booking.Booking_Date AS \\\"Scheduled Date\\\", \\n                    Booking.Booking_Time AS \\\"Scheduled Time\\\", \\n                    Booking.Total_Price AS \\\"Total Price\\\",\\n                    Booking.completedAt AS \\\"Completed At\\\",\\n                    Appliance_Type.nameEN AS \\\"Appliance's Name (EN)\\\", \\n                    Appliance_Type.nameAR AS \\\"Appliance's Name (AR)\\\",\\n                    Booking.Issue_Description AS \\\"Issue Description\\\",\\n                    [User].First_Name AS \\\"First Name\\\",\\n                    [User].Last_Name AS \\\"Last Name\\\", \\n                    [User].City AS \\\"City\\\",\\n                    Rating.Rating_Score AS \\\"Rating\\\",\\n                    Rating.Review_Text AS \\\"Review\\\"\\n                FROM Booking\\n                JOIN [User] ON Booking.UserID = [User].User_ID\\n                JOIN Appliance_Type ON Booking.Appliance_Type_ID = Appliance_Type.Appliance_Type_ID\\n                LEFT JOIN Rating ON Booking.Booking_ID = Rating.Booking_ID\\n                WHERE Booking.Technician_ID = @technicianID \\n                    AND Booking.[Status] = 'completed'\\n                ORDER BY Booking.completedAt DESC\\n            \");\n        case 2:\n          result = _context7.sent;\n          res.status(200).json({\n            message: result.recordset.length > 0 ? \"Completed bookings found.\" : \"No completed bookings.\",\n            count: result.recordset.length,\n            bookings: result.recordset\n          });\n          _context7.next = 4;\n          break;\n        case 3:\n          _context7.prev = 3;\n          _t7 = _context7[\"catch\"](1);\n          console.error(\"Unexpected error occurred while fetching completed bookings:\", _t7);\n          res.status(500).json({\n            message: \"An unexpected error occurred while fetching completed bookings.\"\n          });\n        case 4:\n        case \"end\":\n          return _context7.stop();\n      }\n    }, _callee7, null, [[1, 3]]);\n  }));\n  return function (_x11, _x12) {\n    return _ref7.apply(this, arguments);\n  };\n}());\nmodule.exports = {\n  getPendingBookings: getPendingBookings,\n  acceptPendingBooking: acceptPendingBooking,\n  startBooking: startBooking,\n  completeBooking: completeBooking,\n  declineBooking: declineBooking,\n  getActiveBookings: getActiveBookings,\n  getCompletedBookings: getCompletedBookings\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhc3luY0hhbmRsZXIiLCJyZXF1aXJlIiwiX3JlcXVpcmUiLCJnZXRQb29sIiwic3FsIiwiYWNjZXB0UGVuZGluZ0Jvb2tpbmciLCJfcmVmIiwiX2FzeW5jVG9HZW5lcmF0b3IyIiwiX3JlZ2VuZXJhdG9yIiwibWFyayIsIl9jYWxsZWUiLCJyZXEiLCJyZXMiLCJib29raW5nSUQiLCJ0ZWNobmljaWFuSUQiLCJwb29sIiwiY2hlY2tCb29raW5nIiwiYm9va2luZyIsInJlc3VsdCIsIl90Iiwid3JhcCIsIl9jb250ZXh0IiwicHJldiIsIm5leHQiLCJib2R5IiwiYWJydXB0Iiwic3RhdHVzIiwianNvbiIsIm1lc3NhZ2UiLCJyZXF1ZXN0IiwiaW5wdXQiLCJJbnQiLCJxdWVyeSIsInNlbnQiLCJyZWNvcmRzZXQiLCJsZW5ndGgiLCJUZWNobmljaWFuX0lEIiwiU3RhdHVzIiwiY29uY2F0IiwiY29uc29sZSIsImVycm9yIiwibnVtYmVyIiwic3RvcCIsIl94IiwiX3gyIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJzdGFydEJvb2tpbmciLCJfcmVmMiIsIl9jYWxsZWUyIiwiX3QyIiwiX2NvbnRleHQyIiwiX3gzIiwiX3g0IiwiY29tcGxldGVCb29raW5nIiwiX3JlZjMiLCJfY2FsbGVlMyIsIl90MyIsIl9jb250ZXh0MyIsIlBheW1lbnRfU3RhdHVzIiwiX3g1IiwiX3g2IiwiZGVjbGluZUJvb2tpbmciLCJfcmVmNCIsIl9jYWxsZWU0IiwiYm9va2luZ0RhdGUiLCJ0b2RheSIsIm5ld1N0YXR1cyIsIl90NCIsIl9jb250ZXh0NCIsIkRhdGUiLCJCb29raW5nX0RhdGUiLCJzZXRIb3VycyIsIlZhckNoYXIiLCJfeDciLCJfeDgiLCJnZXRQZW5kaW5nQm9va2luZ3MiLCJfcmVmNSIsIl9jYWxsZWU1IiwiX3Q1IiwiX2NvbnRleHQ1IiwiYm9va2luZ3MiLCJjb3VudCIsIl94OSIsIl94MCIsImdldEFjdGl2ZUJvb2tpbmdzIiwiX3JlZjYiLCJfY2FsbGVlNiIsIl90NiIsIl9jb250ZXh0NiIsIl94MSIsIl94MTAiLCJnZXRDb21wbGV0ZWRCb29raW5ncyIsIl9yZWY3IiwiX2NhbGxlZTciLCJfdDciLCJfY29udGV4dDciLCJfeDExIiwiX3gxMiIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9ob21lL3NlcmovRG9jdW1lbnRzL0dpdEh1Yi9GaXhBcHBsaWFuY2UtYm9va2luZ0NvbW1lcmNlL2JhY2stZW5kL3NyYy9jb250cm9sbGVycy8iLCJzb3VyY2VzIjpbIlRlY2huaWNpYW5Cb29raW5nQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFRoaXMgY29udHJvbGxlciBoYW5kbGVzIGV2ZXJ5dGhpbmcgcmVsYXRlZCB0byBib29raW5nIGFuZCB0aGUgdGVjaG5pY2lhbjpcbiAqICAxLiBUZWNobmljaWFuIGFjY2VwdGluZyBhIHBlbmRpbmcgYm9va2luZ1xuICogIDIuIFRlY2huaWNpYW4gZ2V0dGluZyBhbGwgcGVuZGluZyBib29raW5ncyBhdmFpbGFibGUgdG8gYWNjZXB0XG4gKi9cblxuY29uc3QgYXN5bmNIYW5kbGVyID0gcmVxdWlyZShcImV4cHJlc3MtYXN5bmMtaGFuZGxlclwiKTtcblxuXG4vLyBzcWwgbmVlZGVkIGZvciB0aGUgdHlwZSBkZWZpbml0aW9ucyBpbiAuaW5wdXRcbi8vIGdldFBvb2wgaXMgdG8gZG8gcXVlcmllc1xuY29uc3QgeyBnZXRQb29sLCBzcWwgfSA9IHJlcXVpcmUoXCIuLi9jb25maWcvZGF0YWJhc2VcIik7XG5cblxuLy8gVGVjaG5pY2lhbiBhY2NlcHRpbmcgYSBwZW5kaW5nIGJvb2tpbmdcbmNvbnN0IGFjY2VwdFBlbmRpbmdCb29raW5nID0gYXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgICAgICAvLyBHZXR0aW5nIHRoZSBib29raW5nIElEIGZyb20gdGhlIGJvZHkgYW5kIHRoZSB0ZWNobmljaWFuIElEIHBhc3NlZCBmcm9tIHRoZSBtaWRkbGV3YXJlXG4gICAgICAgIGNvbnN0IHsgYm9va2luZ0lEIH0gPSByZXEuYm9keTtcbiAgICAgICAgY29uc3QgdGVjaG5pY2lhbklEID0gcmVxLnRlY2huaWNpYW5JRDtcblxuICAgICAgICAvLyBJZiBubyBib29raW5nIElEIGlzIHBhc3NlZCwgdGhyb3cgYSA0MDAgZXJyb3JcbiAgICAgICAgaWYgKCFib29raW5nSUQpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJZb3UgbmVlZCB0byBwYXNzIGEgYm9va2luZyBJRC5cIn0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHBvb2wgPSBnZXRQb29sKCk7XG5cbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBib29raW5nIGV4aXN0cyBhbmQgZ2V0IGl0cyBjdXJyZW50IHN0YXR1cyBhbmQgYXNzaWduZWQgdGVjaG5pY2lhblxuICAgICAgICAgICAgY29uc3QgY2hlY2tCb29raW5nID0gYXdhaXQgcG9vbC5yZXF1ZXN0KClcbiAgICAgICAgICAgICAgICAuaW5wdXQoXCJib29raW5nSURcIiwgc3FsLkludCwgYm9va2luZ0lEKVxuICAgICAgICAgICAgICAgIC5xdWVyeShgXG4gICAgICAgICAgICAgICAgICAgIFNFTEVDVCBCb29raW5nX0lELCBbU3RhdHVzXSwgVGVjaG5pY2lhbl9JRFxuICAgICAgICAgICAgICAgICAgICBGUk9NIEJvb2tpbmdcbiAgICAgICAgICAgICAgICAgICAgV0hFUkUgQm9va2luZ19JRCA9IEBib29raW5nSURcbiAgICAgICAgICAgICAgICAgICAgYCk7XG5cbiAgICAgICAgICAgIC8vIElmIG5vIHJlc3VsdCByZXR1cm5lZCwgdGhlIGJvb2tpbmcgZG9lc24ndCBleGlzdFxuICAgICAgICAgICAgaWYgKGNoZWNrQm9va2luZy5yZWNvcmRzZXQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHttZXNzYWdlOiBcIkJvb2tpbmcgbm90IGZvdW5kLlwifSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGJvb2tpbmcgPSBjaGVja0Jvb2tpbmcucmVjb3Jkc2V0WzBdO1xuXG4gICAgICAgICAgICAvLyBDaGVjayBpZiBib29raW5nIGlzIGFscmVhZHkgYXNzaWduZWQgdG8gYW5vdGhlciB0ZWNobmljaWFuXG4gICAgICAgICAgICBpZiAoYm9va2luZy5UZWNobmljaWFuX0lEICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA5KS5qc29uKHttZXNzYWdlOiBcIlRoaXMgYm9va2luZyBpcyBhbHJlYWR5IGFzc2lnbmVkIHRvIGFub3RoZXIgdGVjaG5pY2lhbi5cIn0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDaGVjayBpZiBib29raW5nIHN0YXR1cyBpcyBwZW5kaW5nIC0gb25seSBwZW5kaW5nIGJvb2tpbmdzIGNhbiBiZSBhY2NlcHRlZFxuICAgICAgICAgICAgaWYgKGJvb2tpbmcuU3RhdHVzICE9PSAncGVuZGluZycpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IGBUaGlzIGJvb2tpbmcgaXMgJHtib29raW5nLlN0YXR1c30gYW5kIGNhbm5vdCBiZSBhY2NlcHRlZC5gfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgYm9va2luZyAtIGFzc2lnbiB0ZWNobmljaWFuIGFuZCBjaGFuZ2Ugc3RhdHVzIHRvIGNvbmZpcm1lZFxuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcG9vbC5yZXF1ZXN0KClcbiAgICAgICAgICAgICAgICAuaW5wdXQoXCJib29raW5nSURcIiwgc3FsLkludCwgYm9va2luZ0lEKVxuICAgICAgICAgICAgICAgIC5pbnB1dChcInRlY2huaWNpYW5JRFwiLCBzcWwuSW50LCB0ZWNobmljaWFuSUQpXG4gICAgICAgICAgICAgICAgLnF1ZXJ5KGBcbiAgICAgICAgICAgICAgICAgICAgVVBEQVRFIEJvb2tpbmdcbiAgICAgICAgICAgICAgICAgICAgU0VUIFRlY2huaWNpYW5fSUQgPSBAdGVjaG5pY2lhbklELFxuICAgICAgICAgICAgICAgICAgICAgICAgW1N0YXR1c10gPSAnY29uZmlybWVkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGlmaWVkQXQgPSBHRVREQVRFKClcbiAgICAgICAgICAgICAgICAgICAgV0hFUkUgQm9va2luZ19JRCA9IEBib29raW5nSURcbiAgICAgICAgICAgICAgICAgICAgYCk7XG5cbiAgICAgICAgICAgIC8vIFJldHVybiBzdWNjZXNzIHJlc3BvbnNlIHdpdGggYm9va2luZyBhbmQgdGVjaG5pY2lhbiBkZXRhaWxzXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJCb29raW5nIGFjY2VwdGVkIHN1Y2Nlc3NmdWxseS5cIixcbiAgICAgICAgICAgICAgICBib29raW5nSUQ6IGJvb2tpbmdJRCxcbiAgICAgICAgICAgICAgICB0ZWNobmljaWFuSUQ6IHRlY2huaWNpYW5JRFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIFxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQgd2hlbiB0cnlpbmcgdG8gYXBwbHkgYm9va2luZyB0byB0ZWNobmljaWFuOiBcIiwgZXJyb3IpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBGb3JlaWduIGtleSBjb25zdHJhaW50IHZpb2xhdGlvblxuICAgICAgICAgICAgaWYgKGVycm9yLm51bWJlciA9PT0gNTQ3KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttZXNzYWdlOiBcIkludmFsaWQgYm9va2luZyBvciB0ZWNobmljaWFuIElELlwifSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHttZXNzYWdlOiBcIlVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQgd2hlbiB0cnlpbmcgdG8gc2V0IGJvb2tpbmcgdG8gdGVjaG5pY2lhbi5cIn0pO1xuICAgICAgICB9XG59KVxuXG4vLyBUZWNobmljaWFuIHN0YXJ0aW5nIHdvcmsgb24gYSBjb25maXJtZWQgYm9va2luZ1xuY29uc3Qgc3RhcnRCb29raW5nID0gYXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHsgYm9va2luZ0lEIH0gPSByZXEuYm9keTtcbiAgICBjb25zdCB0ZWNobmljaWFuSUQgPSByZXEudGVjaG5pY2lhbklEO1xuXG4gICAgLy8gSWYgbm8gYm9va2luZyBJRCBpcyBwYXNzZWQsIHRocm93IGEgNDAwIGVycm9yXG4gICAgaWYgKCFib29raW5nSUQpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogXCJZb3UgbmVlZCB0byBwYXNzIGEgYm9va2luZyBJRC5cIiB9KTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgICBjb25zdCBwb29sID0gZ2V0UG9vbCgpO1xuXG4gICAgICAgIC8vIENoZWNrIGlmIHRoZSBib29raW5nIGV4aXN0cyBhbmQgYmVsb25ncyB0byB0aGlzIHRlY2huaWNpYW5cbiAgICAgICAgY29uc3QgY2hlY2tCb29raW5nID0gYXdhaXQgcG9vbC5yZXF1ZXN0KClcbiAgICAgICAgICAgIC5pbnB1dChcImJvb2tpbmdJRFwiLCBzcWwuSW50LCBib29raW5nSUQpXG4gICAgICAgICAgICAuaW5wdXQoXCJ0ZWNobmljaWFuSURcIiwgc3FsLkludCwgdGVjaG5pY2lhbklEKVxuICAgICAgICAgICAgLnF1ZXJ5KGBcbiAgICAgICAgICAgICAgICBTRUxFQ1QgQm9va2luZ19JRCwgW1N0YXR1c10sIFRlY2huaWNpYW5fSUQsIEJvb2tpbmdfRGF0ZSwgQm9va2luZ19UaW1lXG4gICAgICAgICAgICAgICAgRlJPTSBCb29raW5nXG4gICAgICAgICAgICAgICAgV0hFUkUgQm9va2luZ19JRCA9IEBib29raW5nSURcbiAgICAgICAgICAgIGApO1xuXG4gICAgICAgIC8vIElmIG5vIHJlc3VsdCByZXR1cm5lZCwgdGhlIGJvb2tpbmcgZG9lc24ndCBleGlzdFxuICAgICAgICBpZiAoY2hlY2tCb29raW5nLnJlY29yZHNldC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IG1lc3NhZ2U6IFwiQm9va2luZyBub3QgZm91bmQuXCIgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBib29raW5nID0gY2hlY2tCb29raW5nLnJlY29yZHNldFswXTtcblxuICAgICAgICAvLyBDaGVjayBpZiBib29raW5nIGlzIGFzc2lnbmVkIHRvIHRoaXMgdGVjaG5pY2lhblxuICAgICAgICBpZiAoYm9va2luZy5UZWNobmljaWFuX0lEICE9PSB0ZWNobmljaWFuSUQpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMykuanNvbih7IG1lc3NhZ2U6IFwiWW91IGFyZSBub3QgYXV0aG9yaXplZCB0byBzdGFydCB0aGlzIGJvb2tpbmcgYXMgaXQncyBub3QgYXNzaWduZWQgdG8geW91LlwiIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgYm9va2luZyBzdGF0dXMgaXMgY29uZmlybWVkIC0gb25seSBjb25maXJtZWQgYm9va2luZ3MgY2FuIGJlIHN0YXJ0ZWRcbiAgICAgICAgaWYgKGJvb2tpbmcuU3RhdHVzICE9PSAnY29uZmlybWVkJykge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogYFRoaXMgYm9va2luZyBpcyAke2Jvb2tpbmcuU3RhdHVzfSBhbmQgY2Fubm90IGJlIHN0YXJ0ZWQuIE9ubHkgY29uZmlybWVkIGJvb2tpbmdzIGNhbiBiZSBzdGFydGVkLmAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBVcGRhdGUgdGhlIGJvb2tpbmcgc3RhdHVzIHRvIGluX3Byb2dyZXNzXG4gICAgICAgIGF3YWl0IHBvb2wucmVxdWVzdCgpXG4gICAgICAgICAgICAuaW5wdXQoXCJib29raW5nSURcIiwgc3FsLkludCwgYm9va2luZ0lEKVxuICAgICAgICAgICAgLnF1ZXJ5KGBcbiAgICAgICAgICAgICAgICBVUERBVEUgQm9va2luZ1xuICAgICAgICAgICAgICAgIFNFVCBbU3RhdHVzXSA9ICdpbl9wcm9ncmVzcycsXG4gICAgICAgICAgICAgICAgICAgIG1vZGlmaWVkQXQgPSBHRVREQVRFKClcbiAgICAgICAgICAgICAgICBXSEVSRSBCb29raW5nX0lEID0gQGJvb2tpbmdJRFxuICAgICAgICAgICAgYCk7XG5cbiAgICAgICAgLy8gUmV0dXJuIHN1Y2Nlc3MgcmVzcG9uc2VcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgbWVzc2FnZTogXCJCb29raW5nIHN0YXJ0ZWQgc3VjY2Vzc2Z1bGx5LlwiLFxuICAgICAgICAgICAgYm9va2luZ0lEOiBib29raW5nSUQsXG4gICAgICAgICAgICBzdGF0dXM6IFwiaW5fcHJvZ3Jlc3NcIlxuICAgICAgICB9KTtcblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJVbmV4cGVjdGVkIGVycm9yIG9jY3VycmVkIHdoZW4gdHJ5aW5nIHRvIHN0YXJ0IGJvb2tpbmc6IFwiLCBlcnJvcik7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogXCJBbiB1bmV4cGVjdGVkIGVycm9yIG9jY3VycmVkIHdoZW4gdHJ5aW5nIHRvIHN0YXJ0IHRoZSBib29raW5nLlwiIH0pO1xuICAgIH1cbn0pO1xuXG4vLyBUZWNobmljaWFuIGNvbXBsZXRpbmcgYSBib29raW5nXG5jb25zdCBjb21wbGV0ZUJvb2tpbmcgPSBhc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3QgeyBib29raW5nSUQgfSA9IHJlcS5ib2R5O1xuICAgIGNvbnN0IHRlY2huaWNpYW5JRCA9IHJlcS50ZWNobmljaWFuSUQ7XG5cbiAgICAvLyBJZiBubyBib29raW5nIElEIGlzIHBhc3NlZCwgdGhyb3cgYSA0MDAgZXJyb3JcbiAgICBpZiAoIWJvb2tpbmdJRCkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiBcIllvdSBuZWVkIHRvIHBhc3MgYSBib29raW5nIElELlwiIH0pO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHBvb2wgPSBnZXRQb29sKCk7XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGJvb2tpbmcgZXhpc3RzIGFuZCBiZWxvbmdzIHRvIHRoaXMgdGVjaG5pY2lhblxuICAgICAgICBjb25zdCBjaGVja0Jvb2tpbmcgPSBhd2FpdCBwb29sLnJlcXVlc3QoKVxuICAgICAgICAgICAgLmlucHV0KFwiYm9va2luZ0lEXCIsIHNxbC5JbnQsIGJvb2tpbmdJRClcbiAgICAgICAgICAgIC5pbnB1dChcInRlY2huaWNpYW5JRFwiLCBzcWwuSW50LCB0ZWNobmljaWFuSUQpXG4gICAgICAgICAgICAucXVlcnkoYFxuICAgICAgICAgICAgICAgIFNFTEVDVCBiLkJvb2tpbmdfSUQsIGIuW1N0YXR1c10sIGIuVGVjaG5pY2lhbl9JRCwgcC5bU3RhdHVzXSBBUyBQYXltZW50X1N0YXR1c1xuICAgICAgICAgICAgICAgIEZST00gQm9va2luZyBiXG4gICAgICAgICAgICAgICAgSk9JTiBQYXltZW50IHAgT04gYi5Cb29raW5nX0lEID0gcC5Cb29raW5nX0lEXG4gICAgICAgICAgICAgICAgV0hFUkUgYi5Cb29raW5nX0lEID0gQGJvb2tpbmdJRFxuICAgICAgICAgICAgYCk7XG5cbiAgICAgICAgLy8gSWYgbm8gcmVzdWx0IHJldHVybmVkLCB0aGUgYm9va2luZyBkb2Vzbid0IGV4aXN0XG4gICAgICAgIGlmIChjaGVja0Jvb2tpbmcucmVjb3Jkc2V0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgbWVzc2FnZTogXCJCb29raW5nIG5vdCBmb3VuZC5cIiB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGJvb2tpbmcgPSBjaGVja0Jvb2tpbmcucmVjb3Jkc2V0WzBdO1xuXG4gICAgICAgIC8vIENoZWNrIGlmIGJvb2tpbmcgaXMgYXNzaWduZWQgdG8gdGhpcyB0ZWNobmljaWFuXG4gICAgICAgIGlmIChib29raW5nLlRlY2huaWNpYW5fSUQgIT09IHRlY2huaWNpYW5JRCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAzKS5qc29uKHsgbWVzc2FnZTogXCJZb3UgYXJlIG5vdCBhdXRob3JpemVkIHRvIGNvbXBsZXRlIHRoaXMgYm9va2luZyBhcyBpdCdzIG5vdCBhc3NpZ25lZCB0byB5b3UuXCIgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDaGVjayBpZiBib29raW5nIHN0YXR1cyBpcyBpbl9wcm9ncmVzcyAtIG9ubHkgaW5fcHJvZ3Jlc3MgYm9va2luZ3MgY2FuIGJlIGNvbXBsZXRlZFxuICAgICAgICBpZiAoYm9va2luZy5TdGF0dXMgIT09ICdpbl9wcm9ncmVzcycpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6IGBUaGlzIGJvb2tpbmcgaXMgJHtib29raW5nLlN0YXR1c30gYW5kIGNhbm5vdCBiZSBjb21wbGV0ZWQuIE9ubHkgaW4tcHJvZ3Jlc3MgYm9va2luZ3MgY2FuIGJlIG1hcmtlZCBhcyBjb21wbGV0ZWQuYCB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENoZWNrIGlmIHBheW1lbnQgaXMgY29tcGxldGVkIGJlZm9yZSBhbGxvd2luZyBjb21wbGV0aW9uXG4gICAgICAgIGlmIChib29raW5nLlBheW1lbnRfU3RhdHVzICE9PSAnY29tcGxldGVkJykge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogXCJDYW5ub3QgY29tcGxldGUgYm9va2luZyB1bnRpbCBwYXltZW50IGlzIGNvbXBsZXRlZC5cIiB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgYm9va2luZyBzdGF0dXMgdG8gY29tcGxldGVkIGFuZCBzZXQgY29tcGxldGVkQXQgdGltZXN0YW1wXG4gICAgICAgIGF3YWl0IHBvb2wucmVxdWVzdCgpXG4gICAgICAgICAgICAuaW5wdXQoXCJib29raW5nSURcIiwgc3FsLkludCwgYm9va2luZ0lEKVxuICAgICAgICAgICAgLnF1ZXJ5KGBcbiAgICAgICAgICAgICAgICBVUERBVEUgQm9va2luZ1xuICAgICAgICAgICAgICAgIFNFVCBbU3RhdHVzXSA9ICdjb21wbGV0ZWQnLFxuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZWRBdCA9IEdFVERBVEUoKSxcbiAgICAgICAgICAgICAgICAgICAgbW9kaWZpZWRBdCA9IEdFVERBVEUoKVxuICAgICAgICAgICAgICAgIFdIRVJFIEJvb2tpbmdfSUQgPSBAYm9va2luZ0lEXG4gICAgICAgICAgICBgKTtcblxuICAgICAgICAvLyBVcGRhdGUgdGVjaG5pY2lhbidzIHRvdGFsIGpvYnMgY291bnRcbiAgICAgICAgYXdhaXQgcG9vbC5yZXF1ZXN0KClcbiAgICAgICAgICAgIC5pbnB1dChcInRlY2huaWNpYW5JRFwiLCBzcWwuSW50LCB0ZWNobmljaWFuSUQpXG4gICAgICAgICAgICAucXVlcnkoYFxuICAgICAgICAgICAgICAgIFVQREFURSBUZWNobmljaWFuXG4gICAgICAgICAgICAgICAgU0VUIFRvdGFsX0pvYnMgPSBUb3RhbF9Kb2JzICsgMVxuICAgICAgICAgICAgICAgIFdIRVJFIFRlY2huaWNpYW5fSUQgPSBAdGVjaG5pY2lhbklEXG4gICAgICAgICAgICBgKTtcblxuICAgICAgICAvLyBSZXR1cm4gc3VjY2VzcyByZXNwb25zZVxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIkJvb2tpbmcgY29tcGxldGVkIHN1Y2Nlc3NmdWxseS5cIixcbiAgICAgICAgICAgIGJvb2tpbmdJRDogYm9va2luZ0lELFxuICAgICAgICAgICAgc3RhdHVzOiBcImNvbXBsZXRlZFwiXG4gICAgICAgIH0pO1xuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIlVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQgd2hlbiB0cnlpbmcgdG8gY29tcGxldGUgYm9va2luZzogXCIsIGVycm9yKTtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiBcIkFuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQgd2hlbiB0cnlpbmcgdG8gY29tcGxldGUgdGhlIGJvb2tpbmcuXCIgfSk7XG4gICAgfVxufSk7XG5cbi8vIFRlY2huaWNpYW4gZGVjbGluaW5nIGEgcGVuZGluZyBib29raW5nXG5jb25zdCBkZWNsaW5lQm9va2luZyA9IGFzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCB7IGJvb2tpbmdJRCB9ID0gcmVxLmJvZHk7XG4gICAgY29uc3QgdGVjaG5pY2lhbklEID0gcmVxLnRlY2huaWNpYW5JRDtcblxuICAgIC8vIElmIG5vIGJvb2tpbmcgSUQgaXMgcGFzc2VkLCB0aHJvdyBhIDQwMCBlcnJvclxuICAgIGlmICghYm9va2luZ0lEKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6IFwiWW91IG5lZWQgdG8gcGFzcyBhIGJvb2tpbmcgSUQuXCIgfSk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcG9vbCA9IGdldFBvb2woKTtcblxuICAgICAgICAvLyBDaGVjayBpZiB0aGUgYm9va2luZyBleGlzdHMgYW5kIGlzIGFzc2lnbmVkIHRvIHRoaXMgdGVjaG5pY2lhblxuICAgICAgICAvLyBBbHNvIGdldCBCb29raW5nX0RhdGUgYW5kIFBheW1lbnRfU3RhdHVzIHRvIHZhbGlkYXRlIGRlY2xpbmUgcmVxdWVzdFxuICAgICAgICBjb25zdCBjaGVja0Jvb2tpbmcgPSBhd2FpdCBwb29sLnJlcXVlc3QoKVxuICAgICAgICAgICAgLmlucHV0KFwiYm9va2luZ0lEXCIsIHNxbC5JbnQsIGJvb2tpbmdJRClcbiAgICAgICAgICAgIC5xdWVyeShgXG4gICAgICAgICAgICAgICAgU0VMRUNUIGIuQm9va2luZ19JRCwgYi5bU3RhdHVzXSwgYi5UZWNobmljaWFuX0lELCBiLkJvb2tpbmdfRGF0ZSwgcC5bU3RhdHVzXSBBUyBQYXltZW50X1N0YXR1c1xuICAgICAgICAgICAgICAgIEZST00gQm9va2luZyBiXG4gICAgICAgICAgICAgICAgTEVGVCBKT0lOIFBheW1lbnQgcCBPTiBiLkJvb2tpbmdfSUQgPSBwLkJvb2tpbmdfSURcbiAgICAgICAgICAgICAgICBXSEVSRSBiLkJvb2tpbmdfSUQgPSBAYm9va2luZ0lEXG4gICAgICAgICAgICBgKTtcblxuICAgICAgICAvLyBJZiBubyByZXN1bHQgcmV0dXJuZWQsIHRoZSBib29raW5nIGRvZXNuJ3QgZXhpc3RcbiAgICAgICAgaWYgKGNoZWNrQm9va2luZy5yZWNvcmRzZXQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBtZXNzYWdlOiBcIkJvb2tpbmcgbm90IGZvdW5kLlwiIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYm9va2luZyA9IGNoZWNrQm9va2luZy5yZWNvcmRzZXRbMF07XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgYm9va2luZyBpcyBhc3NpZ25lZCB0byB0aGlzIHRlY2huaWNpYW5cbiAgICAgICAgaWYgKGJvb2tpbmcuVGVjaG5pY2lhbl9JRCAhPT0gdGVjaG5pY2lhbklEKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDMpLmpzb24oeyBtZXNzYWdlOiBcIllvdSBhcmUgbm90IGF1dGhvcml6ZWQgdG8gZGVjbGluZSB0aGlzIGJvb2tpbmcgYXMgaXQncyBub3QgYXNzaWduZWQgdG8geW91LlwiIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgYm9va2luZyBzdGF0dXMgaXMgY29uZmlybWVkIC0gb25seSBjb25maXJtZWQgYm9va2luZ3MgY2FuIGJlIGRlY2xpbmVkIGJ5IHRlY2huaWNpYW5cbiAgICAgICAgaWYgKGJvb2tpbmcuU3RhdHVzICE9PSAnY29uZmlybWVkJykge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogYFRoaXMgYm9va2luZyBpcyAke2Jvb2tpbmcuU3RhdHVzfSBhbmQgY2Fubm90IGJlIGRlY2xpbmVkLiBPbmx5IGNvbmZpcm1lZCBib29raW5ncyBjYW4gYmUgZGVjbGluZWQuYCB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENoZWNrIGlmIHBheW1lbnQgaXMgYWxyZWFkeSBjb21wbGV0ZWQgLSBjYW5ub3QgZGVjbGluZSBhIHBhaWQgYm9va2luZ1xuICAgICAgICBpZiAoYm9va2luZy5QYXltZW50X1N0YXR1cyA9PT0gJ2NvbXBsZXRlZCcpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6IFwiQ2Fubm90IGRlY2xpbmUgYSBib29raW5nIHRoYXQgaGFzIGFscmVhZHkgYmVlbiBwYWlkLiBQbGVhc2UgY29udGFjdCB0aGUgY3VzdG9tZXIgb3Igc3VwcG9ydC5cIiB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIERldGVybWluZSBuZXcgc3RhdHVzIGJhc2VkIG9uIGJvb2tpbmcgZGF0ZVxuICAgICAgICAvLyBDb25zdHJhaW50OiBwZW5kaW5nIGJvb2tpbmdzIE1VU1QgaGF2ZSBCb29raW5nX0RhdGUgPj0gdG9kYXkncyBkYXRlXG4gICAgICAgIGNvbnN0IGJvb2tpbmdEYXRlID0gbmV3IERhdGUoYm9va2luZy5Cb29raW5nX0RhdGUpO1xuICAgICAgICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCk7XG4gICAgICAgIHRvZGF5LnNldEhvdXJzKDAsIDAsIDAsIDApO1xuICAgICAgICBib29raW5nRGF0ZS5zZXRIb3VycygwLCAwLCAwLCAwKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IG5ld1N0YXR1cyA9IGJvb2tpbmdEYXRlID49IHRvZGF5ID8gJ3BlbmRpbmcnIDogJ2NhbmNlbGxlZCc7XG5cbiAgICAgICAgLy8gVXBkYXRlIHRoZSBib29raW5nIC0gcmVtb3ZlIHRlY2huaWNpYW4gYXNzaWdubWVudCBhbmQgY2hhbmdlIHN0YXR1c1xuICAgICAgICBhd2FpdCBwb29sLnJlcXVlc3QoKVxuICAgICAgICAgICAgLmlucHV0KFwiYm9va2luZ0lEXCIsIHNxbC5JbnQsIGJvb2tpbmdJRClcbiAgICAgICAgICAgIC5pbnB1dChcIm5ld1N0YXR1c1wiLCBzcWwuVmFyQ2hhciwgbmV3U3RhdHVzKVxuICAgICAgICAgICAgLnF1ZXJ5KGBcbiAgICAgICAgICAgICAgICBVUERBVEUgQm9va2luZ1xuICAgICAgICAgICAgICAgIFNFVCBUZWNobmljaWFuX0lEID0gTlVMTCxcbiAgICAgICAgICAgICAgICAgICAgW1N0YXR1c10gPSBAbmV3U3RhdHVzLFxuICAgICAgICAgICAgICAgICAgICBtb2RpZmllZEF0ID0gR0VUREFURSgpXG4gICAgICAgICAgICAgICAgV0hFUkUgQm9va2luZ19JRCA9IEBib29raW5nSURcbiAgICAgICAgICAgIGApO1xuXG4gICAgICAgIC8vIFJldHVybiBzdWNjZXNzIHJlc3BvbnNlXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IG5ld1N0YXR1cyA9PT0gJ3BlbmRpbmcnIFxuICAgICAgICAgICAgICAgID8gXCJCb29raW5nIGRlY2xpbmVkIHN1Y2Nlc3NmdWxseS4gSXQgaXMgbm93IGF2YWlsYWJsZSBmb3Igb3RoZXIgdGVjaG5pY2lhbnMuXCJcbiAgICAgICAgICAgICAgICA6IFwiQm9va2luZyBkZWNsaW5lZCBzdWNjZXNzZnVsbHkuIEl0IGhhcyBiZWVuIGNhbmNlbGxlZCBhcyB0aGUgc2NoZWR1bGVkIGRhdGUgaGFzIHBhc3NlZC5cIixcbiAgICAgICAgICAgIGJvb2tpbmdJRDogYm9va2luZ0lELFxuICAgICAgICAgICAgc3RhdHVzOiBuZXdTdGF0dXNcbiAgICAgICAgfSk7XG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiVW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZCB3aGVuIHRyeWluZyB0byBkZWNsaW5lIGJvb2tpbmc6IFwiLCBlcnJvcik7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogXCJBbiB1bmV4cGVjdGVkIGVycm9yIG9jY3VycmVkIHdoZW4gdHJ5aW5nIHRvIGRlY2xpbmUgdGhlIGJvb2tpbmcuXCIgfSk7XG4gICAgfVxufSk7XG5cbi8vIEdldCBhbGwgcGVuZGluZyBib29raW5ncyBhdmFpbGFibGUgZm9yIHRlY2huaWNpYW5zIHRvIGFjY2VwdFxuY29uc3QgZ2V0UGVuZGluZ0Jvb2tpbmdzID0gYXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHBvb2wgPSBnZXRQb29sKCk7XG4gICAgICAgXG4gICAgICAgIC8vIFF1ZXJ5IGFsbCBwZW5kaW5nIGJvb2tpbmdzIHdpdGggdXNlciBhbmQgYXBwbGlhbmNlIGRldGFpbHNcbiAgICAgICAgLy8gT3JkZXJlZCBieSBkYXRlIGFuZCB0aW1lIChlYXJsaWVzdCBmaXJzdClcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcG9vbC5yZXF1ZXN0KClcbiAgICAgICAgICAgIC5xdWVyeShgXG4gICAgICAgICAgICAgICAgU0VMRUNUIFxuICAgICAgICAgICAgICAgICAgICBCb29raW5nLkJvb2tpbmdfSUQsIFxuICAgICAgICAgICAgICAgICAgICBCb29raW5nLkJvb2tpbmdfRGF0ZSBBUyBcIlNjaGVkdWxlZCBEYXRlXCIsIFxuICAgICAgICAgICAgICAgICAgICBCb29raW5nLkJvb2tpbmdfVGltZSBBUyBcIlNjaGVkdWxlZCBUaW1lXCIsIFxuICAgICAgICAgICAgICAgICAgICBCb29raW5nLlRvdGFsX1ByaWNlIEFTIFwiVG90YWwgUHJpY2VcIiwgXG4gICAgICAgICAgICAgICAgICAgIEFwcGxpYW5jZV9UeXBlLm5hbWVFTiBBUyBcIkFwcGxpYW5jZSdzIE5hbWUgKEVOKVwiLCBcbiAgICAgICAgICAgICAgICAgICAgQXBwbGlhbmNlX1R5cGUubmFtZUFSIEFTIFwiQXBwbGlhbmNlJ3MgTmFtZSAoQVIpXCIsXG4gICAgICAgICAgICAgICAgICAgIEJvb2tpbmcuSXNzdWVfRGVzY3JpcHRpb24gQVMgXCJJc3N1ZSBEZXNjcmlwdGlvblwiLFxuICAgICAgICAgICAgICAgICAgICBbVXNlcl0uRmlyc3RfTmFtZSBBUyBcIkZpcnN0IE5hbWVcIixcbiAgICAgICAgICAgICAgICAgICAgW1VzZXJdLkxhc3RfTmFtZSBBUyBcIkxhc3QgTmFtZVwiLCBcbiAgICAgICAgICAgICAgICAgICAgW1VzZXJdLlBob25lIEFTIFwiUGhvbmUgTnVtYmVyXCIsXG4gICAgICAgICAgICAgICAgICAgIFtVc2VyXS5DaXR5IEFTIFwiQ2l0eVwiLFxuICAgICAgICAgICAgICAgICAgICBbVXNlcl0uU3RyZWV0X0FkZHJlc3MgQVMgXCJTdHJlZXQgQWRkcmVzc1wiLCBcbiAgICAgICAgICAgICAgICAgICAgW1VzZXJdLkJ1aWxkaW5nX05hbWUgQVMgXCJCdWlsZGluZyBOYW1lXCIsIFxuICAgICAgICAgICAgICAgICAgICBbVXNlcl0uRmxvb3IgQVMgXCJCdWlsZGluZyBGbG9vclwiLCBcbiAgICAgICAgICAgICAgICAgICAgW1VzZXJdLlBvc3RhbF9Db2RlIEFTIFwiUG9zdGFsIENvZGVcIlxuICAgICAgICAgICAgICAgIEZST00gQm9va2luZ1xuICAgICAgICAgICAgICAgIEpPSU4gW1VzZXJdIE9OIEJvb2tpbmcuVXNlcklEID0gW1VzZXJdLlVzZXJfSURcbiAgICAgICAgICAgICAgICBKT0lOIEFwcGxpYW5jZV9UeXBlIE9OIEJvb2tpbmcuQXBwbGlhbmNlX1R5cGVfSUQgPSBBcHBsaWFuY2VfVHlwZS5BcHBsaWFuY2VfVHlwZV9JRFxuICAgICAgICAgICAgICAgIFdIRVJFIEJvb2tpbmcuW1N0YXR1c10gPSAncGVuZGluZydcbiAgICAgICAgICAgICAgICBPUkRFUiBCWSBCb29raW5nLkJvb2tpbmdfRGF0ZSBBU0MsIEJvb2tpbmcuQm9va2luZ19UaW1lIEFTQ1xuICAgICAgICAgICAgYCk7XG5cbiAgICAgICAgLy8gSWYgbm8gcGVuZGluZyBib29raW5ncyBmb3VuZCwgcmV0dXJuIGVtcHR5IGFycmF5IHdpdGggaW5mb3JtYXRpdmUgbWVzc2FnZVxuICAgICAgICBpZiAocmVzdWx0LnJlY29yZHNldC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJObyBwZW5kaW5nIGJvb2tpbmdzIGZvdW5kLlwiLFxuICAgICAgICAgICAgICAgIGJvb2tpbmdzOiBbXVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZXR1cm4gcGVuZGluZyBib29raW5ncyB3aXRoIGNvdW50XG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiVGhlcmUgYXJlIHBlbmRpbmcgYm9va2luZ3MuXCIsXG4gICAgICAgICAgICBjb3VudDogcmVzdWx0LnJlY29yZHNldC5sZW5ndGgsXG4gICAgICAgICAgICBib29raW5nczogcmVzdWx0LnJlY29yZHNldFxuICAgICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiVW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZCB3aGlsZSBmZXRjaGluZyBwZW5kaW5nIGJvb2tpbmdzOlwiLCBlcnJvcik7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHttZXNzYWdlOiBcIkFuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQgd2hpbGUgZmV0Y2hpbmcgcGVuZGluZyBib29raW5ncy5cIn0pO1xuICAgIH1cbn0pXG5cbi8vIEdldCBhY3RpdmUgYm9va2luZ3MgYXNzaWduZWQgdG8gYSB0ZWNobmljaWFuIChjb25maXJtZWQgKyBpbl9wcm9ncmVzcylcbmNvbnN0IGdldEFjdGl2ZUJvb2tpbmdzID0gYXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHRlY2huaWNpYW5JRCA9IHJlcS50ZWNobmljaWFuSUQ7XG5cbiAgICB0cnkge1xuICAgICAgICBjb25zdCBwb29sID0gZ2V0UG9vbCgpO1xuICAgICAgIFxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwb29sLnJlcXVlc3QoKVxuICAgICAgICAgICAgLmlucHV0KFwidGVjaG5pY2lhbklEXCIsIHNxbC5JbnQsIHRlY2huaWNpYW5JRClcbiAgICAgICAgICAgIC5xdWVyeShgXG4gICAgICAgICAgICAgICAgU0VMRUNUIFxuICAgICAgICAgICAgICAgICAgICBCb29raW5nLkJvb2tpbmdfSUQsIFxuICAgICAgICAgICAgICAgICAgICBCb29raW5nLltTdGF0dXNdLFxuICAgICAgICAgICAgICAgICAgICBCb29raW5nLkJvb2tpbmdfRGF0ZSBBUyBcIlNjaGVkdWxlZCBEYXRlXCIsIFxuICAgICAgICAgICAgICAgICAgICBCb29raW5nLkJvb2tpbmdfVGltZSBBUyBcIlNjaGVkdWxlZCBUaW1lXCIsIFxuICAgICAgICAgICAgICAgICAgICBCb29raW5nLlRvdGFsX1ByaWNlIEFTIFwiVG90YWwgUHJpY2VcIiwgXG4gICAgICAgICAgICAgICAgICAgIEFwcGxpYW5jZV9UeXBlLm5hbWVFTiBBUyBcIkFwcGxpYW5jZSdzIE5hbWUgKEVOKVwiLCBcbiAgICAgICAgICAgICAgICAgICAgQXBwbGlhbmNlX1R5cGUubmFtZUFSIEFTIFwiQXBwbGlhbmNlJ3MgTmFtZSAoQVIpXCIsXG4gICAgICAgICAgICAgICAgICAgIEJvb2tpbmcuSXNzdWVfRGVzY3JpcHRpb24gQVMgXCJJc3N1ZSBEZXNjcmlwdGlvblwiLFxuICAgICAgICAgICAgICAgICAgICBbVXNlcl0uRmlyc3RfTmFtZSBBUyBcIkZpcnN0IE5hbWVcIixcbiAgICAgICAgICAgICAgICAgICAgW1VzZXJdLkxhc3RfTmFtZSBBUyBcIkxhc3QgTmFtZVwiLCBcbiAgICAgICAgICAgICAgICAgICAgW1VzZXJdLlBob25lIEFTIFwiUGhvbmUgTnVtYmVyXCIsXG4gICAgICAgICAgICAgICAgICAgIFtVc2VyXS5DaXR5IEFTIFwiQ2l0eVwiLFxuICAgICAgICAgICAgICAgICAgICBbVXNlcl0uU3RyZWV0X0FkZHJlc3MgQVMgXCJTdHJlZXQgQWRkcmVzc1wiLCBcbiAgICAgICAgICAgICAgICAgICAgW1VzZXJdLkJ1aWxkaW5nX05hbWUgQVMgXCJCdWlsZGluZyBOYW1lXCIsIFxuICAgICAgICAgICAgICAgICAgICBbVXNlcl0uRmxvb3IgQVMgXCJCdWlsZGluZyBGbG9vclwiLCBcbiAgICAgICAgICAgICAgICAgICAgW1VzZXJdLlBvc3RhbF9Db2RlIEFTIFwiUG9zdGFsIENvZGVcIixcbiAgICAgICAgICAgICAgICAgICAgUGF5bWVudC5bU3RhdHVzXSBBUyBcIlBheW1lbnQgU3RhdHVzXCJcbiAgICAgICAgICAgICAgICBGUk9NIEJvb2tpbmdcbiAgICAgICAgICAgICAgICBKT0lOIFtVc2VyXSBPTiBCb29raW5nLlVzZXJJRCA9IFtVc2VyXS5Vc2VyX0lEXG4gICAgICAgICAgICAgICAgSk9JTiBBcHBsaWFuY2VfVHlwZSBPTiBCb29raW5nLkFwcGxpYW5jZV9UeXBlX0lEID0gQXBwbGlhbmNlX1R5cGUuQXBwbGlhbmNlX1R5cGVfSURcbiAgICAgICAgICAgICAgICBMRUZUIEpPSU4gUGF5bWVudCBPTiBCb29raW5nLkJvb2tpbmdfSUQgPSBQYXltZW50LkJvb2tpbmdfSURcbiAgICAgICAgICAgICAgICBXSEVSRSBCb29raW5nLlRlY2huaWNpYW5fSUQgPSBAdGVjaG5pY2lhbklEIFxuICAgICAgICAgICAgICAgICAgICBBTkQgQm9va2luZy5bU3RhdHVzXSBJTiAoJ2NvbmZpcm1lZCcsICdpbl9wcm9ncmVzcycpXG4gICAgICAgICAgICAgICAgT1JERVIgQlkgQm9va2luZy5Cb29raW5nX0RhdGUgQVNDLCBCb29raW5nLkJvb2tpbmdfVGltZSBBU0NcbiAgICAgICAgICAgIGApO1xuXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IHJlc3VsdC5yZWNvcmRzZXQubGVuZ3RoID4gMCA/IFwiQWN0aXZlIGJvb2tpbmdzIGZvdW5kLlwiIDogXCJObyBhY3RpdmUgYm9va2luZ3MuXCIsXG4gICAgICAgICAgICBjb3VudDogcmVzdWx0LnJlY29yZHNldC5sZW5ndGgsXG4gICAgICAgICAgICBib29raW5nczogcmVzdWx0LnJlY29yZHNldFxuICAgICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiVW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZCB3aGlsZSBmZXRjaGluZyBhY3RpdmUgYm9va2luZ3M6XCIsIGVycm9yKTtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe21lc3NhZ2U6IFwiQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZCB3aGlsZSBmZXRjaGluZyBhY3RpdmUgYm9va2luZ3MuXCJ9KTtcbiAgICB9XG59KVxuXG4vLyBHZXQgY29tcGxldGVkIGJvb2tpbmdzIGZvciBhIHRlY2huaWNpYW5cbmNvbnN0IGdldENvbXBsZXRlZEJvb2tpbmdzID0gYXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHRlY2huaWNpYW5JRCA9IHJlcS50ZWNobmljaWFuSUQ7XG5cbiAgICB0cnkge1xuICAgICAgICBjb25zdCBwb29sID0gZ2V0UG9vbCgpO1xuICAgICAgIFxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwb29sLnJlcXVlc3QoKVxuICAgICAgICAgICAgLmlucHV0KFwidGVjaG5pY2lhbklEXCIsIHNxbC5JbnQsIHRlY2huaWNpYW5JRClcbiAgICAgICAgICAgIC5xdWVyeShgXG4gICAgICAgICAgICAgICAgU0VMRUNUIFxuICAgICAgICAgICAgICAgICAgICBCb29raW5nLkJvb2tpbmdfSUQsIFxuICAgICAgICAgICAgICAgICAgICBCb29raW5nLltTdGF0dXNdLFxuICAgICAgICAgICAgICAgICAgICBCb29raW5nLkJvb2tpbmdfRGF0ZSBBUyBcIlNjaGVkdWxlZCBEYXRlXCIsIFxuICAgICAgICAgICAgICAgICAgICBCb29raW5nLkJvb2tpbmdfVGltZSBBUyBcIlNjaGVkdWxlZCBUaW1lXCIsIFxuICAgICAgICAgICAgICAgICAgICBCb29raW5nLlRvdGFsX1ByaWNlIEFTIFwiVG90YWwgUHJpY2VcIixcbiAgICAgICAgICAgICAgICAgICAgQm9va2luZy5jb21wbGV0ZWRBdCBBUyBcIkNvbXBsZXRlZCBBdFwiLFxuICAgICAgICAgICAgICAgICAgICBBcHBsaWFuY2VfVHlwZS5uYW1lRU4gQVMgXCJBcHBsaWFuY2UncyBOYW1lIChFTilcIiwgXG4gICAgICAgICAgICAgICAgICAgIEFwcGxpYW5jZV9UeXBlLm5hbWVBUiBBUyBcIkFwcGxpYW5jZSdzIE5hbWUgKEFSKVwiLFxuICAgICAgICAgICAgICAgICAgICBCb29raW5nLklzc3VlX0Rlc2NyaXB0aW9uIEFTIFwiSXNzdWUgRGVzY3JpcHRpb25cIixcbiAgICAgICAgICAgICAgICAgICAgW1VzZXJdLkZpcnN0X05hbWUgQVMgXCJGaXJzdCBOYW1lXCIsXG4gICAgICAgICAgICAgICAgICAgIFtVc2VyXS5MYXN0X05hbWUgQVMgXCJMYXN0IE5hbWVcIiwgXG4gICAgICAgICAgICAgICAgICAgIFtVc2VyXS5DaXR5IEFTIFwiQ2l0eVwiLFxuICAgICAgICAgICAgICAgICAgICBSYXRpbmcuUmF0aW5nX1Njb3JlIEFTIFwiUmF0aW5nXCIsXG4gICAgICAgICAgICAgICAgICAgIFJhdGluZy5SZXZpZXdfVGV4dCBBUyBcIlJldmlld1wiXG4gICAgICAgICAgICAgICAgRlJPTSBCb29raW5nXG4gICAgICAgICAgICAgICAgSk9JTiBbVXNlcl0gT04gQm9va2luZy5Vc2VySUQgPSBbVXNlcl0uVXNlcl9JRFxuICAgICAgICAgICAgICAgIEpPSU4gQXBwbGlhbmNlX1R5cGUgT04gQm9va2luZy5BcHBsaWFuY2VfVHlwZV9JRCA9IEFwcGxpYW5jZV9UeXBlLkFwcGxpYW5jZV9UeXBlX0lEXG4gICAgICAgICAgICAgICAgTEVGVCBKT0lOIFJhdGluZyBPTiBCb29raW5nLkJvb2tpbmdfSUQgPSBSYXRpbmcuQm9va2luZ19JRFxuICAgICAgICAgICAgICAgIFdIRVJFIEJvb2tpbmcuVGVjaG5pY2lhbl9JRCA9IEB0ZWNobmljaWFuSUQgXG4gICAgICAgICAgICAgICAgICAgIEFORCBCb29raW5nLltTdGF0dXNdID0gJ2NvbXBsZXRlZCdcbiAgICAgICAgICAgICAgICBPUkRFUiBCWSBCb29raW5nLmNvbXBsZXRlZEF0IERFU0NcbiAgICAgICAgICAgIGApO1xuXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IHJlc3VsdC5yZWNvcmRzZXQubGVuZ3RoID4gMCA/IFwiQ29tcGxldGVkIGJvb2tpbmdzIGZvdW5kLlwiIDogXCJObyBjb21wbGV0ZWQgYm9va2luZ3MuXCIsXG4gICAgICAgICAgICBjb3VudDogcmVzdWx0LnJlY29yZHNldC5sZW5ndGgsXG4gICAgICAgICAgICBib29raW5nczogcmVzdWx0LnJlY29yZHNldFxuICAgICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiVW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZCB3aGlsZSBmZXRjaGluZyBjb21wbGV0ZWQgYm9va2luZ3M6XCIsIGVycm9yKTtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe21lc3NhZ2U6IFwiQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZCB3aGlsZSBmZXRjaGluZyBjb21wbGV0ZWQgYm9va2luZ3MuXCJ9KTtcbiAgICB9XG59KVxuXG5cbm1vZHVsZS5leHBvcnRzID0ge2dldFBlbmRpbmdCb29raW5ncywgYWNjZXB0UGVuZGluZ0Jvb2tpbmcsIHN0YXJ0Qm9va2luZywgY29tcGxldGVCb29raW5nLCBkZWNsaW5lQm9va2luZywgZ2V0QWN0aXZlQm9va2luZ3MsIGdldENvbXBsZXRlZEJvb2tpbmdzfTsiXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxJQUFNQSxZQUFZLEdBQUdDLE9BQU8sQ0FBQyx1QkFBdUIsQ0FBQzs7QUFHckQ7QUFDQTtBQUNBLElBQUFDLFFBQUEsR0FBeUJELE9BQU8sQ0FBQyxvQkFBb0IsQ0FBQztFQUE5Q0UsT0FBTyxHQUFBRCxRQUFBLENBQVBDLE9BQU87RUFBRUMsR0FBRyxHQUFBRixRQUFBLENBQUhFLEdBQUc7O0FBR3BCO0FBQ0EsSUFBTUMsb0JBQW9CLEdBQUdMLFlBQVk7RUFBQSxJQUFBTSxJQUFBLE9BQUFDLGtCQUFBLDBCQUFBQyxZQUFBLFlBQUFDLElBQUEsQ0FBQyxTQUFBQyxRQUFPQyxHQUFHLEVBQUVDLEdBQUc7SUFBQSxJQUFBQyxTQUFBLEVBQUFDLFlBQUEsRUFBQUMsSUFBQSxFQUFBQyxZQUFBLEVBQUFDLE9BQUEsRUFBQUMsTUFBQSxFQUFBQyxFQUFBO0lBQUEsT0FBQVgsWUFBQSxZQUFBWSxJQUFBLFdBQUFDLFFBQUE7TUFBQSxrQkFBQUEsUUFBQSxDQUFB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","map":{"version":3,"names":["asyncHandler","require","_require","getPool","sql","acceptPendingBooking","_ref","_asyncToGenerator2","_regenerator","mark","_callee","req","res","bookingID","technicianID","pool","checkBooking","booking","result","_t","wrap","_context","prev","next","body","abrupt","status","json","message","request","input","Int","query","sent","recordset","length","Technician_ID","Status","concat","console","error","number","stop","_x","_x2","apply","arguments","startBooking","_ref2","_callee2","_t2","_context2","_x3","_x4","completeBooking","_ref3","_callee3","_t3","_context3","Payment_Status","_x5","_x6","declineBooking","_ref4","_callee4","bookingDate","today","newStatus","_t4","_context4","Date","Booking_Date","setHours","VarChar","_x7","_x8","getPendingBookings","_ref5","_callee5","_t5","_context5","bookings","count","_x9","_x0","getActiveBookings","_ref6","_callee6","_t6","_context6","_x1","_x10","getCompletedBookings","_ref7","_callee7","_t7","_context7","_x11","_x12","module","exports"],"sourceRoot":"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/controllers/","sources":["TechnicianBookingController.js"],"sourcesContent":["/**\n * This controller handles everything related to booking and the technician:\n *  1. Technician accepting a pending booking\n *  2. Technician getting all pending bookings available to accept\n */\n\nconst asyncHandler = require(\"express-async-handler\");\n\n\n// sql needed for the type definitions in .input\n// getPool is to do queries\nconst { getPool, sql } = require(\"../config/database\");\n\n\n// Technician accepting a pending booking\nconst acceptPendingBooking = asyncHandler(async (req, res) => {\n        // Getting the booking ID from the body and the technician ID passed from the middleware\n        const { bookingID } = req.body;\n        const technicianID = req.technicianID;\n\n        // If no booking ID is passed, throw a 400 error\n        if (!bookingID) {\n            return res.status(400).json({message: \"You need to pass a booking ID.\"});\n        }\n\n        try {\n            const pool = getPool();\n\n            // Check if the booking exists and get its current status and assigned technician\n            const checkBooking = await pool.request()\n                .input(\"bookingID\", sql.Int, bookingID)\n                .query(`\n                    SELECT Booking_ID, [Status], Technician_ID\n                    FROM Booking\n                    WHERE Booking_ID = @bookingID\n                    `);\n\n            // If no result returned, the booking doesn't exist\n            if (checkBooking.recordset.length === 0) {\n                return res.status(404).json({message: \"Booking not found.\"});\n            }\n\n            const booking = checkBooking.recordset[0];\n\n            // Check if booking is already assigned to another technician\n            if (booking.Technician_ID !== null) {\n                return res.status(409).json({message: \"This booking is already assigned to another technician.\"});\n            }\n\n            // Check if booking status is pending - only pending bookings can be accepted\n            if (booking.Status !== 'pending') {\n                return res.status(400).json({message: `This booking is ${booking.Status} and cannot be accepted.`});\n            }\n\n            // Update the booking - assign technician and change status to confirmed\n            const result = await pool.request()\n                .input(\"bookingID\", sql.Int, bookingID)\n                .input(\"technicianID\", sql.Int, technicianID)\n                .query(`\n                    UPDATE Booking\n                    SET Technician_ID = @technicianID,\n                        [Status] = 'confirmed',\n                        modifiedAt = GETDATE()\n                    WHERE Booking_ID = @bookingID\n                    `);\n\n            // Return success response with booking and technician details\n            res.status(200).json({\n                message: \"Booking accepted successfully.\",\n                bookingID: bookingID,\n                technicianID: technicianID\n            });\n\n            \n        } catch (error) {\n            console.error(\"Unexpected error occurred when trying to apply booking to technician: \", error);\n            \n            // Foreign key constraint violation\n            if (error.number === 547) {\n                return res.status(400).json({message: \"Invalid booking or technician ID.\"});\n            }\n\n            res.status(500).json({message: \"Unexpected error occurred when trying to set booking to technician.\"});\n        }\n})\n\n// Technician starting work on a confirmed booking\nconst startBooking = asyncHandler(async (req, res) => {\n    const { bookingID } = req.body;\n    const technicianID = req.technicianID;\n\n    // If no booking ID is passed, throw a 400 error\n    if (!bookingID) {\n        return res.status(400).json({ message: \"You need to pass a booking ID.\" });\n    }\n\n    try {\n        const pool = getPool();\n\n        // Check if the booking exists and belongs to this technician\n        const checkBooking = await pool.request()\n            .input(\"bookingID\", sql.Int, bookingID)\n            .input(\"technicianID\", sql.Int, technicianID)\n            .query(`\n                SELECT Booking_ID, [Status], Technician_ID, Booking_Date, Booking_Time\n                FROM Booking\n                WHERE Booking_ID = @bookingID\n            `);\n\n        // If no result returned, the booking doesn't exist\n        if (checkBooking.recordset.length === 0) {\n            return res.status(404).json({ message: \"Booking not found.\" });\n        }\n\n        const booking = checkBooking.recordset[0];\n\n        // Check if booking is assigned to this technician\n        if (booking.Technician_ID !== technicianID) {\n            return res.status(403).json({ message: \"You are not authorized to start this booking as it's not assigned to you.\" });\n        }\n\n        // Check if booking status is confirmed - only confirmed bookings can be started\n        if (booking.Status !== 'confirmed') {\n            return res.status(400).json({ message: `This booking is ${booking.Status} and cannot be started. Only confirmed bookings can be started.` });\n        }\n\n        // Update the booking status to in_progress\n        await pool.request()\n            .input(\"bookingID\", sql.Int, bookingID)\n            .query(`\n                UPDATE Booking\n                SET [Status] = 'in_progress',\n                    modifiedAt = GETDATE()\n                WHERE Booking_ID = @bookingID\n            `);\n\n        // Return success response\n        res.status(200).json({\n            message: \"Booking started successfully.\",\n            bookingID: bookingID,\n            status: \"in_progress\"\n        });\n\n    } catch (error) {\n        console.error(\"Unexpected error occurred when trying to start booking: \", error);\n        res.status(500).json({ message: \"An unexpected error occurred when trying to start the booking.\" });\n    }\n});\n\n// Technician completing a booking\nconst completeBooking = asyncHandler(async (req, res) => {\n    const { bookingID } = req.body;\n    const technicianID = req.technicianID;\n\n    // If no booking ID is passed, throw a 400 error\n    if (!bookingID) {\n        return res.status(400).json({ message: \"You need to pass a booking ID.\" });\n    }\n\n    try {\n        const pool = getPool();\n\n        // Check if the booking exists and belongs to this technician\n        const checkBooking = await pool.request()\n            .input(\"bookingID\", sql.Int, bookingID)\n            .input(\"technicianID\", sql.Int, technicianID)\n            .query(`\n                SELECT b.Booking_ID, b.[Status], b.Technician_ID, p.[Status] AS Payment_Status\n                FROM Booking b\n                JOIN Payment p ON b.Booking_ID = p.Booking_ID\n                WHERE b.Booking_ID = @bookingID\n            `);\n\n        // If no result returned, the booking doesn't exist\n        if (checkBooking.recordset.length === 0) {\n            return res.status(404).json({ message: \"Booking not found.\" });\n        }\n\n        const booking = checkBooking.recordset[0];\n\n        // Check if booking is assigned to this technician\n        if (booking.Technician_ID !== technicianID) {\n            return res.status(403).json({ message: \"You are not authorized to complete this booking as it's not assigned to you.\" });\n        }\n\n        // Check if booking status is in_progress - only in_progress bookings can be completed\n        if (booking.Status !== 'in_progress') {\n            return res.status(400).json({ message: `This booking is ${booking.Status} and cannot be completed. Only in-progress bookings can be marked as completed.` });\n        }\n\n        // Check if payment is completed before allowing completion\n        if (booking.Payment_Status !== 'completed') {\n            return res.status(400).json({ message: \"Cannot complete booking until payment is completed.\" });\n        }\n\n        // Update the booking status to completed and set completedAt timestamp\n        await pool.request()\n            .input(\"bookingID\", sql.Int, bookingID)\n            .query(`\n                UPDATE Booking\n                SET [Status] = 'completed',\n                    completedAt = GETDATE(),\n                    modifiedAt = GETDATE()\n                WHERE Booking_ID = @bookingID\n            `);\n\n        // Update technician's total jobs count\n        await pool.request()\n            .input(\"technicianID\", sql.Int, technicianID)\n            .query(`\n                UPDATE Technician\n                SET Total_Jobs = Total_Jobs + 1\n                WHERE Technician_ID = @technicianID\n            `);\n\n        // Return success response\n        res.status(200).json({\n            message: \"Booking completed successfully.\",\n            bookingID: bookingID,\n            status: \"completed\"\n        });\n\n    } catch (error) {\n        console.error(\"Unexpected error occurred when trying to complete booking: \", error);\n        res.status(500).json({ message: \"An unexpected error occurred when trying to complete the booking.\" });\n    }\n});\n\n// Technician declining a pending booking\nconst declineBooking = asyncHandler(async (req, res) => {\n    const { bookingID } = req.body;\n    const technicianID = req.technicianID;\n\n    // If no booking ID is passed, throw a 400 error\n    if (!bookingID) {\n        return res.status(400).json({ message: \"You need to pass a booking ID.\" });\n    }\n\n    try {\n        const pool = getPool();\n\n        // Check if the booking exists and is assigned to this technician\n        // Also get Booking_Date and Payment_Status to validate decline request\n        const checkBooking = await pool.request()\n            .input(\"bookingID\", sql.Int, bookingID)\n            .query(`\n                SELECT b.Booking_ID, b.[Status], b.Technician_ID, b.Booking_Date, p.[Status] AS Payment_Status\n                FROM Booking b\n                LEFT JOIN Payment p ON b.Booking_ID = p.Booking_ID\n                WHERE b.Booking_ID = @bookingID\n            `);\n\n        // If no result returned, the booking doesn't exist\n        if (checkBooking.recordset.length === 0) {\n            return res.status(404).json({ message: \"Booking not found.\" });\n        }\n\n        const booking = checkBooking.recordset[0];\n\n        // Check if booking is assigned to this technician\n        if (booking.Technician_ID !== technicianID) {\n            return res.status(403).json({ message: \"You are not authorized to decline this booking as it's not assigned to you.\" });\n        }\n\n        // Check if booking status is confirmed - only confirmed bookings can be declined by technician\n        if (booking.Status !== 'confirmed') {\n            return res.status(400).json({ message: `This booking is ${booking.Status} and cannot be declined. Only confirmed bookings can be declined.` });\n        }\n\n        // Check if payment is already completed - cannot decline a paid booking\n        if (booking.Payment_Status === 'completed') {\n            return res.status(400).json({ message: \"Cannot decline a booking that has already been paid. Please contact the customer or support.\" });\n        }\n\n        // Determine new status based on booking date\n        // Constraint: pending bookings MUST have Booking_Date >= today's date\n        const bookingDate = new Date(booking.Booking_Date);\n        const today = new Date();\n        today.setHours(0, 0, 0, 0);\n        bookingDate.setHours(0, 0, 0, 0);\n        \n        const newStatus = bookingDate >= today ? 'pending' : 'cancelled';\n\n        // Update the booking - remove technician assignment and change status\n        await pool.request()\n            .input(\"bookingID\", sql.Int, bookingID)\n            .input(\"newStatus\", sql.VarChar, newStatus)\n            .query(`\n                UPDATE Booking\n                SET Technician_ID = NULL,\n                    [Status] = @newStatus,\n                    modifiedAt = GETDATE()\n                WHERE Booking_ID = @bookingID\n            `);\n\n        // Return success response\n        res.status(200).json({\n            message: newStatus === 'pending' \n                ? \"Booking declined successfully. It is now available for other technicians.\"\n                : \"Booking declined successfully. It has been cancelled as the scheduled date has passed.\",\n            bookingID: bookingID,\n            status: newStatus\n        });\n\n    } catch (error) {\n        console.error(\"Unexpected error occurred when trying to decline booking: \", error);\n        res.status(500).json({ message: \"An unexpected error occurred when trying to decline the booking.\" });\n    }\n});\n\n// Get all pending bookings available for technicians to accept\nconst getPendingBookings = asyncHandler(async (req, res) => {\n    try {\n        const pool = getPool();\n       \n        // Query all pending bookings with user and appliance details\n        // Ordered by date and time (earliest first)\n        const result = await pool.request()\n            .query(`\n                SELECT \n                    Booking.Booking_ID, \n                    Booking.Booking_Date AS \"Scheduled Date\", \n                    Booking.Booking_Time AS \"Scheduled Time\", \n                    Booking.Total_Price AS \"Total Price\", \n                    Appliance_Type.nameEN AS \"Appliance's Name (EN)\", \n                    Appliance_Type.nameAR AS \"Appliance's Name (AR)\",\n                    Booking.Issue_Description AS \"Issue Description\",\n                    [User].First_Name AS \"First Name\",\n                    [User].Last_Name AS \"Last Name\", \n                    [User].Phone AS \"Phone Number\",\n                    [User].City AS \"City\",\n                    [User].Street_Address AS \"Street Address\", \n                    [User].Building_Name AS \"Building Name\", \n                    [User].Floor AS \"Building Floor\", \n                    [User].Postal_Code AS \"Postal Code\"\n                FROM Booking\n                JOIN [User] ON Booking.UserID = [User].User_ID\n                JOIN Appliance_Type ON Booking.Appliance_Type_ID = Appliance_Type.Appliance_Type_ID\n                WHERE Booking.[Status] = 'pending'\n                ORDER BY Booking.Booking_Date ASC, Booking.Booking_Time ASC\n            `);\n\n        // If no pending bookings found, return empty array with informative message\n        if (result.recordset.length === 0) {\n            return res.status(200).json({\n                message: \"No pending bookings found.\",\n                bookings: []\n            });\n        }\n\n        // Return pending bookings with count\n        res.status(200).json({\n            message: \"There are pending bookings.\",\n            count: result.recordset.length,\n            bookings: result.recordset\n        });\n    } catch (error) {\n        console.error(\"Unexpected error occurred while fetching pending bookings:\", error);\n        res.status(500).json({message: \"An unexpected error occurred while fetching pending bookings.\"});\n    }\n})\n\n// Get active bookings assigned to a technician (confirmed + in_progress)\nconst getActiveBookings = asyncHandler(async (req, res) => {\n    const technicianID = req.technicianID;\n\n    try {\n        const pool = getPool();\n       \n        const result = await pool.request()\n            .input(\"technicianID\", sql.Int, technicianID)\n            .query(`\n                SELECT \n                    Booking.Booking_ID, \n                    Booking.[Status],\n                    Booking.Booking_Date AS \"Scheduled Date\", \n                    Booking.Booking_Time AS \"Scheduled Time\", \n                    Booking.Total_Price AS \"Total Price\", \n                    Appliance_Type.nameEN AS \"Appliance's Name (EN)\", \n                    Appliance_Type.nameAR AS \"Appliance's Name (AR)\",\n                    Booking.Issue_Description AS \"Issue Description\",\n                    [User].First_Name AS \"First Name\",\n                    [User].Last_Name AS \"Last Name\", \n                    [User].Phone AS \"Phone Number\",\n                    [User].City AS \"City\",\n                    [User].Street_Address AS \"Street Address\", \n                    [User].Building_Name AS \"Building Name\", \n                    [User].Floor AS \"Building Floor\", \n                    [User].Postal_Code AS \"Postal Code\",\n                    Payment.[Status] AS \"Payment Status\"\n                FROM Booking\n                JOIN [User] ON Booking.UserID = [User].User_ID\n                JOIN Appliance_Type ON Booking.Appliance_Type_ID = Appliance_Type.Appliance_Type_ID\n                LEFT JOIN Payment ON Booking.Booking_ID = Payment.Booking_ID\n                WHERE Booking.Technician_ID = @technicianID \n                    AND Booking.[Status] IN ('confirmed', 'in_progress')\n                ORDER BY Booking.Booking_Date ASC, Booking.Booking_Time ASC\n            `);\n\n        res.status(200).json({\n            message: result.recordset.length > 0 ? \"Active bookings found.\" : \"No active bookings.\",\n            count: result.recordset.length,\n            bookings: result.recordset\n        });\n    } catch (error) {\n        console.error(\"Unexpected error occurred while fetching active bookings:\", error);\n        res.status(500).json({message: \"An unexpected error occurred while fetching active bookings.\"});\n    }\n})\n\n// Get completed bookings for a technician\nconst getCompletedBookings = asyncHandler(async (req, res) => {\n    const technicianID = req.technicianID;\n\n    try {\n        const pool = getPool();\n       \n        const result = await pool.request()\n            .input(\"technicianID\", sql.Int, technicianID)\n            .query(`\n                SELECT \n                    Booking.Booking_ID, \n                    Booking.[Status],\n                    Booking.Booking_Date AS \"Scheduled Date\", \n                    Booking.Booking_Time AS \"Scheduled Time\", \n                    Booking.Total_Price AS \"Total Price\",\n                    Booking.completedAt AS \"Completed At\",\n                    Appliance_Type.nameEN AS \"Appliance's Name (EN)\", \n                    Appliance_Type.nameAR AS \"Appliance's Name (AR)\",\n                    Booking.Issue_Description AS \"Issue Description\",\n                    [User].First_Name AS \"First Name\",\n                    [User].Last_Name AS \"Last Name\", \n                    [User].City AS \"City\",\n                    Rating.Rating_Score AS \"Rating\",\n                    Rating.Review_Text AS \"Review\"\n                FROM Booking\n                JOIN [User] ON Booking.UserID = [User].User_ID\n                JOIN Appliance_Type ON Booking.Appliance_Type_ID = Appliance_Type.Appliance_Type_ID\n                LEFT JOIN Rating ON Booking.Booking_ID = Rating.Booking_ID\n                WHERE Booking.Technician_ID = @technicianID \n                    AND Booking.[Status] = 'completed'\n                ORDER BY Booking.completedAt DESC\n            `);\n\n        res.status(200).json({\n            message: result.recordset.length > 0 ? \"Completed bookings found.\" : \"No completed bookings.\",\n            count: result.recordset.length,\n            bookings: result.recordset\n        });\n    } catch (error) {\n        console.error(\"Unexpected error occurred while fetching completed bookings:\", error);\n        res.status(500).json({message: \"An unexpected error occurred while fetching completed bookings.\"});\n    }\n})\n\n\nmodule.exports = {getPendingBookings, acceptPendingBooking, startBooking, completeBooking, declineBooking, getActiveBookings, getCompletedBookings};"],"mappings":"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","ignoreList":[]}},"mtime":1765035707326},"{\"assumptions\":{},\"sourceRoot\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end\",\"filename\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/routes/serviceAreaRoutes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"_exploded\":true,\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"VoidPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$48\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$49\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"\"use strict\";\n\nvar express = require(\"express\");\nvar _require = require(\"../controllers/ServiceAreaController\"),\n  getActiveAreas = _require.getActiveAreas;\nvar router = express.Router();\nrouter.get(\"/\", getActiveAreas);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsIl9yZXF1aXJlIiwiZ2V0QWN0aXZlQXJlYXMiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJnZXQiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9zZXJqL0RvY3VtZW50cy9HaXRIdWIvRml4QXBwbGlhbmNlLWJvb2tpbmdDb21tZXJjZS9iYWNrLWVuZC9zcmMvcm91dGVzLyIsInNvdXJjZXMiOlsic2VydmljZUFyZWFSb3V0ZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoXCJleHByZXNzXCIpO1xuY29uc3QgeyBnZXRBY3RpdmVBcmVhcyB9ID0gcmVxdWlyZShcIi4uL2NvbnRyb2xsZXJzL1NlcnZpY2VBcmVhQ29udHJvbGxlclwiKTtcblxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcblxucm91dGVyLmdldChcIi9cIiwgZ2V0QWN0aXZlQXJlYXMpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBUyxDQUFDO0FBQ2xDLElBQUFDLFFBQUEsR0FBMkJELE9BQU8sQ0FBQyxzQ0FBc0MsQ0FBQztFQUFsRUUsY0FBYyxHQUFBRCxRQUFBLENBQWRDLGNBQWM7QUFFdEIsSUFBTUMsTUFBTSxHQUFHSixPQUFPLENBQUNLLE1BQU0sQ0FBQyxDQUFDO0FBRS9CRCxNQUFNLENBQUNFLEdBQUcsQ0FBQyxHQUFHLEVBQUVILGNBQWMsQ0FBQztBQUUvQkksTUFBTSxDQUFDQyxPQUFPLEdBQUdKLE1BQU0iLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["express","require","_require","getActiveAreas","router","Router","get","module","exports"],"sourceRoot":"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/routes/","sources":["serviceAreaRoutes.js"],"sourcesContent":["const express = require(\"express\");\nconst { getActiveAreas } = require(\"../controllers/ServiceAreaController\");\n\nconst router = express.Router();\n\nrouter.get(\"/\", getActiveAreas);\n\nmodule.exports = router;"],"mappings":";;AAAA,IAAMA,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAClC,IAAAC,QAAA,GAA2BD,OAAO,CAAC,sCAAsC,CAAC;EAAlEE,cAAc,GAAAD,QAAA,CAAdC,cAAc;AAEtB,IAAMC,MAAM,GAAGJ,OAAO,CAACK,MAAM,CAAC,CAAC;AAE/BD,MAAM,CAACE,GAAG,CAAC,GAAG,EAAEH,cAAc,CAAC;AAE/BI,MAAM,CAACC,OAAO,GAAGJ,MAAM","ignoreList":[]}},"mtime":1764612063607},"{\"assumptions\":{},\"sourceRoot\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end\",\"filename\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/controllers/ServiceAreaController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"_exploded\":true,\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"VoidPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$48\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$49\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar asyncHandler = require(\"express-async-handler\");\n\n// getPool is to do queries\nvar _require = require(\"../config/database\"),\n  getPool = _require.getPool,\n  sql = _require.sql;\n\n// Returns the active appliance categories\nvar getActiveAreas = asyncHandler(/*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee(req, res) {\n    var pool, result, _t;\n    return _regenerator[\"default\"].wrap(function (_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          pool = getPool();\n          _context.next = 1;\n          return pool.request().query(\"\\n                SELECT Area_ID, NameEN, NameAR, Region, isActive\\n                FROM Service_Area\\n                WHERE isActive = 1\\n                \");\n        case 1:\n          result = _context.sent;\n          res.status(200).json({\n            count: result.recordset.length,\n            data: result.recordset\n          });\n          _context.next = 3;\n          break;\n        case 2:\n          _context.prev = 2;\n          _t = _context[\"catch\"](0);\n          // Throwing the console error and 500 status in case something goes wrong\n          console.error(\"Unexpected error occurred when trying to get active service areas: \", _t);\n          res.status(500).json({\n            message: \"An unexpected error occurred while trying to retrieve active service areas.\"\n          });\n        case 3:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[0, 2]]);\n  }));\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}());\nmodule.exports = {\n  getActiveAreas: getActiveAreas\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhc3luY0hhbmRsZXIiLCJyZXF1aXJlIiwiX3JlcXVpcmUiLCJnZXRQb29sIiwic3FsIiwiZ2V0QWN0aXZlQXJlYXMiLCJfcmVmIiwiX2FzeW5jVG9HZW5lcmF0b3IyIiwiX3JlZ2VuZXJhdG9yIiwibWFyayIsIl9jYWxsZWUiLCJyZXEiLCJyZXMiLCJwb29sIiwicmVzdWx0IiwiX3QiLCJ3cmFwIiwiX2NvbnRleHQiLCJwcmV2IiwibmV4dCIsInJlcXVlc3QiLCJxdWVyeSIsInNlbnQiLCJzdGF0dXMiLCJqc29uIiwiY291bnQiLCJyZWNvcmRzZXQiLCJsZW5ndGgiLCJkYXRhIiwiY29uc29sZSIsImVycm9yIiwibWVzc2FnZSIsInN0b3AiLCJfeCIsIl94MiIsImFwcGx5IiwiYXJndW1lbnRzIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL2hvbWUvc2Vyai9Eb2N1bWVudHMvR2l0SHViL0ZpeEFwcGxpYW5jZS1ib29raW5nQ29tbWVyY2UvYmFjay1lbmQvc3JjL2NvbnRyb2xsZXJzLyIsInNvdXJjZXMiOlsiU2VydmljZUFyZWFDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGFzeW5jSGFuZGxlciA9IHJlcXVpcmUoXCJleHByZXNzLWFzeW5jLWhhbmRsZXJcIik7XG5cbi8vIGdldFBvb2wgaXMgdG8gZG8gcXVlcmllc1xuY29uc3QgeyBnZXRQb29sLCBzcWwgfSA9IHJlcXVpcmUoXCIuLi9jb25maWcvZGF0YWJhc2VcIik7XG5cblxuLy8gUmV0dXJucyB0aGUgYWN0aXZlIGFwcGxpYW5jZSBjYXRlZ29yaWVzXG5jb25zdCBnZXRBY3RpdmVBcmVhcyA9IGFzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBwb29sID0gZ2V0UG9vbCgpO1xuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBvb2wucmVxdWVzdCgpXG4gICAgICAgICAgICAucXVlcnkoYFxuICAgICAgICAgICAgICAgIFNFTEVDVCBBcmVhX0lELCBOYW1lRU4sIE5hbWVBUiwgUmVnaW9uLCBpc0FjdGl2ZVxuICAgICAgICAgICAgICAgIEZST00gU2VydmljZV9BcmVhXG4gICAgICAgICAgICAgICAgV0hFUkUgaXNBY3RpdmUgPSAxXG4gICAgICAgICAgICAgICAgYCk7XG5cbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgY291bnQ6IHJlc3VsdC5yZWNvcmRzZXQubGVuZ3RoLFxuICAgICAgICAgICAgZGF0YTogcmVzdWx0LnJlY29yZHNldCxcbiAgICAgICAgfSlcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAvLyBUaHJvd2luZyB0aGUgY29uc29sZSBlcnJvciBhbmQgNTAwIHN0YXR1cyBpbiBjYXNlIHNvbWV0aGluZyBnb2VzIHdyb25nXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJVbmV4cGVjdGVkIGVycm9yIG9jY3VycmVkIHdoZW4gdHJ5aW5nIHRvIGdldCBhY3RpdmUgc2VydmljZSBhcmVhczogXCIsIGVycm9yKTtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiBcIkFuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQgd2hpbGUgdHJ5aW5nIHRvIHJldHJpZXZlIGFjdGl2ZSBzZXJ2aWNlIGFyZWFzLlwiIH0pO1xuICAgIH1cbn0pXG5cblxuXG5cblxubW9kdWxlLmV4cG9ydHMgPSB7Z2V0QWN0aXZlQXJlYXN9OyJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxJQUFNQSxZQUFZLEdBQUdDLE9BQU8sQ0FBQyx1QkFBdUIsQ0FBQzs7QUFFckQ7QUFDQSxJQUFBQyxRQUFBLEdBQXlCRCxPQUFPLENBQUMsb0JBQW9CLENBQUM7RUFBOUNFLE9BQU8sR0FBQUQsUUFBQSxDQUFQQyxPQUFPO0VBQUVDLEdBQUcsR0FBQUYsUUFBQSxDQUFIRSxHQUFHOztBQUdwQjtBQUNBLElBQU1DLGNBQWMsR0FBR0wsWUFBWTtFQUFBLElBQUFNLElBQUEsT0FBQUMsa0JBQUEsMEJBQUFDLFlBQUEsWUFBQUMsSUFBQSxDQUFDLFNBQUFDLFFBQU9DLEdBQUcsRUFBRUMsR0FBRztJQUFBLElBQUFDLElBQUEsRUFBQUMsTUFBQSxFQUFBQyxFQUFBO0lBQUEsT0FBQVAsWUFBQSxZQUFBUSxJQUFBLFdBQUFDLFFBQUE7TUFBQSxrQkFBQUEsUUFBQSxDQUFBQyxJQUFBLEdBQUFELFFBQUEsQ0FBQUUsSUFBQTtRQUFBO1VBQUFGLFFBQUEsQ0FBQUMsSUFBQTtVQUVyQ0wsSUFBSSxHQUFHVixPQUFPLENBQUMsQ0FBQztVQUFBYyxRQUFBLENBQUFFLElBQUE7VUFBQSxPQUVETixJQUFJLENBQUNPLE9BQU8sQ0FBQyxDQUFDLENBQzlCQyxLQUFLLDhKQUlELENBQUM7UUFBQTtVQUxKUCxNQUFNLEdBQUFHLFFBQUEsQ0FBQUssSUFBQTtVQU9aVixHQUFHLENBQUNXLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1lBQ2pCQyxLQUFLLEVBQUVYLE1BQU0sQ0FBQ1ksU0FBUyxDQUFDQyxNQUFNO1lBQzlCQyxJQUFJLEVBQUVkLE1BQU0sQ0FBQ1k7VUFDakIsQ0FBQyxDQUFDO1VBQUFULFFBQUEsQ0FBQUUsSUFBQTtVQUFBO1FBQUE7VUFBQUYsUUFBQSxDQUFBQyxJQUFBO1VBQUFILEVBQUEsR0FBQUUsUUFBQTtVQUVGO1VBQ0FZLE9BQU8sQ0FBQ0MsS0FBSyxDQUFDLHFFQUFxRSxFQUFBZixFQUFPLENBQUM7VUFDM0ZILEdBQUcsQ0FBQ1csTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7WUFBRU8sT0FBTyxFQUFFO1VBQThFLENBQUMsQ0FBQztRQUFDO1FBQUE7VUFBQSxPQUFBZCxRQUFBLENBQUFlLElBQUE7TUFBQTtJQUFBLEdBQUF0QixPQUFBO0VBQUEsQ0FFeEg7RUFBQSxpQkFBQXVCLEVBQUEsRUFBQUMsR0FBQTtJQUFBLE9BQUE1QixJQUFBLENBQUE2QixLQUFBLE9BQUFDLFNBQUE7RUFBQTtBQUFBLElBQUM7QUFNRkMsTUFBTSxDQUFDQyxPQUFPLEdBQUc7RUFBQ2pDLGNBQWMsRUFBZEE7QUFBYyxDQUFDIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["asyncHandler","require","_require","getPool","sql","getActiveAreas","_ref","_asyncToGenerator2","_regenerator","mark","_callee","req","res","pool","result","_t","wrap","_context","prev","next","request","query","sent","status","json","count","recordset","length","data","console","error","message","stop","_x","_x2","apply","arguments","module","exports"],"sourceRoot":"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/controllers/","sources":["ServiceAreaController.js"],"sourcesContent":["const asyncHandler = require(\"express-async-handler\");\n\n// getPool is to do queries\nconst { getPool, sql } = require(\"../config/database\");\n\n\n// Returns the active appliance categories\nconst getActiveAreas = asyncHandler(async (req, res) => {\n    try {\n        const pool = getPool();\n\n        const result = await pool.request()\n            .query(`\n                SELECT Area_ID, NameEN, NameAR, Region, isActive\n                FROM Service_Area\n                WHERE isActive = 1\n                `);\n\n        res.status(200).json({\n            count: result.recordset.length,\n            data: result.recordset,\n        })\n    } catch (error) {\n        // Throwing the console error and 500 status in case something goes wrong\n        console.error(\"Unexpected error occurred when trying to get active service areas: \", error);\n        res.status(500).json({ message: \"An unexpected error occurred while trying to retrieve active service areas.\" });\n    }\n})\n\n\n\n\n\nmodule.exports = {getActiveAreas};"],"mappings":";;;;;AAAA,IAAMA,YAAY,GAAGC,OAAO,CAAC,uBAAuB,CAAC;;AAErD;AACA,IAAAC,QAAA,GAAyBD,OAAO,CAAC,oBAAoB,CAAC;EAA9CE,OAAO,GAAAD,QAAA,CAAPC,OAAO;EAAEC,GAAG,GAAAF,QAAA,CAAHE,GAAG;;AAGpB;AACA,IAAMC,cAAc,GAAGL,YAAY;EAAA,IAAAM,IAAA,OAAAC,kBAAA,0BAAAC,YAAA,YAAAC,IAAA,CAAC,SAAAC,QAAOC,GAAG,EAAEC,GAAG;IAAA,IAAAC,IAAA,EAAAC,MAAA,EAAAC,EAAA;IAAA,OAAAP,YAAA,YAAAQ,IAAA,WAAAC,QAAA;MAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;QAAA;UAAAF,QAAA,CAAAC,IAAA;UAErCL,IAAI,GAAGV,OAAO,CAAC,CAAC;UAAAc,QAAA,CAAAE,IAAA;UAAA,OAEDN,IAAI,CAACO,OAAO,CAAC,CAAC,CAC9BC,KAAK,8JAID,CAAC;QAAA;UALJP,MAAM,GAAAG,QAAA,CAAAK,IAAA;UAOZV,GAAG,CAACW,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YACjBC,KAAK,EAAEX,MAAM,CAACY,SAAS,CAACC,MAAM;YAC9BC,IAAI,EAAEd,MAAM,CAACY;UACjB,CAAC,CAAC;UAAAT,QAAA,CAAAE,IAAA;UAAA;QAAA;UAAAF,QAAA,CAAAC,IAAA;UAAAH,EAAA,GAAAE,QAAA;UAEF;UACAY,OAAO,CAACC,KAAK,CAAC,qEAAqE,EAAAf,EAAO,CAAC;UAC3FH,GAAG,CAACW,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAAEO,OAAO,EAAE;UAA8E,CAAC,CAAC;QAAC;QAAA;UAAA,OAAAd,QAAA,CAAAe,IAAA;MAAA;IAAA,GAAAtB,OAAA;EAAA,CAExH;EAAA,iBAAAuB,EAAA,EAAAC,GAAA;IAAA,OAAA5B,IAAA,CAAA6B,KAAA,OAAAC,SAAA;EAAA;AAAA,IAAC;AAMFC,MAAM,CAACC,OAAO,GAAG;EAACjC,cAAc,EAAdA;AAAc,CAAC","ignoreList":[]}},"mtime":1764611963011},"{\"assumptions\":{},\"sourceRoot\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end\",\"filename\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/routes/freelancerRoutes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"_exploded\":true,\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"VoidPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$48\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$49\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"\"use strict\";\n\n/**\n * This express file sets up the routes of the freelancer, which consist of:\n *      Non-validation required routes: register and login\n *      Validation required routes: logout\n * \n * Validation requirement is to have the cookie with the right credintials without being expired.\n * \n * The functionalities for the routes themselves can be found in:\n *      1. middlewares/auth.js for authenticating the freelancer's credentials that are either stored or not stored\n * \n * No full implementation for freelancers is added yet.\n */\n\nvar express = require(\"express\");\nvar _require = require(\"../controllers/FreelancerController\"),\n  registerFreelancer = _require.registerFreelancer,\n  loginFreelancer = _require.loginFreelancer,\n  logoutFreelancer = _require.logoutFreelancer;\nvar _require2 = require(\"../middlewares/auth\"),\n  freelancerValidation = _require2.freelancerValidation;\nvar router = express.Router();\nrouter.post(\"/register\", registerFreelancer);\nrouter.post(\"/login\", loginFreelancer);\nrouter.post(\"/logout\", freelancerValidation, logoutFreelancer);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsIl9yZXF1aXJlIiwicmVnaXN0ZXJGcmVlbGFuY2VyIiwibG9naW5GcmVlbGFuY2VyIiwibG9nb3V0RnJlZWxhbmNlciIsIl9yZXF1aXJlMiIsImZyZWVsYW5jZXJWYWxpZGF0aW9uIiwicm91dGVyIiwiUm91dGVyIiwicG9zdCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9ob21lL3NlcmovRG9jdW1lbnRzL0dpdEh1Yi9GaXhBcHBsaWFuY2UtYm9va2luZ0NvbW1lcmNlL2JhY2stZW5kL3NyYy9yb3V0ZXMvIiwic291cmNlcyI6WyJmcmVlbGFuY2VyUm91dGVzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGhpcyBleHByZXNzIGZpbGUgc2V0cyB1cCB0aGUgcm91dGVzIG9mIHRoZSBmcmVlbGFuY2VyLCB3aGljaCBjb25zaXN0IG9mOlxuICogICAgICBOb24tdmFsaWRhdGlvbiByZXF1aXJlZCByb3V0ZXM6IHJlZ2lzdGVyIGFuZCBsb2dpblxuICogICAgICBWYWxpZGF0aW9uIHJlcXVpcmVkIHJvdXRlczogbG9nb3V0XG4gKiBcbiAqIFZhbGlkYXRpb24gcmVxdWlyZW1lbnQgaXMgdG8gaGF2ZSB0aGUgY29va2llIHdpdGggdGhlIHJpZ2h0IGNyZWRpbnRpYWxzIHdpdGhvdXQgYmVpbmcgZXhwaXJlZC5cbiAqIFxuICogVGhlIGZ1bmN0aW9uYWxpdGllcyBmb3IgdGhlIHJvdXRlcyB0aGVtc2VsdmVzIGNhbiBiZSBmb3VuZCBpbjpcbiAqICAgICAgMS4gbWlkZGxld2FyZXMvYXV0aC5qcyBmb3IgYXV0aGVudGljYXRpbmcgdGhlIGZyZWVsYW5jZXIncyBjcmVkZW50aWFscyB0aGF0IGFyZSBlaXRoZXIgc3RvcmVkIG9yIG5vdCBzdG9yZWRcbiAqIFxuICogTm8gZnVsbCBpbXBsZW1lbnRhdGlvbiBmb3IgZnJlZWxhbmNlcnMgaXMgYWRkZWQgeWV0LlxuICovXG5cbmNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKFwiZXhwcmVzc1wiKTtcbmNvbnN0IHtyZWdpc3RlckZyZWVsYW5jZXIsIGxvZ2luRnJlZWxhbmNlciwgbG9nb3V0RnJlZWxhbmNlcn0gPSByZXF1aXJlKFwiLi4vY29udHJvbGxlcnMvRnJlZWxhbmNlckNvbnRyb2xsZXJcIik7XG5jb25zdCB7ZnJlZWxhbmNlclZhbGlkYXRpb259ID0gcmVxdWlyZShcIi4uL21pZGRsZXdhcmVzL2F1dGhcIik7XG5cbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cbnJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyXCIsIHJlZ2lzdGVyRnJlZWxhbmNlcik7XG5yb3V0ZXIucG9zdChcIi9sb2dpblwiLCBsb2dpbkZyZWVsYW5jZXIpO1xucm91dGVyLnBvc3QoXCIvbG9nb3V0XCIsIGZyZWVsYW5jZXJWYWxpZGF0aW9uLCBsb2dvdXRGcmVlbGFuY2VyKTtcblxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxJQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFTLENBQUM7QUFDbEMsSUFBQUMsUUFBQSxHQUFnRUQsT0FBTyxDQUFDLHFDQUFxQyxDQUFDO0VBQXZHRSxrQkFBa0IsR0FBQUQsUUFBQSxDQUFsQkMsa0JBQWtCO0VBQUVDLGVBQWUsR0FBQUYsUUFBQSxDQUFmRSxlQUFlO0VBQUVDLGdCQUFnQixHQUFBSCxRQUFBLENBQWhCRyxnQkFBZ0I7QUFDNUQsSUFBQUMsU0FBQSxHQUErQkwsT0FBTyxDQUFDLHFCQUFxQixDQUFDO0VBQXRETSxvQkFBb0IsR0FBQUQsU0FBQSxDQUFwQkMsb0JBQW9CO0FBRTNCLElBQU1DLE1BQU0sR0FBR1IsT0FBTyxDQUFDUyxNQUFNLENBQUMsQ0FBQztBQUUvQkQsTUFBTSxDQUFDRSxJQUFJLENBQUMsV0FBVyxFQUFFUCxrQkFBa0IsQ0FBQztBQUM1Q0ssTUFBTSxDQUFDRSxJQUFJLENBQUMsUUFBUSxFQUFFTixlQUFlLENBQUM7QUFDdENJLE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLFNBQVMsRUFBRUgsb0JBQW9CLEVBQUVGLGdCQUFnQixDQUFDO0FBRTlETSxNQUFNLENBQUNDLE9BQU8sR0FBR0osTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["express","require","_require","registerFreelancer","loginFreelancer","logoutFreelancer","_require2","freelancerValidation","router","Router","post","module","exports"],"sourceRoot":"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/routes/","sources":["freelancerRoutes.js"],"sourcesContent":["/**\n * This express file sets up the routes of the freelancer, which consist of:\n *      Non-validation required routes: register and login\n *      Validation required routes: logout\n * \n * Validation requirement is to have the cookie with the right credintials without being expired.\n * \n * The functionalities for the routes themselves can be found in:\n *      1. middlewares/auth.js for authenticating the freelancer's credentials that are either stored or not stored\n * \n * No full implementation for freelancers is added yet.\n */\n\nconst express = require(\"express\");\nconst {registerFreelancer, loginFreelancer, logoutFreelancer} = require(\"../controllers/FreelancerController\");\nconst {freelancerValidation} = require(\"../middlewares/auth\");\n\nconst router = express.Router();\n\nrouter.post(\"/register\", registerFreelancer);\nrouter.post(\"/login\", loginFreelancer);\nrouter.post(\"/logout\", freelancerValidation, logoutFreelancer);\n\nmodule.exports = router;"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAMA,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAClC,IAAAC,QAAA,GAAgED,OAAO,CAAC,qCAAqC,CAAC;EAAvGE,kBAAkB,GAAAD,QAAA,CAAlBC,kBAAkB;EAAEC,eAAe,GAAAF,QAAA,CAAfE,eAAe;EAAEC,gBAAgB,GAAAH,QAAA,CAAhBG,gBAAgB;AAC5D,IAAAC,SAAA,GAA+BL,OAAO,CAAC,qBAAqB,CAAC;EAAtDM,oBAAoB,GAAAD,SAAA,CAApBC,oBAAoB;AAE3B,IAAMC,MAAM,GAAGR,OAAO,CAACS,MAAM,CAAC,CAAC;AAE/BD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAEP,kBAAkB,CAAC;AAC5CK,MAAM,CAACE,IAAI,CAAC,QAAQ,EAAEN,eAAe,CAAC;AACtCI,MAAM,CAACE,IAAI,CAAC,SAAS,EAAEH,oBAAoB,EAAEF,gBAAgB,CAAC;AAE9DM,MAAM,CAACC,OAAO,GAAGJ,MAAM","ignoreList":[]}},"mtime":1764487126139},"{\"assumptions\":{},\"sourceRoot\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end\",\"filename\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/controllers/EarningsController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"_exploded\":true,\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"VoidPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$48\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$49\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n/**\n * EarningsController\n * \n * Handles technician earnings calculations and reporting.\n * Earnings are calculated from completed bookings minus platform commission.\n */\n\nvar asyncHandler = require(\"express-async-handler\");\nvar _require = require(\"../config/database\"),\n  getPool = _require.getPool,\n  sql = _require.sql;\n\n// Get technician earnings summary with optional date filters\nvar getTechnicianEarnings = asyncHandler(/*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee(req, res) {\n    var technicianID, _req$query, startDate, endDate, pool, dateFilter, request, result, monthlyResult, summary, _t;\n    return _regenerator[\"default\"].wrap(function (_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          technicianID = req.technicianID;\n          _req$query = req.query, startDate = _req$query.startDate, endDate = _req$query.endDate;\n          _context.prev = 1;\n          pool = getPool();\n          dateFilter = '';\n          request = pool.request().input(\"technicianID\", sql.Int, technicianID); // Add date filters if provided\n          if (startDate) {\n            dateFilter += ' AND b.completedAt >= @startDate';\n            request.input(\"startDate\", sql.Date, startDate);\n          }\n          if (endDate) {\n            dateFilter += ' AND b.completedAt <= @endDate';\n            request.input(\"endDate\", sql.Date, endDate);\n          }\n\n          // Get earnings breakdown from completed bookings\n          _context.next = 2;\n          return request.query(\"\\n            SELECT \\n                COUNT(b.Booking_ID) AS Total_Bookings,\\n                SUM(p.Amount) AS Total_Revenue,\\n                SUM(p.Platform_Fee) AS Total_Platform_Fees,\\n                SUM(p.Amount - p.Platform_Fee) AS Total_Earnings,\\n                AVG(p.Amount) AS Average_Booking_Value\\n            FROM Booking b\\n            JOIN Payment p ON b.Booking_ID = p.Booking_ID\\n            WHERE b.Technician_ID = @technicianID \\n                AND b.[Status] = 'completed'\\n                AND p.[Status] = 'completed'\\n                \".concat(dateFilter, \"\\n        \"));\n        case 2:\n          result = _context.sent;\n          _context.next = 3;\n          return request.query(\"\\n            SELECT \\n                FORMAT(b.completedAt, 'yyyy-MM') AS Month,\\n                COUNT(b.Booking_ID) AS Bookings_Count,\\n                SUM(p.Amount - p.Platform_Fee) AS Earnings\\n            FROM Booking b\\n            JOIN Payment p ON b.Booking_ID = p.Booking_ID\\n            WHERE b.Technician_ID = @technicianID \\n                AND b.[Status] = 'completed'\\n                AND p.[Status] = 'completed'\\n                \".concat(dateFilter, \"\\n            GROUP BY FORMAT(b.completedAt, 'yyyy-MM')\\n            ORDER BY Month DESC\\n        \"));\n        case 3:\n          monthlyResult = _context.sent;\n          summary = result.recordset[0];\n          res.status(200).json({\n            message: \"Earnings retrieved successfully.\",\n            summary: {\n              totalBookings: summary.Total_Bookings || 0,\n              totalRevenue: parseFloat(summary.Total_Revenue || 0).toFixed(2),\n              totalPlatformFees: parseFloat(summary.Total_Platform_Fees || 0).toFixed(2),\n              totalEarnings: parseFloat(summary.Total_Earnings || 0).toFixed(2),\n              averageBookingValue: parseFloat(summary.Average_Booking_Value || 0).toFixed(2)\n            },\n            monthlyBreakdown: monthlyResult.recordset.map(function (record) {\n              return {\n                month: record.Month,\n                bookingsCount: record.Bookings_Count,\n                earnings: parseFloat(record.Earnings).toFixed(2)\n              };\n            }),\n            filters: {\n              startDate: startDate || null,\n              endDate: endDate || null\n            }\n          });\n          _context.next = 5;\n          break;\n        case 4:\n          _context.prev = 4;\n          _t = _context[\"catch\"](1);\n          console.error(\"Unexpected error occurred when retrieving earnings: \", _t);\n          res.status(500).json({\n            message: \"An unexpected error occurred while retrieving earnings data.\"\n          });\n        case 5:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[1, 4]]);\n  }));\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}());\nmodule.exports = {\n  getTechnicianEarnings: getTechnicianEarnings\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhc3luY0hhbmRsZXIiLCJyZXF1aXJlIiwiX3JlcXVpcmUiLCJnZXRQb29sIiwic3FsIiwiZ2V0VGVjaG5pY2lhbkVhcm5pbmdzIiwiX3JlZiIsIl9hc3luY1RvR2VuZXJhdG9yMiIsIl9yZWdlbmVyYXRvciIsIm1hcmsiLCJfY2FsbGVlIiwicmVxIiwicmVzIiwidGVjaG5pY2lhbklEIiwiX3JlcSRxdWVyeSIsInN0YXJ0RGF0ZSIsImVuZERhdGUiLCJwb29sIiwiZGF0ZUZpbHRlciIsInJlcXVlc3QiLCJyZXN1bHQiLCJtb250aGx5UmVzdWx0Iiwic3VtbWFyeSIsIl90Iiwid3JhcCIsIl9jb250ZXh0IiwicHJldiIsIm5leHQiLCJxdWVyeSIsImlucHV0IiwiSW50IiwiRGF0ZSIsImNvbmNhdCIsInNlbnQiLCJyZWNvcmRzZXQiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsInRvdGFsQm9va2luZ3MiLCJUb3RhbF9Cb29raW5ncyIsInRvdGFsUmV2ZW51ZSIsInBhcnNlRmxvYXQiLCJUb3RhbF9SZXZlbnVlIiwidG9GaXhlZCIsInRvdGFsUGxhdGZvcm1GZWVzIiwiVG90YWxfUGxhdGZvcm1fRmVlcyIsInRvdGFsRWFybmluZ3MiLCJUb3RhbF9FYXJuaW5ncyIsImF2ZXJhZ2VCb29raW5nVmFsdWUiLCJBdmVyYWdlX0Jvb2tpbmdfVmFsdWUiLCJtb250aGx5QnJlYWtkb3duIiwibWFwIiwicmVjb3JkIiwibW9udGgiLCJNb250aCIsImJvb2tpbmdzQ291bnQiLCJCb29raW5nc19Db3VudCIsImVhcm5pbmdzIiwiRWFybmluZ3MiLCJmaWx0ZXJzIiwiY29uc29sZSIsImVycm9yIiwic3RvcCIsIl94IiwiX3gyIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9zZXJqL0RvY3VtZW50cy9HaXRIdWIvRml4QXBwbGlhbmNlLWJvb2tpbmdDb21tZXJjZS9iYWNrLWVuZC9zcmMvY29udHJvbGxlcnMvIiwic291cmNlcyI6WyJFYXJuaW5nc0NvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBFYXJuaW5nc0NvbnRyb2xsZXJcbiAqIFxuICogSGFuZGxlcyB0ZWNobmljaWFuIGVhcm5pbmdzIGNhbGN1bGF0aW9ucyBhbmQgcmVwb3J0aW5nLlxuICogRWFybmluZ3MgYXJlIGNhbGN1bGF0ZWQgZnJvbSBjb21wbGV0ZWQgYm9va2luZ3MgbWludXMgcGxhdGZvcm0gY29tbWlzc2lvbi5cbiAqL1xuXG5jb25zdCBhc3luY0hhbmRsZXIgPSByZXF1aXJlKFwiZXhwcmVzcy1hc3luYy1oYW5kbGVyXCIpO1xuY29uc3QgeyBnZXRQb29sLCBzcWwgfSA9IHJlcXVpcmUoXCIuLi9jb25maWcvZGF0YWJhc2VcIik7XG5cbi8vIEdldCB0ZWNobmljaWFuIGVhcm5pbmdzIHN1bW1hcnkgd2l0aCBvcHRpb25hbCBkYXRlIGZpbHRlcnNcbmNvbnN0IGdldFRlY2huaWNpYW5FYXJuaW5ncyA9IGFzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCB0ZWNobmljaWFuSUQgPSByZXEudGVjaG5pY2lhbklEO1xuICAgIGNvbnN0IHsgc3RhcnREYXRlLCBlbmREYXRlIH0gPSByZXEucXVlcnk7XG5cbiAgICB0cnkge1xuICAgICAgICBjb25zdCBwb29sID0gZ2V0UG9vbCgpO1xuICAgICAgICBsZXQgZGF0ZUZpbHRlciA9ICcnO1xuICAgICAgICBjb25zdCByZXF1ZXN0ID0gcG9vbC5yZXF1ZXN0KCkuaW5wdXQoXCJ0ZWNobmljaWFuSURcIiwgc3FsLkludCwgdGVjaG5pY2lhbklEKTtcblxuICAgICAgICAvLyBBZGQgZGF0ZSBmaWx0ZXJzIGlmIHByb3ZpZGVkXG4gICAgICAgIGlmIChzdGFydERhdGUpIHtcbiAgICAgICAgICAgIGRhdGVGaWx0ZXIgKz0gJyBBTkQgYi5jb21wbGV0ZWRBdCA+PSBAc3RhcnREYXRlJztcbiAgICAgICAgICAgIHJlcXVlc3QuaW5wdXQoXCJzdGFydERhdGVcIiwgc3FsLkRhdGUsIHN0YXJ0RGF0ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZW5kRGF0ZSkge1xuICAgICAgICAgICAgZGF0ZUZpbHRlciArPSAnIEFORCBiLmNvbXBsZXRlZEF0IDw9IEBlbmREYXRlJztcbiAgICAgICAgICAgIHJlcXVlc3QuaW5wdXQoXCJlbmREYXRlXCIsIHNxbC5EYXRlLCBlbmREYXRlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEdldCBlYXJuaW5ncyBicmVha2Rvd24gZnJvbSBjb21wbGV0ZWQgYm9va2luZ3NcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVxdWVzdC5xdWVyeShgXG4gICAgICAgICAgICBTRUxFQ1QgXG4gICAgICAgICAgICAgICAgQ09VTlQoYi5Cb29raW5nX0lEKSBBUyBUb3RhbF9Cb29raW5ncyxcbiAgICAgICAgICAgICAgICBTVU0ocC5BbW91bnQpIEFTIFRvdGFsX1JldmVudWUsXG4gICAgICAgICAgICAgICAgU1VNKHAuUGxhdGZvcm1fRmVlKSBBUyBUb3RhbF9QbGF0Zm9ybV9GZWVzLFxuICAgICAgICAgICAgICAgIFNVTShwLkFtb3VudCAtIHAuUGxhdGZvcm1fRmVlKSBBUyBUb3RhbF9FYXJuaW5ncyxcbiAgICAgICAgICAgICAgICBBVkcocC5BbW91bnQpIEFTIEF2ZXJhZ2VfQm9va2luZ19WYWx1ZVxuICAgICAgICAgICAgRlJPTSBCb29raW5nIGJcbiAgICAgICAgICAgIEpPSU4gUGF5bWVudCBwIE9OIGIuQm9va2luZ19JRCA9IHAuQm9va2luZ19JRFxuICAgICAgICAgICAgV0hFUkUgYi5UZWNobmljaWFuX0lEID0gQHRlY2huaWNpYW5JRCBcbiAgICAgICAgICAgICAgICBBTkQgYi5bU3RhdHVzXSA9ICdjb21wbGV0ZWQnXG4gICAgICAgICAgICAgICAgQU5EIHAuW1N0YXR1c10gPSAnY29tcGxldGVkJ1xuICAgICAgICAgICAgICAgICR7ZGF0ZUZpbHRlcn1cbiAgICAgICAgYCk7XG5cbiAgICAgICAgLy8gR2V0IGVhcm5pbmdzIGJ5IG1vbnRoIGZvciB0aGUgc2VsZWN0ZWQgcGVyaW9kXG4gICAgICAgIGNvbnN0IG1vbnRobHlSZXN1bHQgPSBhd2FpdCByZXF1ZXN0LnF1ZXJ5KGBcbiAgICAgICAgICAgIFNFTEVDVCBcbiAgICAgICAgICAgICAgICBGT1JNQVQoYi5jb21wbGV0ZWRBdCwgJ3l5eXktTU0nKSBBUyBNb250aCxcbiAgICAgICAgICAgICAgICBDT1VOVChiLkJvb2tpbmdfSUQpIEFTIEJvb2tpbmdzX0NvdW50LFxuICAgICAgICAgICAgICAgIFNVTShwLkFtb3VudCAtIHAuUGxhdGZvcm1fRmVlKSBBUyBFYXJuaW5nc1xuICAgICAgICAgICAgRlJPTSBCb29raW5nIGJcbiAgICAgICAgICAgIEpPSU4gUGF5bWVudCBwIE9OIGIuQm9va2luZ19JRCA9IHAuQm9va2luZ19JRFxuICAgICAgICAgICAgV0hFUkUgYi5UZWNobmljaWFuX0lEID0gQHRlY2huaWNpYW5JRCBcbiAgICAgICAgICAgICAgICBBTkQgYi5bU3RhdHVzXSA9ICdjb21wbGV0ZWQnXG4gICAgICAgICAgICAgICAgQU5EIHAuW1N0YXR1c10gPSAnY29tcGxldGVkJ1xuICAgICAgICAgICAgICAgICR7ZGF0ZUZpbHRlcn1cbiAgICAgICAgICAgIEdST1VQIEJZIEZPUk1BVChiLmNvbXBsZXRlZEF0LCAneXl5eS1NTScpXG4gICAgICAgICAgICBPUkRFUiBCWSBNb250aCBERVNDXG4gICAgICAgIGApO1xuXG4gICAgICAgIGNvbnN0IHN1bW1hcnkgPSByZXN1bHQucmVjb3Jkc2V0WzBdO1xuXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiRWFybmluZ3MgcmV0cmlldmVkIHN1Y2Nlc3NmdWxseS5cIixcbiAgICAgICAgICAgIHN1bW1hcnk6IHtcbiAgICAgICAgICAgICAgICB0b3RhbEJvb2tpbmdzOiBzdW1tYXJ5LlRvdGFsX0Jvb2tpbmdzIHx8IDAsXG4gICAgICAgICAgICAgICAgdG90YWxSZXZlbnVlOiBwYXJzZUZsb2F0KHN1bW1hcnkuVG90YWxfUmV2ZW51ZSB8fCAwKS50b0ZpeGVkKDIpLFxuICAgICAgICAgICAgICAgIHRvdGFsUGxhdGZvcm1GZWVzOiBwYXJzZUZsb2F0KHN1bW1hcnkuVG90YWxfUGxhdGZvcm1fRmVlcyB8fCAwKS50b0ZpeGVkKDIpLFxuICAgICAgICAgICAgICAgIHRvdGFsRWFybmluZ3M6IHBhcnNlRmxvYXQoc3VtbWFyeS5Ub3RhbF9FYXJuaW5ncyB8fCAwKS50b0ZpeGVkKDIpLFxuICAgICAgICAgICAgICAgIGF2ZXJhZ2VCb29raW5nVmFsdWU6IHBhcnNlRmxvYXQoc3VtbWFyeS5BdmVyYWdlX0Jvb2tpbmdfVmFsdWUgfHwgMCkudG9GaXhlZCgyKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG1vbnRobHlCcmVha2Rvd246IG1vbnRobHlSZXN1bHQucmVjb3Jkc2V0Lm1hcChyZWNvcmQgPT4gKHtcbiAgICAgICAgICAgICAgICBtb250aDogcmVjb3JkLk1vbnRoLFxuICAgICAgICAgICAgICAgIGJvb2tpbmdzQ291bnQ6IHJlY29yZC5Cb29raW5nc19Db3VudCxcbiAgICAgICAgICAgICAgICBlYXJuaW5nczogcGFyc2VGbG9hdChyZWNvcmQuRWFybmluZ3MpLnRvRml4ZWQoMilcbiAgICAgICAgICAgIH0pKSxcbiAgICAgICAgICAgIGZpbHRlcnM6IHtcbiAgICAgICAgICAgICAgICBzdGFydERhdGU6IHN0YXJ0RGF0ZSB8fCBudWxsLFxuICAgICAgICAgICAgICAgIGVuZERhdGU6IGVuZERhdGUgfHwgbnVsbFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJVbmV4cGVjdGVkIGVycm9yIG9jY3VycmVkIHdoZW4gcmV0cmlldmluZyBlYXJuaW5nczogXCIsIGVycm9yKTtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiBcIkFuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQgd2hpbGUgcmV0cmlldmluZyBlYXJuaW5ncyBkYXRhLlwiIH0pO1xuICAgIH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHsgZ2V0VGVjaG5pY2lhbkVhcm5pbmdzIH07Il0sIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxJQUFNQSxZQUFZLEdBQUdDLE9BQU8sQ0FBQyx1QkFBdUIsQ0FBQztBQUNyRCxJQUFBQyxRQUFBLEdBQXlCRCxPQUFPLENBQUMsb0JBQW9CLENBQUM7RUFBOUNFLE9BQU8sR0FBQUQsUUFBQSxDQUFQQyxPQUFPO0VBQUVDLEdBQUcsR0FBQUYsUUFBQSxDQUFIRSxHQUFHOztBQUVwQjtBQUNBLElBQU1DLHFCQUFxQixHQUFHTCxZQUFZO0VBQUEsSUFBQU0sSUFBQSxPQUFBQyxrQkFBQSwwQkFBQUMsWUFBQSxZQUFBQyxJQUFBLENBQUMsU0FBQUMsUUFBT0MsR0FBRyxFQUFFQyxHQUFHO0lBQUEsSUFBQUMsWUFBQSxFQUFBQyxVQUFBLEVBQUFDLFNBQUEsRUFBQUMsT0FBQSxFQUFBQyxJQUFBLEVBQUFDLFVBQUEsRUFBQUMsT0FBQSxFQUFBQyxNQUFBLEVBQUFDLGFBQUEsRUFBQUMsT0FBQSxFQUFBQyxFQUFBO0lBQUEsT0FBQWYsWUFBQSxZQUFBZ0IsSUFBQSxXQUFBQyxRQUFBO01BQUEsa0JBQUFBLFFBQUEsQ0FBQUMsSUFBQSxHQUFBRCxRQUFBLENBQUFFLElBQUE7UUFBQTtVQUNoRGQsWUFBWSxHQUFHRixHQUFHLENBQUNFLFlBQVk7VUFBQUMsVUFBQSxHQUNOSCxHQUFHLENBQUNpQixLQUFLLEVBQWhDYixTQUFTLEdBQUFELFVBQUEsQ0FBVEMsU0FBUyxFQUFFQyxPQUFPLEdBQUFGLFVBQUEsQ0FBUEUsT0FBTztVQUFBUyxRQUFBLENBQUFDLElBQUE7VUFHaEJULElBQUksR0FBR2QsT0FBTyxDQUFDLENBQUM7VUFDbEJlLFVBQVUsR0FBRyxFQUFFO1VB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","map":{"version":3,"names":["asyncHandler","require","_require","getPool","sql","getTechnicianEarnings","_ref","_asyncToGenerator2","_regenerator","mark","_callee","req","res","technicianID","_req$query","startDate","endDate","pool","dateFilter","request","result","monthlyResult","summary","_t","wrap","_context","prev","next","query","input","Int","Date","concat","sent","recordset","status","json","message","totalBookings","Total_Bookings","totalRevenue","parseFloat","Total_Revenue","toFixed","totalPlatformFees","Total_Platform_Fees","totalEarnings","Total_Earnings","averageBookingValue","Average_Booking_Value","monthlyBreakdown","map","record","month","Month","bookingsCount","Bookings_Count","earnings","Earnings","filters","console","error","stop","_x","_x2","apply","arguments","module","exports"],"sourceRoot":"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/controllers/","sources":["EarningsController.js"],"sourcesContent":["/**\n * EarningsController\n * \n * Handles technician earnings calculations and reporting.\n * Earnings are calculated from completed bookings minus platform commission.\n */\n\nconst asyncHandler = require(\"express-async-handler\");\nconst { getPool, sql } = require(\"../config/database\");\n\n// Get technician earnings summary with optional date filters\nconst getTechnicianEarnings = asyncHandler(async (req, res) => {\n    const technicianID = req.technicianID;\n    const { startDate, endDate } = req.query;\n\n    try {\n        const pool = getPool();\n        let dateFilter = '';\n        const request = pool.request().input(\"technicianID\", sql.Int, technicianID);\n\n        // Add date filters if provided\n        if (startDate) {\n            dateFilter += ' AND b.completedAt >= @startDate';\n            request.input(\"startDate\", sql.Date, startDate);\n        }\n\n        if (endDate) {\n            dateFilter += ' AND b.completedAt <= @endDate';\n            request.input(\"endDate\", sql.Date, endDate);\n        }\n\n        // Get earnings breakdown from completed bookings\n        const result = await request.query(`\n            SELECT \n                COUNT(b.Booking_ID) AS Total_Bookings,\n                SUM(p.Amount) AS Total_Revenue,\n                SUM(p.Platform_Fee) AS Total_Platform_Fees,\n                SUM(p.Amount - p.Platform_Fee) AS Total_Earnings,\n                AVG(p.Amount) AS Average_Booking_Value\n            FROM Booking b\n            JOIN Payment p ON b.Booking_ID = p.Booking_ID\n            WHERE b.Technician_ID = @technicianID \n                AND b.[Status] = 'completed'\n                AND p.[Status] = 'completed'\n                ${dateFilter}\n        `);\n\n        // Get earnings by month for the selected period\n        const monthlyResult = await request.query(`\n            SELECT \n                FORMAT(b.completedAt, 'yyyy-MM') AS Month,\n                COUNT(b.Booking_ID) AS Bookings_Count,\n                SUM(p.Amount - p.Platform_Fee) AS Earnings\n            FROM Booking b\n            JOIN Payment p ON b.Booking_ID = p.Booking_ID\n            WHERE b.Technician_ID = @technicianID \n                AND b.[Status] = 'completed'\n                AND p.[Status] = 'completed'\n                ${dateFilter}\n            GROUP BY FORMAT(b.completedAt, 'yyyy-MM')\n            ORDER BY Month DESC\n        `);\n\n        const summary = result.recordset[0];\n\n        res.status(200).json({\n            message: \"Earnings retrieved successfully.\",\n            summary: {\n                totalBookings: summary.Total_Bookings || 0,\n                totalRevenue: parseFloat(summary.Total_Revenue || 0).toFixed(2),\n                totalPlatformFees: parseFloat(summary.Total_Platform_Fees || 0).toFixed(2),\n                totalEarnings: parseFloat(summary.Total_Earnings || 0).toFixed(2),\n                averageBookingValue: parseFloat(summary.Average_Booking_Value || 0).toFixed(2)\n            },\n            monthlyBreakdown: monthlyResult.recordset.map(record => ({\n                month: record.Month,\n                bookingsCount: record.Bookings_Count,\n                earnings: parseFloat(record.Earnings).toFixed(2)\n            })),\n            filters: {\n                startDate: startDate || null,\n                endDate: endDate || null\n            }\n        });\n\n    } catch (error) {\n        console.error(\"Unexpected error occurred when retrieving earnings: \", error);\n        res.status(500).json({ message: \"An unexpected error occurred while retrieving earnings data.\" });\n    }\n});\n\nmodule.exports = { getTechnicianEarnings };"],"mappings":"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","ignoreList":[]}},"mtime":1764702208057},"{\"assumptions\":{},\"sourceRoot\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end\",\"filename\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/routes/contactRoutes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"_exploded\":true,\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"VoidPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$48\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$49\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"\"use strict\";\n\nvar express = require(\"express\");\nvar _require = require(\"../controllers/ContactController.js\"),\n  submitContactForm = _require.submitContactForm;\nvar router = express.Router();\n\n// POST /api/contact - Submit contact form (public route, no authentication)\nrouter.post(\"/\", submitContactForm);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsIl9yZXF1aXJlIiwic3VibWl0Q29udGFjdEZvcm0iLCJyb3V0ZXIiLCJSb3V0ZXIiLCJwb3N0IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL2hvbWUvc2Vyai9Eb2N1bWVudHMvR2l0SHViL0ZpeEFwcGxpYW5jZS1ib29raW5nQ29tbWVyY2UvYmFjay1lbmQvc3JjL3JvdXRlcy8iLCJzb3VyY2VzIjpbImNvbnRhY3RSb3V0ZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoXCJleHByZXNzXCIpO1xuY29uc3QgeyBzdWJtaXRDb250YWN0Rm9ybSB9ID0gcmVxdWlyZShcIi4uL2NvbnRyb2xsZXJzL0NvbnRhY3RDb250cm9sbGVyLmpzXCIpO1xuXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG4vLyBQT1NUIC9hcGkvY29udGFjdCAtIFN1Ym1pdCBjb250YWN0IGZvcm0gKHB1YmxpYyByb3V0ZSwgbm8gYXV0aGVudGljYXRpb24pXG5yb3V0ZXIucG9zdChcIi9cIiwgc3VibWl0Q29udGFjdEZvcm0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBUyxDQUFDO0FBQ2xDLElBQUFDLFFBQUEsR0FBOEJELE9BQU8sQ0FBQyxxQ0FBcUMsQ0FBQztFQUFwRUUsaUJBQWlCLEdBQUFELFFBQUEsQ0FBakJDLGlCQUFpQjtBQUV6QixJQUFNQyxNQUFNLEdBQUdKLE9BQU8sQ0FBQ0ssTUFBTSxDQUFDLENBQUM7O0FBRS9CO0FBQ0FELE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLEdBQUcsRUFBRUgsaUJBQWlCLENBQUM7QUFFbkNJLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHSixNQUFNIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["express","require","_require","submitContactForm","router","Router","post","module","exports"],"sourceRoot":"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/routes/","sources":["contactRoutes.js"],"sourcesContent":["const express = require(\"express\");\nconst { submitContactForm } = require(\"../controllers/ContactController.js\");\n\nconst router = express.Router();\n\n// POST /api/contact - Submit contact form (public route, no authentication)\nrouter.post(\"/\", submitContactForm);\n\nmodule.exports = router;"],"mappings":";;AAAA,IAAMA,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAClC,IAAAC,QAAA,GAA8BD,OAAO,CAAC,qCAAqC,CAAC;EAApEE,iBAAiB,GAAAD,QAAA,CAAjBC,iBAAiB;AAEzB,IAAMC,MAAM,GAAGJ,OAAO,CAACK,MAAM,CAAC,CAAC;;AAE/B;AACAD,MAAM,CAACE,IAAI,CAAC,GAAG,EAAEH,iBAAiB,CAAC;AAEnCI,MAAM,CAACC,OAAO,GAAGJ,MAAM","ignoreList":[]}},"mtime":1764701626945},"{\"assumptions\":{},\"sourceRoot\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end\",\"filename\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/controllers/ContactController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"_exploded\":true,\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"VoidPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$48\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$49\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n/**\n * ContactController\n * \n * Handles contact form submissions from the website.\n */\n\nvar asyncHandler = require(\"express-async-handler\");\nvar _require = require(\"../config/database\"),\n  getPool = _require.getPool,\n  sql = _require.sql;\nvar _require2 = require(\"../utils/validators\"),\n  isValidEmail = _require2.isValidEmail,\n  sanitizeString = _require2.sanitizeString;\n\n// Handle contact form submission\nvar submitContactForm = asyncHandler(/*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee(req, res) {\n    var _req$body, name, email, subject, message, pool, _t;\n    return _regenerator[\"default\"].wrap(function (_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _req$body = req.body, name = _req$body.name, email = _req$body.email, subject = _req$body.subject, message = _req$body.message; // Validate required fields\n          if (!(!name || !email || !subject || !message)) {\n            _context.next = 1;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"All fields are required: name, email, subject, and message.\"\n          }));\n        case 1:\n          if (isValidEmail(email)) {\n            _context.next = 2;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"Please enter a valid email address.\"\n          }));\n        case 2:\n          if (!(name.trim().length < 2 || name.trim().length > 100)) {\n            _context.next = 3;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"Name must be between 2 and 100 characters.\"\n          }));\n        case 3:\n          if (!(subject.trim().length < 5 || subject.trim().length > 200)) {\n            _context.next = 4;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"Subject must be between 5 and 200 characters.\"\n          }));\n        case 4:\n          if (!(message.trim().length < 20)) {\n            _context.next = 5;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"Message must be at least 20 characters long.\"\n          }));\n        case 5:\n          _context.prev = 5;\n          pool = getPool(); // Insert contact form as a support ticket with 'open' status\n          _context.next = 6;\n          return pool.request().input(\"subject\", sql.NVarChar, sanitizeString(subject)).input(\"message\", sql.NVarChar, \"Contact Form Submission\\n\\nName: \".concat(sanitizeString(name), \"\\nEmail: \").concat(sanitizeString(email), \"\\n\\nMessage:\\n\").concat(sanitizeString(message))).input(\"userID\", sql.Int, 1) // Default 1 for now\n          .query(\"\\n                INSERT INTO Support_Ticket (UserID, [Subject], [Message], [Status], Priority)\\n                VALUES (@userID, @subject, @message, 'open', 'medium')\\n            \");\n        case 6:\n          res.status(201).json({\n            message: \"Thank you for contacting us! We will get back to you soon.\"\n          });\n          _context.next = 8;\n          break;\n        case 7:\n          _context.prev = 7;\n          _t = _context[\"catch\"](5);\n          console.error(\"Unexpected error occurred when submitting contact form: \", _t);\n          res.status(500).json({\n            message: \"An unexpected error occurred while submitting your message. Please try again later.\"\n          });\n        case 8:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[5, 7]]);\n  }));\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}());\nmodule.exports = {\n  submitContactForm: submitContactForm\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhc3luY0hhbmRsZXIiLCJyZXF1aXJlIiwiX3JlcXVpcmUiLCJnZXRQb29sIiwic3FsIiwiX3JlcXVpcmUyIiwiaXNWYWxpZEVtYWlsIiwic2FuaXRpemVTdHJpbmciLCJzdWJtaXRDb250YWN0Rm9ybSIsIl9yZWYiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJfcmVnZW5lcmF0b3IiLCJtYXJrIiwiX2NhbGxlZSIsInJlcSIsInJlcyIsIl9yZXEkYm9keSIsIm5hbWUiLCJlbWFpbCIsInN1YmplY3QiLCJtZXNzYWdlIiwicG9vbCIsIl90Iiwid3JhcCIsIl9jb250ZXh0IiwicHJldiIsIm5leHQiLCJib2R5IiwiYWJydXB0Iiwic3RhdHVzIiwianNvbiIsInRyaW0iLCJsZW5ndGgiLCJyZXF1ZXN0IiwiaW5wdXQiLCJOVmFyQ2hhciIsImNvbmNhdCIsIkludCIsInF1ZXJ5IiwiY29uc29sZSIsImVycm9yIiwic3RvcCIsIl94IiwiX3gyIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9zZXJqL0RvY3VtZW50cy9HaXRIdWIvRml4QXBwbGlhbmNlLWJvb2tpbmdDb21tZXJjZS9iYWNrLWVuZC9zcmMvY29udHJvbGxlcnMvIiwic291cmNlcyI6WyJDb250YWN0Q29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvbnRhY3RDb250cm9sbGVyXG4gKiBcbiAqIEhhbmRsZXMgY29udGFjdCBmb3JtIHN1Ym1pc3Npb25zIGZyb20gdGhlIHdlYnNpdGUuXG4gKi9cblxuY29uc3QgYXN5bmNIYW5kbGVyID0gcmVxdWlyZShcImV4cHJlc3MtYXN5bmMtaGFuZGxlclwiKTtcbmNvbnN0IHsgZ2V0UG9vbCwgc3FsIH0gPSByZXF1aXJlKFwiLi4vY29uZmlnL2RhdGFiYXNlXCIpO1xuY29uc3QgeyBpc1ZhbGlkRW1haWwsIHNhbml0aXplU3RyaW5nIH0gPSByZXF1aXJlKFwiLi4vdXRpbHMvdmFsaWRhdG9yc1wiKTtcblxuLy8gSGFuZGxlIGNvbnRhY3QgZm9ybSBzdWJtaXNzaW9uXG5jb25zdCBzdWJtaXRDb250YWN0Rm9ybSA9IGFzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCB7IG5hbWUsIGVtYWlsLCBzdWJqZWN0LCBtZXNzYWdlIH0gPSByZXEuYm9keTtcblxuICAgIC8vIFZhbGlkYXRlIHJlcXVpcmVkIGZpZWxkc1xuICAgIGlmICghbmFtZSB8fCAhZW1haWwgfHwgIXN1YmplY3QgfHwgIW1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogXCJBbGwgZmllbGRzIGFyZSByZXF1aXJlZDogbmFtZSwgZW1haWwsIHN1YmplY3QsIGFuZCBtZXNzYWdlLlwiIH0pO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRlIGVtYWlsIGZvcm1hdFxuICAgIGlmICghaXNWYWxpZEVtYWlsKGVtYWlsKSkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiBcIlBsZWFzZSBlbnRlciBhIHZhbGlkIGVtYWlsIGFkZHJlc3MuXCIgfSk7XG4gICAgfVxuXG4gICAgLy8gVmFsaWRhdGUgZmllbGQgbGVuZ3Roc1xuICAgIGlmIChuYW1lLnRyaW0oKS5sZW5ndGggPCAyIHx8IG5hbWUudHJpbSgpLmxlbmd0aCA+IDEwMCkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiBcIk5hbWUgbXVzdCBiZSBiZXR3ZWVuIDIgYW5kIDEwMCBjaGFyYWN0ZXJzLlwiIH0pO1xuICAgIH1cblxuICAgIGlmIChzdWJqZWN0LnRyaW0oKS5sZW5ndGggPCA1IHx8IHN1YmplY3QudHJpbSgpLmxlbmd0aCA+IDIwMCkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiBcIlN1YmplY3QgbXVzdCBiZSBiZXR3ZWVuIDUgYW5kIDIwMCBjaGFyYWN0ZXJzLlwiIH0pO1xuICAgIH1cblxuICAgIGlmIChtZXNzYWdlLnRyaW0oKS5sZW5ndGggPCAyMCkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiBcIk1lc3NhZ2UgbXVzdCBiZSBhdCBsZWFzdCAyMCBjaGFyYWN0ZXJzIGxvbmcuXCIgfSk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcG9vbCA9IGdldFBvb2woKTtcblxuICAgICAgICAvLyBJbnNlcnQgY29udGFjdCBmb3JtIGFzIGEgc3VwcG9ydCB0aWNrZXQgd2l0aCAnb3Blbicgc3RhdHVzXG4gICAgICAgIGF3YWl0IHBvb2wucmVxdWVzdCgpXG4gICAgICAgICAgICAuaW5wdXQoXCJzdWJqZWN0XCIsIHNxbC5OVmFyQ2hhciwgc2FuaXRpemVTdHJpbmcoc3ViamVjdCkpXG4gICAgICAgICAgICAuaW5wdXQoXCJtZXNzYWdlXCIsIHNxbC5OVmFyQ2hhciwgYENvbnRhY3QgRm9ybSBTdWJtaXNzaW9uXFxuXFxuTmFtZTogJHtzYW5pdGl6ZVN0cmluZyhuYW1lKX1cXG5FbWFpbDogJHtzYW5pdGl6ZVN0cmluZyhlbWFpbCl9XFxuXFxuTWVzc2FnZTpcXG4ke3Nhbml0aXplU3RyaW5nKG1lc3NhZ2UpfWApXG4gICAgICAgICAgICAuaW5wdXQoXCJ1c2VySURcIiwgc3FsLkludCwgMSkgLy8gRGVmYXVsdCAxIGZvciBub3dcbiAgICAgICAgICAgIC5xdWVyeShgXG4gICAgICAgICAgICAgICAgSU5TRVJUIElOVE8gU3VwcG9ydF9UaWNrZXQgKFVzZXJJRCwgW1N1YmplY3RdLCBbTWVzc2FnZV0sIFtTdGF0dXNdLCBQcmlvcml0eSlcbiAgICAgICAgICAgICAgICBWQUxVRVMgKEB1c2VySUQsIEBzdWJqZWN0LCBAbWVzc2FnZSwgJ29wZW4nLCAnbWVkaXVtJylcbiAgICAgICAgICAgIGApO1xuXG4gICAgICAgIHJlcy5zdGF0dXMoMjAxKS5qc29uKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiVGhhbmsgeW91IGZvciBjb250YWN0aW5nIHVzISBXZSB3aWxsIGdldCBiYWNrIHRvIHlvdSBzb29uLlwiXG4gICAgICAgIH0pO1xuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIlVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQgd2hlbiBzdWJtaXR0aW5nIGNvbnRhY3QgZm9ybTogXCIsIGVycm9yKTtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiBcIkFuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQgd2hpbGUgc3VibWl0dGluZyB5b3VyIG1lc3NhZ2UuIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuXCIgfSk7XG4gICAgfVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0geyBzdWJtaXRDb250YWN0Rm9ybSB9OyJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLElBQU1BLFlBQVksR0FBR0MsT0FBTyxDQUFDLHVCQUF1QixDQUFDO0FBQ3JELElBQUFDLFFBQUEsR0FBeUJELE9BQU8sQ0FBQyxvQkFBb0IsQ0FBQztFQUE5Q0UsT0FBTyxHQUFBRCxRQUFBLENBQVBDLE9BQU87RUFBRUMsR0FBRyxHQUFBRixRQUFBLENBQUhFLEdBQUc7QUFDcEIsSUFBQUMsU0FBQSxHQUF5Q0osT0FBTyxDQUFDLHFCQUFxQixDQUFDO0VBQS9ESyxZQUFZLEdBQUFELFNBQUEsQ0FBWkMsWUFBWTtFQUFFQyxjQUFjLEdBQUFGLFNBQUEsQ0FBZEUsY0FBYzs7QUFFcEM7QUFDQSxJQUFNQyxpQkFBaUIsR0FBR1IsWUFBWTtFQUFBLElBQUFTLElBQUEsT0FBQUMsa0JBQUEsMEJBQUFDLFlBQUEsWUFBQUMsSUFBQSxDQUFDLFNBQUFDLFFBQU9DLEdBQUcsRUFBRUMsR0FBRztJQUFBLElBQUFDLFNBQUEsRUFBQUMsSUFBQSxFQUFBQyxLQUFBLEVBQUFDLE9BQUEsRUFBQUMsT0FBQSxFQUFBQyxJQUFBLEVB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","map":{"version":3,"names":["asyncHandler","require","_require","getPool","sql","_require2","isValidEmail","sanitizeString","submitContactForm","_ref","_asyncToGenerator2","_regenerator","mark","_callee","req","res","_req$body","name","email","subject","message","pool","_t","wrap","_context","prev","next","body","abrupt","status","json","trim","length","request","input","NVarChar","concat","Int","query","console","error","stop","_x","_x2","apply","arguments","module","exports"],"sourceRoot":"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/controllers/","sources":["ContactController.js"],"sourcesContent":["/**\n * ContactController\n * \n * Handles contact form submissions from the website.\n */\n\nconst asyncHandler = require(\"express-async-handler\");\nconst { getPool, sql } = require(\"../config/database\");\nconst { isValidEmail, sanitizeString } = require(\"../utils/validators\");\n\n// Handle contact form submission\nconst submitContactForm = asyncHandler(async (req, res) => {\n    const { name, email, subject, message } = req.body;\n\n    // Validate required fields\n    if (!name || !email || !subject || !message) {\n        return res.status(400).json({ message: \"All fields are required: name, email, subject, and message.\" });\n    }\n\n    // Validate email format\n    if (!isValidEmail(email)) {\n        return res.status(400).json({ message: \"Please enter a valid email address.\" });\n    }\n\n    // Validate field lengths\n    if (name.trim().length < 2 || name.trim().length > 100) {\n        return res.status(400).json({ message: \"Name must be between 2 and 100 characters.\" });\n    }\n\n    if (subject.trim().length < 5 || subject.trim().length > 200) {\n        return res.status(400).json({ message: \"Subject must be between 5 and 200 characters.\" });\n    }\n\n    if (message.trim().length < 20) {\n        return res.status(400).json({ message: \"Message must be at least 20 characters long.\" });\n    }\n\n    try {\n        const pool = getPool();\n\n        // Insert contact form as a support ticket with 'open' status\n        await pool.request()\n            .input(\"subject\", sql.NVarChar, sanitizeString(subject))\n            .input(\"message\", sql.NVarChar, `Contact Form Submission\\n\\nName: ${sanitizeString(name)}\\nEmail: ${sanitizeString(email)}\\n\\nMessage:\\n${sanitizeString(message)}`)\n            .input(\"userID\", sql.Int, 1) // Default 1 for now\n            .query(`\n                INSERT INTO Support_Ticket (UserID, [Subject], [Message], [Status], Priority)\n                VALUES (@userID, @subject, @message, 'open', 'medium')\n            `);\n\n        res.status(201).json({\n            message: \"Thank you for contacting us! We will get back to you soon.\"\n        });\n\n    } catch (error) {\n        console.error(\"Unexpected error occurred when submitting contact form: \", error);\n        res.status(500).json({ message: \"An unexpected error occurred while submitting your message. Please try again later.\" });\n    }\n});\n\nmodule.exports = { submitContactForm };"],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;;AAEA,IAAMA,YAAY,GAAGC,OAAO,CAAC,uBAAuB,CAAC;AACrD,IAAAC,QAAA,GAAyBD,OAAO,CAAC,oBAAoB,CAAC;EAA9CE,OAAO,GAAAD,QAAA,CAAPC,OAAO;EAAEC,GAAG,GAAAF,QAAA,CAAHE,GAAG;AACpB,IAAAC,SAAA,GAAyCJ,OAAO,CAAC,qBAAqB,CAAC;EAA/DK,YAAY,GAAAD,SAAA,CAAZC,YAAY;EAAEC,cAAc,GAAAF,SAAA,CAAdE,cAAc;;AAEpC;AACA,IAAMC,iBAAiB,GAAGR,YAAY;EAAA,IAAAS,IAAA,OAAAC,kBAAA,0BAAAC,YAAA,YAAAC,IAAA,CAAC,SAAAC,QAAOC,GAAG,EAAEC,GAAG;IAAA,IAAAC,SAAA,EAAAC,IAAA,EAAAC,KAAA,EAAAC,OAAA,EAAAC,OAAA,EAAAC,IAAA,EAAAC,EAAA;IAAA,OAAAX,YAAA,YAAAY,IAAA,WAAAC,QAAA;MAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;QAAA;UAAAV,SAAA,GACRF,GAAG,CAACa,IAAI,EAA1CV,IAAI,GAAAD,SAAA,CAAJC,IAAI,EAAEC,KAAK,GAAAF,SAAA,CAALE,KAAK,EAAEC,OAAO,GAAAH,SAAA,CAAPG,OAAO,EAAEC,OAAO,GAAAJ,SAAA,CAAPI,OAAO,EAErC;UAAA,MACI,CAACH,IAAI,IAAI,CAACC,KAAK,IAAI,CAACC,OAAO,IAAI,CAACC,OAAO;YAAAI,QAAA,CAAAE,IAAA;YAAA;UAAA;UAAA,OAAAF,QAAA,CAAAI,MAAA,WAChCb,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAAEV,OAAO,EAAE;UAA8D,CAAC,CAAC;QAAA;UAAA,IAItGd,YAAY,CAACY,KAAK,CAAC;YAAAM,QAAA,CAAAE,IAAA;YAAA;UAAA;UAAA,OAAAF,QAAA,CAAAI,MAAA,WACbb,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAAEV,OAAO,EAAE;UAAsC,CAAC,CAAC;QAAA;UAAA,MAI/EH,IAAI,CAACc,IAAI,CAAC,CAAC,CAACC,MAAM,GAAG,CAAC,IAAIf,IAAI,CAACc,IAAI,CAAC,CAAC,CAACC,MAAM,GAAG,GAAG;YAAAR,QAAA,CAAAE,IAAA;YAAA;UAAA;UAAA,OAAAF,QAAA,CAAAI,MAAA,WAC3Cb,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAAEV,OAAO,EAAE;UAA6C,CAAC,CAAC;QAAA;UAAA,MAGtFD,OAAO,CAACY,IAAI,CAAC,CAAC,CAACC,MAAM,GAAG,CAAC,IAAIb,OAAO,CAACY,IAAI,CAAC,CAAC,CAACC,MAAM,GAAG,GAAG;YAAAR,QAAA,CAAAE,IAAA;YAAA;UAAA;UAAA,OAAAF,QAAA,CAAAI,MAAA,WACjDb,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAAEV,OAAO,EAAE;UAAgD,CAAC,CAAC;QAAA;UAAA,MAGzFA,OAAO,CAACW,IAAI,CAAC,CAAC,CAACC,MAAM,GAAG,EAAE;YAAAR,QAAA,CAAAE,IAAA;YAAA;UAAA;UAAA,OAAAF,QAAA,CAAAI,MAAA,WACnBb,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAAEV,OAAO,EAAE;UAA+C,CAAC,CAAC;QAAA;UAAAI,QAAA,CAAAC,IAAA;UAIlFJ,IAAI,GAAGlB,OAAO,CAAC,CAAC,EAEtB;UAAAqB,QAAA,CAAAE,IAAA;UAAA,OACML,IAAI,CAACY,OAAO,CAAC,CAAC,CACfC,KAAK,CAAC,SAAS,EAAE9B,GAAG,CAAC+B,QAAQ,EAAE5B,cAAc,CAACY,OAAO,CAAC,CAAC,CACvDe,KAAK,CAAC,SAAS,EAAE9B,GAAG,CAAC+B,QAAQ,sCAAAC,MAAA,CAAsC7B,cAAc,CAACU,IAAI,CAAC,eAAAmB,MAAA,CAAY7B,cAAc,CAACW,KAAK,CAAC,oBAAAkB,MAAA,CAAiB7B,cAAc,CAACa,OAAO,CAAC,CAAE,CAAC,CACnKc,KAAK,CAAC,QAAQ,EAAE9B,GAAG,CAACiC,GAAG,EAAE,CAAC,CAAC,CAAC;UAAA,CAC5BC,KAAK,wLAGL,CAAC;QAAA;UAENvB,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YACjBV,OAAO,EAAE;UACb,CAAC,CAAC;UAACI,QAAA,CAAAE,IAAA;UAAA;QAAA;UAAAF,QAAA,CAAAC,IAAA;UAAAH,EAAA,GAAAE,QAAA;UAGHe,OAAO,CAACC,KAAK,CAAC,0DAA0D,EAAAlB,EAAO,CAAC;UAChFP,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAAEV,OAAO,EAAE;UAAsF,CAAC,CAAC;QAAC;QAAA;UAAA,OAAAI,QAAA,CAAAiB,IAAA;MAAA;IAAA,GAAA5B,OAAA;EAAA,CAEhI;EAAA,iBAAA6B,EAAA,EAAAC,GAAA;IAAA,OAAAlC,IAAA,CAAAmC,KAAA,OAAAC,SAAA;EAAA;AAAA,IAAC;AAEFC,MAAM,CAACC,OAAO,GAAG;EAAEvC,iBAAiB,EAAjBA;AAAkB,CAAC","ignoreList":[]}},"mtime":1764701725942},"{\"assumptions\":{},\"sourceRoot\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end\",\"filename\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/controllers/EarningsController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"_exploded\":true,\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"VoidPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$48\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$49\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n/**\n * EarningsController\n * \n * Handles technician earnings calculations and reporting.\n * Earnings are calculated from completed bookings minus platform commission.\n */\n\nvar asyncHandler = require(\"express-async-handler\");\nvar _require = require(\"../config/database\"),\n  getPool = _require.getPool,\n  sql = _require.sql;\n\n// Get technician earnings summary with optional date filters\nvar getTechnicianEarnings = asyncHandler(/*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee(req, res) {\n    var technicianID, _req$query, startDate, endDate, pool, dateFilter, request, result, monthlyResult, summary, _t;\n    return _regenerator[\"default\"].wrap(function (_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          technicianID = req.technicianID;\n          _req$query = req.query, startDate = _req$query.startDate, endDate = _req$query.endDate;\n          _context.prev = 1;\n          pool = getPool();\n          dateFilter = '';\n          request = pool.request().input(\"technicianID\", sql.Int, technicianID); // Add date filters if provided\n          if (startDate) {\n            dateFilter += ' AND b.completedAt >= @startDate';\n            request.input(\"startDate\", sql.Date, startDate);\n          }\n          if (endDate) {\n            dateFilter += ' AND b.completedAt <= @endDate';\n            request.input(\"endDate\", sql.Date, endDate);\n          }\n\n          // Get earnings breakdown from completed bookings\n          _context.next = 2;\n          return request.query(\"\\n            SELECT \\n                COUNT(b.Booking_ID) AS Total_Bookings,\\n                SUM(p.Amount) AS Total_Revenue,\\n                SUM(p.Platform_Fee) AS Total_Platform_Fees,\\n                SUM(p.Amount - p.Platform_Fee) AS Total_Earnings,\\n                AVG(p.Amount) AS Average_Booking_Value\\n            FROM Booking b\\n            JOIN Payment p ON b.Booking_ID = p.Booking_ID\\n            WHERE b.Technician_ID = @technicianID \\n                AND b.[Status] = 'completed'\\n                AND p.[Status] = 'completed'\\n                \".concat(dateFilter, \"\\n        \"));\n        case 2:\n          result = _context.sent;\n          _context.next = 3;\n          return request.query(\"\\n            SELECT \\n                FORMAT(b.completedAt, 'yyyy-MM') AS Month,\\n                COUNT(b.Booking_ID) AS Bookings_Count,\\n                SUM(p.Amount - p.Platform_Fee) AS Earnings\\n            FROM Booking b\\n            JOIN Payment p ON b.Booking_ID = p.Booking_ID\\n            WHERE b.Technician_ID = @technicianID \\n                AND b.[Status] = 'completed'\\n                AND p.[Status] = 'completed'\\n                \".concat(dateFilter, \"\\n            GROUP BY FORMAT(b.completedAt, 'yyyy-MM')\\n            ORDER BY Month DESC\\n        \"));\n        case 3:\n          monthlyResult = _context.sent;\n          summary = result.recordset[0];\n          res.status(200).json({\n            message: \"Earnings retrieved successfully.\",\n            summary: {\n              totalBookings: summary.Total_Bookings || 0,\n              totalRevenue: parseFloat(summary.Total_Revenue || 0).toFixed(2),\n              totalPlatformFees: parseFloat(summary.Total_Platform_Fees || 0).toFixed(2),\n              totalEarnings: parseFloat(summary.Total_Earnings || 0).toFixed(2),\n              averageBookingValue: parseFloat(summary.Average_Booking_Value || 0).toFixed(2)\n            },\n            monthlyBreakdown: monthlyResult.recordset.map(function (record) {\n              return {\n                month: record.Month,\n                bookingsCount: record.Bookings_Count,\n                earnings: parseFloat(record.Earnings).toFixed(2)\n              };\n            }),\n            filters: {\n              startDate: startDate || null,\n              endDate: endDate || null\n            }\n          });\n          _context.next = 5;\n          break;\n        case 4:\n          _context.prev = 4;\n          _t = _context[\"catch\"](1);\n          console.error(\"Unexpected error occurred when retrieving earnings: \", _t);\n          res.status(500).json({\n            message: \"An unexpected error occurred while retrieving earnings data.\"\n          });\n        case 5:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[1, 4]]);\n  }));\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}());\nmodule.exports = {\n  getTechnicianEarnings: getTechnicianEarnings\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhc3luY0hhbmRsZXIiLCJyZXF1aXJlIiwiX3JlcXVpcmUiLCJnZXRQb29sIiwic3FsIiwiZ2V0VGVjaG5pY2lhbkVhcm5pbmdzIiwiX3JlZiIsIl9hc3luY1RvR2VuZXJhdG9yMiIsIl9yZWdlbmVyYXRvciIsIm1hcmsiLCJfY2FsbGVlIiwicmVxIiwicmVzIiwidGVjaG5pY2lhbklEIiwiX3JlcSRxdWVyeSIsInN0YXJ0RGF0ZSIsImVuZERhdGUiLCJwb29sIiwiZGF0ZUZpbHRlciIsInJlcXVlc3QiLCJyZXN1bHQiLCJtb250aGx5UmVzdWx0Iiwic3VtbWFyeSIsIl90Iiwid3JhcCIsIl9jb250ZXh0IiwicHJldiIsIm5leHQiLCJxdWVyeSIsImlucHV0IiwiSW50IiwiRGF0ZSIsImNvbmNhdCIsInNlbnQiLCJyZWNvcmRzZXQiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsInRvdGFsQm9va2luZ3MiLCJUb3RhbF9Cb29raW5ncyIsInRvdGFsUmV2ZW51ZSIsInBhcnNlRmxvYXQiLCJUb3RhbF9SZXZlbnVlIiwidG9GaXhlZCIsInRvdGFsUGxhdGZvcm1GZWVzIiwiVG90YWxfUGxhdGZvcm1fRmVlcyIsInRvdGFsRWFybmluZ3MiLCJUb3RhbF9FYXJuaW5ncyIsImF2ZXJhZ2VCb29raW5nVmFsdWUiLCJBdmVyYWdlX0Jvb2tpbmdfVmFsdWUiLCJtb250aGx5QnJlYWtkb3duIiwibWFwIiwicmVjb3JkIiwibW9udGgiLCJNb250aCIsImJvb2tpbmdzQ291bnQiLCJCb29raW5nc19Db3VudCIsImVhcm5pbmdzIiwiRWFybmluZ3MiLCJmaWx0ZXJzIiwiY29uc29sZSIsImVycm9yIiwic3RvcCIsIl94IiwiX3gyIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9zZXJqL0RvY3VtZW50cy9HaXRIdWIvRml4QXBwbGlhbmNlLWJvb2tpbmdDb21tZXJjZS9iYWNrLWVuZC9zcmMvY29udHJvbGxlcnMvIiwic291cmNlcyI6WyJFYXJuaW5nc0NvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBFYXJuaW5nc0NvbnRyb2xsZXJcbiAqIFxuICogSGFuZGxlcyB0ZWNobmljaWFuIGVhcm5pbmdzIGNhbGN1bGF0aW9ucyBhbmQgcmVwb3J0aW5nLlxuICogRWFybmluZ3MgYXJlIGNhbGN1bGF0ZWQgZnJvbSBjb21wbGV0ZWQgYm9va2luZ3MgbWludXMgcGxhdGZvcm0gY29tbWlzc2lvbi5cbiAqL1xuXG5jb25zdCBhc3luY0hhbmRsZXIgPSByZXF1aXJlKFwiZXhwcmVzcy1hc3luYy1oYW5kbGVyXCIpO1xuY29uc3QgeyBnZXRQb29sLCBzcWwgfSA9IHJlcXVpcmUoXCIuLi9jb25maWcvZGF0YWJhc2VcIik7XG5cbi8vIEdldCB0ZWNobmljaWFuIGVhcm5pbmdzIHN1bW1hcnkgd2l0aCBvcHRpb25hbCBkYXRlIGZpbHRlcnNcbmNvbnN0IGdldFRlY2huaWNpYW5FYXJuaW5ncyA9IGFzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCB0ZWNobmljaWFuSUQgPSByZXEudGVjaG5pY2lhbklEO1xuICAgIGNvbnN0IHsgc3RhcnREYXRlLCBlbmREYXRlIH0gPSByZXEucXVlcnk7XG5cbiAgICB0cnkge1xuICAgICAgICBjb25zdCBwb29sID0gZ2V0UG9vbCgpO1xuICAgICAgICBsZXQgZGF0ZUZpbHRlciA9ICcnO1xuICAgICAgICBjb25zdCByZXF1ZXN0ID0gcG9vbC5yZXF1ZXN0KCkuaW5wdXQoXCJ0ZWNobmljaWFuSURcIiwgc3FsLkludCwgdGVjaG5pY2lhbklEKTtcblxuICAgICAgICAvLyBBZGQgZGF0ZSBmaWx0ZXJzIGlmIHByb3ZpZGVkXG4gICAgICAgIGlmIChzdGFydERhdGUpIHtcbiAgICAgICAgICAgIGRhdGVGaWx0ZXIgKz0gJyBBTkQgYi5jb21wbGV0ZWRBdCA+PSBAc3RhcnREYXRlJztcbiAgICAgICAgICAgIHJlcXVlc3QuaW5wdXQoXCJzdGFydERhdGVcIiwgc3FsLkRhdGUsIHN0YXJ0RGF0ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZW5kRGF0ZSkge1xuICAgICAgICAgICAgZGF0ZUZpbHRlciArPSAnIEFORCBiLmNvbXBsZXRlZEF0IDw9IEBlbmREYXRlJztcbiAgICAgICAgICAgIHJlcXVlc3QuaW5wdXQoXCJlbmREYXRlXCIsIHNxbC5EYXRlLCBlbmREYXRlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEdldCBlYXJuaW5ncyBicmVha2Rvd24gZnJvbSBjb21wbGV0ZWQgYm9va2luZ3NcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVxdWVzdC5xdWVyeShgXG4gICAgICAgICAgICBTRUxFQ1QgXG4gICAgICAgICAgICAgICAgQ09VTlQoYi5Cb29raW5nX0lEKSBBUyBUb3RhbF9Cb29raW5ncyxcbiAgICAgICAgICAgICAgICBTVU0ocC5BbW91bnQpIEFTIFRvdGFsX1JldmVudWUsXG4gICAgICAgICAgICAgICAgU1VNKHAuUGxhdGZvcm1fRmVlKSBBUyBUb3RhbF9QbGF0Zm9ybV9GZWVzLFxuICAgICAgICAgICAgICAgIFNVTShwLkFtb3VudCAtIHAuUGxhdGZvcm1fRmVlKSBBUyBUb3RhbF9FYXJuaW5ncyxcbiAgICAgICAgICAgICAgICBBVkcocC5BbW91bnQpIEFTIEF2ZXJhZ2VfQm9va2luZ19WYWx1ZVxuICAgICAgICAgICAgRlJPTSBCb29raW5nIGJcbiAgICAgICAgICAgIEpPSU4gUGF5bWVudCBwIE9OIGIuQm9va2luZ19JRCA9IHAuQm9va2luZ19JRFxuICAgICAgICAgICAgV0hFUkUgYi5UZWNobmljaWFuX0lEID0gQHRlY2huaWNpYW5JRCBcbiAgICAgICAgICAgICAgICBBTkQgYi5bU3RhdHVzXSA9ICdjb21wbGV0ZWQnXG4gICAgICAgICAgICAgICAgQU5EIHAuW1N0YXR1c10gPSAnY29tcGxldGVkJ1xuICAgICAgICAgICAgICAgICR7ZGF0ZUZpbHRlcn1cbiAgICAgICAgYCk7XG5cbiAgICAgICAgLy8gR2V0IGVhcm5pbmdzIGJ5IG1vbnRoIGZvciB0aGUgc2VsZWN0ZWQgcGVyaW9kXG4gICAgICAgIGNvbnN0IG1vbnRobHlSZXN1bHQgPSBhd2FpdCByZXF1ZXN0LnF1ZXJ5KGBcbiAgICAgICAgICAgIFNFTEVDVCBcbiAgICAgICAgICAgICAgICBGT1JNQVQoYi5jb21wbGV0ZWRBdCwgJ3l5eXktTU0nKSBBUyBNb250aCxcbiAgICAgICAgICAgICAgICBDT1VOVChiLkJvb2tpbmdfSUQpIEFTIEJvb2tpbmdzX0NvdW50LFxuICAgICAgICAgICAgICAgIFNVTShwLkFtb3VudCAtIHAuUGxhdGZvcm1fRmVlKSBBUyBFYXJuaW5nc1xuICAgICAgICAgICAgRlJPTSBCb29raW5nIGJcbiAgICAgICAgICAgIEpPSU4gUGF5bWVudCBwIE9OIGIuQm9va2luZ19JRCA9IHAuQm9va2luZ19JRFxuICAgICAgICAgICAgV0hFUkUgYi5UZWNobmljaWFuX0lEID0gQHRlY2huaWNpYW5JRCBcbiAgICAgICAgICAgICAgICBBTkQgYi5bU3RhdHVzXSA9ICdjb21wbGV0ZWQnXG4gICAgICAgICAgICAgICAgQU5EIHAuW1N0YXR1c10gPSAnY29tcGxldGVkJ1xuICAgICAgICAgICAgICAgICR7ZGF0ZUZpbHRlcn1cbiAgICAgICAgICAgIEdST1VQIEJZIEZPUk1BVChiLmNvbXBsZXRlZEF0LCAneXl5eS1NTScpXG4gICAgICAgICAgICBPUkRFUiBCWSBNb250aCBERVNDXG4gICAgICAgIGApO1xuXG4gICAgICAgIGNvbnN0IHN1bW1hcnkgPSByZXN1bHQucmVjb3Jkc2V0WzBdO1xuXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiRWFybmluZ3MgcmV0cmlldmVkIHN1Y2Nlc3NmdWxseS5cIixcbiAgICAgICAgICAgIHN1bW1hcnk6IHtcbiAgICAgICAgICAgICAgICB0b3RhbEJvb2tpbmdzOiBzdW1tYXJ5LlRvdGFsX0Jvb2tpbmdzIHx8IDAsXG4gICAgICAgICAgICAgICAgdG90YWxSZXZlbnVlOiBwYXJzZUZsb2F0KHN1bW1hcnkuVG90YWxfUmV2ZW51ZSB8fCAwKS50b0ZpeGVkKDIpLFxuICAgICAgICAgICAgICAgIHRvdGFsUGxhdGZvcm1GZWVzOiBwYXJzZUZsb2F0KHN1bW1hcnkuVG90YWxfUGxhdGZvcm1fRmVlcyB8fCAwKS50b0ZpeGVkKDIpLFxuICAgICAgICAgICAgICAgIHRvdGFsRWFybmluZ3M6IHBhcnNlRmxvYXQoc3VtbWFyeS5Ub3RhbF9FYXJuaW5ncyB8fCAwKS50b0ZpeGVkKDIpLFxuICAgICAgICAgICAgICAgIGF2ZXJhZ2VCb29raW5nVmFsdWU6IHBhcnNlRmxvYXQoc3VtbWFyeS5BdmVyYWdlX0Jvb2tpbmdfVmFsdWUgfHwgMCkudG9GaXhlZCgyKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG1vbnRobHlCcmVha2Rvd246IG1vbnRobHlSZXN1bHQucmVjb3Jkc2V0Lm1hcChyZWNvcmQgPT4gKHtcbiAgICAgICAgICAgICAgICBtb250aDogcmVjb3JkLk1vbnRoLFxuICAgICAgICAgICAgICAgIGJvb2tpbmdzQ291bnQ6IHJlY29yZC5Cb29raW5nc19Db3VudCxcbiAgICAgICAgICAgICAgICBlYXJuaW5nczogcGFyc2VGbG9hdChyZWNvcmQuRWFybmluZ3MpLnRvRml4ZWQoMilcbiAgICAgICAgICAgIH0pKSxcbiAgICAgICAgICAgIGZpbHRlcnM6IHtcbiAgICAgICAgICAgICAgICBzdGFydERhdGU6IHN0YXJ0RGF0ZSB8fCBudWxsLFxuICAgICAgICAgICAgICAgIGVuZERhdGU6IGVuZERhdGUgfHwgbnVsbFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJVbmV4cGVjdGVkIGVycm9yIG9jY3VycmVkIHdoZW4gcmV0cmlldmluZyBlYXJuaW5nczogXCIsIGVycm9yKTtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiBcIkFuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQgd2hpbGUgcmV0cmlldmluZyBlYXJuaW5ncyBkYXRhLlwiIH0pO1xuICAgIH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHsgZ2V0VGVjaG5pY2lhbkVhcm5pbmdzIH07Il0sIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxJQUFNQSxZQUFZLEdBQUdDLE9BQU8sQ0FBQyx1QkFBdUIsQ0FBQztBQUNyRCxJQUFBQyxRQUFBLEdBQXlCRCxPQUFPLENBQUMsb0JBQW9CLENBQUM7RUFBOUNFLE9BQU8sR0FBQUQsUUFBQSxDQUFQQyxPQUFPO0VBQUVDLEdBQUcsR0FBQUYsUUFBQSxDQUFIRSxHQUFHOztBQUVwQjtBQUNBLElBQU1DLHFCQUFxQixHQUFHTCxZQUFZO0VBQUEsSUFBQU0sSUFBQSxPQUFBQyxrQkFBQSwwQkFBQUMsWUFBQSxZQUFBQyxJQUFBLENBQUMsU0FBQUMsUUFBT0MsR0FBRyxFQUFFQyxHQUFHO0lBQUEsSUFBQUMsWUFBQSxFQUFBQyxVQUFBLEVBQUFDLFNBQUEsRUFBQUMsT0FBQSxFQUFBQyxJQUFBLEVBQUFDLFVBQUEsRUFBQUMsT0FBQSxFQUFBQyxNQUFBLEVBQUFDLGFBQUEsRUFBQUMsT0FBQSxFQUFBQyxFQUFBO0lBQUEsT0FBQWYsWUFBQSxZQUFBZ0IsSUFBQSxXQUFBQyxRQUFBO01BQUEsa0JBQUFBLFFBQUEsQ0FBQUMsSUFBQSxHQUFBRCxRQUFBLENBQUFFLElBQUE7UUFBQTtVQUNoRGQsWUFBWSxHQUFHRixHQUFHLENBQUNFLFlBQVk7VUFBQUMsVUFBQSxHQUNOSCxHQUFHLENBQUNpQixLQUFLLEVBQWhDYixTQUFTLEdBQUFELFVBQUEsQ0FBVEMsU0FBUyxFQUFFQyxPQUFPLEdBQUFGLFVBQUEsQ0FBUEUsT0FBTztVQUFBUyxRQUFBLENBQUFDLElBQUE7VUFHaEJULElBQUksR0FBR2QsT0FBTyxDQUFDLENBQUM7VUFDbEJlLFVBQVUsR0FBRyxFQUFFO1VB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","map":{"version":3,"names":["asyncHandler","require","_require","getPool","sql","getTechnicianEarnings","_ref","_asyncToGenerator2","_regenerator","mark","_callee","req","res","technicianID","_req$query","startDate","endDate","pool","dateFilter","request","result","monthlyResult","summary","_t","wrap","_context","prev","next","query","input","Int","Date","concat","sent","recordset","status","json","message","totalBookings","Total_Bookings","totalRevenue","parseFloat","Total_Revenue","toFixed","totalPlatformFees","Total_Platform_Fees","totalEarnings","Total_Earnings","averageBookingValue","Average_Booking_Value","monthlyBreakdown","map","record","month","Month","bookingsCount","Bookings_Count","earnings","Earnings","filters","console","error","stop","_x","_x2","apply","arguments","module","exports"],"sourceRoot":"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/controllers/","sources":["EarningsController.js"],"sourcesContent":["/**\n * EarningsController\n * \n * Handles technician earnings calculations and reporting.\n * Earnings are calculated from completed bookings minus platform commission.\n */\n\nconst asyncHandler = require(\"express-async-handler\");\nconst { getPool, sql } = require(\"../config/database\");\n\n// Get technician earnings summary with optional date filters\nconst getTechnicianEarnings = asyncHandler(async (req, res) => {\n    const technicianID = req.technicianID;\n    const { startDate, endDate } = req.query;\n\n    try {\n        const pool = getPool();\n        let dateFilter = '';\n        const request = pool.request().input(\"technicianID\", sql.Int, technicianID);\n\n        // Add date filters if provided\n        if (startDate) {\n            dateFilter += ' AND b.completedAt >= @startDate';\n            request.input(\"startDate\", sql.Date, startDate);\n        }\n\n        if (endDate) {\n            dateFilter += ' AND b.completedAt <= @endDate';\n            request.input(\"endDate\", sql.Date, endDate);\n        }\n\n        // Get earnings breakdown from completed bookings\n        const result = await request.query(`\n            SELECT \n                COUNT(b.Booking_ID) AS Total_Bookings,\n                SUM(p.Amount) AS Total_Revenue,\n                SUM(p.Platform_Fee) AS Total_Platform_Fees,\n                SUM(p.Amount - p.Platform_Fee) AS Total_Earnings,\n                AVG(p.Amount) AS Average_Booking_Value\n            FROM Booking b\n            JOIN Payment p ON b.Booking_ID = p.Booking_ID\n            WHERE b.Technician_ID = @technicianID \n                AND b.[Status] = 'completed'\n                AND p.[Status] = 'completed'\n                ${dateFilter}\n        `);\n\n        // Get earnings by month for the selected period\n        const monthlyResult = await request.query(`\n            SELECT \n                FORMAT(b.completedAt, 'yyyy-MM') AS Month,\n                COUNT(b.Booking_ID) AS Bookings_Count,\n                SUM(p.Amount - p.Platform_Fee) AS Earnings\n            FROM Booking b\n            JOIN Payment p ON b.Booking_ID = p.Booking_ID\n            WHERE b.Technician_ID = @technicianID \n                AND b.[Status] = 'completed'\n                AND p.[Status] = 'completed'\n                ${dateFilter}\n            GROUP BY FORMAT(b.completedAt, 'yyyy-MM')\n            ORDER BY Month DESC\n        `);\n\n        const summary = result.recordset[0];\n\n        res.status(200).json({\n            message: \"Earnings retrieved successfully.\",\n            summary: {\n                totalBookings: summary.Total_Bookings || 0,\n                totalRevenue: parseFloat(summary.Total_Revenue || 0).toFixed(2),\n                totalPlatformFees: parseFloat(summary.Total_Platform_Fees || 0).toFixed(2),\n                totalEarnings: parseFloat(summary.Total_Earnings || 0).toFixed(2),\n                averageBookingValue: parseFloat(summary.Average_Booking_Value || 0).toFixed(2)\n            },\n            monthlyBreakdown: monthlyResult.recordset.map(record => ({\n                month: record.Month,\n                bookingsCount: record.Bookings_Count,\n                earnings: parseFloat(record.Earnings).toFixed(2)\n            })),\n            filters: {\n                startDate: startDate || null,\n                endDate: endDate || null\n            }\n        });\n\n    } catch (error) {\n        console.error(\"Unexpected error occurred when retrieving earnings: \", error);\n        res.status(500).json({ message: \"An unexpected error occurred while retrieving earnings data.\" });\n    }\n});\n\nmodule.exports = { getTechnicianEarnings };"],"mappings":"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","ignoreList":[]}},"mtime":1764702208057},"{\"assumptions\":{},\"sourceRoot\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end\",\"filename\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/controllers/FreelancerController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"_exploded\":true,\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"VoidPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$48\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$49\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n/**\n * This controller provides the following functionalities for a freelancer: registering, logging in, and logging out.\n * \n * For storing the password, bcrypt is used to hash and jwt (jsonwebtoken) is used to sign a token and store it as cookie.\n * \n * Freelancers create DIY content (videos/articles) for appliance repairs and are paid per content.\n * New freelancers start with isActive = 0 and Rate_Per_Content = 0, requiring admin approval.\n */\n\nvar asyncHandler = require(\"express-async-handler\");\nvar bcrypt = require(\"bcrypt\");\nvar jwt = require(\"jsonwebtoken\");\n\n// sql needed for the type definitions in .input\n// getPool is to do queries\nvar _require = require(\"../config/database\"),\n  getPool = _require.getPool,\n  sql = _require.sql;\n\n// Import validation utilities\nvar _require2 = require(\"../utils/validators\"),\n  isValidEmail = _require2.isValidEmail,\n  isValidPhone = _require2.isValidPhone,\n  isValidPassword = _require2.isValidPassword,\n  isValidName = _require2.isValidName,\n  sanitizeString = _require2.sanitizeString;\n\n// Handles the freelancer registering functionality\nvar registerFreelancer = asyncHandler(/*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee(req, res) {\n    var _req$body, firstName, lastName, email, phone, password, content_type_specialty, portfolio_url, passwordValidation, pool, hashedPassword, result, _t;\n    return _regenerator[\"default\"].wrap(function (_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          // Getting the needed data from the request body\n          _req$body = req.body, firstName = _req$body.firstName, lastName = _req$body.lastName, email = _req$body.email, phone = _req$body.phone, password = _req$body.password, content_type_specialty = _req$body.content_type_specialty, portfolio_url = _req$body.portfolio_url; // Checking if required fields are empty, if yes then we throw a 400\n          if (!(!firstName || !lastName || !email || !phone || !password || !content_type_specialty)) {\n            _context.next = 1;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"Required fields are missing.\"\n          }));\n        case 1:\n          if (isValidName(firstName)) {\n            _context.next = 2;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"First name must be 2-30 characters and contain only letters.\"\n          }));\n        case 2:\n          if (isValidName(lastName)) {\n            _context.next = 3;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"Last name must be 2-30 characters and contain only letters.\"\n          }));\n        case 3:\n          if (isValidEmail(email)) {\n            _context.next = 4;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"Please enter a valid email address.\"\n          }));\n        case 4:\n          if (isValidPhone(phone)) {\n            _context.next = 5;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"Please enter a valid phone number.\"\n          }));\n        case 5:\n          // Validate password strength\n          passwordValidation = isValidPassword(password);\n          if (passwordValidation.valid) {\n            _context.next = 6;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: passwordValidation.message\n          }));\n        case 6:\n          if (['video', 'article'].includes(content_type_specialty)) {\n            _context.next = 7;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"Content type specialty must be either 'video' or 'article'.\"\n          }));\n        case 7:\n          if (!(portfolio_url && portfolio_url.length > 255)) {\n            _context.next = 8;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"Portfolio URL cannot exceed 255 characters.\"\n          }));\n        case 8:\n          _context.prev = 8;\n          pool = getPool(); // Hashing the password before storing\n          _context.next = 9;\n          return bcrypt.hash(password, 11);\n        case 9:\n          hashedPassword = _context.sent;\n          _context.next = 10;\n          return pool.request().input(\"firstName\", sql.VarChar, sanitizeString(firstName)).input(\"lastName\", sql.VarChar, sanitizeString(lastName)).input(\"email\", sql.VarChar, sanitizeString(email).toLowerCase()).input(\"phone\", sql.VarChar, sanitizeString(phone)).input(\"hashedPassword\", sql.VarChar, hashedPassword).input(\"contentTypeSpecialty\", sql.VarChar, content_type_specialty).input(\"portfolioUrl\", sql.VarChar, portfolio_url ? sanitizeString(portfolio_url) : null).query(\"\\n            INSERT INTO Freelancer (First_Name, Last_Name, Email, Phone, Password_Hash, Content_Type_Specialty, Rate_Per_Content, Payment_Currency, Portfolio_URL, isActive)\\n            VALUES(@firstName, @lastName, @email, @phone, @hashedPassword, @contentTypeSpecialty, 0.00, 'USD', @portfolioUrl, 0)\\n            \");\n        case 10:\n          result = _context.sent;\n          // Sending success message\n          res.status(201).json({\n            message: \"Freelancer registered successfully! Please wait for admin approval.\"\n          });\n          _context.next = 13;\n          break;\n        case 11:\n          _context.prev = 11;\n          _t = _context[\"catch\"](8);\n          if (!(_t.number === 2627 || _t.number === 2601)) {\n            _context.next = 12;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(409).json({\n            message: \"Another account exists already either with this email address or phone number. If you have another account, please use that one instead.\"\n          }));\n        case 12:\n          // Throwing the console error and 500 status in case something goes wrong\n          console.error(\"Unexpected error registering a new freelancer's account: \", _t);\n          res.status(500).json({\n            message: \"An unexpected error occurred while registering the freelancer.\"\n          });\n        case 13:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[8, 11]]);\n  }));\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}());\n\n// Handling the logging in functionality for freelancers\nvar loginFreelancer = asyncHandler(/*#__PURE__*/function () {\n  var _ref2 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(req, res) {\n    var _req$body2, email, password, pool, result, freelancer, isPasswordValid, freelancerToken, _t2;\n    return _regenerator[\"default\"].wrap(function (_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          // Getting the email and password that the freelancer is trying to login with\n          _req$body2 = req.body, email = _req$body2.email, password = _req$body2.password; // Input validation, if either empty then send 400 error\n          if (!(!email || !password)) {\n            _context2.next = 1;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(400).json({\n            message: \"You have to enter both your email and your password\"\n          }));\n        case 1:\n          if (isValidEmail(email)) {\n            _context2.next = 2;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(400).json({\n            message: \"Please enter a valid email address.\"\n          }));\n        case 2:\n          _context2.prev = 2;\n          pool = getPool(); // Searching in the database for a freelancer with the same email passed to check if exists\n          _context2.next = 3;\n          return pool.request().input(\"email\", sql.VarChar, sanitizeString(email).toLowerCase()).query(\"\\n                SELECT Freelancer_ID, First_Name, Last_Name, Email, Password_Hash, isActive\\n                FROM Freelancer\\n                WHERE Email = @email\\n                \");\n        case 3:\n          result = _context2.sent;\n          if (!(result.recordset.length === 0)) {\n            _context2.next = 4;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(401).json({\n            message: \"Invalid email address or password.\"\n          }));\n        case 4:\n          // Now we are getting the first freelancer that we got having the same email address\n          freelancer = result.recordset[0]; // Check if the freelancer account is active (approved by admin)\n          if (freelancer.isActive) {\n            _context2.next = 5;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(403).json({\n            message: \"Your account is not activated yet. Please wait till you receive the approval/denial email to know if you can start working with us.\"\n          }));\n        case 5:\n          _context2.next = 6;\n          return bcrypt.compare(password, freelancer.Password_Hash);\n        case 6:\n          isPasswordValid = _context2.sent;\n          if (isPasswordValid) {\n            _context2.next = 7;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(401).json({\n            message: \"Invalid email address or password.\"\n          }));\n        case 7:\n          // If the password matches, then create a freelancer token using jwt by signing it with the FREELANCER_ACCESS_TOKEN\n          // stored in the .env file. The token expires in 1 day.\n          freelancerToken = jwt.sign({\n            id: freelancer.Freelancer_ID,\n            firstName: freelancer.First_Name,\n            lastName: freelancer.Last_Name,\n            email: freelancer.Email\n          }, process.env.FREELANCER_ACCESS_TOKEN, {\n            expiresIn: \"1d\"\n          }); // If a cookie exists already for the freelancer, clear it\n          if (req.cookies.freelancer_access_token) {\n            res.clearCookie('freelancer_access_token');\n          }\n\n          // Store the new cookie such that it lasts 1 day, and throw a 200 success message with some data about the freelancer\n          // (id, firstName, lastName, email)\n          res.cookie('freelancer_access_token', freelancerToken, {\n            httpOnly: true,\n            secure: process.env.NODE_ENV === \"production\",\n            sameSite: process.env.NODE_ENV === \"production\" ? 'strict' : 'lax',\n            maxAge: 24 * 60 * 60 * 1000\n          });\n          res.status(200).json({\n            message: \"Successfully logged in.\",\n            freelancer: {\n              id: freelancer.Freelancer_ID,\n              firstName: freelancer.First_Name,\n              lastName: freelancer.Last_Name,\n              email: freelancer.Email\n            }\n          });\n\n          // If anything goes wrong, throw an error\n          _context2.next = 9;\n          break;\n        case 8:\n          _context2.prev = 8;\n          _t2 = _context2[\"catch\"](2);\n          console.error(\"Login error:\", _t2);\n          res.status(500).json({\n            message: \"An error occurred during login.\"\n          });\n        case 9:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[2, 8]]);\n  }));\n  return function (_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}());\n\n// Logging out functionality by clearing the freelancer's cookie and sending a success message\nvar logoutFreelancer = asyncHandler(/*#__PURE__*/function () {\n  var _ref3 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee3(req, res) {\n    return _regenerator[\"default\"].wrap(function (_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          res.clearCookie('freelancer_access_token');\n          res.status(200).json({\n            message: \"Successfully logged out.\"\n          });\n        case 1:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3);\n  }));\n  return function (_x5, _x6) {\n    return _ref3.apply(this, arguments);\n  };\n}());\nmodule.exports = {\n  registerFreelancer: registerFreelancer,\n  loginFreelancer: loginFreelancer,\n  logoutFreelancer: logoutFreelancer\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhc3luY0hhbmRsZXIiLCJyZXF1aXJlIiwiYmNyeXB0Iiwiand0IiwiX3JlcXVpcmUiLCJnZXRQb29sIiwic3FsIiwiX3JlcXVpcmUyIiwiaXNWYWxpZEVtYWlsIiwiaXNWYWxpZFBob25lIiwiaXNWYWxpZFBhc3N3b3JkIiwiaXNWYWxpZE5hbWUiLCJzYW5pdGl6ZVN0cmluZyIsInJlZ2lzdGVyRnJlZWxhbmNlciIsIl9yZWYiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJfcmVnZW5lcmF0b3IiLCJtYXJrIiwiX2NhbGxlZSIsInJlcSIsInJlcyIsIl9yZXEkYm9keSIsImZpcnN0TmFtZSIsImxhc3ROYW1lIiwiZW1haWwiLCJwaG9uZSIsInBhc3N3b3JkIiwiY29udGVudF90eXBlX3NwZWNpYWx0eSIsInBvcnRmb2xpb191cmwiLCJwYXNzd29yZFZhbGlkYXRpb24iLCJwb29sIiwiaGFzaGVkUGFzc3dvcmQiLCJyZXN1bHQiLCJfdCIsIndyYXAiLCJfY29udGV4dCIsInByZXYiLCJuZXh0IiwiYm9keSIsImFicnVwdCIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwidmFsaWQiLCJpbmNsdWRlcyIsImxlbmd0aCIsImhhc2giLCJzZW50IiwicmVxdWVzdCIsImlucHV0IiwiVmFyQ2hhciIsInRvTG93ZXJDYXNlIiwicXVlcnkiLCJudW1iZXIiLCJjb25zb2xlIiwiZXJyb3IiLCJzdG9wIiwiX3giLCJfeDIiLCJhcHBseSIsImFyZ3VtZW50cyIsImxvZ2luRnJlZWxhbmNlciIsIl9yZWYyIiwiX2NhbGxlZTIiLCJfcmVxJGJvZHkyIiwiZnJlZWxhbmNlciIsImlzUGFzc3dvcmRWYWxpZCIsImZyZWVsYW5jZXJUb2tlbiIsIl90MiIsIl9jb250ZXh0MiIsInJlY29yZHNldCIsImlzQWN0aXZlIiwiY29tcGFyZSIsIlBhc3N3b3JkX0hhc2giLCJzaWduIiwiaWQiLCJGcmVlbGFuY2VyX0lEIiwiRmlyc3RfTmFtZSIsIkxhc3RfTmFtZSIsIkVtYWlsIiwicHJvY2VzcyIsImVudiIsIkZSRUVMQU5DRVJfQUNDRVNTX1RPS0VOIiwiZXhwaXJlc0luIiwiY29va2llcyIsImZyZWVsYW5jZXJfYWNjZXNzX3Rva2VuIiwiY2xlYXJDb29raWUiLCJjb29raWUiLCJodHRwT25seSIsInNlY3VyZSIsIk5PREVfRU5WIiwic2FtZVNpdGUiLCJtYXhBZ2UiLCJfeDMiLCJfeDQiLCJsb2dvdXRGcmVlbGFuY2VyIiwiX3JlZjMiLCJfY2FsbGVlMyIsIl9jb250ZXh0MyIsIl94NSIsIl94NiIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9ob21lL3NlcmovRG9jdW1lbnRzL0dpdEh1Yi9GaXhBcHBsaWFuY2UtYm9va2luZ0NvbW1lcmNlL2JhY2stZW5kL3NyYy9jb250cm9sbGVycy8iLCJzb3VyY2VzIjpbIkZyZWVsYW5jZXJDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGhpcyBjb250cm9sbGVyIHByb3ZpZGVzIHRoZSBmb2xsb3dpbmcgZnVuY3Rpb25hbGl0aWVzIGZvciBhIGZyZWVsYW5jZXI6IHJlZ2lzdGVyaW5nLCBsb2dnaW5nIGluLCBhbmQgbG9nZ2luZyBvdXQuXG4gKiBcbiAqIEZvciBzdG9yaW5nIHRoZSBwYXNzd29yZCwgYmNyeXB0IGlzIHVzZWQgdG8gaGFzaCBhbmQgand0IChqc29ud2VidG9rZW4pIGlzIHVzZWQgdG8gc2lnbiBhIHRva2VuIGFuZCBzdG9yZSBpdCBhcyBjb29raWUuXG4gKiBcbiAqIEZyZWVsYW5jZXJzIGNyZWF0ZSBESVkgY29udGVudCAodmlkZW9zL2FydGljbGVzKSBmb3IgYXBwbGlhbmNlIHJlcGFpcnMgYW5kIGFyZSBwYWlkIHBlciBjb250ZW50LlxuICogTmV3IGZyZWVsYW5jZXJzIHN0YXJ0IHdpdGggaXNBY3RpdmUgPSAwIGFuZCBSYXRlX1Blcl9Db250ZW50ID0gMCwgcmVxdWlyaW5nIGFkbWluIGFwcHJvdmFsLlxuICovXG5cbmNvbnN0IGFzeW5jSGFuZGxlciA9IHJlcXVpcmUoXCJleHByZXNzLWFzeW5jLWhhbmRsZXJcIik7XG5jb25zdCBiY3J5cHQgPSByZXF1aXJlKFwiYmNyeXB0XCIpO1xuY29uc3Qgand0ID0gcmVxdWlyZShcImpzb253ZWJ0b2tlblwiKTtcblxuLy8gc3FsIG5lZWRlZCBmb3IgdGhlIHR5cGUgZGVmaW5pdGlvbnMgaW4gLmlucHV0XG4vLyBnZXRQb29sIGlzIHRvIGRvIHF1ZXJpZXNcbmNvbnN0IHsgZ2V0UG9vbCwgc3FsIH0gPSByZXF1aXJlKFwiLi4vY29uZmlnL2RhdGFiYXNlXCIpO1xuXG4vLyBJbXBvcnQgdmFsaWRhdGlvbiB1dGlsaXRpZXNcbmNvbnN0IHsgaXNWYWxpZEVtYWlsLCBpc1ZhbGlkUGhvbmUsIGlzVmFsaWRQYXNzd29yZCwgaXNWYWxpZE5hbWUsIHNhbml0aXplU3RyaW5nIH0gPSByZXF1aXJlKFwiLi4vdXRpbHMvdmFsaWRhdG9yc1wiKTtcblxuXG4vLyBIYW5kbGVzIHRoZSBmcmVlbGFuY2VyIHJlZ2lzdGVyaW5nIGZ1bmN0aW9uYWxpdHlcbmNvbnN0IHJlZ2lzdGVyRnJlZWxhbmNlciA9IGFzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICAvLyBHZXR0aW5nIHRoZSBuZWVkZWQgZGF0YSBmcm9tIHRoZSByZXF1ZXN0IGJvZHlcbiAgICBjb25zdCB7IGZpcnN0TmFtZSwgbGFzdE5hbWUsIGVtYWlsLCBwaG9uZSwgcGFzc3dvcmQsIGNvbnRlbnRfdHlwZV9zcGVjaWFsdHksIHBvcnRmb2xpb191cmx9ID0gcmVxLmJvZHk7XG5cbiAgICAvLyBDaGVja2luZyBpZiByZXF1aXJlZCBmaWVsZHMgYXJlIGVtcHR5LCBpZiB5ZXMgdGhlbiB3ZSB0aHJvdyBhIDQwMFxuICAgIGlmICghZmlyc3ROYW1lIHx8ICFsYXN0TmFtZSB8fCAhZW1haWwgfHwgIXBob25lIHx8ICFwYXNzd29yZCB8fCAhY29udGVudF90eXBlX3NwZWNpYWx0eSkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiUmVxdWlyZWQgZmllbGRzIGFyZSBtaXNzaW5nLlwifSk7XG4gICAgfVxuXG4gICAgLy8gVmFsaWRhdGUgZmlyc3QgbmFtZSBmb3JtYXRcbiAgICBpZiAoIWlzVmFsaWROYW1lKGZpcnN0TmFtZSkpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttZXNzYWdlOiBcIkZpcnN0IG5hbWUgbXVzdCBiZSAyLTMwIGNoYXJhY3RlcnMgYW5kIGNvbnRhaW4gb25seSBsZXR0ZXJzLlwifSk7XG4gICAgfVxuXG4gICAgLy8gVmFsaWRhdGUgbGFzdCBuYW1lIGZvcm1hdFxuICAgIGlmICghaXNWYWxpZE5hbWUobGFzdE5hbWUpKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJMYXN0IG5hbWUgbXVzdCBiZSAyLTMwIGNoYXJhY3RlcnMgYW5kIGNvbnRhaW4gb25seSBsZXR0ZXJzLlwifSk7XG4gICAgfVxuXG4gICAgLy8gVmFsaWRhdGUgZW1haWwgZm9ybWF0XG4gICAgaWYgKCFpc1ZhbGlkRW1haWwoZW1haWwpKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJQbGVhc2UgZW50ZXIgYSB2YWxpZCBlbWFpbCBhZGRyZXNzLlwifSk7XG4gICAgfVxuXG4gICAgLy8gVmFsaWRhdGUgcGhvbmUgZm9ybWF0XG4gICAgaWYgKCFpc1ZhbGlkUGhvbmUocGhvbmUpKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJQbGVhc2UgZW50ZXIgYSB2YWxpZCBwaG9uZSBudW1iZXIuXCJ9KTtcbiAgICB9XG5cbiAgICAvLyBWYWxpZGF0ZSBwYXNzd29yZCBzdHJlbmd0aFxuICAgIGNvbnN0IHBhc3N3b3JkVmFsaWRhdGlvbiA9IGlzVmFsaWRQYXNzd29yZChwYXNzd29yZCk7XG4gICAgaWYgKCFwYXNzd29yZFZhbGlkYXRpb24udmFsaWQpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttZXNzYWdlOiBwYXNzd29yZFZhbGlkYXRpb24ubWVzc2FnZX0pO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRlIGNvbnRlbnQgdHlwZSBzcGVjaWFsdHkgLSBtdXN0IGJlIGVpdGhlciAndmlkZW8nIG9yICdhcnRpY2xlJ1xuICAgIGlmICghWyd2aWRlbycsICdhcnRpY2xlJ10uaW5jbHVkZXMoY29udGVudF90eXBlX3NwZWNpYWx0eSkpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttZXNzYWdlOiBcIkNvbnRlbnQgdHlwZSBzcGVjaWFsdHkgbXVzdCBiZSBlaXRoZXIgJ3ZpZGVvJyBvciAnYXJ0aWNsZScuXCJ9KTtcbiAgICB9XG5cbiAgICAvLyBWYWxpZGF0ZSBwb3J0Zm9saW8gVVJMIGxlbmd0aCBpZiBwcm92aWRlZFxuICAgIGlmIChwb3J0Zm9saW9fdXJsICYmIHBvcnRmb2xpb191cmwubGVuZ3RoID4gMjU1KSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJQb3J0Zm9saW8gVVJMIGNhbm5vdCBleGNlZWQgMjU1IGNoYXJhY3RlcnMuXCJ9KTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgICBjb25zdCBwb29sID0gZ2V0UG9vbCgpO1xuXG4gICAgICAgIC8vIEhhc2hpbmcgdGhlIHBhc3N3b3JkIGJlZm9yZSBzdG9yaW5nXG4gICAgICAgIGNvbnN0IGhhc2hlZFBhc3N3b3JkID0gYXdhaXQgYmNyeXB0Lmhhc2gocGFzc3dvcmQsIDExKTtcblxuICAgICAgICAvLyBCeSBkZWZhdWx0IG5vIHJhdGUgYW5kIGZyZWVsYW5jZXIgdW52ZXJpZmllZCB1bnRpbCBhZG1pbiBhcHByb3ZlcyBhbmQgc2V0cyBhIHJhdGUuXG4gICAgICAgIC8vIEluc2VydGluZyB0aGUgZnJlZWxhbmNlciBpbnRvIHRoZSBkYXRhYmFzZSBGcmVlbGFuY2VyIHRhYmxlXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBvb2wucmVxdWVzdCgpXG4gICAgICAgICAgICAuaW5wdXQoXCJmaXJzdE5hbWVcIiwgc3FsLlZhckNoYXIsIHNhbml0aXplU3RyaW5nKGZpcnN0TmFtZSkpXG4gICAgICAgICAgICAuaW5wdXQoXCJsYXN0TmFtZVwiLCBzcWwuVmFyQ2hhciwgc2FuaXRpemVTdHJpbmcobGFzdE5hbWUpKVxuICAgICAgICAgICAgLmlucHV0KFwiZW1haWxcIiwgc3FsLlZhckNoYXIsIHNhbml0aXplU3RyaW5nKGVtYWlsKS50b0xvd2VyQ2FzZSgpKVxuICAgICAgICAgICAgLmlucHV0KFwicGhvbmVcIiwgc3FsLlZhckNoYXIsIHNhbml0aXplU3RyaW5nKHBob25lKSlcbiAgICAgICAgICAgIC5pbnB1dChcImhhc2hlZFBhc3N3b3JkXCIsIHNxbC5WYXJDaGFyLCBoYXNoZWRQYXNzd29yZClcbiAgICAgICAgICAgIC5pbnB1dChcImNvbnRlbnRUeXBlU3BlY2lhbHR5XCIsIHNxbC5WYXJDaGFyLCBjb250ZW50X3R5cGVfc3BlY2lhbHR5KVxuICAgICAgICAgICAgLmlucHV0KFwicG9ydGZvbGlvVXJsXCIsIHNxbC5WYXJDaGFyLCBwb3J0Zm9saW9fdXJsID8gc2FuaXRpemVTdHJpbmcocG9ydGZvbGlvX3VybCkgOiBudWxsKVxuICAgICAgICAgICAgLnF1ZXJ5KGBcbiAgICAgICAgICAgIElOU0VSVCBJTlRPIEZyZWVsYW5jZXIgKEZpcnN0X05hbWUsIExhc3RfTmFtZSwgRW1haWwsIFBob25lLCBQYXNzd29yZF9IYXNoLCBDb250ZW50X1R5cGVfU3BlY2lhbHR5LCBSYXRlX1Blcl9Db250ZW50LCBQYXltZW50X0N1cnJlbmN5LCBQb3J0Zm9saW9fVVJMLCBpc0FjdGl2ZSlcbiAgICAgICAgICAgIFZBTFVFUyhAZmlyc3ROYW1lLCBAbGFzdE5hbWUsIEBlbWFpbCwgQHBob25lLCBAaGFzaGVkUGFzc3dvcmQsIEBjb250ZW50VHlwZVNwZWNpYWx0eSwgMC4wMCwgJ1VTRCcsIEBwb3J0Zm9saW9VcmwsIDApXG4gICAgICAgICAgICBgKTtcblxuICAgICAgICAvLyBTZW5kaW5nIHN1Y2Nlc3MgbWVzc2FnZVxuICAgICAgICByZXMuc3RhdHVzKDIwMSkuanNvbih7bWVzc2FnZTogXCJGcmVlbGFuY2VyIHJlZ2lzdGVyZWQgc3VjY2Vzc2Z1bGx5ISBQbGVhc2Ugd2FpdCBmb3IgYWRtaW4gYXBwcm92YWwuXCJ9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAvLyBIYW5kbGluZyB0aGUgdW5pcXVlIGNvbnN0cmFpbnRzIGZvciBlbWFpbCBhbmQgcGhvbmUgbnVtYmVyc1xuICAgICAgICAvLyAyNjI3IGlzIGZvciB2aW9sYXRpb24gb2YgdGhlIHVuaXF1ZSBrZXkgY29uc3RyYWludCwgYW5kIDI2MDEgaXMgZm9yIHVuaXF1ZSBpbmRleCB2aW9sYXRpb25cbiAgICAgICAgaWYgKGVycm9yLm51bWJlciA9PT0gMjYyNyB8fCBlcnJvci5udW1iZXIgPT09IDI2MDEpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwOSkuanNvbih7bWVzc2FnZTogXCJBbm90aGVyIGFjY291bnQgZXhpc3RzIGFscmVhZHkgZWl0aGVyIHdpdGggdGhpcyBlbWFpbCBhZGRyZXNzIG9yIHBob25lIG51bWJlci4gSWYgeW91IGhhdmUgYW5vdGhlciBhY2NvdW50LCBwbGVhc2UgdXNlIHRoYXQgb25lIGluc3RlYWQuXCJ9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRocm93aW5nIHRoZSBjb25zb2xlIGVycm9yIGFuZCA1MDAgc3RhdHVzIGluIGNhc2Ugc29tZXRoaW5nIGdvZXMgd3JvbmdcbiAgICAgICAgY29uc29sZS5lcnJvcihcIlVuZXhwZWN0ZWQgZXJyb3IgcmVnaXN0ZXJpbmcgYSBuZXcgZnJlZWxhbmNlcidzIGFjY291bnQ6IFwiLCBlcnJvcik7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHttZXNzYWdlOiBcIkFuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQgd2hpbGUgcmVnaXN0ZXJpbmcgdGhlIGZyZWVsYW5jZXIuXCJ9KTtcbiAgICB9XG59KTtcblxuLy8gSGFuZGxpbmcgdGhlIGxvZ2dpbmcgaW4gZnVuY3Rpb25hbGl0eSBmb3IgZnJlZWxhbmNlcnNcbmNvbnN0IGxvZ2luRnJlZWxhbmNlciA9IGFzeW5jSGFuZGxlcihhc3luYyAocmVxLHJlcykgPT4ge1xuICAgIC8vIEdldHRpbmcgdGhlIGVtYWlsIGFuZCBwYXNzd29yZCB0aGF0IHRoZSBmcmVlbGFuY2VyIGlzIHRyeWluZyB0byBsb2dpbiB3aXRoXG4gICAgY29uc3Qge2VtYWlsLCBwYXNzd29yZH0gPSByZXEuYm9keTtcblxuICAgIC8vIElucHV0IHZhbGlkYXRpb24sIGlmIGVpdGhlciBlbXB0eSB0aGVuIHNlbmQgNDAwIGVycm9yXG4gICAgaWYgKCFlbWFpbCB8fCAhcGFzc3dvcmQpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttZXNzYWdlOiBcIllvdSBoYXZlIHRvIGVudGVyIGJvdGggeW91ciBlbWFpbCBhbmQgeW91ciBwYXNzd29yZFwifSk7XG4gICAgfVxuXG4gICAgLy8gVmFsaWRhdGUgZW1haWwgZm9ybWF0XG4gICAgaWYgKCFpc1ZhbGlkRW1haWwoZW1haWwpKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJQbGVhc2UgZW50ZXIgYSB2YWxpZCBlbWFpbCBhZGRyZXNzLlwifSk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcG9vbCA9IGdldFBvb2woKTtcblxuICAgICAgICAvLyBTZWFyY2hpbmcgaW4gdGhlIGRhdGFiYXNlIGZvciBhIGZyZWVsYW5jZXIgd2l0aCB0aGUgc2FtZSBlbWFpbCBwYXNzZWQgdG8gY2hlY2sgaWYgZXhpc3RzXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBvb2wucmVxdWVzdCgpXG4gICAgICAgICAgICAuaW5wdXQoXCJlbWFpbFwiLCBzcWwuVmFyQ2hhciwgc2FuaXRpemVTdHJpbmcoZW1haWwpLnRvTG93ZXJDYXNlKCkpXG4gICAgICAgICAgICAucXVlcnkoYFxuICAgICAgICAgICAgICAgIFNFTEVDVCBGcmVlbGFuY2VyX0lELCBGaXJzdF9OYW1lLCBMYXN0X05hbWUsIEVtYWlsLCBQYXNzd29yZF9IYXNoLCBpc0FjdGl2ZVxuICAgICAgICAgICAgICAgIEZST00gRnJlZWxhbmNlclxuICAgICAgICAgICAgICAgIFdIRVJFIEVtYWlsID0gQGVtYWlsXG4gICAgICAgICAgICAgICAgYCk7XG5cbiAgICAgICAgLy8gSWYgbm8gcmVzdWx0cyByZXR1cm5lZCBmcm9tIHRoZSBxdWVyeSwgdGhlbiB0aGUgZW1haWwgZW50ZXJlZCBpcyBpbnZhbGlkXG4gICAgICAgIGlmIChyZXN1bHQucmVjb3Jkc2V0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHttZXNzYWdlOiBcIkludmFsaWQgZW1haWwgYWRkcmVzcyBvciBwYXNzd29yZC5cIn0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTm93IHdlIGFyZSBnZXR0aW5nIHRoZSBmaXJzdCBmcmVlbGFuY2VyIHRoYXQgd2UgZ290IGhhdmluZyB0aGUgc2FtZSBlbWFpbCBhZGRyZXNzXG4gICAgICAgIGNvbnN0IGZyZWVsYW5jZXIgPSByZXN1bHQucmVjb3Jkc2V0WzBdO1xuXG4gICAgICAgIC8vIENoZWNrIGlmIHRoZSBmcmVlbGFuY2VyIGFjY291bnQgaXMgYWN0aXZlIChhcHByb3ZlZCBieSBhZG1pbilcbiAgICAgICAgaWYgKCFmcmVlbGFuY2VyLmlzQWN0aXZlKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDMpLmpzb24oe21lc3NhZ2U6IFwiWW91ciBhY2NvdW50IGlzIG5vdCBhY3RpdmF0ZWQgeWV0LiBQbGVhc2Ugd2FpdCB0aWxsIHlvdSByZWNlaXZlIHRoZSBhcHByb3ZhbC9kZW5pYWwgZW1haWwgdG8ga25vdyBpZiB5b3UgY2FuIHN0YXJ0IHdvcmtpbmcgd2l0aCB1cy5cIn0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVXNpbmcgYmNyeXB0IHRvIGNoZWNrIGlmIHRoZSBwYXNzd29yZCBwYXNzZWQgaXMgdGhlIHNhbWUgYXMgdGhlIGhhc2hlZCBvbmUgc3RvcmVkIGluIHRoZSBkYXRhYmFzZVxuICAgICAgICAvLyBJZiBubywgdGhyb3cgYSA0MDEgZXJyb3JcbiAgICAgICAgY29uc3QgaXNQYXNzd29yZFZhbGlkID0gYXdhaXQgYmNyeXB0LmNvbXBhcmUocGFzc3dvcmQsIGZyZWVsYW5jZXIuUGFzc3dvcmRfSGFzaCk7XG4gICAgICAgIGlmICghaXNQYXNzd29yZFZhbGlkKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oe21lc3NhZ2U6IFwiSW52YWxpZCBlbWFpbCBhZGRyZXNzIG9yIHBhc3N3b3JkLlwifSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiB0aGUgcGFzc3dvcmQgbWF0Y2hlcywgdGhlbiBjcmVhdGUgYSBmcmVlbGFuY2VyIHRva2VuIHVzaW5nIGp3dCBieSBzaWduaW5nIGl0IHdpdGggdGhlIEZSRUVMQU5DRVJfQUNDRVNTX1RPS0VOXG4gICAgICAgIC8vIHN0b3JlZCBpbiB0aGUgLmVudiBmaWxlLiBUaGUgdG9rZW4gZXhwaXJlcyBpbiAxIGRheS5cbiAgICAgICAgY29uc3QgZnJlZWxhbmNlclRva2VuID0gand0LnNpZ24oe1xuICAgICAgICAgICAgaWQ6IGZyZWVsYW5jZXIuRnJlZWxhbmNlcl9JRCxcbiAgICAgICAgICAgIGZpcnN0TmFtZTogZnJlZWxhbmNlci5GaXJzdF9OYW1lLFxuICAgICAgICAgICAgbGFzdE5hbWU6IGZyZWVsYW5jZXIuTGFzdF9OYW1lLFxuICAgICAgICAgICAgZW1haWw6IGZyZWVsYW5jZXIuRW1haWxcbiAgICAgICAgfSxcbiAgICAgICAgICAgIHByb2Nlc3MuZW52LkZSRUVMQU5DRVJfQUNDRVNTX1RPS0VOLFxuICAgICAgICAgICAge2V4cGlyZXNJbjogXCIxZFwifVxuICAgICAgICApO1xuXG4gICAgICAgIC8vIElmIGEgY29va2llIGV4aXN0cyBhbHJlYWR5IGZvciB0aGUgZnJlZWxhbmNlciwgY2xlYXIgaXRcbiAgICAgICAgaWYgKHJlcS5jb29raWVzLmZyZWVsYW5jZXJfYWNjZXNzX3Rva2VuKSB7XG4gICAgICAgICAgICByZXMuY2xlYXJDb29raWUoJ2ZyZWVsYW5jZXJfYWNjZXNzX3Rva2VuJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTdG9yZSB0aGUgbmV3IGNvb2tpZSBzdWNoIHRoYXQgaXQgbGFzdHMgMSBkYXksIGFuZCB0aHJvdyBhIDIwMCBzdWNjZXNzIG1lc3NhZ2Ugd2l0aCBzb21lIGRhdGEgYWJvdXQgdGhlIGZyZWVsYW5jZXJcbiAgICAgICAgLy8gKGlkLCBmaXJzdE5hbWUsIGxhc3ROYW1lLCBlbWFpbClcbiAgICAgICAgcmVzLmNvb2tpZSgnZnJlZWxhbmNlcl9hY2Nlc3NfdG9rZW4nLCBmcmVlbGFuY2VyVG9rZW4sIFxuICAgICAgICAgICAge2h0dHBPbmx5OiB0cnVlLCBcbiAgICAgICAgICAgIHNlY3VyZTogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiLFxuICAgICAgICAgICAgc2FtZVNpdGU6IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIiA/ICdzdHJpY3QnIDogJ2xheCcsXG4gICAgICAgICAgICBtYXhBZ2U6IDI0ICogNjAgKiA2MCAqIDEwMDB9KTtcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgbWVzc2FnZTogXCJTdWNjZXNzZnVsbHkgbG9nZ2VkIGluLlwiLFxuICAgICAgICAgICAgZnJlZWxhbmNlcjoge1xuICAgICAgICAgICAgICAgIGlkOiBmcmVlbGFuY2VyLkZyZWVsYW5jZXJfSUQsXG4gICAgICAgICAgICAgICAgZmlyc3ROYW1lOiBmcmVlbGFuY2VyLkZpcnN0X05hbWUsXG4gICAgICAgICAgICAgICAgbGFzdE5hbWU6IGZyZWVsYW5jZXIuTGFzdF9OYW1lLFxuICAgICAgICAgICAgICAgIGVtYWlsOiBmcmVlbGFuY2VyLkVtYWlsXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG5cbiAgICAgICAgLy8gSWYgYW55dGhpbmcgZ29lcyB3cm9uZywgdGhyb3cgYW4gZXJyb3JcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiTG9naW4gZXJyb3I6XCIsIGVycm9yKTtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe21lc3NhZ2U6IFwiQW4gZXJyb3Igb2NjdXJyZWQgZHVyaW5nIGxvZ2luLlwifSk7XG4gICAgfVxufSk7XG5cbi8vIExvZ2dpbmcgb3V0IGZ1bmN0aW9uYWxpdHkgYnkgY2xlYXJpbmcgdGhlIGZyZWVsYW5jZXIncyBjb29raWUgYW5kIHNlbmRpbmcgYSBzdWNjZXNzIG1lc3NhZ2VcbmNvbnN0IGxvZ291dEZyZWVsYW5jZXIgPSBhc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgcmVzLmNsZWFyQ29va2llKCdmcmVlbGFuY2VyX2FjY2Vzc190b2tlbicpO1xuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHttZXNzYWdlOiBcIlN1Y2Nlc3NmdWxseSBsb2dnZWQgb3V0LlwifSk7XG59KVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtyZWdpc3RlckZyZWVsYW5jZXIsIGxvZ2luRnJlZWxhbmNlciwgbG9nb3V0RnJlZWxhbmNlcn07Il0sIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsSUFBTUEsWUFBWSxHQUFHQyxPQUFPLENBQUMsdUJBQXVCLENBQUM7QUFDckQsSUFBTUMsTUFBTSxHQUFHRCxPQUFPLENBQUMsUUFBUSxDQUFDO0FBQ2hDLElBQU1FLEdBQUcsR0FBR0YsT0FBTyxDQUFDLGNBQWMsQ0FBQzs7QUFFbkM7QUFDQTtBQUNBLElBQUFHLFFBQUEsR0FBeUJILE9B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","map":{"version":3,"names":["asyncHandler","require","bcrypt","jwt","_require","getPool","sql","_require2","isValidEmail","isValidPhone","isValidPassword","isValidName","sanitizeString","registerFreelancer","_ref","_asyncToGenerator2","_regenerator","mark","_callee","req","res","_req$body","firstName","lastName","email","phone","password","content_type_specialty","portfolio_url","passwordValidation","pool","hashedPassword","result","_t","wrap","_context","prev","next","body","abrupt","status","json","message","valid","includes","length","hash","sent","request","input","VarChar","toLowerCase","query","number","console","error","stop","_x","_x2","apply","arguments","loginFreelancer","_ref2","_callee2","_req$body2","freelancer","isPasswordValid","freelancerToken","_t2","_context2","recordset","isActive","compare","Password_Hash","sign","id","Freelancer_ID","First_Name","Last_Name","Email","process","env","FREELANCER_ACCESS_TOKEN","expiresIn","cookies","freelancer_access_token","clearCookie","cookie","httpOnly","secure","NODE_ENV","sameSite","maxAge","_x3","_x4","logoutFreelancer","_ref3","_callee3","_context3","_x5","_x6","module","exports"],"sourceRoot":"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/controllers/","sources":["FreelancerController.js"],"sourcesContent":["/**\n * This controller provides the following functionalities for a freelancer: registering, logging in, and logging out.\n * \n * For storing the password, bcrypt is used to hash and jwt (jsonwebtoken) is used to sign a token and store it as cookie.\n * \n * Freelancers create DIY content (videos/articles) for appliance repairs and are paid per content.\n * New freelancers start with isActive = 0 and Rate_Per_Content = 0, requiring admin approval.\n */\n\nconst asyncHandler = require(\"express-async-handler\");\nconst bcrypt = require(\"bcrypt\");\nconst jwt = require(\"jsonwebtoken\");\n\n// sql needed for the type definitions in .input\n// getPool is to do queries\nconst { getPool, sql } = require(\"../config/database\");\n\n// Import validation utilities\nconst { isValidEmail, isValidPhone, isValidPassword, isValidName, sanitizeString } = require(\"../utils/validators\");\n\n\n// Handles the freelancer registering functionality\nconst registerFreelancer = asyncHandler(async (req, res) => {\n    // Getting the needed data from the request body\n    const { firstName, lastName, email, phone, password, content_type_specialty, portfolio_url} = req.body;\n\n    // Checking if required fields are empty, if yes then we throw a 400\n    if (!firstName || !lastName || !email || !phone || !password || !content_type_specialty) {\n        return res.status(400).json({message: \"Required fields are missing.\"});\n    }\n\n    // Validate first name format\n    if (!isValidName(firstName)) {\n        return res.status(400).json({message: \"First name must be 2-30 characters and contain only letters.\"});\n    }\n\n    // Validate last name format\n    if (!isValidName(lastName)) {\n        return res.status(400).json({message: \"Last name must be 2-30 characters and contain only letters.\"});\n    }\n\n    // Validate email format\n    if (!isValidEmail(email)) {\n        return res.status(400).json({message: \"Please enter a valid email address.\"});\n    }\n\n    // Validate phone format\n    if (!isValidPhone(phone)) {\n        return res.status(400).json({message: \"Please enter a valid phone number.\"});\n    }\n\n    // Validate password strength\n    const passwordValidation = isValidPassword(password);\n    if (!passwordValidation.valid) {\n        return res.status(400).json({message: passwordValidation.message});\n    }\n\n    // Validate content type specialty - must be either 'video' or 'article'\n    if (!['video', 'article'].includes(content_type_specialty)) {\n        return res.status(400).json({message: \"Content type specialty must be either 'video' or 'article'.\"});\n    }\n\n    // Validate portfolio URL length if provided\n    if (portfolio_url && portfolio_url.length > 255) {\n        return res.status(400).json({message: \"Portfolio URL cannot exceed 255 characters.\"});\n    }\n\n    try {\n        const pool = getPool();\n\n        // Hashing the password before storing\n        const hashedPassword = await bcrypt.hash(password, 11);\n\n        // By default no rate and freelancer unverified until admin approves and sets a rate.\n        // Inserting the freelancer into the database Freelancer table\n        const result = await pool.request()\n            .input(\"firstName\", sql.VarChar, sanitizeString(firstName))\n            .input(\"lastName\", sql.VarChar, sanitizeString(lastName))\n            .input(\"email\", sql.VarChar, sanitizeString(email).toLowerCase())\n            .input(\"phone\", sql.VarChar, sanitizeString(phone))\n            .input(\"hashedPassword\", sql.VarChar, hashedPassword)\n            .input(\"contentTypeSpecialty\", sql.VarChar, content_type_specialty)\n            .input(\"portfolioUrl\", sql.VarChar, portfolio_url ? sanitizeString(portfolio_url) : null)\n            .query(`\n            INSERT INTO Freelancer (First_Name, Last_Name, Email, Phone, Password_Hash, Content_Type_Specialty, Rate_Per_Content, Payment_Currency, Portfolio_URL, isActive)\n            VALUES(@firstName, @lastName, @email, @phone, @hashedPassword, @contentTypeSpecialty, 0.00, 'USD', @portfolioUrl, 0)\n            `);\n\n        // Sending success message\n        res.status(201).json({message: \"Freelancer registered successfully! Please wait for admin approval.\"});\n    } catch (error) {\n        // Handling the unique constraints for email and phone numbers\n        // 2627 is for violation of the unique key constraint, and 2601 is for unique index violation\n        if (error.number === 2627 || error.number === 2601) {\n            return res.status(409).json({message: \"Another account exists already either with this email address or phone number. If you have another account, please use that one instead.\"});\n        }\n\n        // Throwing the console error and 500 status in case something goes wrong\n        console.error(\"Unexpected error registering a new freelancer's account: \", error);\n        res.status(500).json({message: \"An unexpected error occurred while registering the freelancer.\"});\n    }\n});\n\n// Handling the logging in functionality for freelancers\nconst loginFreelancer = asyncHandler(async (req,res) => {\n    // Getting the email and password that the freelancer is trying to login with\n    const {email, password} = req.body;\n\n    // Input validation, if either empty then send 400 error\n    if (!email || !password) {\n        return res.status(400).json({message: \"You have to enter both your email and your password\"});\n    }\n\n    // Validate email format\n    if (!isValidEmail(email)) {\n        return res.status(400).json({message: \"Please enter a valid email address.\"});\n    }\n\n    try {\n        const pool = getPool();\n\n        // Searching in the database for a freelancer with the same email passed to check if exists\n        const result = await pool.request()\n            .input(\"email\", sql.VarChar, sanitizeString(email).toLowerCase())\n            .query(`\n                SELECT Freelancer_ID, First_Name, Last_Name, Email, Password_Hash, isActive\n                FROM Freelancer\n                WHERE Email = @email\n                `);\n\n        // If no results returned from the query, then the email entered is invalid\n        if (result.recordset.length === 0) {\n            return res.status(401).json({message: \"Invalid email address or password.\"});\n        }\n\n        // Now we are getting the first freelancer that we got having the same email address\n        const freelancer = result.recordset[0];\n\n        // Check if the freelancer account is active (approved by admin)\n        if (!freelancer.isActive) {\n            return res.status(403).json({message: \"Your account is not activated yet. Please wait till you receive the approval/denial email to know if you can start working with us.\"});\n        }\n\n        // Using bcrypt to check if the password passed is the same as the hashed one stored in the database\n        // If no, throw a 401 error\n        const isPasswordValid = await bcrypt.compare(password, freelancer.Password_Hash);\n        if (!isPasswordValid) {\n            return res.status(401).json({message: \"Invalid email address or password.\"});\n        }\n\n        // If the password matches, then create a freelancer token using jwt by signing it with the FREELANCER_ACCESS_TOKEN\n        // stored in the .env file. The token expires in 1 day.\n        const freelancerToken = jwt.sign({\n            id: freelancer.Freelancer_ID,\n            firstName: freelancer.First_Name,\n            lastName: freelancer.Last_Name,\n            email: freelancer.Email\n        },\n            process.env.FREELANCER_ACCESS_TOKEN,\n            {expiresIn: \"1d\"}\n        );\n\n        // If a cookie exists already for the freelancer, clear it\n        if (req.cookies.freelancer_access_token) {\n            res.clearCookie('freelancer_access_token');\n        }\n\n        // Store the new cookie such that it lasts 1 day, and throw a 200 success message with some data about the freelancer\n        // (id, firstName, lastName, email)\n        res.cookie('freelancer_access_token', freelancerToken, \n            {httpOnly: true, \n            secure: process.env.NODE_ENV === \"production\",\n            sameSite: process.env.NODE_ENV === \"production\" ? 'strict' : 'lax',\n            maxAge: 24 * 60 * 60 * 1000});\n        res.status(200).json({\n            message: \"Successfully logged in.\",\n            freelancer: {\n                id: freelancer.Freelancer_ID,\n                firstName: freelancer.First_Name,\n                lastName: freelancer.Last_Name,\n                email: freelancer.Email\n            }\n        })\n\n        // If anything goes wrong, throw an error\n    } catch (error) {\n        console.error(\"Login error:\", error);\n        res.status(500).json({message: \"An error occurred during login.\"});\n    }\n});\n\n// Logging out functionality by clearing the freelancer's cookie and sending a success message\nconst logoutFreelancer = asyncHandler(async (req, res) => {\n    res.clearCookie('freelancer_access_token');\n    res.status(200).json({message: \"Successfully logged out.\"});\n})\n\nmodule.exports = {registerFreelancer, loginFreelancer, logoutFreelancer};"],"mappings":"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","ignoreList":[]}},"mtime":1764708215026},"{\"assumptions\":{},\"sourceRoot\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end\",\"filename\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/routes/applianceRoutes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"_exploded\":true,\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"VoidPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$48\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$49\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"\"use strict\";\n\nvar express = require(\"express\");\nvar _require = require(\"../controllers/ApplianceController.js\"),\n  getActiveCategories = _require.getActiveCategories,\n  getActiveTypes = _require.getActiveTypes;\nvar router = express.Router();\n\n// /api/appliances/categories\nrouter.get('/categories', getActiveCategories);\n\n// /api/appliances/types?categoryId=1\nrouter.get('/types', getActiveTypes);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsIl9yZXF1aXJlIiwiZ2V0QWN0aXZlQ2F0ZWdvcmllcyIsImdldEFjdGl2ZVR5cGVzIiwicm91dGVyIiwiUm91dGVyIiwiZ2V0IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL2hvbWUvc2Vyai9Eb2N1bWVudHMvR2l0SHViL0ZpeEFwcGxpYW5jZS1ib29raW5nQ29tbWVyY2UvYmFjay1lbmQvc3JjL3JvdXRlcy8iLCJzb3VyY2VzIjpbImFwcGxpYW5jZVJvdXRlcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcblxuY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoXCJleHByZXNzXCIpO1xuY29uc3Qge2dldEFjdGl2ZUNhdGVnb3JpZXMsIGdldEFjdGl2ZVR5cGVzfSA9IHJlcXVpcmUoXCIuLi9jb250cm9sbGVycy9BcHBsaWFuY2VDb250cm9sbGVyLmpzXCIpO1xuXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG4vLyAvYXBpL2FwcGxpYW5jZXMvY2F0ZWdvcmllc1xucm91dGVyLmdldCgnL2NhdGVnb3JpZXMnLCBnZXRBY3RpdmVDYXRlZ29yaWVzKTtcblxuLy8gL2FwaS9hcHBsaWFuY2VzL3R5cGVzP2NhdGVnb3J5SWQ9MVxucm91dGVyLmdldCgnL3R5cGVzJywgZ2V0QWN0aXZlVHlwZXMpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7O0FBRUEsSUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBUyxDQUFDO0FBQ2xDLElBQUFDLFFBQUEsR0FBOENELE9BQU8sQ0FBQyx1Q0FBdUMsQ0FBQztFQUF2RkUsbUJBQW1CLEdBQUFELFFBQUEsQ0FBbkJDLG1CQUFtQjtFQUFFQyxjQUFjLEdBQUFGLFFBQUEsQ0FBZEUsY0FBYztBQUUxQyxJQUFNQyxNQUFNLEdBQUdMLE9BQU8sQ0FBQ00sTUFBTSxDQUFDLENBQUM7O0FBRS9CO0FBQ0FELE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLGFBQWEsRUFBRUosbUJBQW1CLENBQUM7O0FBRTlDO0FBQ0FFLE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLFFBQVEsRUFBRUgsY0FBYyxDQUFDO0FBRXBDSSxNQUFNLENBQUNDLE9BQU8sR0FBR0osTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["express","require","_require","getActiveCategories","getActiveTypes","router","Router","get","module","exports"],"sourceRoot":"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/routes/","sources":["applianceRoutes.js"],"sourcesContent":["\n\nconst express = require(\"express\");\nconst {getActiveCategories, getActiveTypes} = require(\"../controllers/ApplianceController.js\");\n\nconst router = express.Router();\n\n// /api/appliances/categories\nrouter.get('/categories', getActiveCategories);\n\n// /api/appliances/types?categoryId=1\nrouter.get('/types', getActiveTypes);\n\nmodule.exports = router;"],"mappings":";;AAEA,IAAMA,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAClC,IAAAC,QAAA,GAA8CD,OAAO,CAAC,uCAAuC,CAAC;EAAvFE,mBAAmB,GAAAD,QAAA,CAAnBC,mBAAmB;EAAEC,cAAc,GAAAF,QAAA,CAAdE,cAAc;AAE1C,IAAMC,MAAM,GAAGL,OAAO,CAACM,MAAM,CAAC,CAAC;;AAE/B;AACAD,MAAM,CAACE,GAAG,CAAC,aAAa,EAAEJ,mBAAmB,CAAC;;AAE9C;AACAE,MAAM,CAACE,GAAG,CAAC,QAAQ,EAAEH,cAAc,CAAC;AAEpCI,MAAM,CAACC,OAAO,GAAGJ,MAAM","ignoreList":[]}},"mtime":1764611309311},"{\"assumptions\":{},\"sourceRoot\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end\",\"filename\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/controllers/ApplianceController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"_exploded\":true,\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"VoidPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$48\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$49\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n// This controller is responsible for retrieving appliance categories and types\n\nvar asyncHandler = require(\"express-async-handler\");\n\n// sql needed for the type definitions in .input\n// getPool is to do queries\nvar _require = require(\"../config/database\"),\n  getPool = _require.getPool,\n  sql = _require.sql;\n\n// Returns the active appliance categories\nvar getActiveCategories = asyncHandler(/*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee(req, res) {\n    var pool, result, _t;\n    return _regenerator[\"default\"].wrap(function (_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          pool = getPool();\n          _context.next = 1;\n          return pool.request().query(\"\\n                SELECT Category_ID, NameEN, NameAR, isActive, logoFileName\\n                FROM Appliance_Category\\n                WHERE isActive = 1;\\n                \");\n        case 1:\n          result = _context.sent;\n          res.status(200).json({\n            count: result.recordset.length,\n            data: result.recordset\n          });\n          _context.next = 3;\n          break;\n        case 2:\n          _context.prev = 2;\n          _t = _context[\"catch\"](0);\n          // Throwing the console error and 500 status in case something goes wrong\n          console.error(\"Unexpected error occurred when trying to get appliance categories: \", _t);\n          res.status(500).json({\n            message: \"An unexpected error occurred while trying to retrieve appliance categories.\"\n          });\n        case 3:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[0, 2]]);\n  }));\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}());\n\n// Returns the active appliance types, either all or by a specific category Id\nvar getActiveTypes = asyncHandler(/*#__PURE__*/function () {\n  var _ref2 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(req, res) {\n    var categoryId, pool, result, _t2;\n    return _regenerator[\"default\"].wrap(function (_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          //Passing at the end\n          categoryId = req.query.categoryId;\n          _context2.prev = 1;\n          pool = getPool();\n          if (!categoryId) {\n            _context2.next = 3;\n            break;\n          }\n          _context2.next = 2;\n          return pool.request().input(\"categoryId\", sql.Int, categoryId).query(\"SELECT Appliance_Type_ID, type.Category_ID, type.nameEN, type.nameAR, Average_Repair_Time_Min, Base_Price, DescriptionEN, DescriptionAR, type.isActive, logoFileName\\n                        FROM Appliance_Type AS type\\n                        JOIN Appliance_Category AS cat\\n                        ON type.Category_ID = cat.Category_ID\\n                        WHERE type.isActive = 1 AND type.Category_ID = @categoryId\");\n        case 2:\n          result = _context2.sent;\n          _context2.next = 5;\n          break;\n        case 3:\n          _context2.next = 4;\n          return pool.request().query(\"SELECT Appliance_Type_ID, type.Category_ID, type.nameEN, type.nameAR, Average_Repair_Time_Min, Base_Price, DescriptionEN, DescriptionAR, type.isActive, logoFileName\\n                        FROM Appliance_Type AS type\\n                        JOIN Appliance_Category AS cat\\n                        ON type.Category_ID = cat.Category_ID\\n                        WHERE type.isActive = 1\");\n        case 4:\n          result = _context2.sent;\n        case 5:\n          res.status(200).json({\n            count: result.recordset.length,\n            data: result.recordset\n          });\n          _context2.next = 7;\n          break;\n        case 6:\n          _context2.prev = 6;\n          _t2 = _context2[\"catch\"](1);\n          // Throwing the console error and 500 status in case something goes wrong\n          console.error(\"Unexpected error occurred when trying to get appliance types: \", _t2);\n          res.status(500).json({\n            message: \"An unexpected error occurred while trying to retrieve appliance types.\"\n          });\n        case 7:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[1, 6]]);\n  }));\n  return function (_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}());\nmodule.exports = {\n  getActiveCategories: getActiveCategories,\n  getActiveTypes: getActiveTypes\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhc3luY0hhbmRsZXIiLCJyZXF1aXJlIiwiX3JlcXVpcmUiLCJnZXRQb29sIiwic3FsIiwiZ2V0QWN0aXZlQ2F0ZWdvcmllcyIsIl9yZWYiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJfcmVnZW5lcmF0b3IiLCJtYXJrIiwiX2NhbGxlZSIsInJlcSIsInJlcyIsInBvb2wiLCJyZXN1bHQiLCJfdCIsIndyYXAiLCJfY29udGV4dCIsInByZXYiLCJuZXh0IiwicmVxdWVzdCIsInF1ZXJ5Iiwic2VudCIsInN0YXR1cyIsImpzb24iLCJjb3VudCIsInJlY29yZHNldCIsImxlbmd0aCIsImRhdGEiLCJjb25zb2xlIiwiZXJyb3IiLCJtZXNzYWdlIiwic3RvcCIsIl94IiwiX3gyIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJnZXRBY3RpdmVUeXBlcyIsIl9yZWYyIiwiX2NhbGxlZTIiLCJjYXRlZ29yeUlkIiwiX3QyIiwiX2NvbnRleHQyIiwiaW5wdXQiLCJJbnQiLCJfeDMiLCJfeDQiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9zZXJqL0RvY3VtZW50cy9HaXRIdWIvRml4QXBwbGlhbmNlLWJvb2tpbmdDb21tZXJjZS9iYWNrLWVuZC9zcmMvY29udHJvbGxlcnMvIiwic291cmNlcyI6WyJBcHBsaWFuY2VDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoaXMgY29udHJvbGxlciBpcyByZXNwb25zaWJsZSBmb3IgcmV0cmlldmluZyBhcHBsaWFuY2UgY2F0ZWdvcmllcyBhbmQgdHlwZXNcblxuY29uc3QgYXN5bmNIYW5kbGVyID0gcmVxdWlyZShcImV4cHJlc3MtYXN5bmMtaGFuZGxlclwiKTtcblxuLy8gc3FsIG5lZWRlZCBmb3IgdGhlIHR5cGUgZGVmaW5pdGlvbnMgaW4gLmlucHV0XG4vLyBnZXRQb29sIGlzIHRvIGRvIHF1ZXJpZXNcbmNvbnN0IHsgZ2V0UG9vbCwgc3FsIH0gPSByZXF1aXJlKFwiLi4vY29uZmlnL2RhdGFiYXNlXCIpO1xuXG5cbi8vIFJldHVybnMgdGhlIGFjdGl2ZSBhcHBsaWFuY2UgY2F0ZWdvcmllc1xuY29uc3QgZ2V0QWN0aXZlQ2F0ZWdvcmllcyA9IGFzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBwb29sID0gZ2V0UG9vbCgpO1xuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBvb2wucmVxdWVzdCgpXG4gICAgICAgICAgICAucXVlcnkoYFxuICAgICAgICAgICAgICAgIFNFTEVDVCBDYXRlZ29yeV9JRCwgTmFtZUVOLCBOYW1lQVIsIGlzQWN0aXZlLCBsb2dvRmlsZU5hbWVcbiAgICAgICAgICAgICAgICBGUk9NIEFwcGxpYW5jZV9DYXRlZ29yeVxuICAgICAgICAgICAgICAgIFdIRVJFIGlzQWN0aXZlID0gMTtcbiAgICAgICAgICAgICAgICBgKVxuXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgIGNvdW50OiByZXN1bHQucmVjb3Jkc2V0Lmxlbmd0aCxcbiAgICAgICAgICAgIGRhdGE6IHJlc3VsdC5yZWNvcmRzZXQsXG4gICAgICAgIH0pXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgLy8gVGhyb3dpbmcgdGhlIGNvbnNvbGUgZXJyb3IgYW5kIDUwMCBzdGF0dXMgaW4gY2FzZSBzb21ldGhpbmcgZ29lcyB3cm9uZ1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiVW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZCB3aGVuIHRyeWluZyB0byBnZXQgYXBwbGlhbmNlIGNhdGVnb3JpZXM6IFwiLCBlcnJvcik7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogXCJBbiB1bmV4cGVjdGVkIGVycm9yIG9jY3VycmVkIHdoaWxlIHRyeWluZyB0byByZXRyaWV2ZSBhcHBsaWFuY2UgY2F0ZWdvcmllcy5cIiB9KTtcbiAgICB9XG59KVxuXG5cbi8vIFJldHVybnMgdGhlIGFjdGl2ZSBhcHBsaWFuY2UgdHlwZXMsIGVpdGhlciBhbGwgb3IgYnkgYSBzcGVjaWZpYyBjYXRlZ29yeSBJZFxuY29uc3QgZ2V0QWN0aXZlVHlwZXMgPSBhc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgLy9QYXNzaW5nIGF0IHRoZSBlbmRcbiAgICBjb25zdCB7IGNhdGVnb3J5SWQgfSA9IHJlcS5xdWVyeTtcblxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHBvb2wgPSBnZXRQb29sKCk7XG4gICAgICAgIGxldCByZXN1bHQ7XG5cbiAgICAgICAgaWYgKGNhdGVnb3J5SWQpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGF3YWl0IHBvb2wucmVxdWVzdCgpXG4gICAgICAgICAgICAgICAgLmlucHV0KFwiY2F0ZWdvcnlJZFwiLCBzcWwuSW50LCBjYXRlZ29yeUlkKVxuICAgICAgICAgICAgICAgIC5xdWVyeShgU0VMRUNUIEFwcGxpYW5jZV9UeXBlX0lELCB0eXBlLkNhdGVnb3J5X0lELCB0eXBlLm5hbWVFTiwgdHlwZS5uYW1lQVIsIEF2ZXJhZ2VfUmVwYWlyX1RpbWVfTWluLCBCYXNlX1ByaWNlLCBEZXNjcmlwdGlvbkVOLCBEZXNjcmlwdGlvbkFSLCB0eXBlLmlzQWN0aXZlLCBsb2dvRmlsZU5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgIEZST00gQXBwbGlhbmNlX1R5cGUgQVMgdHlwZVxuICAgICAgICAgICAgICAgICAgICAgICAgSk9JTiBBcHBsaWFuY2VfQ2F0ZWdvcnkgQVMgY2F0XG4gICAgICAgICAgICAgICAgICAgICAgICBPTiB0eXBlLkNhdGVnb3J5X0lEID0gY2F0LkNhdGVnb3J5X0lEXG4gICAgICAgICAgICAgICAgICAgICAgICBXSEVSRSB0eXBlLmlzQWN0aXZlID0gMSBBTkQgdHlwZS5DYXRlZ29yeV9JRCA9IEBjYXRlZ29yeUlkYCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQgPSBhd2FpdCBwb29sLnJlcXVlc3QoKVxuICAgICAgICAgICAgICAgIC5xdWVyeShgU0VMRUNUIEFwcGxpYW5jZV9UeXBlX0lELCB0eXBlLkNhdGVnb3J5X0lELCB0eXBlLm5hbWVFTiwgdHlwZS5uYW1lQVIsIEF2ZXJhZ2VfUmVwYWlyX1RpbWVfTWluLCBCYXNlX1ByaWNlLCBEZXNjcmlwdGlvbkVOLCBEZXNjcmlwdGlvbkFSLCB0eXBlLmlzQWN0aXZlLCBsb2dvRmlsZU5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgIEZST00gQXBwbGlhbmNlX1R5cGUgQVMgdHlwZVxuICAgICAgICAgICAgICAgICAgICAgICAgSk9JTiBBcHBsaWFuY2VfQ2F0ZWdvcnkgQVMgY2F0XG4gICAgICAgICAgICAgICAgICAgICAgICBPTiB0eXBlLkNhdGVnb3J5X0lEID0gY2F0LkNhdGVnb3J5X0lEXG4gICAgICAgICAgICAgICAgICAgICAgICBXSEVSRSB0eXBlLmlzQWN0aXZlID0gMWApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgY291bnQ6IHJlc3VsdC5yZWNvcmRzZXQubGVuZ3RoLFxuICAgICAgICAgICAgZGF0YTogcmVzdWx0LnJlY29yZHNldCxcbiAgICAgICAgfSlcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAvLyBUaHJvd2luZyB0aGUgY29uc29sZSBlcnJvciBhbmQgNTAwIHN0YXR1cyBpbiBjYXNlIHNvbWV0aGluZyBnb2VzIHdyb25nXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJVbmV4cGVjdGVkIGVycm9yIG9jY3VycmVkIHdoZW4gdHJ5aW5nIHRvIGdldCBhcHBsaWFuY2UgdHlwZXM6IFwiLCBlcnJvcik7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogXCJBbiB1bmV4cGVjdGVkIGVycm9yIG9jY3VycmVkIHdoaWxlIHRyeWluZyB0byByZXRyaWV2ZSBhcHBsaWFuY2UgdHlwZXMuXCIgfSk7XG4gICAgfVxufSlcblxuXG5tb2R1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","map":{"version":3,"names":["asyncHandler","require","_require","getPool","sql","getActiveCategories","_ref","_asyncToGenerator2","_regenerator","mark","_callee","req","res","pool","result","_t","wrap","_context","prev","next","request","query","sent","status","json","count","recordset","length","data","console","error","message","stop","_x","_x2","apply","arguments","getActiveTypes","_ref2","_callee2","categoryId","_t2","_context2","input","Int","_x3","_x4","module","exports"],"sourceRoot":"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/controllers/","sources":["ApplianceController.js"],"sourcesContent":["// This controller is responsible for retrieving appliance categories and types\n\nconst asyncHandler = require(\"express-async-handler\");\n\n// sql needed for the type definitions in .input\n// getPool is to do queries\nconst { getPool, sql } = require(\"../config/database\");\n\n\n// Returns the active appliance categories\nconst getActiveCategories = asyncHandler(async (req, res) => {\n    try {\n        const pool = getPool();\n\n        const result = await pool.request()\n            .query(`\n                SELECT Category_ID, NameEN, NameAR, isActive, logoFileName\n                FROM Appliance_Category\n                WHERE isActive = 1;\n                `)\n\n        res.status(200).json({\n            count: result.recordset.length,\n            data: result.recordset,\n        })\n    } catch (error) {\n        // Throwing the console error and 500 status in case something goes wrong\n        console.error(\"Unexpected error occurred when trying to get appliance categories: \", error);\n        res.status(500).json({ message: \"An unexpected error occurred while trying to retrieve appliance categories.\" });\n    }\n})\n\n\n// Returns the active appliance types, either all or by a specific category Id\nconst getActiveTypes = asyncHandler(async (req, res) => {\n    //Passing at the end\n    const { categoryId } = req.query;\n\n    try {\n        const pool = getPool();\n        let result;\n\n        if (categoryId) {\n            result = await pool.request()\n                .input(\"categoryId\", sql.Int, categoryId)\n                .query(`SELECT Appliance_Type_ID, type.Category_ID, type.nameEN, type.nameAR, Average_Repair_Time_Min, Base_Price, DescriptionEN, DescriptionAR, type.isActive, logoFileName\n                        FROM Appliance_Type AS type\n                        JOIN Appliance_Category AS cat\n                        ON type.Category_ID = cat.Category_ID\n                        WHERE type.isActive = 1 AND type.Category_ID = @categoryId`);\n        } else {\n            result = await pool.request()\n                .query(`SELECT Appliance_Type_ID, type.Category_ID, type.nameEN, type.nameAR, Average_Repair_Time_Min, Base_Price, DescriptionEN, DescriptionAR, type.isActive, logoFileName\n                        FROM Appliance_Type AS type\n                        JOIN Appliance_Category AS cat\n                        ON type.Category_ID = cat.Category_ID\n                        WHERE type.isActive = 1`);\n        }\n\n        res.status(200).json({\n            count: result.recordset.length,\n            data: result.recordset,\n        })\n    } catch (error) {\n        // Throwing the console error and 500 status in case something goes wrong\n        console.error(\"Unexpected error occurred when trying to get appliance types: \", error);\n        res.status(500).json({ message: \"An unexpected error occurred while trying to retrieve appliance types.\" });\n    }\n})\n\n\nmodule.exports = {getActiveCategories, getActiveTypes};"],"mappings":"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","ignoreList":[]}},"mtime":1765268183639},"{\"assumptions\":{},\"sourceRoot\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end\",\"filename\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/routes/serviceAreaRoutes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"_exploded\":true,\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"VoidPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$48\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$49\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"\"use strict\";\n\nvar express = require(\"express\");\nvar _require = require(\"../controllers/ServiceAreaController\"),\n  getActiveAreas = _require.getActiveAreas;\nvar router = express.Router();\nrouter.get(\"/\", getActiveAreas);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsIl9yZXF1aXJlIiwiZ2V0QWN0aXZlQXJlYXMiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJnZXQiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9zZXJqL0RvY3VtZW50cy9HaXRIdWIvRml4QXBwbGlhbmNlLWJvb2tpbmdDb21tZXJjZS9iYWNrLWVuZC9zcmMvcm91dGVzLyIsInNvdXJjZXMiOlsic2VydmljZUFyZWFSb3V0ZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoXCJleHByZXNzXCIpO1xuY29uc3QgeyBnZXRBY3RpdmVBcmVhcyB9ID0gcmVxdWlyZShcIi4uL2NvbnRyb2xsZXJzL1NlcnZpY2VBcmVhQ29udHJvbGxlclwiKTtcblxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcblxucm91dGVyLmdldChcIi9cIiwgZ2V0QWN0aXZlQXJlYXMpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBUyxDQUFDO0FBQ2xDLElBQUFDLFFBQUEsR0FBMkJELE9BQU8sQ0FBQyxzQ0FBc0MsQ0FBQztFQUFsRUUsY0FBYyxHQUFBRCxRQUFBLENBQWRDLGNBQWM7QUFFdEIsSUFBTUMsTUFBTSxHQUFHSixPQUFPLENBQUNLLE1BQU0sQ0FBQyxDQUFDO0FBRS9CRCxNQUFNLENBQUNFLEdBQUcsQ0FBQyxHQUFHLEVBQUVILGNBQWMsQ0FBQztBQUUvQkksTUFBTSxDQUFDQyxPQUFPLEdBQUdKLE1BQU0iLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["express","require","_require","getActiveAreas","router","Router","get","module","exports"],"sourceRoot":"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/routes/","sources":["serviceAreaRoutes.js"],"sourcesContent":["const express = require(\"express\");\nconst { getActiveAreas } = require(\"../controllers/ServiceAreaController\");\n\nconst router = express.Router();\n\nrouter.get(\"/\", getActiveAreas);\n\nmodule.exports = router;"],"mappings":";;AAAA,IAAMA,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAClC,IAAAC,QAAA,GAA2BD,OAAO,CAAC,sCAAsC,CAAC;EAAlEE,cAAc,GAAAD,QAAA,CAAdC,cAAc;AAEtB,IAAMC,MAAM,GAAGJ,OAAO,CAACK,MAAM,CAAC,CAAC;AAE/BD,MAAM,CAACE,GAAG,CAAC,GAAG,EAAEH,cAAc,CAAC;AAE/BI,MAAM,CAACC,OAAO,GAAGJ,MAAM","ignoreList":[]}},"mtime":1764612063607},"{\"assumptions\":{},\"sourceRoot\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end\",\"filename\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/controllers/ServiceAreaController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"_exploded\":true,\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"VoidPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$48\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$49\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar asyncHandler = require(\"express-async-handler\");\n\n// getPool is to do queries\nvar _require = require(\"../config/database\"),\n  getPool = _require.getPool,\n  sql = _require.sql;\n\n// Returns the active appliance categories\nvar getActiveAreas = asyncHandler(/*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee(req, res) {\n    var pool, result, _t;\n    return _regenerator[\"default\"].wrap(function (_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          pool = getPool();\n          _context.next = 1;\n          return pool.request().query(\"\\n                SELECT Area_ID, NameEN, NameAR, Region, isActive\\n                FROM Service_Area\\n                WHERE isActive = 1\\n                \");\n        case 1:\n          result = _context.sent;\n          res.status(200).json({\n            count: result.recordset.length,\n            data: result.recordset\n          });\n          _context.next = 3;\n          break;\n        case 2:\n          _context.prev = 2;\n          _t = _context[\"catch\"](0);\n          // Throwing the console error and 500 status in case something goes wrong\n          console.error(\"Unexpected error occurred when trying to get active service areas: \", _t);\n          res.status(500).json({\n            message: \"An unexpected error occurred while trying to retrieve active service areas.\"\n          });\n        case 3:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[0, 2]]);\n  }));\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}());\nmodule.exports = {\n  getActiveAreas: getActiveAreas\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhc3luY0hhbmRsZXIiLCJyZXF1aXJlIiwiX3JlcXVpcmUiLCJnZXRQb29sIiwic3FsIiwiZ2V0QWN0aXZlQXJlYXMiLCJfcmVmIiwiX2FzeW5jVG9HZW5lcmF0b3IyIiwiX3JlZ2VuZXJhdG9yIiwibWFyayIsIl9jYWxsZWUiLCJyZXEiLCJyZXMiLCJwb29sIiwicmVzdWx0IiwiX3QiLCJ3cmFwIiwiX2NvbnRleHQiLCJwcmV2IiwibmV4dCIsInJlcXVlc3QiLCJxdWVyeSIsInNlbnQiLCJzdGF0dXMiLCJqc29uIiwiY291bnQiLCJyZWNvcmRzZXQiLCJsZW5ndGgiLCJkYXRhIiwiY29uc29sZSIsImVycm9yIiwibWVzc2FnZSIsInN0b3AiLCJfeCIsIl94MiIsImFwcGx5IiwiYXJndW1lbnRzIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL2hvbWUvc2Vyai9Eb2N1bWVudHMvR2l0SHViL0ZpeEFwcGxpYW5jZS1ib29raW5nQ29tbWVyY2UvYmFjay1lbmQvc3JjL2NvbnRyb2xsZXJzLyIsInNvdXJjZXMiOlsiU2VydmljZUFyZWFDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGFzeW5jSGFuZGxlciA9IHJlcXVpcmUoXCJleHByZXNzLWFzeW5jLWhhbmRsZXJcIik7XG5cbi8vIGdldFBvb2wgaXMgdG8gZG8gcXVlcmllc1xuY29uc3QgeyBnZXRQb29sLCBzcWwgfSA9IHJlcXVpcmUoXCIuLi9jb25maWcvZGF0YWJhc2VcIik7XG5cblxuLy8gUmV0dXJucyB0aGUgYWN0aXZlIGFwcGxpYW5jZSBjYXRlZ29yaWVzXG5jb25zdCBnZXRBY3RpdmVBcmVhcyA9IGFzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBwb29sID0gZ2V0UG9vbCgpO1xuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBvb2wucmVxdWVzdCgpXG4gICAgICAgICAgICAucXVlcnkoYFxuICAgICAgICAgICAgICAgIFNFTEVDVCBBcmVhX0lELCBOYW1lRU4sIE5hbWVBUiwgUmVnaW9uLCBpc0FjdGl2ZVxuICAgICAgICAgICAgICAgIEZST00gU2VydmljZV9BcmVhXG4gICAgICAgICAgICAgICAgV0hFUkUgaXNBY3RpdmUgPSAxXG4gICAgICAgICAgICAgICAgYCk7XG5cbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgY291bnQ6IHJlc3VsdC5yZWNvcmRzZXQubGVuZ3RoLFxuICAgICAgICAgICAgZGF0YTogcmVzdWx0LnJlY29yZHNldCxcbiAgICAgICAgfSlcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAvLyBUaHJvd2luZyB0aGUgY29uc29sZSBlcnJvciBhbmQgNTAwIHN0YXR1cyBpbiBjYXNlIHNvbWV0aGluZyBnb2VzIHdyb25nXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJVbmV4cGVjdGVkIGVycm9yIG9jY3VycmVkIHdoZW4gdHJ5aW5nIHRvIGdldCBhY3RpdmUgc2VydmljZSBhcmVhczogXCIsIGVycm9yKTtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiBcIkFuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQgd2hpbGUgdHJ5aW5nIHRvIHJldHJpZXZlIGFjdGl2ZSBzZXJ2aWNlIGFyZWFzLlwiIH0pO1xuICAgIH1cbn0pXG5cblxuXG5cblxubW9kdWxlLmV4cG9ydHMgPSB7Z2V0QWN0aXZlQXJlYXN9OyJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxJQUFNQSxZQUFZLEdBQUdDLE9BQU8sQ0FBQyx1QkFBdUIsQ0FBQzs7QUFFckQ7QUFDQSxJQUFBQyxRQUFBLEdBQXlCRCxPQUFPLENBQUMsb0JBQW9CLENBQUM7RUFBOUNFLE9BQU8sR0FBQUQsUUFBQSxDQUFQQyxPQUFPO0VBQUVDLEdBQUcsR0FBQUYsUUFBQSxDQUFIRSxHQUFHOztBQUdwQjtBQUNBLElBQU1DLGNBQWMsR0FBR0wsWUFBWTtFQUFBLElBQUFNLElBQUEsT0FBQUMsa0JBQUEsMEJBQUFDLFlBQUEsWUFBQUMsSUFBQSxDQUFDLFNBQUFDLFFBQU9DLEdBQUcsRUFBRUMsR0FBRztJQUFBLElBQUFDLElBQUEsRUFBQUMsTUFBQSxFQUFBQyxFQUFBO0lBQUEsT0FBQVAsWUFBQSxZQUFBUSxJQUFBLFdBQUFDLFFBQUE7TUFBQSxrQkFBQUEsUUFBQSxDQUFBQyxJQUFBLEdBQUFELFFBQUEsQ0FBQUUsSUFBQTtRQUFBO1VBQUFGLFFBQUEsQ0FBQUMsSUFBQTtVQUVyQ0wsSUFBSSxHQUFHVixPQUFPLENBQUMsQ0FBQztVQUFBYyxRQUFBLENBQUFFLElBQUE7VUFBQSxPQUVETixJQUFJLENBQUNPLE9BQU8sQ0FBQyxDQUFDLENBQzlCQyxLQUFLLDhKQUlELENBQUM7UUFBQTtVQUxKUCxNQUFNLEdBQUFHLFFBQUEsQ0FBQUssSUFBQTtVQU9aVixHQUFHLENBQUNXLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1lBQ2pCQyxLQUFLLEVBQUVYLE1BQU0sQ0FBQ1ksU0FBUyxDQUFDQyxNQUFNO1lBQzlCQyxJQUFJLEVBQUVkLE1BQU0sQ0FBQ1k7VUFDakIsQ0FBQyxDQUFDO1VBQUFULFFBQUEsQ0FBQUUsSUFBQTtVQUFBO1FBQUE7VUFBQUYsUUFBQSxDQUFBQyxJQUFBO1VBQUFILEVBQUEsR0FBQUUsUUFBQTtVQUVGO1VBQ0FZLE9BQU8sQ0FBQ0MsS0FBSyxDQUFDLHFFQUFxRSxFQUFBZixFQUFPLENBQUM7VUFDM0ZILEdBQUcsQ0FBQ1csTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7WUFBRU8sT0FBTyxFQUFFO1VBQThFLENBQUMsQ0FBQztRQUFDO1FBQUE7VUFBQSxPQUFBZCxRQUFBLENBQUFlLElBQUE7TUFBQTtJQUFBLEdBQUF0QixPQUFBO0VBQUEsQ0FFeEg7RUFBQSxpQkFBQXVCLEVBQUEsRUFBQUMsR0FBQTtJQUFBLE9BQUE1QixJQUFBLENBQUE2QixLQUFBLE9BQUFDLFNBQUE7RUFBQTtBQUFBLElBQUM7QUFNRkMsTUFBTSxDQUFDQyxPQUFPLEdBQUc7RUFBQ2pDLGNBQWMsRUFBZEE7QUFBYyxDQUFDIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["asyncHandler","require","_require","getPool","sql","getActiveAreas","_ref","_asyncToGenerator2","_regenerator","mark","_callee","req","res","pool","result","_t","wrap","_context","prev","next","request","query","sent","status","json","count","recordset","length","data","console","error","message","stop","_x","_x2","apply","arguments","module","exports"],"sourceRoot":"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/controllers/","sources":["ServiceAreaController.js"],"sourcesContent":["const asyncHandler = require(\"express-async-handler\");\n\n// getPool is to do queries\nconst { getPool, sql } = require(\"../config/database\");\n\n\n// Returns the active appliance categories\nconst getActiveAreas = asyncHandler(async (req, res) => {\n    try {\n        const pool = getPool();\n\n        const result = await pool.request()\n            .query(`\n                SELECT Area_ID, NameEN, NameAR, Region, isActive\n                FROM Service_Area\n                WHERE isActive = 1\n                `);\n\n        res.status(200).json({\n            count: result.recordset.length,\n            data: result.recordset,\n        })\n    } catch (error) {\n        // Throwing the console error and 500 status in case something goes wrong\n        console.error(\"Unexpected error occurred when trying to get active service areas: \", error);\n        res.status(500).json({ message: \"An unexpected error occurred while trying to retrieve active service areas.\" });\n    }\n})\n\n\n\n\n\nmodule.exports = {getActiveAreas};"],"mappings":";;;;;AAAA,IAAMA,YAAY,GAAGC,OAAO,CAAC,uBAAuB,CAAC;;AAErD;AACA,IAAAC,QAAA,GAAyBD,OAAO,CAAC,oBAAoB,CAAC;EAA9CE,OAAO,GAAAD,QAAA,CAAPC,OAAO;EAAEC,GAAG,GAAAF,QAAA,CAAHE,GAAG;;AAGpB;AACA,IAAMC,cAAc,GAAGL,YAAY;EAAA,IAAAM,IAAA,OAAAC,kBAAA,0BAAAC,YAAA,YAAAC,IAAA,CAAC,SAAAC,QAAOC,GAAG,EAAEC,GAAG;IAAA,IAAAC,IAAA,EAAAC,MAAA,EAAAC,EAAA;IAAA,OAAAP,YAAA,YAAAQ,IAAA,WAAAC,QAAA;MAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;QAAA;UAAAF,QAAA,CAAAC,IAAA;UAErCL,IAAI,GAAGV,OAAO,CAAC,CAAC;UAAAc,QAAA,CAAAE,IAAA;UAAA,OAEDN,IAAI,CAACO,OAAO,CAAC,CAAC,CAC9BC,KAAK,8JAID,CAAC;QAAA;UALJP,MAAM,GAAAG,QAAA,CAAAK,IAAA;UAOZV,GAAG,CAACW,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YACjBC,KAAK,EAAEX,MAAM,CAACY,SAAS,CAACC,MAAM;YAC9BC,IAAI,EAAEd,MAAM,CAACY;UACjB,CAAC,CAAC;UAAAT,QAAA,CAAAE,IAAA;UAAA;QAAA;UAAAF,QAAA,CAAAC,IAAA;UAAAH,EAAA,GAAAE,QAAA;UAEF;UACAY,OAAO,CAACC,KAAK,CAAC,qEAAqE,EAAAf,EAAO,CAAC;UAC3FH,GAAG,CAACW,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAAEO,OAAO,EAAE;UAA8E,CAAC,CAAC;QAAC;QAAA;UAAA,OAAAd,QAAA,CAAAe,IAAA;MAAA;IAAA,GAAAtB,OAAA;EAAA,CAExH;EAAA,iBAAAuB,EAAA,EAAAC,GAAA;IAAA,OAAA5B,IAAA,CAAA6B,KAAA,OAAAC,SAAA;EAAA;AAAA,IAAC;AAMFC,MAAM,CAACC,OAAO,GAAG;EAACjC,cAAc,EAAdA;AAAc,CAAC","ignoreList":[]}},"mtime":1764611963011},"{\"assumptions\":{},\"sourceRoot\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end\",\"filename\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/routes/contactRoutes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"_exploded\":true,\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"VoidPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$48\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$49\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"\"use strict\";\n\nvar express = require(\"express\");\nvar _require = require(\"../controllers/ContactController.js\"),\n  submitContactForm = _require.submitContactForm;\nvar router = express.Router();\n\n// POST /api/contact - Submit contact form (public route, no authentication)\nrouter.post(\"/\", submitContactForm);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsIl9yZXF1aXJlIiwic3VibWl0Q29udGFjdEZvcm0iLCJyb3V0ZXIiLCJSb3V0ZXIiLCJwb3N0IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL2hvbWUvc2Vyai9Eb2N1bWVudHMvR2l0SHViL0ZpeEFwcGxpYW5jZS1ib29raW5nQ29tbWVyY2UvYmFjay1lbmQvc3JjL3JvdXRlcy8iLCJzb3VyY2VzIjpbImNvbnRhY3RSb3V0ZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoXCJleHByZXNzXCIpO1xuY29uc3QgeyBzdWJtaXRDb250YWN0Rm9ybSB9ID0gcmVxdWlyZShcIi4uL2NvbnRyb2xsZXJzL0NvbnRhY3RDb250cm9sbGVyLmpzXCIpO1xuXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG4vLyBQT1NUIC9hcGkvY29udGFjdCAtIFN1Ym1pdCBjb250YWN0IGZvcm0gKHB1YmxpYyByb3V0ZSwgbm8gYXV0aGVudGljYXRpb24pXG5yb3V0ZXIucG9zdChcIi9cIiwgc3VibWl0Q29udGFjdEZvcm0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBUyxDQUFDO0FBQ2xDLElBQUFDLFFBQUEsR0FBOEJELE9BQU8sQ0FBQyxxQ0FBcUMsQ0FBQztFQUFwRUUsaUJBQWlCLEdBQUFELFFBQUEsQ0FBakJDLGlCQUFpQjtBQUV6QixJQUFNQyxNQUFNLEdBQUdKLE9BQU8sQ0FBQ0ssTUFBTSxDQUFDLENBQUM7O0FBRS9CO0FBQ0FELE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLEdBQUcsRUFBRUgsaUJBQWlCLENBQUM7QUFFbkNJLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHSixNQUFNIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["express","require","_require","submitContactForm","router","Router","post","module","exports"],"sourceRoot":"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/routes/","sources":["contactRoutes.js"],"sourcesContent":["const express = require(\"express\");\nconst { submitContactForm } = require(\"../controllers/ContactController.js\");\n\nconst router = express.Router();\n\n// POST /api/contact - Submit contact form (public route, no authentication)\nrouter.post(\"/\", submitContactForm);\n\nmodule.exports = router;"],"mappings":";;AAAA,IAAMA,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAClC,IAAAC,QAAA,GAA8BD,OAAO,CAAC,qCAAqC,CAAC;EAApEE,iBAAiB,GAAAD,QAAA,CAAjBC,iBAAiB;AAEzB,IAAMC,MAAM,GAAGJ,OAAO,CAACK,MAAM,CAAC,CAAC;;AAE/B;AACAD,MAAM,CAACE,IAAI,CAAC,GAAG,EAAEH,iBAAiB,CAAC;AAEnCI,MAAM,CAACC,OAAO,GAAGJ,MAAM","ignoreList":[]}},"mtime":1764701626945},"{\"assumptions\":{},\"sourceRoot\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end\",\"filename\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/controllers/ContactController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"_exploded\":true,\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"VoidPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$48\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$49\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n/**\n * ContactController\n * \n * Handles contact form submissions from the website.\n */\n\nvar asyncHandler = require(\"express-async-handler\");\nvar _require = require(\"../config/database\"),\n  getPool = _require.getPool,\n  sql = _require.sql;\nvar _require2 = require(\"../utils/validators\"),\n  isValidEmail = _require2.isValidEmail,\n  sanitizeString = _require2.sanitizeString;\n\n// Handle contact form submission\nvar submitContactForm = asyncHandler(/*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee(req, res) {\n    var _req$body, name, email, subject, message, pool, _t;\n    return _regenerator[\"default\"].wrap(function (_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _req$body = req.body, name = _req$body.name, email = _req$body.email, subject = _req$body.subject, message = _req$body.message; // Validate required fields\n          if (!(!name || !email || !subject || !message)) {\n            _context.next = 1;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"All fields are required: name, email, subject, and message.\"\n          }));\n        case 1:\n          if (isValidEmail(email)) {\n            _context.next = 2;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"Please enter a valid email address.\"\n          }));\n        case 2:\n          if (!(name.trim().length < 2 || name.trim().length > 100)) {\n            _context.next = 3;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"Name must be between 2 and 100 characters.\"\n          }));\n        case 3:\n          if (!(subject.trim().length < 5 || subject.trim().length > 200)) {\n            _context.next = 4;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"Subject must be between 5 and 200 characters.\"\n          }));\n        case 4:\n          if (!(message.trim().length < 20)) {\n            _context.next = 5;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"Message must be at least 20 characters long.\"\n          }));\n        case 5:\n          _context.prev = 5;\n          pool = getPool(); // Insert contact form as a support ticket with 'open' status\n          _context.next = 6;\n          return pool.request().input(\"subject\", sql.NVarChar, sanitizeString(subject)).input(\"message\", sql.NVarChar, \"Contact Form Submission\\n\\nName: \".concat(sanitizeString(name), \"\\nEmail: \").concat(sanitizeString(email), \"\\n\\nMessage:\\n\").concat(sanitizeString(message))).input(\"userID\", sql.Int, 1) // Default 1 for now\n          .query(\"\\n                INSERT INTO Support_Ticket (UserID, [Subject], [Message], [Status], Priority)\\n                VALUES (@userID, @subject, @message, 'open', 'medium')\\n            \");\n        case 6:\n          res.status(201).json({\n            message: \"Thank you for contacting us! We will get back to you soon.\"\n          });\n          _context.next = 8;\n          break;\n        case 7:\n          _context.prev = 7;\n          _t = _context[\"catch\"](5);\n          console.error(\"Unexpected error occurred when submitting contact form: \", _t);\n          res.status(500).json({\n            message: \"An unexpected error occurred while submitting your message. Please try again later.\"\n          });\n        case 8:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[5, 7]]);\n  }));\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}());\nmodule.exports = {\n  submitContactForm: submitContactForm\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhc3luY0hhbmRsZXIiLCJyZXF1aXJlIiwiX3JlcXVpcmUiLCJnZXRQb29sIiwic3FsIiwiX3JlcXVpcmUyIiwiaXNWYWxpZEVtYWlsIiwic2FuaXRpemVTdHJpbmciLCJzdWJtaXRDb250YWN0Rm9ybSIsIl9yZWYiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJfcmVnZW5lcmF0b3IiLCJtYXJrIiwiX2NhbGxlZSIsInJlcSIsInJlcyIsIl9yZXEkYm9keSIsIm5hbWUiLCJlbWFpbCIsInN1YmplY3QiLCJtZXNzYWdlIiwicG9vbCIsIl90Iiwid3JhcCIsIl9jb250ZXh0IiwicHJldiIsIm5leHQiLCJib2R5IiwiYWJydXB0Iiwic3RhdHVzIiwianNvbiIsInRyaW0iLCJsZW5ndGgiLCJyZXF1ZXN0IiwiaW5wdXQiLCJOVmFyQ2hhciIsImNvbmNhdCIsIkludCIsInF1ZXJ5IiwiY29uc29sZSIsImVycm9yIiwic3RvcCIsIl94IiwiX3gyIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9zZXJqL0RvY3VtZW50cy9HaXRIdWIvRml4QXBwbGlhbmNlLWJvb2tpbmdDb21tZXJjZS9iYWNrLWVuZC9zcmMvY29udHJvbGxlcnMvIiwic291cmNlcyI6WyJDb250YWN0Q29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvbnRhY3RDb250cm9sbGVyXG4gKiBcbiAqIEhhbmRsZXMgY29udGFjdCBmb3JtIHN1Ym1pc3Npb25zIGZyb20gdGhlIHdlYnNpdGUuXG4gKi9cblxuY29uc3QgYXN5bmNIYW5kbGVyID0gcmVxdWlyZShcImV4cHJlc3MtYXN5bmMtaGFuZGxlclwiKTtcbmNvbnN0IHsgZ2V0UG9vbCwgc3FsIH0gPSByZXF1aXJlKFwiLi4vY29uZmlnL2RhdGFiYXNlXCIpO1xuY29uc3QgeyBpc1ZhbGlkRW1haWwsIHNhbml0aXplU3RyaW5nIH0gPSByZXF1aXJlKFwiLi4vdXRpbHMvdmFsaWRhdG9yc1wiKTtcblxuLy8gSGFuZGxlIGNvbnRhY3QgZm9ybSBzdWJtaXNzaW9uXG5jb25zdCBzdWJtaXRDb250YWN0Rm9ybSA9IGFzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCB7IG5hbWUsIGVtYWlsLCBzdWJqZWN0LCBtZXNzYWdlIH0gPSByZXEuYm9keTtcblxuICAgIC8vIFZhbGlkYXRlIHJlcXVpcmVkIGZpZWxkc1xuICAgIGlmICghbmFtZSB8fCAhZW1haWwgfHwgIXN1YmplY3QgfHwgIW1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogXCJBbGwgZmllbGRzIGFyZSByZXF1aXJlZDogbmFtZSwgZW1haWwsIHN1YmplY3QsIGFuZCBtZXNzYWdlLlwiIH0pO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRlIGVtYWlsIGZvcm1hdFxuICAgIGlmICghaXNWYWxpZEVtYWlsKGVtYWlsKSkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiBcIlBsZWFzZSBlbnRlciBhIHZhbGlkIGVtYWlsIGFkZHJlc3MuXCIgfSk7XG4gICAgfVxuXG4gICAgLy8gVmFsaWRhdGUgZmllbGQgbGVuZ3Roc1xuICAgIGlmIChuYW1lLnRyaW0oKS5sZW5ndGggPCAyIHx8IG5hbWUudHJpbSgpLmxlbmd0aCA+IDEwMCkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiBcIk5hbWUgbXVzdCBiZSBiZXR3ZWVuIDIgYW5kIDEwMCBjaGFyYWN0ZXJzLlwiIH0pO1xuICAgIH1cblxuICAgIGlmIChzdWJqZWN0LnRyaW0oKS5sZW5ndGggPCA1IHx8IHN1YmplY3QudHJpbSgpLmxlbmd0aCA+IDIwMCkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiBcIlN1YmplY3QgbXVzdCBiZSBiZXR3ZWVuIDUgYW5kIDIwMCBjaGFyYWN0ZXJzLlwiIH0pO1xuICAgIH1cblxuICAgIGlmIChtZXNzYWdlLnRyaW0oKS5sZW5ndGggPCAyMCkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiBcIk1lc3NhZ2UgbXVzdCBiZSBhdCBsZWFzdCAyMCBjaGFyYWN0ZXJzIGxvbmcuXCIgfSk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcG9vbCA9IGdldFBvb2woKTtcblxuICAgICAgICAvLyBJbnNlcnQgY29udGFjdCBmb3JtIGFzIGEgc3VwcG9ydCB0aWNrZXQgd2l0aCAnb3Blbicgc3RhdHVzXG4gICAgICAgIGF3YWl0IHBvb2wucmVxdWVzdCgpXG4gICAgICAgICAgICAuaW5wdXQoXCJzdWJqZWN0XCIsIHNxbC5OVmFyQ2hhciwgc2FuaXRpemVTdHJpbmcoc3ViamVjdCkpXG4gICAgICAgICAgICAuaW5wdXQoXCJtZXNzYWdlXCIsIHNxbC5OVmFyQ2hhciwgYENvbnRhY3QgRm9ybSBTdWJtaXNzaW9uXFxuXFxuTmFtZTogJHtzYW5pdGl6ZVN0cmluZyhuYW1lKX1cXG5FbWFpbDogJHtzYW5pdGl6ZVN0cmluZyhlbWFpbCl9XFxuXFxuTWVzc2FnZTpcXG4ke3Nhbml0aXplU3RyaW5nKG1lc3NhZ2UpfWApXG4gICAgICAgICAgICAuaW5wdXQoXCJ1c2VySURcIiwgc3FsLkludCwgMSkgLy8gRGVmYXVsdCAxIGZvciBub3dcbiAgICAgICAgICAgIC5xdWVyeShgXG4gICAgICAgICAgICAgICAgSU5TRVJUIElOVE8gU3VwcG9ydF9UaWNrZXQgKFVzZXJJRCwgW1N1YmplY3RdLCBbTWVzc2FnZV0sIFtTdGF0dXNdLCBQcmlvcml0eSlcbiAgICAgICAgICAgICAgICBWQUxVRVMgKEB1c2VySUQsIEBzdWJqZWN0LCBAbWVzc2FnZSwgJ29wZW4nLCAnbWVkaXVtJylcbiAgICAgICAgICAgIGApO1xuXG4gICAgICAgIHJlcy5zdGF0dXMoMjAxKS5qc29uKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiVGhhbmsgeW91IGZvciBjb250YWN0aW5nIHVzISBXZSB3aWxsIGdldCBiYWNrIHRvIHlvdSBzb29uLlwiXG4gICAgICAgIH0pO1xuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIlVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQgd2hlbiBzdWJtaXR0aW5nIGNvbnRhY3QgZm9ybTogXCIsIGVycm9yKTtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiBcIkFuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQgd2hpbGUgc3VibWl0dGluZyB5b3VyIG1lc3NhZ2UuIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuXCIgfSk7XG4gICAgfVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0geyBzdWJtaXRDb250YWN0Rm9ybSB9OyJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLElBQU1BLFlBQVksR0FBR0MsT0FBTyxDQUFDLHVCQUF1QixDQUFDO0FBQ3JELElBQUFDLFFBQUEsR0FBeUJELE9BQU8sQ0FBQyxvQkFBb0IsQ0FBQztFQUE5Q0UsT0FBTyxHQUFBRCxRQUFBLENBQVBDLE9BQU87RUFBRUMsR0FBRyxHQUFBRixRQUFBLENBQUhFLEdBQUc7QUFDcEIsSUFBQUMsU0FBQSxHQUF5Q0osT0FBTyxDQUFDLHFCQUFxQixDQUFDO0VBQS9ESyxZQUFZLEdBQUFELFNBQUEsQ0FBWkMsWUFBWTtFQUFFQyxjQUFjLEdBQUFGLFNBQUEsQ0FBZEUsY0FBYzs7QUFFcEM7QUFDQSxJQUFNQyxpQkFBaUIsR0FBR1IsWUFBWTtFQUFBLElBQUFTLElBQUEsT0FBQUMsa0JBQUEsMEJBQUFDLFlBQUEsWUFBQUMsSUFBQSxDQUFDLFNBQUFDLFFBQU9DLEdBQUcsRUFBRUMsR0FBRztJQUFBLElBQUFDLFNBQUEsRUFBQUMsSUFBQSxFQUFBQyxLQUFBLEVBQUFDLE9BQUEsRUFBQUMsT0FBQSxFQUFBQyxJQUFBLEVB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","map":{"version":3,"names":["asyncHandler","require","_require","getPool","sql","_require2","isValidEmail","sanitizeString","submitContactForm","_ref","_asyncToGenerator2","_regenerator","mark","_callee","req","res","_req$body","name","email","subject","message","pool","_t","wrap","_context","prev","next","body","abrupt","status","json","trim","length","request","input","NVarChar","concat","Int","query","console","error","stop","_x","_x2","apply","arguments","module","exports"],"sourceRoot":"/home/serj/Documents/GitHub/FixAppliance-bookingCommerce/back-end/src/controllers/","sources":["ContactController.js"],"sourcesContent":["/**\n * ContactController\n * \n * Handles contact form submissions from the website.\n */\n\nconst asyncHandler = require(\"express-async-handler\");\nconst { getPool, sql } = require(\"../config/database\");\nconst { isValidEmail, sanitizeString } = require(\"../utils/validators\");\n\n// Handle contact form submission\nconst submitContactForm = asyncHandler(async (req, res) => {\n    const { name, email, subject, message } = req.body;\n\n    // Validate required fields\n    if (!name || !email || !subject || !message) {\n        return res.status(400).json({ message: \"All fields are required: name, email, subject, and message.\" });\n    }\n\n    // Validate email format\n    if (!isValidEmail(email)) {\n        return res.status(400).json({ message: \"Please enter a valid email address.\" });\n    }\n\n    // Validate field lengths\n    if (name.trim().length < 2 || name.trim().length > 100) {\n        return res.status(400).json({ message: \"Name must be between 2 and 100 characters.\" });\n    }\n\n    if (subject.trim().length < 5 || subject.trim().length > 200) {\n        return res.status(400).json({ message: \"Subject must be between 5 and 200 characters.\" });\n    }\n\n    if (message.trim().length < 20) {\n        return res.status(400).json({ message: \"Message must be at least 20 characters long.\" });\n    }\n\n    try {\n        const pool = getPool();\n\n        // Insert contact form as a support ticket with 'open' status\n        await pool.request()\n            .input(\"subject\", sql.NVarChar, sanitizeString(subject))\n            .input(\"message\", sql.NVarChar, `Contact Form Submission\\n\\nName: ${sanitizeString(name)}\\nEmail: ${sanitizeString(email)}\\n\\nMessage:\\n${sanitizeString(message)}`)\n            .input(\"userID\", sql.Int, 1) // Default 1 for now\n            .query(`\n                INSERT INTO Support_Ticket (UserID, [Subject], [Message], [Status], Priority)\n                VALUES (@userID, @subject, @message, 'open', 'medium')\n            `);\n\n        res.status(201).json({\n            message: \"Thank you for contacting us! We will get back to you soon.\"\n        });\n\n    } catch (error) {\n        console.error(\"Unexpected error occurred when submitting contact form: \", error);\n        res.status(500).json({ message: \"An unexpected error occurred while submitting your message. Please try again later.\" });\n    }\n});\n\nmodule.exports = { submitContactForm };"],"mappings":"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","ignoreList":[]}},"mtime":1764701725942}}