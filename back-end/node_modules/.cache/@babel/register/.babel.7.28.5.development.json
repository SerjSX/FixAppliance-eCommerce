{"{\"assumptions\":{},\"sourceRoot\":\"/workspaces/FixAppliance-eCommerce/back-end/src/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/workspaces/FixAppliance-eCommerce/back-end\",\"filename\":\"/workspaces/FixAppliance-eCommerce/back-end/src/server.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/workspaces/FixAppliance-eCommerce/back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"_exploded\":true,\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"VoidPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/workspaces/FixAppliance-eCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$48\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/workspaces/FixAppliance-eCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$49\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"\"use strict\";\n\nvar _process$env$ALLOWED_;\n// Importing the needed libraries\nvar express = require(\"express\");\nvar dotenv = require(\"dotenv\").config();\n//const asyncHandler = require(\"express-async-handler\");\nvar cors = require(\"cors\");\nvar cookieParser = require(\"cookie-parser\");\nvar _require = require(\"./config/database\"),\n  connectDB = _require.connectDB;\n\n// Setting up the express app and its port to use\nvar app = express();\nvar port = process.env.PORT || 5000;\n\n// CORS configuration - restrict origins in production\nvar corsOptions = {\n  origin: process.env.NODE_ENV === \"production\" ? ((_process$env$ALLOWED_ = process.env.ALLOWED_ORIGINS) === null || _process$env$ALLOWED_ === void 0 ? void 0 : _process$env$ALLOWED_.split(',')) || ['https://yourdomain.com'] // Should replace with actual domain in .env\n  : ['http://localhost:3000', 'http://localhost:5173', 'http://127.0.0.1:3000'],\n  // Development origins\n  credentials: true,\n  // Required for cookies to work cross-origin\n  methods: ['GET', 'POST', 'PUT', 'DELETE', 'PATCH'],\n  allowedHeaders: ['Content-Type', 'Authorization']\n};\n\n// Applying the middlewares for json, cookie, public files, cors, url embedding\napp.use(express.json({\n  limit: '10kb'\n})); // Limit body size to prevent large payload attacks\napp.use(cookieParser());\napp.use(express[\"static\"](\"public\"));\napp.use(cors(corsOptions));\napp.use(express.urlencoded({\n  extended: false,\n  limit: '10kb'\n}));\n\n// Setting the 3 main routes: user, technician and freelancer\napp.use(\"/api/user\", require(\"./routes/userRoutes\"));\napp.use(\"/api/technician\", require(\"./routes/technicianRoutes\"));\napp.use(\"/api/freelancer\", require(\"./routes/freelancerRoutes\"));\n\n// 404 handling\napp.use(function (req, res) {\n  res.status(404).json({\n    message: \"Route not found\"\n  });\n});\n\n//Error handling\napp.use(function (err, req, res, next) {\n  console.log(err.stack);\n  res.status(err.status || 500).json({\n    message: err.message || \"Internal server error.\"\n  });\n});\nconnectDB().then(function () {\n  console.log(\"Connected to the database.\");\n  app.listen(port, function () {\n    console.log(\"Server is running on port \".concat(port));\n  });\n})[\"catch\"](function (error) {\n  console.log(\"Failed to connect to the database: \", error);\n  process.exit(1);\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsImRvdGVudiIsImNvbmZpZyIsImNvcnMiLCJjb29raWVQYXJzZXIiLCJfcmVxdWlyZSIsImNvbm5lY3REQiIsImFwcCIsInBvcnQiLCJwcm9jZXNzIiwiZW52IiwiUE9SVCIsImNvcnNPcHRpb25zIiwib3JpZ2luIiwiTk9ERV9FTlYiLCJfcHJvY2VzcyRlbnYkQUxMT1dFRF8iLCJBTExPV0VEX09SSUdJTlMiLCJzcGxpdCIsImNyZWRlbnRpYWxzIiwibWV0aG9kcyIsImFsbG93ZWRIZWFkZXJzIiwidXNlIiwianNvbiIsImxpbWl0IiwidXJsZW5jb2RlZCIsImV4dGVuZGVkIiwicmVxIiwicmVzIiwic3RhdHVzIiwibWVzc2FnZSIsImVyciIsIm5leHQiLCJjb25zb2xlIiwibG9nIiwic3RhY2siLCJ0aGVuIiwibGlzdGVuIiwiY29uY2F0IiwiZXJyb3IiLCJleGl0Il0sInNvdXJjZVJvb3QiOiIvd29ya3NwYWNlcy9GaXhBcHBsaWFuY2UtZUNvbW1lcmNlL2JhY2stZW5kL3NyYy8iLCJzb3VyY2VzIjpbInNlcnZlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBJbXBvcnRpbmcgdGhlIG5lZWRlZCBsaWJyYXJpZXNcbmNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKFwiZXhwcmVzc1wiKTtcbmNvbnN0IGRvdGVudiA9IHJlcXVpcmUoXCJkb3RlbnZcIikuY29uZmlnKCk7XG4vL2NvbnN0IGFzeW5jSGFuZGxlciA9IHJlcXVpcmUoXCJleHByZXNzLWFzeW5jLWhhbmRsZXJcIik7XG5jb25zdCBjb3JzID0gcmVxdWlyZShcImNvcnNcIik7XG5jb25zdCBjb29raWVQYXJzZXIgPSByZXF1aXJlKFwiY29va2llLXBhcnNlclwiKTtcbmNvbnN0IHsgY29ubmVjdERCIH0gPSByZXF1aXJlKFwiLi9jb25maWcvZGF0YWJhc2VcIik7XG5cbi8vIFNldHRpbmcgdXAgdGhlIGV4cHJlc3MgYXBwIGFuZCBpdHMgcG9ydCB0byB1c2VcbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcbmNvbnN0IHBvcnQgPSBwcm9jZXNzLmVudi5QT1JUIHx8IDUwMDA7XG5cbi8vIENPUlMgY29uZmlndXJhdGlvbiAtIHJlc3RyaWN0IG9yaWdpbnMgaW4gcHJvZHVjdGlvblxuY29uc3QgY29yc09wdGlvbnMgPSB7XG4gICAgb3JpZ2luOiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCIgXG4gICAgICAgID8gcHJvY2Vzcy5lbnYuQUxMT1dFRF9PUklHSU5TPy5zcGxpdCgnLCcpIHx8IFsnaHR0cHM6Ly95b3VyZG9tYWluLmNvbSddICAvLyBTaG91bGQgcmVwbGFjZSB3aXRoIGFjdHVhbCBkb21haW4gaW4gLmVudlxuICAgICAgICA6IFsnaHR0cDovL2xvY2FsaG9zdDozMDAwJywgJ2h0dHA6Ly9sb2NhbGhvc3Q6NTE3MycsICdodHRwOi8vMTI3LjAuMC4xOjMwMDAnXSwgLy8gRGV2ZWxvcG1lbnQgb3JpZ2luc1xuICAgIGNyZWRlbnRpYWxzOiB0cnVlLCAgLy8gUmVxdWlyZWQgZm9yIGNvb2tpZXMgdG8gd29yayBjcm9zcy1vcmlnaW5cbiAgICBtZXRob2RzOiBbJ0dFVCcsICdQT1NUJywgJ1BVVCcsICdERUxFVEUnLCAnUEFUQ0gnXSxcbiAgICBhbGxvd2VkSGVhZGVyczogWydDb250ZW50LVR5cGUnLCAnQXV0aG9yaXphdGlvbiddXG59O1xuXG4vLyBBcHBseWluZyB0aGUgbWlkZGxld2FyZXMgZm9yIGpzb24sIGNvb2tpZSwgcHVibGljIGZpbGVzLCBjb3JzLCB1cmwgZW1iZWRkaW5nXG5hcHAudXNlKGV4cHJlc3MuanNvbih7IGxpbWl0OiAnMTBrYicgfSkpOyAgLy8gTGltaXQgYm9keSBzaXplIHRvIHByZXZlbnQgbGFyZ2UgcGF5bG9hZCBhdHRhY2tzXG5hcHAudXNlKGNvb2tpZVBhcnNlcigpKTtcbmFwcC51c2UoZXhwcmVzcy5zdGF0aWMoXCJwdWJsaWNcIikpO1xuYXBwLnVzZShjb3JzKGNvcnNPcHRpb25zKSk7XG5hcHAudXNlKGV4cHJlc3MudXJsZW5jb2RlZCh7ZXh0ZW5kZWQ6IGZhbHNlLCBsaW1pdDogJzEwa2InfSkpO1xuXG4vLyBTZXR0aW5nIHRoZSAzIG1haW4gcm91dGVzOiB1c2VyLCB0ZWNobmljaWFuIGFuZCBmcmVlbGFuY2VyXG5hcHAudXNlKFwiL2FwaS91c2VyXCIsIHJlcXVpcmUoXCIuL3JvdXRlcy91c2VyUm91dGVzXCIpKTtcbmFwcC51c2UoXCIvYXBpL3RlY2huaWNpYW5cIiwgcmVxdWlyZShcIi4vcm91dGVzL3RlY2huaWNpYW5Sb3V0ZXNcIikpO1xuYXBwLnVzZShcIi9hcGkvZnJlZWxhbmNlclwiLCByZXF1aXJlKFwiLi9yb3V0ZXMvZnJlZWxhbmNlclJvdXRlc1wiKSk7XG5cbi8vIDQwNCBoYW5kbGluZ1xuYXBwLnVzZSgocmVxLCByZXMpID0+IHtcbiAgICByZXMuc3RhdHVzKDQwNCkuanNvbih7bWVzc2FnZTogXCJSb3V0ZSBub3QgZm91bmRcIn0pO1xufSlcblxuLy9FcnJvciBoYW5kbGluZ1xuYXBwLnVzZSgoZXJyLCByZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKGVyci5zdGFjayk7XG4gICAgcmVzLnN0YXR1cyhlcnIuc3RhdHVzIHx8IDUwMCkuanNvbih7XG4gICAgICAgIG1lc3NhZ2U6IGVyci5tZXNzYWdlIHx8IFwiSW50ZXJuYWwgc2VydmVyIGVycm9yLlwiXG4gICAgfSk7XG59KTtcblxuY29ubmVjdERCKClcbiAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiQ29ubmVjdGVkIHRvIHRoZSBkYXRhYmFzZS5cIik7XG4gICAgICAgIFxuICAgICAgICBhcHAubGlzdGVuKHBvcnQsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBTZXJ2ZXIgaXMgcnVubmluZyBvbiBwb3J0ICR7cG9ydH1gKTtcbiAgICAgICAgfSk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiRmFpbGVkIHRvIGNvbm5lY3QgdG8gdGhlIGRhdGFiYXNlOiBcIiwgZXJyb3IpO1xuICAgICAgICBwcm9jZXNzLmV4aXQoMSk7XG4gICAgfSk7XG4iXSwibWFwcGluZ3MiOiI7OztBQUFBO0FBQ0EsSUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBUyxDQUFDO0FBQ2xDLElBQU1DLE1BQU0sR0FBR0QsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDRSxNQUFNLENBQUMsQ0FBQztBQUN6QztBQUNBLElBQU1DLElBQUksR0FBR0gsT0FBTyxDQUFDLE1BQU0sQ0FBQztBQUM1QixJQUFNSSxZQUFZLEdBQUdKLE9BQU8sQ0FBQyxlQUFlLENBQUM7QUFDN0MsSUFBQUssUUFBQSxHQUFzQkwsT0FBTyxDQUFDLG1CQUFtQixDQUFDO0VBQTFDTSxTQUFTLEdBQUFELFFBQUEsQ0FBVEMsU0FBUzs7QUFFakI7QUFDQSxJQUFNQyxHQUFHLEdBQUdSLE9BQU8sQ0FBQyxDQUFDO0FBQ3JCLElBQU1TLElBQUksR0FBR0MsT0FBTyxDQUFDQyxHQUFHLENBQUNDLElBQUksSUFBSSxJQUFJOztBQUVyQztBQUNBLElBQU1DLFdBQVcsR0FBRztFQUNoQkMsTUFBTSxFQUFFSixPQUFPLENBQUNDLEdBQUcsQ0FBQ0ksUUFBUSxLQUFLLFlBQVksR0FDdkMsRUFBQUMscUJBQUEsR0FBQU4sT0FBTyxDQUFDQyxHQUFHLENBQUNNLGVBQWUsY0FBQUQscUJBQUEsdUJBQTNCQSxxQkFBQSxDQUE2QkUsS0FBSyxDQUFDLEdBQUcsQ0FBQyxLQUFJLENBQUMsd0JBQXdCLENBQUMsQ0FBRTtFQUFBLEVBQ3ZFLENBQUMsdUJBQXVCLEVBQUUsdUJBQXVCLEVBQUUsdUJBQXVCLENBQUM7RUFBRTtFQUNuRkMsV0FBVyxFQUFFLElBQUk7RUFBRztFQUNwQkMsT0FBTyxFQUFFLENBQUMsS0FBSyxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUUsUUFBUSxFQUFFLE9BQU8sQ0FBQztFQUNsREMsY0FBYyxFQUFFLENBQUMsY0FBYyxFQUFFLGVBQWU7QUFDcEQsQ0FBQzs7QUFFRDtBQUNBYixHQUFHLENBQUNjLEdBQUcsQ0FBQ3RCLE9BQU8sQ0FBQ3VCLElBQUksQ0FBQztFQUFFQyxLQUFLLEVBQUU7QUFBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUU7QUFDM0NoQixHQUFHLENBQUNjLEdBQUcsQ0FBQ2pCLFlBQVksQ0FBQyxDQUFDLENBQUM7QUFDdkJHLEdBQUcsQ0FBQ2MsR0FBRyxDQUFDdEIsT0FBTyxVQUFPLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDakNRLEdBQUcsQ0FBQ2MsR0FBRyxDQUFDbEIsSUFBSSxDQUFDUyxXQUFXLENBQUMsQ0FBQztBQUMxQkwsR0FBRyxDQUFDYyxHQUFHLENBQUN0QixPQUFPLENBQUN5QixVQUFVLENBQUM7RUFBQ0MsUUFBUSxFQUFFLEtBQUs7RUFBRUYsS0FBSyxFQUFFO0FBQU0sQ0FBQyxDQUFDLENBQUM7O0FBRTdEO0FBQ0FoQixHQUFHLENBQUNjLEdBQUcsQ0FBQyxXQUFXLEVBQUVyQixPQUFPLENBQUMscUJBQXFCLENBQUMsQ0FBQztBQUNwRE8sR0FBRyxDQUFDYyxHQUFHLENBQUMsaUJBQWlCLEVBQUVyQixPQUFPLENBQUMsMkJBQTJCLENBQUMsQ0FBQztBQUNoRU8sR0FBRyxDQUFDYyxHQUFHLENBQUMsaUJBQWlCLEVBQUVyQixPQUFPLENBQUMsMkJBQTJCLENBQUMsQ0FBQzs7QUFFaEU7QUFDQU8sR0FBRyxDQUFDYyxHQUFHLENBQUMsVUFBQ0ssR0FBRyxFQUFFQyxHQUFHLEVBQUs7RUFDbEJBLEdBQUcsQ0FBQ0MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDTixJQUFJLENBQUM7SUFBQ08sT0FBTyxFQUFFO0VBQWlCLENBQUMsQ0FBQztBQUN0RCxDQUFDLENBQUM7O0FBRUY7QUFDQXRCLEdBQUcsQ0FBQ2MsR0FBRyxDQUFDLFVBQUNTLEdBQUcsRUFBRUosR0FBRyxFQUFFQyxHQUFHLEVBQUVJLElBQUksRUFBSztFQUM3QkMsT0FBTyxDQUFDQyxHQUFHLENBQUNILEdBQUcsQ0FBQ0ksS0FBSyxDQUFDO0VBQ3RCUCxHQUFHLENBQUNDLE1BQU0sQ0FBQ0UsR0FBRyxDQUFDRixNQUFNLElBQUksR0FBRyxDQUFDLENBQUNOLElBQUksQ0FBQztJQUMvQk8sT0FBTyxFQUFFQyxHQUFHLENBQUNELE9BQU8sSUFBSTtFQUM1QixDQUFDLENBQUM7QUFDTixDQUFDLENBQUM7QUFFRnZCLFNBQVMsQ0FBQyxDQUFDLENBQ042QixJQUFJLENBQUMsWUFBTTtFQUNSSCxPQUFPLENBQUNDLEdBQUcsQ0FBQyw0QkFBNEIsQ0FBQztFQUV6QzFCLEdBQUcsQ0FBQzZCLE1BQU0sQ0FBQzVCLElBQUksRUFBRSxZQUFNO0lBQ25Cd0IsT0FBTyxDQUFDQyxHQUFHLDhCQUFBSSxNQUFBLENBQThCN0IsSUFBSSxDQUFFLENBQUM7RUFDcEQsQ0FBQyxDQUFDO0FBQ04sQ0FBQyxDQUFDLFNBQ0ksQ0FBQyxVQUFDOEIsS0FBSyxFQUFLO0VBQ2ROLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLHFDQUFxQyxFQUFFSyxLQUFLLENBQUM7RUFDekQ3QixPQUFPLENBQUM4QixJQUFJLENBQUMsQ0FBQyxDQUFDO0FBQ25CLENBQUMsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["express","require","dotenv","config","cors","cookieParser","_require","connectDB","app","port","process","env","PORT","corsOptions","origin","NODE_ENV","_process$env$ALLOWED_","ALLOWED_ORIGINS","split","credentials","methods","allowedHeaders","use","json","limit","urlencoded","extended","req","res","status","message","err","next","console","log","stack","then","listen","concat","error","exit"],"sourceRoot":"/workspaces/FixAppliance-eCommerce/back-end/src/","sources":["server.js"],"sourcesContent":["// Importing the needed libraries\nconst express = require(\"express\");\nconst dotenv = require(\"dotenv\").config();\n//const asyncHandler = require(\"express-async-handler\");\nconst cors = require(\"cors\");\nconst cookieParser = require(\"cookie-parser\");\nconst { connectDB } = require(\"./config/database\");\n\n// Setting up the express app and its port to use\nconst app = express();\nconst port = process.env.PORT || 5000;\n\n// CORS configuration - restrict origins in production\nconst corsOptions = {\n    origin: process.env.NODE_ENV === \"production\" \n        ? process.env.ALLOWED_ORIGINS?.split(',') || ['https://yourdomain.com']  // Should replace with actual domain in .env\n        : ['http://localhost:3000', 'http://localhost:5173', 'http://127.0.0.1:3000'], // Development origins\n    credentials: true,  // Required for cookies to work cross-origin\n    methods: ['GET', 'POST', 'PUT', 'DELETE', 'PATCH'],\n    allowedHeaders: ['Content-Type', 'Authorization']\n};\n\n// Applying the middlewares for json, cookie, public files, cors, url embedding\napp.use(express.json({ limit: '10kb' }));  // Limit body size to prevent large payload attacks\napp.use(cookieParser());\napp.use(express.static(\"public\"));\napp.use(cors(corsOptions));\napp.use(express.urlencoded({extended: false, limit: '10kb'}));\n\n// Setting the 3 main routes: user, technician and freelancer\napp.use(\"/api/user\", require(\"./routes/userRoutes\"));\napp.use(\"/api/technician\", require(\"./routes/technicianRoutes\"));\napp.use(\"/api/freelancer\", require(\"./routes/freelancerRoutes\"));\n\n// 404 handling\napp.use((req, res) => {\n    res.status(404).json({message: \"Route not found\"});\n})\n\n//Error handling\napp.use((err, req, res, next) => {\n    console.log(err.stack);\n    res.status(err.status || 500).json({\n        message: err.message || \"Internal server error.\"\n    });\n});\n\nconnectDB()\n    .then(() => {\n        console.log(\"Connected to the database.\");\n        \n        app.listen(port, () => {\n            console.log(`Server is running on port ${port}`);\n        });\n    })\n    .catch((error) => {\n        console.log(\"Failed to connect to the database: \", error);\n        process.exit(1);\n    });\n"],"mappings":"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","ignoreList":[]}},"mtime":1764435434137},"{\"assumptions\":{},\"sourceRoot\":\"/workspaces/FixAppliance-eCommerce/back-end/src/config/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/workspaces/FixAppliance-eCommerce/back-end\",\"filename\":\"/workspaces/FixAppliance-eCommerce/back-end/src/config/database.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/workspaces/FixAppliance-eCommerce/back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"_exploded\":true,\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"VoidPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/workspaces/FixAppliance-eCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$48\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/workspaces/FixAppliance-eCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$49\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar sql = require(\"mssql\");\nvar dotenv = require(\"dotenv\");\ndotenv.config();\nvar dbConfig = {\n  user: process.env.DB_USER,\n  password: process.env.DB_PASS,\n  server: process.env.DB_SERVER,\n  database: process.env.DB_NAME,\n  options: {\n    encrypt: true,\n    trustServerCertificate: true\n  }\n};\nvar pool;\nvar connectDB = /*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee() {\n    var _t;\n    return _regenerator[\"default\"].wrap(function (_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _context.next = 1;\n          return sql.connect(dbConfig);\n        case 1:\n          pool = _context.sent;\n          return _context.abrupt(\"return\", pool);\n        case 2:\n          _context.prev = 2;\n          _t = _context[\"catch\"](0);\n          console.error(\"Database connection failed: \", _t);\n          throw _t;\n        case 3:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[0, 2]]);\n  }));\n  return function connectDB() {\n    return _ref.apply(this, arguments);\n  };\n}();\nmodule.exports = {\n  connectDB: connectDB,\n  getPool: function getPool() {\n    return pool;\n  },\n  sql: sql\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzcWwiLCJyZXF1aXJlIiwiZG90ZW52IiwiY29uZmlnIiwiZGJDb25maWciLCJ1c2VyIiwicHJvY2VzcyIsImVudiIsIkRCX1VTRVIiLCJwYXNzd29yZCIsIkRCX1BBU1MiLCJzZXJ2ZXIiLCJEQl9TRVJWRVIiLCJkYXRhYmFzZSIsIkRCX05BTUUiLCJvcHRpb25zIiwiZW5jcnlwdCIsInRydXN0U2VydmVyQ2VydGlmaWNhdGUiLCJwb29sIiwiY29ubmVjdERCIiwiX3JlZiIsIl9hc3luY1RvR2VuZXJhdG9yMiIsIl9yZWdlbmVyYXRvciIsIm1hcmsiLCJfY2FsbGVlIiwiX3QiLCJ3cmFwIiwiX2NvbnRleHQiLCJwcmV2IiwibmV4dCIsImNvbm5lY3QiLCJzZW50IiwiYWJydXB0IiwiY29uc29sZSIsImVycm9yIiwic3RvcCIsImFwcGx5IiwiYXJndW1lbnRzIiwibW9kdWxlIiwiZXhwb3J0cyIsImdldFBvb2wiXSwic291cmNlUm9vdCI6Ii93b3Jrc3BhY2VzL0ZpeEFwcGxpYW5jZS1lQ29tbWVyY2UvYmFjay1lbmQvc3JjL2NvbmZpZy8iLCJzb3VyY2VzIjpbImRhdGFiYXNlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHNxbCA9IHJlcXVpcmUoXCJtc3NxbFwiKTtcbmNvbnN0IGRvdGVudiA9IHJlcXVpcmUoXCJkb3RlbnZcIik7XG5kb3RlbnYuY29uZmlnKCk7XG5cbmNvbnN0IGRiQ29uZmlnID0ge1xuICAgIHVzZXI6IHByb2Nlc3MuZW52LkRCX1VTRVIsXG4gICAgcGFzc3dvcmQ6IHByb2Nlc3MuZW52LkRCX1BBU1MsXG4gICAgc2VydmVyOiBwcm9jZXNzLmVudi5EQl9TRVJWRVIsXG4gICAgZGF0YWJhc2U6IHByb2Nlc3MuZW52LkRCX05BTUUsXG4gICAgb3B0aW9uczoge2VuY3J5cHQ6IHRydWUsIHRydXN0U2VydmVyQ2VydGlmaWNhdGU6IHRydWV9XG59O1xuXG5sZXQgcG9vbDtcblxuY29uc3QgY29ubmVjdERCID0gYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIHBvb2wgPSBhd2FpdCBzcWwuY29ubmVjdChkYkNvbmZpZyk7XG4gICAgICAgIHJldHVybiBwb29sO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJEYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZDogXCIsIGVycm9yKTtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtjb25uZWN0REIsIGdldFBvb2w6ICgpID0+IHBvb2wsIHNxbH07Il0sIm1hcHBpbmdzIjoiOzs7OztBQUFBLElBQU1BLEdBQUcsR0FBR0MsT0FBTyxDQUFDLE9BQU8sQ0FBQztBQUM1QixJQUFNQyxNQUFNLEdBQUdELE9BQU8sQ0FBQyxRQUFRLENBQUM7QUFDaENDLE1BQU0sQ0FBQ0MsTUFBTSxDQUFDLENBQUM7QUFFZixJQUFNQyxRQUFRLEdBQUc7RUFDYkMsSUFBSSxFQUFFQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0MsT0FBTztFQUN6QkMsUUFBUSxFQUFFSCxPQUFPLENBQUNDLEdBQUcsQ0FBQ0csT0FBTztFQUM3QkMsTUFBTSxFQUFFTCxPQUFPLENBQUNDLEdBQUcsQ0FBQ0ssU0FBUztFQUM3QkMsUUFBUSxFQUFFUCxPQUFPLENBQUNDLEdBQUcsQ0FBQ08sT0FBTztFQUM3QkMsT0FBTyxFQUFFO0lBQUNDLE9BQU8sRUFBRSxJQUFJO0lBQUVDLHNCQUFzQixFQUFFO0VBQUk7QUFDekQsQ0FBQztBQUVELElBQUlDLElBQUk7QUFFUixJQUFNQyxTQUFTO0VBQUEsSUFBQUMsSUFBQSxPQUFBQyxrQkFBQSwwQkFBQUMsWUFBQSxZQUFBQyxJQUFBLENBQUcsU0FBQUMsUUFBQTtJQUFBLElBQUFDLEVBQUE7SUFBQSxPQUFBSCxZQUFBLFlBQUFJLElBQUEsV0FBQUMsUUFBQTtNQUFBLGtCQUFBQSxRQUFBLENBQUFDLElBQUEsR0FBQUQsUUFBQSxDQUFBRSxJQUFBO1FBQUE7VUFBQUYsUUFBQSxDQUFBQyxJQUFBO1VBQUFELFFBQUEsQ0FBQUUsSUFBQTtVQUFBLE9BRUc3QixHQUFHLENBQUM4QixPQUFPLENBQUMxQixRQUFRLENBQUM7UUFBQTtVQUFsQ2MsSUFBSSxHQUFBUyxRQUFBLENBQUFJLElBQUE7VUFBQSxPQUFBSixRQUFBLENBQUFLLE1BQUEsV0FDR2QsSUFBSTtRQUFBO1VBQUFTLFFBQUEsQ0FBQUMsSUFBQTtVQUFBSCxFQUFBLEdBQUFFLFFBQUE7VUFFWE0sT0FBTyxDQUFDQyxLQUFLLENBQUMsOEJBQThCLEVBQUFULEVBQU8sQ0FBQztVQUFDLE1BQUFBLEVBQUE7UUFBQTtRQUFBO1VBQUEsT0FBQUUsUUFBQSxDQUFBUSxJQUFBO01BQUE7SUFBQSxHQUFBWCxPQUFBO0VBQUEsQ0FHNUQ7RUFBQSxnQkFSS0wsU0FBU0EsQ0FBQTtJQUFBLE9BQUFDLElBQUEsQ0FBQWdCLEtBQUEsT0FBQUMsU0FBQTtFQUFBO0FBQUEsR0FRZDtBQUVEQyxNQUFNLENBQUNDLE9BQU8sR0FBRztFQUFDcEIsU0FBUyxFQUFUQSxTQUFTO0VBQUVxQixPQUFPLEVBQUUsU0FBVEEsT0FBT0EsQ0FBQTtJQUFBLE9BQVF0QixJQUFJO0VBQUE7RUFBRWxCLEdBQUcsRUFBSEE7QUFBRyxDQUFDIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["sql","require","dotenv","config","dbConfig","user","process","env","DB_USER","password","DB_PASS","server","DB_SERVER","database","DB_NAME","options","encrypt","trustServerCertificate","pool","connectDB","_ref","_asyncToGenerator2","_regenerator","mark","_callee","_t","wrap","_context","prev","next","connect","sent","abrupt","console","error","stop","apply","arguments","module","exports","getPool"],"sourceRoot":"/workspaces/FixAppliance-eCommerce/back-end/src/config/","sources":["database.js"],"sourcesContent":["const sql = require(\"mssql\");\nconst dotenv = require(\"dotenv\");\ndotenv.config();\n\nconst dbConfig = {\n    user: process.env.DB_USER,\n    password: process.env.DB_PASS,\n    server: process.env.DB_SERVER,\n    database: process.env.DB_NAME,\n    options: {encrypt: true, trustServerCertificate: true}\n};\n\nlet pool;\n\nconst connectDB = async () => {\n    try {\n        pool = await sql.connect(dbConfig);\n        return pool;\n    } catch (error) {\n        console.error(\"Database connection failed: \", error);\n        throw error;\n    }\n}\n\nmodule.exports = {connectDB, getPool: () => pool, sql};"],"mappings":";;;;;AAAA,IAAMA,GAAG,GAAGC,OAAO,CAAC,OAAO,CAAC;AAC5B,IAAMC,MAAM,GAAGD,OAAO,CAAC,QAAQ,CAAC;AAChCC,MAAM,CAACC,MAAM,CAAC,CAAC;AAEf,IAAMC,QAAQ,GAAG;EACbC,IAAI,EAAEC,OAAO,CAACC,GAAG,CAACC,OAAO;EACzBC,QAAQ,EAAEH,OAAO,CAACC,GAAG,CAACG,OAAO;EAC7BC,MAAM,EAAEL,OAAO,CAACC,GAAG,CAACK,SAAS;EAC7BC,QAAQ,EAAEP,OAAO,CAACC,GAAG,CAACO,OAAO;EAC7BC,OAAO,EAAE;IAACC,OAAO,EAAE,IAAI;IAAEC,sBAAsB,EAAE;EAAI;AACzD,CAAC;AAED,IAAIC,IAAI;AAER,IAAMC,SAAS;EAAA,IAAAC,IAAA,OAAAC,kBAAA,0BAAAC,YAAA,YAAAC,IAAA,CAAG,SAAAC,QAAA;IAAA,IAAAC,EAAA;IAAA,OAAAH,YAAA,YAAAI,IAAA,WAAAC,QAAA;MAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;QAAA;UAAAF,QAAA,CAAAC,IAAA;UAAAD,QAAA,CAAAE,IAAA;UAAA,OAEG7B,GAAG,CAAC8B,OAAO,CAAC1B,QAAQ,CAAC;QAAA;UAAlCc,IAAI,GAAAS,QAAA,CAAAI,IAAA;UAAA,OAAAJ,QAAA,CAAAK,MAAA,WACGd,IAAI;QAAA;UAAAS,QAAA,CAAAC,IAAA;UAAAH,EAAA,GAAAE,QAAA;UAEXM,OAAO,CAACC,KAAK,CAAC,8BAA8B,EAAAT,EAAO,CAAC;UAAC,MAAAA,EAAA;QAAA;QAAA;UAAA,OAAAE,QAAA,CAAAQ,IAAA;MAAA;IAAA,GAAAX,OAAA;EAAA,CAG5D;EAAA,gBARKL,SAASA,CAAA;IAAA,OAAAC,IAAA,CAAAgB,KAAA,OAAAC,SAAA;EAAA;AAAA,GAQd;AAEDC,MAAM,CAACC,OAAO,GAAG;EAACpB,SAAS,EAATA,SAAS;EAAEqB,OAAO,EAAE,SAATA,OAAOA,CAAA;IAAA,OAAQtB,IAAI;EAAA;EAAElB,GAAG,EAAHA;AAAG,CAAC","ignoreList":[]}},"mtime":1764435289429},"{\"assumptions\":{},\"sourceRoot\":\"/workspaces/FixAppliance-eCommerce/back-end/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/workspaces/FixAppliance-eCommerce/back-end\",\"filename\":\"/workspaces/FixAppliance-eCommerce/back-end/src/routes/userRoutes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/workspaces/FixAppliance-eCommerce/back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"_exploded\":true,\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"VoidPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/workspaces/FixAppliance-eCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$48\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/workspaces/FixAppliance-eCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$49\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"\"use strict\";\n\n/**\n * This express file sets up the routes of the user, which consist of:\n *      Non-validation required routes: register and login\n *      Validation required routes: logout, booking-related (requesting, paying, rating and getting bookings)\n * \n * Validation requirement is to have the cookie with the right credintials without being expired.\n * \n * The functionalities for the routes themselves can be found in 3 files:\n *      1. controllers/UserController.js for register, login, logout\n *      2. controllers/UserBookingController.js for booking-related functonalities\n *      3. middlewares/auth.js for authenticating the user's credentials that are either stored or not stored\n */\n\nvar express = require(\"express\");\nvar _require = require(\"../controllers/UserController\"),\n  registerUser = _require.registerUser,\n  loginUser = _require.loginUser,\n  logoutUser = _require.logoutUser;\nvar _require2 = require(\"../middlewares/auth\"),\n  userValidation = _require2.userValidation;\nvar _require3 = require(\"../controllers/UserBookingController\"),\n  userRequestBooking = _require3.userRequestBooking,\n  userPayBooking = _require3.userPayBooking,\n  userRateBooking = _require3.userRateBooking,\n  getPendingBookings = _require3.getPendingBookings,\n  getConfirmedBookings = _require3.getConfirmedBookings,\n  getInProgressBookings = _require3.getInProgressBookings,\n  getCompletedBookings = _require3.getCompletedBookings,\n  getCancelledBookings = _require3.getCancelledBookings;\nvar router = express.Router();\nrouter.post(\"/register\", registerUser);\nrouter.post(\"/login\", loginUser);\nrouter.post(\"/logout\", userValidation, logoutUser);\nrouter.post(\"/booking/request\", userValidation, userRequestBooking);\nrouter.post(\"/booking/pay\", userValidation, userPayBooking);\nrouter.post(\"/booking/rate\", userValidation, userRateBooking);\nrouter.get(\"/booking/pending\", userValidation, getPendingBookings);\nrouter.get(\"/booking/confirmed\", userValidation, getConfirmedBookings);\nrouter.get(\"/booking/in-progress\", userValidation, getInProgressBookings);\nrouter.get(\"/booking/completed\", userValidation, getCompletedBookings);\nrouter.get(\"/booking/cancelled\", userValidation, getCancelledBookings);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsIl9yZXF1aXJlIiwicmVnaXN0ZXJVc2VyIiwibG9naW5Vc2VyIiwibG9nb3V0VXNlciIsIl9yZXF1aXJlMiIsInVzZXJWYWxpZGF0aW9uIiwiX3JlcXVpcmUzIiwidXNlclJlcXVlc3RCb29raW5nIiwidXNlclBheUJvb2tpbmciLCJ1c2VyUmF0ZUJvb2tpbmciLCJnZXRQZW5kaW5nQm9va2luZ3MiLCJnZXRDb25maXJtZWRCb29raW5ncyIsImdldEluUHJvZ3Jlc3NCb29raW5ncyIsImdldENvbXBsZXRlZEJvb2tpbmdzIiwiZ2V0Q2FuY2VsbGVkQm9va2luZ3MiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJwb3N0IiwiZ2V0IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL3dvcmtzcGFjZXMvRml4QXBwbGlhbmNlLWVDb21tZXJjZS9iYWNrLWVuZC9zcmMvcm91dGVzLyIsInNvdXJjZXMiOlsidXNlclJvdXRlcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFRoaXMgZXhwcmVzcyBmaWxlIHNldHMgdXAgdGhlIHJvdXRlcyBvZiB0aGUgdXNlciwgd2hpY2ggY29uc2lzdCBvZjpcbiAqICAgICAgTm9uLXZhbGlkYXRpb24gcmVxdWlyZWQgcm91dGVzOiByZWdpc3RlciBhbmQgbG9naW5cbiAqICAgICAgVmFsaWRhdGlvbiByZXF1aXJlZCByb3V0ZXM6IGxvZ291dCwgYm9va2luZy1yZWxhdGVkIChyZXF1ZXN0aW5nLCBwYXlpbmcsIHJhdGluZyBhbmQgZ2V0dGluZyBib29raW5ncylcbiAqIFxuICogVmFsaWRhdGlvbiByZXF1aXJlbWVudCBpcyB0byBoYXZlIHRoZSBjb29raWUgd2l0aCB0aGUgcmlnaHQgY3JlZGludGlhbHMgd2l0aG91dCBiZWluZyBleHBpcmVkLlxuICogXG4gKiBUaGUgZnVuY3Rpb25hbGl0aWVzIGZvciB0aGUgcm91dGVzIHRoZW1zZWx2ZXMgY2FuIGJlIGZvdW5kIGluIDMgZmlsZXM6XG4gKiAgICAgIDEuIGNvbnRyb2xsZXJzL1VzZXJDb250cm9sbGVyLmpzIGZvciByZWdpc3RlciwgbG9naW4sIGxvZ291dFxuICogICAgICAyLiBjb250cm9sbGVycy9Vc2VyQm9va2luZ0NvbnRyb2xsZXIuanMgZm9yIGJvb2tpbmctcmVsYXRlZCBmdW5jdG9uYWxpdGllc1xuICogICAgICAzLiBtaWRkbGV3YXJlcy9hdXRoLmpzIGZvciBhdXRoZW50aWNhdGluZyB0aGUgdXNlcidzIGNyZWRlbnRpYWxzIHRoYXQgYXJlIGVpdGhlciBzdG9yZWQgb3Igbm90IHN0b3JlZFxuICovXG5cbmNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKFwiZXhwcmVzc1wiKTtcbmNvbnN0IHtyZWdpc3RlclVzZXIsIGxvZ2luVXNlciwgbG9nb3V0VXNlcn0gPSByZXF1aXJlKFwiLi4vY29udHJvbGxlcnMvVXNlckNvbnRyb2xsZXJcIik7XG5jb25zdCB7dXNlclZhbGlkYXRpb259ID0gcmVxdWlyZShcIi4uL21pZGRsZXdhcmVzL2F1dGhcIik7XG5jb25zdCB7dXNlclJlcXVlc3RCb29raW5nLCB1c2VyUGF5Qm9va2luZywgdXNlclJhdGVCb29raW5nLCBnZXRQZW5kaW5nQm9va2luZ3MsIGdldENvbmZpcm1lZEJvb2tpbmdzLCBnZXRJblByb2dyZXNzQm9va2luZ3MsIGdldENvbXBsZXRlZEJvb2tpbmdzLCBnZXRDYW5jZWxsZWRCb29raW5nc30gPSByZXF1aXJlKFwiLi4vY29udHJvbGxlcnMvVXNlckJvb2tpbmdDb250cm9sbGVyXCIpO1xuXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG5yb3V0ZXIucG9zdChcIi9yZWdpc3RlclwiLCByZWdpc3RlclVzZXIpO1xucm91dGVyLnBvc3QoXCIvbG9naW5cIiwgbG9naW5Vc2VyKTtcbnJvdXRlci5wb3N0KFwiL2xvZ291dFwiLCB1c2VyVmFsaWRhdGlvbiwgbG9nb3V0VXNlcik7XG5cblxucm91dGVyLnBvc3QoXCIvYm9va2luZy9yZXF1ZXN0XCIsIHVzZXJWYWxpZGF0aW9uLCB1c2VyUmVxdWVzdEJvb2tpbmcpO1xucm91dGVyLnBvc3QoXCIvYm9va2luZy9wYXlcIiwgdXNlclZhbGlkYXRpb24sIHVzZXJQYXlCb29raW5nKTtcbnJvdXRlci5wb3N0KFwiL2Jvb2tpbmcvcmF0ZVwiLCB1c2VyVmFsaWRhdGlvbiwgdXNlclJhdGVCb29raW5nKTtcblxucm91dGVyLmdldChcIi9ib29raW5nL3BlbmRpbmdcIiwgdXNlclZhbGlkYXRpb24sIGdldFBlbmRpbmdCb29raW5ncyk7XG5yb3V0ZXIuZ2V0KFwiL2Jvb2tpbmcvY29uZmlybWVkXCIsIHVzZXJWYWxpZGF0aW9uLCBnZXRDb25maXJtZWRCb29raW5ncyk7XG5yb3V0ZXIuZ2V0KFwiL2Jvb2tpbmcvaW4tcHJvZ3Jlc3NcIiwgdXNlclZhbGlkYXRpb24sIGdldEluUHJvZ3Jlc3NCb29raW5ncyk7XG5yb3V0ZXIuZ2V0KFwiL2Jvb2tpbmcvY29tcGxldGVkXCIsIHVzZXJWYWxpZGF0aW9uLCBnZXRDb21wbGV0ZWRCb29raW5ncyk7XG5yb3V0ZXIuZ2V0KFwiL2Jvb2tpbmcvY2FuY2VsbGVkXCIsIHVzZXJWYWxpZGF0aW9uLCBnZXRDYW5jZWxsZWRCb29raW5ncyk7XG5cbm1vZHVsZS5leHBvcnRzID0gcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsSUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBUyxDQUFDO0FBQ2xDLElBQUFDLFFBQUEsR0FBOENELE9BQU8sQ0FBQywrQkFBK0IsQ0FBQztFQUEvRUUsWUFBWSxHQUFBRCxRQUFBLENBQVpDLFlBQVk7RUFBRUMsU0FBUyxHQUFBRixRQUFBLENBQVRFLFNBQVM7RUFBRUMsVUFBVSxHQUFBSCxRQUFBLENBQVZHLFVBQVU7QUFDMUMsSUFBQUMsU0FBQSxHQUF5QkwsT0FBTyxDQUFDLHFCQUFxQixDQUFDO0VBQWhETSxjQUFjLEdBQUFELFNBQUEsQ0FBZEMsY0FBYztBQUNyQixJQUFBQyxTQUFBLEdBQTJLUCxPQUFPLENBQUMsc0NBQXNDLENBQUM7RUFBbk5RLGtCQUFrQixHQUFBRCxTQUFBLENBQWxCQyxrQkFBa0I7RUFBRUMsY0FBYyxHQUFBRixTQUFBLENBQWRFLGNBQWM7RUFBRUMsZUFBZSxHQUFBSCxTQUFBLENBQWZHLGVBQWU7RUFBRUMsa0JBQWtCLEdBQUFKLFNBQUEsQ0FBbEJJLGtCQUFrQjtFQUFFQyxvQkFBb0IsR0FBQUwsU0FBQSxDQUFwQkssb0JBQW9CO0VBQUVDLHFCQUFxQixHQUFBTixTQUFBLENBQXJCTSxxQkFBcUI7RUFBRUMsb0JBQW9CLEdBQUFQLFNBQUEsQ0FBcEJPLG9CQUFvQjtFQUFFQyxvQkFBb0IsR0FBQVIsU0FBQSxDQUFwQlEsb0JBQW9CO0FBRXZLLElBQU1DLE1BQU0sR0FBR2pCLE9BQU8sQ0FBQ2tCLE1BQU0sQ0FBQyxDQUFDO0FBRS9CRCxNQUFNLENBQUNFLElBQUksQ0FBQyxXQUFXLEVBQUVoQixZQUFZLENBQUM7QUFDdENjLE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLFFBQVEsRUFBRWYsU0FBUyxDQUFDO0FBQ2hDYSxNQUFNLENBQUNFLElBQUksQ0FBQyxTQUFTLEVBQUVaLGNBQWMsRUFBRUYsVUFBVSxDQUFDO0FBR2xEWSxNQUFNLENBQUNFLElBQUksQ0FBQyxrQkFBa0IsRUFBRVosY0FBYyxFQUFFRSxrQkFBa0IsQ0FBQztBQUNuRVEsTUFBTSxDQUFDRSxJQUFJLENBQUMsY0FBYyxFQUFFWixjQUFjLEVBQUVHLGNBQWMsQ0FBQztBQUMzRE8sTUFBTSxDQUFDRSxJQUFJLENBQUMsZUFBZSxFQUFFWixjQUFjLEVBQUVJLGVBQWUsQ0FBQztBQUU3RE0sTUFBTSxDQUFDRyxHQUFHLENBQUMsa0JBQWtCLEVBQUViLGNBQWMsRUFBRUssa0JBQWtCLENBQUM7QUFDbEVLLE1BQU0sQ0FBQ0csR0FBRyxDQUFDLG9CQUFvQixFQUFFYixjQUFjLEVBQUVNLG9CQUFvQixDQUFDO0FBQ3RFSSxNQUFNLENBQUNHLEdBQUcsQ0FBQyxzQkFBc0IsRUFBRWIsY0FBYyxFQUFFTyxxQkFBcUIsQ0FBQztBQUN6RUcsTUFBTSxDQUFDRyxHQUFHLENBQUMsb0JBQW9CLEVBQUViLGNBQWMsRUFBRVEsb0JBQW9CLENBQUM7QUFDdEVFLE1BQU0sQ0FBQ0csR0FBRyxDQUFDLG9CQUFvQixFQUFFYixjQUFjLEVBQUVTLG9CQUFvQixDQUFDO0FBRXRFSyxNQUFNLENBQUNDLE9BQU8sR0FBR0wsTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["express","require","_require","registerUser","loginUser","logoutUser","_require2","userValidation","_require3","userRequestBooking","userPayBooking","userRateBooking","getPendingBookings","getConfirmedBookings","getInProgressBookings","getCompletedBookings","getCancelledBookings","router","Router","post","get","module","exports"],"sourceRoot":"/workspaces/FixAppliance-eCommerce/back-end/src/routes/","sources":["userRoutes.js"],"sourcesContent":["/**\n * This express file sets up the routes of the user, which consist of:\n *      Non-validation required routes: register and login\n *      Validation required routes: logout, booking-related (requesting, paying, rating and getting bookings)\n * \n * Validation requirement is to have the cookie with the right credintials without being expired.\n * \n * The functionalities for the routes themselves can be found in 3 files:\n *      1. controllers/UserController.js for register, login, logout\n *      2. controllers/UserBookingController.js for booking-related functonalities\n *      3. middlewares/auth.js for authenticating the user's credentials that are either stored or not stored\n */\n\nconst express = require(\"express\");\nconst {registerUser, loginUser, logoutUser} = require(\"../controllers/UserController\");\nconst {userValidation} = require(\"../middlewares/auth\");\nconst {userRequestBooking, userPayBooking, userRateBooking, getPendingBookings, getConfirmedBookings, getInProgressBookings, getCompletedBookings, getCancelledBookings} = require(\"../controllers/UserBookingController\");\n\nconst router = express.Router();\n\nrouter.post(\"/register\", registerUser);\nrouter.post(\"/login\", loginUser);\nrouter.post(\"/logout\", userValidation, logoutUser);\n\n\nrouter.post(\"/booking/request\", userValidation, userRequestBooking);\nrouter.post(\"/booking/pay\", userValidation, userPayBooking);\nrouter.post(\"/booking/rate\", userValidation, userRateBooking);\n\nrouter.get(\"/booking/pending\", userValidation, getPendingBookings);\nrouter.get(\"/booking/confirmed\", userValidation, getConfirmedBookings);\nrouter.get(\"/booking/in-progress\", userValidation, getInProgressBookings);\nrouter.get(\"/booking/completed\", userValidation, getCompletedBookings);\nrouter.get(\"/booking/cancelled\", userValidation, getCancelledBookings);\n\nmodule.exports = router;"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAMA,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAClC,IAAAC,QAAA,GAA8CD,OAAO,CAAC,+BAA+B,CAAC;EAA/EE,YAAY,GAAAD,QAAA,CAAZC,YAAY;EAAEC,SAAS,GAAAF,QAAA,CAATE,SAAS;EAAEC,UAAU,GAAAH,QAAA,CAAVG,UAAU;AAC1C,IAAAC,SAAA,GAAyBL,OAAO,CAAC,qBAAqB,CAAC;EAAhDM,cAAc,GAAAD,SAAA,CAAdC,cAAc;AACrB,IAAAC,SAAA,GAA2KP,OAAO,CAAC,sCAAsC,CAAC;EAAnNQ,kBAAkB,GAAAD,SAAA,CAAlBC,kBAAkB;EAAEC,cAAc,GAAAF,SAAA,CAAdE,cAAc;EAAEC,eAAe,GAAAH,SAAA,CAAfG,eAAe;EAAEC,kBAAkB,GAAAJ,SAAA,CAAlBI,kBAAkB;EAAEC,oBAAoB,GAAAL,SAAA,CAApBK,oBAAoB;EAAEC,qBAAqB,GAAAN,SAAA,CAArBM,qBAAqB;EAAEC,oBAAoB,GAAAP,SAAA,CAApBO,oBAAoB;EAAEC,oBAAoB,GAAAR,SAAA,CAApBQ,oBAAoB;AAEvK,IAAMC,MAAM,GAAGjB,OAAO,CAACkB,MAAM,CAAC,CAAC;AAE/BD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAEhB,YAAY,CAAC;AACtCc,MAAM,CAACE,IAAI,CAAC,QAAQ,EAAEf,SAAS,CAAC;AAChCa,MAAM,CAACE,IAAI,CAAC,SAAS,EAAEZ,cAAc,EAAEF,UAAU,CAAC;AAGlDY,MAAM,CAACE,IAAI,CAAC,kBAAkB,EAAEZ,cAAc,EAAEE,kBAAkB,CAAC;AACnEQ,MAAM,CAACE,IAAI,CAAC,cAAc,EAAEZ,cAAc,EAAEG,cAAc,CAAC;AAC3DO,MAAM,CAACE,IAAI,CAAC,eAAe,EAAEZ,cAAc,EAAEI,eAAe,CAAC;AAE7DM,MAAM,CAACG,GAAG,CAAC,kBAAkB,EAAEb,cAAc,EAAEK,kBAAkB,CAAC;AAClEK,MAAM,CAACG,GAAG,CAAC,oBAAoB,EAAEb,cAAc,EAAEM,oBAAoB,CAAC;AACtEI,MAAM,CAACG,GAAG,CAAC,sBAAsB,EAAEb,cAAc,EAAEO,qBAAqB,CAAC;AACzEG,MAAM,CAACG,GAAG,CAAC,oBAAoB,EAAEb,cAAc,EAAEQ,oBAAoB,CAAC;AACtEE,MAAM,CAACG,GAAG,CAAC,oBAAoB,EAAEb,cAAc,EAAES,oBAAoB,CAAC;AAEtEK,MAAM,CAACC,OAAO,GAAGL,MAAM","ignoreList":[]}},"mtime":1764435289430},"{\"assumptions\":{},\"sourceRoot\":\"/workspaces/FixAppliance-eCommerce/back-end/src/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/workspaces/FixAppliance-eCommerce/back-end\",\"filename\":\"/workspaces/FixAppliance-eCommerce/back-end/src/controllers/UserController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/workspaces/FixAppliance-eCommerce/back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"_exploded\":true,\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"VoidPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/workspaces/FixAppliance-eCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$48\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/workspaces/FixAppliance-eCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$49\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n/**\n * The below controller provides the following functionalities for a user: registering, logging in and logging out.\n * \n * For storing the password, bcrypt is used to hash and jwt (jsonwebtoken) is used to sign a token and store it as cookie.\n */\n\nvar asyncHandler = require(\"express-async-handler\");\nvar bcrypt = require(\"bcrypt\");\nvar jwt = require(\"jsonwebtoken\");\n\n// sql needed for the type definitions in .input\n// getPool is to do queries\nvar _require = require(\"../config/database\"),\n  getPool = _require.getPool,\n  sql = _require.sql;\n\n// Import validation utilities\nvar _require2 = require(\"../utils/validators\"),\n  isValidEmail = _require2.isValidEmail,\n  isValidPhone = _require2.isValidPhone,\n  isValidPassword = _require2.isValidPassword,\n  isValidName = _require2.isValidName,\n  sanitizeString = _require2.sanitizeString;\n\n// Handles the registering functionality\nvar registerUser = asyncHandler(/*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee(req, res) {\n    var _req$body, firstName, lastName, email, phone, password, streetAddress, buildingName, floor, city, postalCode, passwordValidation, pool, hashedPassword, result, _t;\n    return _regenerator[\"default\"].wrap(function (_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          // Getting the needed data from the request body\n          _req$body = req.body, firstName = _req$body.firstName, lastName = _req$body.lastName, email = _req$body.email, phone = _req$body.phone, password = _req$body.password, streetAddress = _req$body.streetAddress, buildingName = _req$body.buildingName, floor = _req$body.floor, city = _req$body.city, postalCode = _req$body.postalCode; // Checking if any of them is empty, if yes then we throw a 400 \n          if (!(!firstName || !lastName || !email || !phone || !password || !streetAddress || !buildingName || !floor || !city || !postalCode)) {\n            _context.next = 1;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"You have to insert all data to register.\"\n          }));\n        case 1:\n          if (isValidName(firstName)) {\n            _context.next = 2;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"First name must be 2-30 characters and contain only letters.\"\n          }));\n        case 2:\n          if (isValidName(lastName)) {\n            _context.next = 3;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"Last name must be 2-30 characters and contain only letters.\"\n          }));\n        case 3:\n          if (isValidEmail(email)) {\n            _context.next = 4;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"Please enter a valid email address.\"\n          }));\n        case 4:\n          if (isValidPhone(phone)) {\n            _context.next = 5;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"Please enter a valid phone number.\"\n          }));\n        case 5:\n          // Validate password strength\n          passwordValidation = isValidPassword(password);\n          if (passwordValidation.valid) {\n            _context.next = 6;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: passwordValidation.message\n          }));\n        case 6:\n          if (!(streetAddress.length > 200)) {\n            _context.next = 7;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"Street address cannot exceed 200 characters.\"\n          }));\n        case 7:\n          if (!(buildingName && buildingName.length > 100)) {\n            _context.next = 8;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"Building name cannot exceed 100 characters.\"\n          }));\n        case 8:\n          if (!(city.length > 50)) {\n            _context.next = 9;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"City name cannot exceed 50 characters.\"\n          }));\n        case 9:\n          _context.prev = 9;\n          pool = getPool(); // Hashing the password before storing\n          _context.next = 10;\n          return bcrypt.hash(password, 11);\n        case 10:\n          hashedPassword = _context.sent;\n          _context.next = 11;\n          return pool.request().input(\"firstName\", sql.VarChar, sanitizeString(firstName)).input(\"lastName\", sql.VarChar, sanitizeString(lastName)).input(\"email\", sql.VarChar, sanitizeString(email).toLowerCase()).input(\"phone\", sql.VarChar, sanitizeString(phone)).input(\"hashedPassword\", sql.VarChar, hashedPassword).input(\"streetAddress\", sql.VarChar, sanitizeString(streetAddress)).input(\"buildingName\", sql.VarChar, sanitizeString(buildingName)).input(\"floor\", sql.VarChar, sanitizeString(floor)).input(\"city\", sql.VarChar, sanitizeString(city)).input(\"postalCode\", sql.VarChar, sanitizeString(postalCode)).query(\"\\n            INSERT INTO [User] (First_Name, Last_Name, Email, Phone, Password_Hash, Street_Address, Building_Name, Floor, City, Postal_Code)\\n            VALUES(@firstName, @lastName, @email, @phone, @hashedPassword, @streetAddress, @buildingName, @floor, @city, @postalCode)\\n            \");\n        case 11:\n          result = _context.sent;\n          // Sending success message\n          res.status(201).json({\n            message: \"User registered successfully!\"\n          });\n          _context.next = 14;\n          break;\n        case 12:\n          _context.prev = 12;\n          _t = _context[\"catch\"](9);\n          if (!(_t.number === 2627 || _t.number === 2601)) {\n            _context.next = 13;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(409).json({\n            message: \"Another account exists already either with this email address or phone number. If you have another account, please use that one instead.\"\n          }));\n        case 13:\n          // Throwing the console error and 500 status in case something goes wrong.\n          console.error(\"Unexpected error registering a new user account: \", _t);\n          res.status(500).json({\n            message: \"An unexpected error occurred while registering the user.\"\n          });\n        case 14:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[9, 12]]);\n  }));\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}());\n\n// Handling the logging in functionality\nvar loginUser = asyncHandler(/*#__PURE__*/function () {\n  var _ref2 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(req, res) {\n    var _req$body2, email, password, pool, result, user, isPasswordValid, userToken, _t2;\n    return _regenerator[\"default\"].wrap(function (_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          // Getting the email and password that the user is trying to login with.\n          _req$body2 = req.body, email = _req$body2.email, password = _req$body2.password; // Input validation, if either empty then send 400 error\n          if (!(!email || !password)) {\n            _context2.next = 1;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(400).json({\n            message: \"You have to enter both your email and your password\"\n          }));\n        case 1:\n          if (isValidEmail(email)) {\n            _context2.next = 2;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(400).json({\n            message: \"Please enter a valid email address.\"\n          }));\n        case 2:\n          _context2.prev = 2;\n          pool = getPool(); // Searching in the database for a user with the same email passed to check if exists\n          _context2.next = 3;\n          return pool.request().input(\"email\", sql.VarChar, sanitizeString(email).toLowerCase()).query(\"\\n                SELECT User_ID, First_Name, Last_Name, Email, Password_Hash, isActive\\n                FROM [User]\\n                WHERE Email = @email\\n                \");\n        case 3:\n          result = _context2.sent;\n          if (!(result.recordset.length === 0)) {\n            _context2.next = 4;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(401).json({\n            message: \"Invalid email address or password.\"\n          }));\n        case 4:\n          // Now we are getting the first user that we got having the same email address\n          user = result.recordset[0];\n          if (user.isActive) {\n            _context2.next = 5;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(403).json({\n            message: \"Your account is deactivated. Please contact us to resolve this issue.\"\n          }));\n        case 5:\n          _context2.next = 6;\n          return bcrypt.compare(password, user.Password_Hash);\n        case 6:\n          isPasswordValid = _context2.sent;\n          if (isPasswordValid) {\n            _context2.next = 7;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(401).json({\n            message: \"Invalid email address or password.\"\n          }));\n        case 7:\n          // If the password matches, then create a user token using jwt by signing it with the USER_ACCESS_TOKEN\n          // stored in the .env file. The token expires in 1 day.\n          userToken = jwt.sign({\n            id: user.User_ID,\n            firstName: user.First_Name,\n            lastName: user.Last_Name,\n            email: user.Email\n          }, process.env.USER_ACCESS_TOKEN, {\n            expiresIn: \"1d\"\n          }); // If a cookie exists already for the user, clear it.\n          if (req.cookies.user_access_token) {\n            res.clearCookie('user_access_token');\n          }\n\n          // Store the new cookie such that it lasts 1 day, and throw a 200 success message with some data about the user\n          // (id, firstName, lastName, email)\n          res.cookie('user_access_token', userToken, {\n            httpOnly: true,\n            secure: process.env.NODE_ENV === \"production\",\n            sameSite: 'strict',\n            maxAge: 24 * 60 * 60 * 1000\n          });\n          res.status(200).json({\n            message: \"Successfully logged in.\",\n            user: {\n              id: user.User_ID,\n              firstName: user.First_Name,\n              lastName: user.Last_Name,\n              email: user.Email\n            }\n          });\n\n          // If anything goes wrong, ex duplicate email, then throw an error.\n          _context2.next = 9;\n          break;\n        case 8:\n          _context2.prev = 8;\n          _t2 = _context2[\"catch\"](2);\n          console.error(\"Login error:\", _t2);\n          res.status(500).json({\n            message: \"An error occurred during login.\"\n          });\n        case 9:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[2, 8]]);\n  }));\n  return function (_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}());\n\n// Logging out functionality by clearing the user's cooking and sending a success message\nvar logoutUser = asyncHandler(/*#__PURE__*/function () {\n  var _ref3 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee3(req, res) {\n    return _regenerator[\"default\"].wrap(function (_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          res.clearCookie('user_access_token');\n          res.status(200).json({\n            message: \"Successfully logged out.\"\n          });\n        case 1:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3);\n  }));\n  return function (_x5, _x6) {\n    return _ref3.apply(this, arguments);\n  };\n}());\nmodule.exports = {\n  registerUser: registerUser,\n  loginUser: loginUser,\n  logoutUser: logoutUser\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhc3luY0hhbmRsZXIiLCJyZXF1aXJlIiwiYmNyeXB0Iiwiand0IiwiX3JlcXVpcmUiLCJnZXRQb29sIiwic3FsIiwiX3JlcXVpcmUyIiwiaXNWYWxpZEVtYWlsIiwiaXNWYWxpZFBob25lIiwiaXNWYWxpZFBhc3N3b3JkIiwiaXNWYWxpZE5hbWUiLCJzYW5pdGl6ZVN0cmluZyIsInJlZ2lzdGVyVXNlciIsIl9yZWYiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJfcmVnZW5lcmF0b3IiLCJtYXJrIiwiX2NhbGxlZSIsInJlcSIsInJlcyIsIl9yZXEkYm9keSIsImZpcnN0TmFtZSIsImxhc3ROYW1lIiwiZW1haWwiLCJwaG9uZSIsInBhc3N3b3JkIiwic3RyZWV0QWRkcmVzcyIsImJ1aWxkaW5nTmFtZSIsImZsb29yIiwiY2l0eSIsInBvc3RhbENvZGUiLCJwYXNzd29yZFZhbGlkYXRpb24iLCJwb29sIiwiaGFzaGVkUGFzc3dvcmQiLCJyZXN1bHQiLCJfdCIsIndyYXAiLCJfY29udGV4dCIsInByZXYiLCJuZXh0IiwiYm9keSIsImFicnVwdCIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwidmFsaWQiLCJsZW5ndGgiLCJoYXNoIiwic2VudCIsInJlcXVlc3QiLCJpbnB1dCIsIlZhckNoYXIiLCJ0b0xvd2VyQ2FzZSIsInF1ZXJ5IiwibnVtYmVyIiwiY29uc29sZSIsImVycm9yIiwic3RvcCIsIl94IiwiX3gyIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJsb2dpblVzZXIiLCJfcmVmMiIsIl9jYWxsZWUyIiwiX3JlcSRib2R5MiIsInVzZXIiLCJpc1Bhc3N3b3JkVmFsaWQiLCJ1c2VyVG9rZW4iLCJfdDIiLCJfY29udGV4dDIiLCJyZWNvcmRzZXQiLCJpc0FjdGl2ZSIsImNvbXBhcmUiLCJQYXNzd29yZF9IYXNoIiwic2lnbiIsImlkIiwiVXNlcl9JRCIsIkZpcnN0X05hbWUiLCJMYXN0X05hbWUiLCJFbWFpbCIsInByb2Nlc3MiLCJlbnYiLCJVU0VSX0FDQ0VTU19UT0tFTiIsImV4cGlyZXNJbiIsImNvb2tpZXMiLCJ1c2VyX2FjY2Vzc190b2tlbiIsImNsZWFyQ29va2llIiwiY29va2llIiwiaHR0cE9ubHkiLCJzZWN1cmUiLCJOT0RFX0VOViIsInNhbWVTaXRlIiwibWF4QWdlIiwiX3gzIiwiX3g0IiwibG9nb3V0VXNlciIsIl9yZWYzIiwiX2NhbGxlZTMiLCJfY29udGV4dDMiLCJfeDUiLCJfeDYiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvd29ya3NwYWNlcy9GaXhBcHBsaWFuY2UtZUNvbW1lcmNlL2JhY2stZW5kL3NyYy9jb250cm9sbGVycy8iLCJzb3VyY2VzIjpbIlVzZXJDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGhlIGJlbG93IGNvbnRyb2xsZXIgcHJvdmlkZXMgdGhlIGZvbGxvd2luZyBmdW5jdGlvbmFsaXRpZXMgZm9yIGEgdXNlcjogcmVnaXN0ZXJpbmcsIGxvZ2dpbmcgaW4gYW5kIGxvZ2dpbmcgb3V0LlxuICogXG4gKiBGb3Igc3RvcmluZyB0aGUgcGFzc3dvcmQsIGJjcnlwdCBpcyB1c2VkIHRvIGhhc2ggYW5kIGp3dCAoanNvbndlYnRva2VuKSBpcyB1c2VkIHRvIHNpZ24gYSB0b2tlbiBhbmQgc3RvcmUgaXQgYXMgY29va2llLlxuICovXG5cbmNvbnN0IGFzeW5jSGFuZGxlciA9IHJlcXVpcmUoXCJleHByZXNzLWFzeW5jLWhhbmRsZXJcIik7XG5jb25zdCBiY3J5cHQgPSByZXF1aXJlKFwiYmNyeXB0XCIpO1xuY29uc3Qgand0ID0gcmVxdWlyZShcImpzb253ZWJ0b2tlblwiKTtcblxuLy8gc3FsIG5lZWRlZCBmb3IgdGhlIHR5cGUgZGVmaW5pdGlvbnMgaW4gLmlucHV0XG4vLyBnZXRQb29sIGlzIHRvIGRvIHF1ZXJpZXNcbmNvbnN0IHsgZ2V0UG9vbCwgc3FsIH0gPSByZXF1aXJlKFwiLi4vY29uZmlnL2RhdGFiYXNlXCIpO1xuXG4vLyBJbXBvcnQgdmFsaWRhdGlvbiB1dGlsaXRpZXNcbmNvbnN0IHsgaXNWYWxpZEVtYWlsLCBpc1ZhbGlkUGhvbmUsIGlzVmFsaWRQYXNzd29yZCwgaXNWYWxpZE5hbWUsIHNhbml0aXplU3RyaW5nIH0gPSByZXF1aXJlKFwiLi4vdXRpbHMvdmFsaWRhdG9yc1wiKTtcblxuXG4vLyBIYW5kbGVzIHRoZSByZWdpc3RlcmluZyBmdW5jdGlvbmFsaXR5XG5jb25zdCByZWdpc3RlclVzZXIgPSBhc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgLy8gR2V0dGluZyB0aGUgbmVlZGVkIGRhdGEgZnJvbSB0aGUgcmVxdWVzdCBib2R5XG4gICAgY29uc3QgeyBmaXJzdE5hbWUsIGxhc3ROYW1lLCBlbWFpbCwgcGhvbmUsIHBhc3N3b3JkLCBzdHJlZXRBZGRyZXNzLCBidWlsZGluZ05hbWUsIGZsb29yLCBjaXR5LCBwb3N0YWxDb2RlIH0gPSByZXEuYm9keTtcblxuICAgIC8vIENoZWNraW5nIGlmIGFueSBvZiB0aGVtIGlzIGVtcHR5LCBpZiB5ZXMgdGhlbiB3ZSB0aHJvdyBhIDQwMCBcbiAgICBpZiAoIWZpcnN0TmFtZSB8fCAhbGFzdE5hbWUgfHwgIWVtYWlsIHx8ICFwaG9uZSB8fCAhcGFzc3dvcmQgfHwgIXN0cmVldEFkZHJlc3MgfHwgIWJ1aWxkaW5nTmFtZSB8fCAhZmxvb3IgfHwgIWNpdHkgfHwgIXBvc3RhbENvZGUpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttZXNzYWdlOiBcIllvdSBoYXZlIHRvIGluc2VydCBhbGwgZGF0YSB0byByZWdpc3Rlci5cIn0pO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRlIGZpcnN0IG5hbWUgZm9ybWF0XG4gICAgaWYgKCFpc1ZhbGlkTmFtZShmaXJzdE5hbWUpKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJGaXJzdCBuYW1lIG11c3QgYmUgMi0zMCBjaGFyYWN0ZXJzIGFuZCBjb250YWluIG9ubHkgbGV0dGVycy5cIn0pO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRlIGxhc3QgbmFtZSBmb3JtYXRcbiAgICBpZiAoIWlzVmFsaWROYW1lKGxhc3ROYW1lKSkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiTGFzdCBuYW1lIG11c3QgYmUgMi0zMCBjaGFyYWN0ZXJzIGFuZCBjb250YWluIG9ubHkgbGV0dGVycy5cIn0pO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRlIGVtYWlsIGZvcm1hdFxuICAgIGlmICghaXNWYWxpZEVtYWlsKGVtYWlsKSkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiUGxlYXNlIGVudGVyIGEgdmFsaWQgZW1haWwgYWRkcmVzcy5cIn0pO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRlIHBob25lIGZvcm1hdFxuICAgIGlmICghaXNWYWxpZFBob25lKHBob25lKSkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiUGxlYXNlIGVudGVyIGEgdmFsaWQgcGhvbmUgbnVtYmVyLlwifSk7XG4gICAgfVxuXG4gICAgLy8gVmFsaWRhdGUgcGFzc3dvcmQgc3RyZW5ndGhcbiAgICBjb25zdCBwYXNzd29yZFZhbGlkYXRpb24gPSBpc1ZhbGlkUGFzc3dvcmQocGFzc3dvcmQpO1xuICAgIGlmICghcGFzc3dvcmRWYWxpZGF0aW9uLnZhbGlkKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogcGFzc3dvcmRWYWxpZGF0aW9uLm1lc3NhZ2V9KTtcbiAgICB9XG5cbiAgICAvLyBWYWxpZGF0ZSBhZGRyZXNzIGZpZWxkcyBsZW5ndGhcbiAgICBpZiAoc3RyZWV0QWRkcmVzcy5sZW5ndGggPiAyMDApIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttZXNzYWdlOiBcIlN0cmVldCBhZGRyZXNzIGNhbm5vdCBleGNlZWQgMjAwIGNoYXJhY3RlcnMuXCJ9KTtcbiAgICB9XG5cbiAgICBpZiAoYnVpbGRpbmdOYW1lICYmIGJ1aWxkaW5nTmFtZS5sZW5ndGggPiAxMDApIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttZXNzYWdlOiBcIkJ1aWxkaW5nIG5hbWUgY2Fubm90IGV4Y2VlZCAxMDAgY2hhcmFjdGVycy5cIn0pO1xuICAgIH1cblxuICAgIGlmIChjaXR5Lmxlbmd0aCA+IDUwKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJDaXR5IG5hbWUgY2Fubm90IGV4Y2VlZCA1MCBjaGFyYWN0ZXJzLlwifSk7XG4gICAgfVxuXG4gICAgLy8gV2Ugbm93IHRyeSB0byBhY2Nlc3MgdGhlIGRhdGFiYXNlIHRvIGluc2VydCB0aGUgdXNlclxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHBvb2wgPSBnZXRQb29sKCk7XG5cbiAgICAgICAgLy8gSGFzaGluZyB0aGUgcGFzc3dvcmQgYmVmb3JlIHN0b3JpbmdcbiAgICAgICAgY29uc3QgaGFzaGVkUGFzc3dvcmQgPSBhd2FpdCBiY3J5cHQuaGFzaChwYXNzd29yZCwgMTEpO1xuXG4gICAgICAgIC8vIEluc2VydGluZyB0aGUgdXNlciBpbnRvIHRoZSBkYXRhYmFzZSBVc2VyIHRhYmxlIChzYW5pdGl6ZSBpbnB1dHMpXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBvb2wucmVxdWVzdCgpXG4gICAgICAgICAgICAuaW5wdXQoXCJmaXJzdE5hbWVcIiwgc3FsLlZhckNoYXIsIHNhbml0aXplU3RyaW5nKGZpcnN0TmFtZSkpXG4gICAgICAgICAgICAuaW5wdXQoXCJsYXN0TmFtZVwiLCBzcWwuVmFyQ2hhciwgc2FuaXRpemVTdHJpbmcobGFzdE5hbWUpKVxuICAgICAgICAgICAgLmlucHV0KFwiZW1haWxcIiwgc3FsLlZhckNoYXIsIHNhbml0aXplU3RyaW5nKGVtYWlsKS50b0xvd2VyQ2FzZSgpKVxuICAgICAgICAgICAgLmlucHV0KFwicGhvbmVcIiwgc3FsLlZhckNoYXIsIHNhbml0aXplU3RyaW5nKHBob25lKSlcbiAgICAgICAgICAgIC5pbnB1dChcImhhc2hlZFBhc3N3b3JkXCIsIHNxbC5WYXJDaGFyLCBoYXNoZWRQYXNzd29yZClcbiAgICAgICAgICAgIC5pbnB1dChcInN0cmVldEFkZHJlc3NcIiwgc3FsLlZhckNoYXIsIHNhbml0aXplU3RyaW5nKHN0cmVldEFkZHJlc3MpKVxuICAgICAgICAgICAgLmlucHV0KFwiYnVpbGRpbmdOYW1lXCIsIHNxbC5WYXJDaGFyLCBzYW5pdGl6ZVN0cmluZyhidWlsZGluZ05hbWUpKVxuICAgICAgICAgICAgLmlucHV0KFwiZmxvb3JcIiwgc3FsLlZhckNoYXIsIHNhbml0aXplU3RyaW5nKGZsb29yKSlcbiAgICAgICAgICAgIC5pbnB1dChcImNpdHlcIiwgc3FsLlZhckNoYXIsIHNhbml0aXplU3RyaW5nKGNpdHkpKVxuICAgICAgICAgICAgLmlucHV0KFwicG9zdGFsQ29kZVwiLCBzcWwuVmFyQ2hhciwgc2FuaXRpemVTdHJpbmcocG9zdGFsQ29kZSkpXG4gICAgICAgICAgICAucXVlcnkoYFxuICAgICAgICAgICAgSU5TRVJUIElOVE8gW1VzZXJdIChGaXJzdF9OYW1lLCBMYXN0X05hbWUsIEVtYWlsLCBQaG9uZSwgUGFzc3dvcmRfSGFzaCwgU3RyZWV0X0FkZHJlc3MsIEJ1aWxkaW5nX05hbWUsIEZsb29yLCBDaXR5LCBQb3N0YWxfQ29kZSlcbiAgICAgICAgICAgIFZBTFVFUyhAZmlyc3ROYW1lLCBAbGFzdE5hbWUsIEBlbWFpbCwgQHBob25lLCBAaGFzaGVkUGFzc3dvcmQsIEBzdHJlZXRBZGRyZXNzLCBAYnVpbGRpbmdOYW1lLCBAZmxvb3IsIEBjaXR5LCBAcG9zdGFsQ29kZSlcbiAgICAgICAgICAgIGApO1xuXG4gICAgICAgIC8vIFNlbmRpbmcgc3VjY2VzcyBtZXNzYWdlXG4gICAgICAgIHJlcy5zdGF0dXMoMjAxKS5qc29uKHttZXNzYWdlOiBcIlVzZXIgcmVnaXN0ZXJlZCBzdWNjZXNzZnVsbHkhXCJ9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAvLyBIYW5kbGluZyB0aGUgdW5pcXVlIGNvbnN0cmFpbnRzIGZvciBlbWFpbCBhbmQgcGhvbmUgbnVtYmVyc1xuICAgICAgICAvLyAyNjI3IGlzIGZvciB2aW9sYXRpb24gb2YgdGhlIHVuaXF1ZSBrZXkgY29uc3RyYWludCwgYW5kIDI2MDEgaXMgZm9yIHVuaXF1ZSBpbmRleCB2aW9sYXRpb25cbiAgICAgICAgaWYgKGVycm9yLm51bWJlciA9PT0gMjYyNyB8fCBlcnJvci5udW1iZXIgPT09IDI2MDEpIHsgICAgICAgICAgICBcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwOSkuanNvbih7bWVzc2FnZTogXCJBbm90aGVyIGFjY291bnQgZXhpc3RzIGFscmVhZHkgZWl0aGVyIHdpdGggdGhpcyBlbWFpbCBhZGRyZXNzIG9yIHBob25lIG51bWJlci4gSWYgeW91IGhhdmUgYW5vdGhlciBhY2NvdW50LCBwbGVhc2UgdXNlIHRoYXQgb25lIGluc3RlYWQuXCJ9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRocm93aW5nIHRoZSBjb25zb2xlIGVycm9yIGFuZCA1MDAgc3RhdHVzIGluIGNhc2Ugc29tZXRoaW5nIGdvZXMgd3JvbmcuXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJVbmV4cGVjdGVkIGVycm9yIHJlZ2lzdGVyaW5nIGEgbmV3IHVzZXIgYWNjb3VudDogXCIsIGVycm9yKTtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe21lc3NhZ2U6IFwiQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZCB3aGlsZSByZWdpc3RlcmluZyB0aGUgdXNlci5cIn0pO1xuICAgIH1cbn0pO1xuXG5cbi8vIEhhbmRsaW5nIHRoZSBsb2dnaW5nIGluIGZ1bmN0aW9uYWxpdHlcbmNvbnN0IGxvZ2luVXNlciA9IGFzeW5jSGFuZGxlcihhc3luYyAocmVxLHJlcykgPT4ge1xuICAgIC8vIEdldHRpbmcgdGhlIGVtYWlsIGFuZCBwYXNzd29yZCB0aGF0IHRoZSB1c2VyIGlzIHRyeWluZyB0byBsb2dpbiB3aXRoLlxuICAgIGNvbnN0IHtlbWFpbCwgcGFzc3dvcmR9ID0gcmVxLmJvZHk7XG5cbiAgICAvLyBJbnB1dCB2YWxpZGF0aW9uLCBpZiBlaXRoZXIgZW1wdHkgdGhlbiBzZW5kIDQwMCBlcnJvclxuICAgIGlmICghZW1haWwgfHwgIXBhc3N3b3JkKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJZb3UgaGF2ZSB0byBlbnRlciBib3RoIHlvdXIgZW1haWwgYW5kIHlvdXIgcGFzc3dvcmRcIn0pO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRlIGVtYWlsIGZvcm1hdFxuICAgIGlmICghaXNWYWxpZEVtYWlsKGVtYWlsKSkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiUGxlYXNlIGVudGVyIGEgdmFsaWQgZW1haWwgYWRkcmVzcy5cIn0pO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHBvb2wgPSBnZXRQb29sKCk7XG5cbiAgICAgICAgLy8gU2VhcmNoaW5nIGluIHRoZSBkYXRhYmFzZSBmb3IgYSB1c2VyIHdpdGggdGhlIHNhbWUgZW1haWwgcGFzc2VkIHRvIGNoZWNrIGlmIGV4aXN0c1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwb29sLnJlcXVlc3QoKVxuICAgICAgICAgICAgLmlucHV0KFwiZW1haWxcIiwgc3FsLlZhckNoYXIsIHNhbml0aXplU3RyaW5nKGVtYWlsKS50b0xvd2VyQ2FzZSgpKVxuICAgICAgICAgICAgLnF1ZXJ5KGBcbiAgICAgICAgICAgICAgICBTRUxFQ1QgVXNlcl9JRCwgRmlyc3RfTmFtZSwgTGFzdF9OYW1lLCBFbWFpbCwgUGFzc3dvcmRfSGFzaCwgaXNBY3RpdmVcbiAgICAgICAgICAgICAgICBGUk9NIFtVc2VyXVxuICAgICAgICAgICAgICAgIFdIRVJFIEVtYWlsID0gQGVtYWlsXG4gICAgICAgICAgICAgICAgYCk7XG5cbiAgICAgICAgLy8gSWYgbm8gcmVzdWx0cyByZXR1cm5lZCBmcm9tIHRoZSBxdWVyeSwgdGhlbiB0aGUgZW1haWwgZW50ZXJlZCBpcyBpbnZhbGlkXG4gICAgICAgIGlmIChyZXN1bHQucmVjb3Jkc2V0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHttZXNzYWdlOiBcIkludmFsaWQgZW1haWwgYWRkcmVzcyBvciBwYXNzd29yZC5cIn0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTm93IHdlIGFyZSBnZXR0aW5nIHRoZSBmaXJzdCB1c2VyIHRoYXQgd2UgZ290IGhhdmluZyB0aGUgc2FtZSBlbWFpbCBhZGRyZXNzXG4gICAgICAgIGNvbnN0IHVzZXIgPSByZXN1bHQucmVjb3Jkc2V0WzBdO1xuICAgICAgICBpZiAoIXVzZXIuaXNBY3RpdmUpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMykuanNvbih7bWVzc2FnZTogXCJZb3VyIGFjY291bnQgaXMgZGVhY3RpdmF0ZWQuIFBsZWFzZSBjb250YWN0IHVzIHRvIHJlc29sdmUgdGhpcyBpc3N1ZS5cIn0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVXNpbmcgYmNyeXB0IHRvIGNoZWNrIGlmIHRoZSBlbWFpbCBwYXNzZWQgaXMgdGhlIHNhbWUgYXMgdGhlIGhhc2hlZCBvbmUgc3RvcmVkIGluIHRoZSBkYXRhYmFzZVxuICAgICAgICAvLyBJZiBubywgdGhyb3cgYSA0MDEgZXJyb3JcbiAgICAgICAgY29uc3QgaXNQYXNzd29yZFZhbGlkID0gYXdhaXQgYmNyeXB0LmNvbXBhcmUocGFzc3dvcmQsIHVzZXIuUGFzc3dvcmRfSGFzaCk7XG4gICAgICAgIGlmICghaXNQYXNzd29yZFZhbGlkKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oe21lc3NhZ2U6IFwiSW52YWxpZCBlbWFpbCBhZGRyZXNzIG9yIHBhc3N3b3JkLlwifSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiB0aGUgcGFzc3dvcmQgbWF0Y2hlcywgdGhlbiBjcmVhdGUgYSB1c2VyIHRva2VuIHVzaW5nIGp3dCBieSBzaWduaW5nIGl0IHdpdGggdGhlIFVTRVJfQUNDRVNTX1RPS0VOXG4gICAgICAgIC8vIHN0b3JlZCBpbiB0aGUgLmVudiBmaWxlLiBUaGUgdG9rZW4gZXhwaXJlcyBpbiAxIGRheS5cbiAgICAgICAgY29uc3QgdXNlclRva2VuID0gand0LnNpZ24oe1xuICAgICAgICAgICAgaWQ6IHVzZXIuVXNlcl9JRCxcbiAgICAgICAgICAgIGZpcnN0TmFtZTogdXNlci5GaXJzdF9OYW1lLFxuICAgICAgICAgICAgbGFzdE5hbWU6IHVzZXIuTGFzdF9OYW1lLFxuICAgICAgICAgICAgZW1haWw6IHVzZXIuRW1haWxcbiAgICAgICAgfSxcbiAgICAgICAgICAgIHByb2Nlc3MuZW52LlVTRVJfQUNDRVNTX1RPS0VOLFxuICAgICAgICAgICAge2V4cGlyZXNJbjogXCIxZFwifVxuICAgICAgICApO1xuXG4gICAgICAgIC8vIElmIGEgY29va2llIGV4aXN0cyBhbHJlYWR5IGZvciB0aGUgdXNlciwgY2xlYXIgaXQuXG4gICAgICAgIGlmIChyZXEuY29va2llcy51c2VyX2FjY2Vzc190b2tlbikge1xuICAgICAgICAgICAgcmVzLmNsZWFyQ29va2llKCd1c2VyX2FjY2Vzc190b2tlbicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU3RvcmUgdGhlIG5ldyBjb29raWUgc3VjaCB0aGF0IGl0IGxhc3RzIDEgZGF5LCBhbmQgdGhyb3cgYSAyMDAgc3VjY2VzcyBtZXNzYWdlIHdpdGggc29tZSBkYXRhIGFib3V0IHRoZSB1c2VyXG4gICAgICAgIC8vIChpZCwgZmlyc3ROYW1lLCBsYXN0TmFtZSwgZW1haWwpXG4gICAgICAgIHJlcy5jb29raWUoJ3VzZXJfYWNjZXNzX3Rva2VuJywgdXNlclRva2VuLCBcbiAgICAgICAgICAgIHtodHRwT25seTogdHJ1ZSwgXG4gICAgICAgICAgICBzZWN1cmU6IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIixcbiAgICAgICAgICAgIHNhbWVTaXRlOiAnc3RyaWN0JyxcbiAgICAgICAgICAgIG1heEFnZTogMjQgKiA2MCAqIDYwICogMTAwMH0pO1xuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIlN1Y2Nlc3NmdWxseSBsb2dnZWQgaW4uXCIsXG4gICAgICAgICAgICB1c2VyOiB7XG4gICAgICAgICAgICAgICAgaWQ6IHVzZXIuVXNlcl9JRCxcbiAgICAgICAgICAgICAgICBmaXJzdE5hbWU6IHVzZXIuRmlyc3RfTmFtZSxcbiAgICAgICAgICAgICAgICBsYXN0TmFtZTogdXNlci5MYXN0X05hbWUsXG4gICAgICAgICAgICAgICAgZW1haWw6IHVzZXIuRW1haWxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcblxuICAgICAgICAvLyBJZiBhbnl0aGluZyBnb2VzIHdyb25nLCBleCBkdXBsaWNhdGUgZW1haWwsIHRoZW4gdGhyb3cgYW4gZXJyb3IuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkxvZ2luIGVycm9yOlwiLCBlcnJvcik7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHttZXNzYWdlOiBcIkFuIGVycm9yIG9jY3VycmVkIGR1cmluZyBsb2dpbi5cIn0pO1xuICAgIH1cbn0pO1xuXG4vLyBMb2dnaW5nIG91dCBmdW5jdGlvbmFsaXR5IGJ5IGNsZWFyaW5nIHRoZSB1c2VyJ3MgY29va2luZyBhbmQgc2VuZGluZyBhIHN1Y2Nlc3MgbWVzc2FnZVxuY29uc3QgbG9nb3V0VXNlciA9IGFzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICByZXMuY2xlYXJDb29raWUoJ3VzZXJfYWNjZXNzX3Rva2VuJyk7XG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24oe21lc3NhZ2U6IFwiU3VjY2Vzc2Z1bGx5IGxvZ2dlZCBvdXQuXCJ9KTtcbn0pXG5cbm1vZHVsZS5leHBvcnRzID0ge3JlZ2lzdGVyVXNlciwgbG9naW5Vc2VyLCBsb2dvdXRVc2VyfTsiXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxJQUFNQSxZQUFZLEdBQUdDLE9BQU8sQ0FBQyx1QkFBdUIsQ0FBQztBQUNyRCxJQUFNQyxNQUFNLEdBQUdELE9BQU8sQ0FBQyxRQUFRLENBQUM7QUFDaEMsSUFBTUUsR0FBRyxHQUFHRixPQUFPLENBQUMsY0FBYyxDQUFDOztBQUVuQztBQUNBO0FBQ0EsSUFBQUcsUUFBQSxHQUF5QkgsT0FBTyxDQUFDLG9CQUFvQixDQUFDO0VBQTlDSSxPQUFPLEdBQUFELFFBQUEsQ0FBUEMsT0FBTztFQUFFQyxHQUFHLEdBQUFGLFFBQUEsQ0FBSEUsR0FBRzs7QUFFcEI7QUFDQSxJQUFBQyxTQUFBLEdBQXFGTixPQUFPLENBQUMscUJBQXFCLENBQUM7RUFBM0dPLFlBQVksR0FBQUQsU0FBQSxDQUFaQyxZQUFZO0VBQUVDLFlBQVksR0FBQUYsU0FBQSxDQUFaRSxZQUFZO0VBQUVDLGVBQWUsR0FBQUgsU0FBQSxDQUFmRyxlQUFlO0VBQUVDLFdBQVcsR0FBQUosU0FBQSxDQUFYSSxXQUFXO0VBQUVDLGNBQWMsR0FBQUwsU0FBQSxDQUFkSyxjQUFjOztBQUdoRjtBQUNBLElBQU1DLFlBQVksR0FBR2IsWUFBWTtFQUFBLElBQUFjLElBQUEsT0FBQUMsa0JBQUEsMEJBQUFDLFlBQUEsWUFBQUMsSUFBQSxDQUFDLFNBQUFDLFFBQU9DLEdBQUcsRUFBRUMsR0FBRztJQUFBLElBQUFDLFNBQUEsRUFBQUMsU0FBQSxFQUFBQyxRQUFBLEVBQUFDLEtBQUEsRUFBQUMsS0FBQSxFQUFBQyxRQUFBLEVBQUFDLGFBQUEsRUFBQUMsWUFBQSxFQUFBQyxLQUFBLEVBQUFDLElBQUEsRUFBQUMsVUFBQSxFQUFBQyxrQkFBQSxFQUFBQyxJQUFBLEVBQUFDLGNBQUEsRUFBQUMsTUFBQSxFQUFBQyxFQUFBO0lBQUEsT0FBQXBCLFlBQUEsWUFBQXFCLElBQUEsV0FBQUMsUUFBQTtNQUFBLGtCQUFBQSxRQUFBLENBQUFDLElBQUEsR0FBQUQsUUFBQSxDQUFBRSxJQUFBO1FBQUE7VUFDN0M7VUFBQW5CLFNBQUEsR0FDOEdGLEdBQUcsQ0FBQ3NCLElBQUksRUFBOUduQixTQUFTLEdBQUFELFNBQUEsQ0FBVEMsU0FBUyxFQUFFQyxRQUFRLEdBQUFGLFNBQUEsQ0FBUkUsUUFBUSxFQUFFQyxLQUFLLEdBQUFILFNBQUEsQ0FBTEcsS0FBSyxFQUFFQyxLQUFLLEdBQUFKLFNBQUEsQ0FBTEksS0FBSyxFQUFFQyxRQUFRLEdBQUFMLFNBQUEsQ0FBUkssUUFBUSxFQUFFQyxhQUFhLEdBQUFOLFNBQUEsQ0FBYk0sYUFBYSxFQUFFQyxZQUFZLEdBQUFQLFNBQUEsQ0FBWk8sWUFBWSxFQUFFQyxLQUFLLEdBQUFSLFNBQUEsQ0FBTFEsS0FBSyxFQUFFQyxJQUFJLEdBQUFULFNBQUEsQ0FBSlMsSUFBSSxFQUFFQyxVQUFVLEdBQUFWLFNBQUEsQ0FBVlUsVUFBVSxFQUV6RztVQUFBLE1BQ0ksQ0FBQ1QsU0FBUyxJQUFJLENBQUNDLFFBQVEsSUFBSSxDQUFDQyxLQUFLLElBQUksQ0FBQ0MsS0FBSyxJQUFJLENBQUNDLFFBQVEsSUFBSSxDQUFDQyxhQUFhLElBQUksQ0FBQ0MsWUFBWSxJQUFJLENBQUNDLEtBQUssSUFBSSxDQUFDQyxJQUFJLElBQUksQ0FBQ0MsVUFBVTtZQUFBTyxRQUFBLENBQUFFLElBQUE7WUFBQTtVQUFBO1VBQUEsT0FBQUYsUUFBQSxDQUFBSSxNQUFBLFdBQ3RIdEIsR0FBRyxDQUFDdUIsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7WUFBQ0MsT0FBTyxFQUFFO1VBQTBDLENBQUMsQ0FBQztRQUFBO1VBQUEsSUFJakZsQyxXQUFXLENBQUNXLFNBQVMsQ0FBQztZQUFBZ0IsUUFBQSxDQUFBRSxJQUFBO1lBQUE7VUFBQTtVQUFBLE9BQUFGLFFBQUEsQ0FBQUksTUFBQSxXQUNoQnRCLEdBQUcsQ0FBQ3VCLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1lBQUNDLE9BQU8sRUFBRTtVQUE4RCxDQUFDLENBQUM7UUFBQTtVQUFBLElBSXJHbEMsV0FBVyxDQUFDWSxRQUFRLENBQUM7WUFBQWUsUUFBQSxDQUFBRSxJQUFBO1lBQUE7VUFBQTtVQUFBLE9BQUFGLFFBQUEsQ0FBQUksTUFBQSxXQUNmdEIsR0FBRyxDQUFDdUIsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7WUFBQ0MsT0FBTyxFQUFFO1VBQTZELENBQUMsQ0FBQztRQUFBO1VBQUEsSUFJcEdyQyxZQUFZLENBQUNnQixLQUFLLENBQUM7WUFBQWMsUUFBQSxDQUFBRSxJQUFBO1lBQUE7VUFBQTtVQUFBLE9BQUFGLFFBQUEsQ0FBQUksTUFBQSxXQUNidEIsR0FBRyxDQUFDdUIsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7WUFBQ0MsT0FBTyxFQUFFO1VBQXFDLENBQUMsQ0FBQztRQUFBO1VBQUEsSUFJNUVwQyxZQUFZLENBQUNnQixLQUFLLENBQUM7WUFBQWEsUUFBQSxDQUFBRSxJQUFBO1lBQUE7VUFBQTtVQUFBLE9BQUFGLFFBQUEsQ0FBQUksTUFBQSxXQUNidEIsR0FBRyxDQUFDdUIsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7WUFBQ0MsT0FBTyxFQUFFO1VBQW9DLENBQUMsQ0FBQztRQUFBO1VBR2hGO1VBQ01iLGtCQUFrQixHQUFHdEIsZUFBZSxDQUFDZ0IsUUFBUSxDQUFDO1VBQUEsSUFDL0NNLGtCQUFrQixDQUFDYyxLQUFLO1lBQUFSLFFBQUEsQ0FBQUUsSUFBQTtZQUFBO1VBQUE7VUFBQSxPQUFBRixRQUFBLENBQUFJLE1BQUEsV0FDbEJ0QixHQUFHLENBQUN1QixNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztZQUFDQyxPQUFPLEVBQUViLGtCQUFrQixDQUFDYTtVQUFPLENBQUMsQ0FBQztRQUFBO1VBQUEsTUFJbEVsQixhQUFhLENBQUNvQixNQUFNLEdBQUcsR0FBRztZQUFBVCxRQUFBLENBQUFFLElBQUE7WUFBQTtVQUFBO1VBQUEsT0FBQUYsUUFBQSxDQUFBSSxNQUFBLFdBQ25CdEIsR0FBRyxDQUFDdUIsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7WUFBQ0MsT0FBTyxFQUFFO1VBQThDLENBQUMsQ0FBQztRQUFBO1VBQUEsTUFHdEZqQixZQUFZLElBQUlBLFlBQVksQ0FBQ21CLE1BQU0sR0FBRyxHQUFHO1lBQUFULFFBQUEsQ0FBQUUsSUFBQTtZQUFBO1VBQUE7VUFBQSxPQUFBRixRQUFBLENBQUFJLE1BQUEsV0FDbEN0QixHQUFHLENBQUN1QixNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztZQUFDQyxPQUFPLEVBQUU7VUFBNkMsQ0FBQyxDQUFDO1FBQUE7VUFBQSxNQUdyRmYsSUFBSSxDQUFDaUIsTUFBTSxHQUFHLEVBQUU7WUFBQVQsUUFBQSxDQUFBRSxJQUFBO1lBQUE7VUFBQTtVQUFBLE9BQUFGLFFBQUEsQ0FBQUksTUFBQSxXQUNUdEIsR0FBRyxDQUFDdUIsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7WUFBQ0MsT0FBTyxFQUFFO1VBQXdDLENBQUMsQ0FBQztRQUFBO1VBQUFQLFFBQUEsQ0FBQUMsSUFBQTtVQUsxRU4sSUFBSSxHQUFHNUIsT0FBTyxDQUFDLENBQUMsRUFFdEI7VUFBQWlDLFFBQUEsQ0FBQUUsSUFBQTtVQUFBLE9BQzZCdEMsTUFBTSxDQUFDOEMsSUFBSSxDQUFDdEIsUUFBUSxFQUFFLEVBQUUsQ0FBQztRQUFBO1VBQWhEUSxjQUFjLEdBQUFJLFFBQUEsQ0FBQVcsSUFBQTtVQUFBWCxRQUFBLENBQUFFLElBQUE7VUFBQSxPQUdDUCxJQUFJLENBQUNpQixPQUFPLENBQUMsQ0FBQyxDQUM5QkMsS0FBSyxDQUFDLFdBQVcsRUFBRTdDLEdBQUcsQ0FBQzhDLE9BQU8sRUFBRXhDLGNBQWMsQ0FBQ1UsU0FBUyxDQUFDLENBQUMsQ0FDMUQ2QixLQUFLLENBQUMsVUFBVSxFQUFFN0MsR0FBRyxDQUFDOEMsT0FBTyxFQUFFeEMsY0FBYyxDQUFDVyxRQUFRLENBQUMsQ0FBQyxDQUN4RDRCLEtBQUssQ0FBQyxPQUFPLEVBQUU3QyxHQUFHLENBQUM4QyxPQUFPLEVBQUV4QyxjQUFjLENBQUNZLEtBQUssQ0FBQyxDQUFDNkIsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUNoRUYsS0FBSyxDQUFDLE9BQU8sRUFBRTdDLEdBQUcsQ0FBQzhDLE9BQU8sRUFBRXhDLGNBQWMsQ0FBQ2EsS0FBSyxDQUFDLENBQUMsQ0FDbEQwQixLQUFLLENBQUMsZ0JBQWdCLEVBQUU3QyxHQUFHLENBQUM4QyxPQUFPLEVBQUVsQixjQUFjLENBQUMsQ0FDcERpQixLQUFLLENBQUMsZUFBZSxFQUFFN0MsR0FBRyxDQUFDOEMsT0FBTyxFQUFFeEMsY0FBYyxDQUFDZSxhQUFhLENBQUMsQ0FBQyxDQUNsRXdCLEtBQUssQ0FBQyxjQUFjLEVBQUU3QyxHQUFHLENBQUM4QyxPQUFPLEVBQUV4QyxjQUFjLENBQUNnQixZQUFZLENBQUMsQ0FBQyxDQUNoRXVCLEtBQUssQ0FBQyxPQUFPLEVBQUU3QyxHQUFHLENBQUM4QyxPQUFPLEVBQUV4QyxjQUFjLENBQUNpQixLQUFLLENBQUMsQ0FBQyxDQUNsRHNCLEtBQUssQ0FBQyxNQUFNLEVBQUU3QyxHQUFHLENBQUM4QyxPQUFPLEVBQUV4QyxjQUFjLENBQUNrQixJQUFJLENBQUMsQ0FBQyxDQUNoRHFCLEtBQUssQ0FBQyxZQUFZLEVBQUU3QyxHQUFHLENBQUM4QyxPQUFPLEVBQUV4QyxjQUFjLENBQUNtQixVQUFVLENBQUMsQ0FBQyxDQUM1RHVCLEtBQUssc1NBR0wsQ0FBQztRQUFBO1VBZEFuQixNQUFNLEdBQUFHLFFBQUEsQ0FBQVcsSUFBQTtVQWdCWjtVQUNBN0IsR0FBRyxDQUFDdUIsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7WUFBQ0MsT0FBTyxFQUFFO1VBQStCLENBQUMsQ0FBQztVQUFDUCxRQUFBLENBQUFFLElBQUE7VUFBQTtRQUFBO1VBQUFGLFFBQUEsQ0FBQUMsSUFBQTtVQUFBSCxFQUFBLEdBQUFFLFFBQUE7VUFBQSxNQUk3REYsRUFBQSxDQUFNbUIsTUFBTSxLQUFLLElBQUksSUFBSW5CLEVBQUEsQ0FBTW1CLE1BQU0sS0FBSyxJQUFJO1lBQUFqQixRQUFBLENBQUFFLElBQUE7WUFBQTtVQUFBO1VBQUEsT0FBQUYsUUFBQSxDQUFBSSxNQUFBLFdBQ3ZDdEIsR0FBRyxDQUFDdUIsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7WUFBQ0MsT0FBTyxFQUFFO1VBQTBJLENBQUMsQ0FBQztRQUFBO1VBR3RMO1VBQ0FXLE9BQU8sQ0FBQ0MsS0FBSyxDQUFDLG1EQUFtRCxFQUFBckIsRUFBTyxDQUFDO1VBQ3pFaEIsR0FBRyxDQUFDdUIsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7WUFBQ0MsT0FBTyxFQUFFO1VBQTBELENBQUMsQ0FBQztRQUFDO1FBQUE7VUFBQSxPQUFBUCxRQUFBLENBQUFvQixJQUFBO01BQUE7SUFBQSxHQUFBeEMsT0FBQTtFQUFBLENBRW5HO0VBQUEsaUJBQUF5QyxFQUFBLEVBQUFDLEdBQUE7SUFBQSxPQUFBOUMsSUFBQSxDQUFBK0MsS0FBQSxPQUFBQyxTQUFBO0VBQUE7QUFBQSxJQUFDOztBQUdGO0FBQ0EsSUFBTUMsU0FBUyxHQUFHL0QsWUFBWTtFQUFBLElBQUFnRSxLQUFBLE9BQUFqRCxrQkFBQSwwQkFBQUMsWUFBQSxZQUFBQyxJQUFBLENBQUMsU0FBQWdELFNBQU85QyxHQUFHLEVBQUNDLEdBQUc7SUFBQSxJQUFBOEMsVUFBQSxFQUFBMUMsS0FBQSxFQUFBRSxRQUFBLEVBQUFPLElBQUEsRUFBQUUsTUFBQSxFQUFBZ0MsSUFBQSxFQUFBQyxlQUFBLEVBQUFDLFNBQUEsRUFBQUMsR0FBQTtJQUFBLE9BQUF0RCxZQUFBLFlBQUFxQixJQUFBLFdBQUFrQyxTQUFBO01BQUEsa0JBQUFBLFNBQUEsQ0FBQWhDLElBQUEsR0FBQWdDLFNBQUEsQ0FBQS9CLElBQUE7UUFBQTtVQUN6QztVQUFBMEIsVUFBQSxHQUMwQi9DLEdBQUcsQ0FBQ3NCLElBQUksRUFBM0JqQixLQUFLLEdBQUEwQyxVQUFBLENBQUwxQyxLQUFLLEVBQUVFLFFBQVEsR0FBQXdDLFVBQUEsQ0FBUnhDLFFBQVEsRUFFdEI7VUFBQSxNQUNJLENBQUNGLEtBQUssSUFBSSxDQUFDRSxRQUFRO1lBQUE2QyxTQUFBLENBQUEvQixJQUFBO1lBQUE7VUFBQTtVQUFBLE9BQUErQixTQUFBLENBQUE3QixNQUFBLFdBQ1p0QixHQUFHLENBQUN1QixNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztZQUFDQyxPQUFPLEVBQUU7VUFBcUQsQ0FBQyxDQUFDO1FBQUE7VUFBQSxJQUk1RnJDLFlBQVksQ0FBQ2dCLEtBQUssQ0FBQztZQUFBK0MsU0FBQSxDQUFBL0IsSUFBQTtZQUFBO1VBQUE7VUFBQSxPQUFBK0IsU0FBQSxDQUFBN0IsTUFBQSxXQUNidEIsR0FBRyxDQUFDdUIsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7WUFBQ0MsT0FBTyxFQUFFO1VBQXFDLENBQUMsQ0FBQztRQUFBO1VBQUEwQixTQUFBLENBQUFoQyxJQUFBO1VBSXZFTixJQUFJLEdBQUc1QixPQUFPLENBQUMsQ0FBQyxFQUV0QjtVQUFBa0UsU0FBQSxDQUFBL0IsSUFBQTtVQUFBLE9BQ3FCUCxJQUFJLENBQUNpQixPQUFPLENBQUMsQ0FBQyxDQUM5QkMsS0FBSyxDQUFDLE9BQU8sRUFBRTdDLEdBQUcsQ0FBQzhDLE9BQU8sRUFBRXhDLGNBQWMsQ0FBQ1ksS0FBSyxDQUFDLENBQUM2QixXQUFXLENBQUMsQ0FBQyxDQUFDLENBQ2hFQyxLQUFLLCtLQUlELENBQUM7UUFBQTtVQU5KbkIsTUFBTSxHQUFBb0MsU0FBQSxDQUFBdEIsSUFBQTtVQUFBLE1BU1JkLE1BQU0sQ0FBQ3FDLFNBQVMsQ0FBQ3pCLE1BQU0sS0FBSyxDQUFDO1lBQUF3QixTQUFBLENBQUEvQixJQUFBO1lBQUE7VUFBQTtVQUFBLE9BQUErQixTQUFBLENBQUE3QixNQUFBLFdBQ3RCdEIsR0FBRyxDQUFDdUIsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7WUFBQ0MsT0FBTyxFQUFFO1VBQW9DLENBQUMsQ0FBQztRQUFBO1VBR2hGO1VBQ01zQixJQUFJLEdBQUdoQyxNQUFNLENBQUNxQyxTQUFTLENBQUMsQ0FBQyxDQUFDO1VBQUEsSUFDM0JMLElBQUksQ0FBQ00sUUFBUTtZQUFBRixTQUFBLENBQUEvQixJQUFBO1lBQUE7VUFBQTtVQUFBLE9BQUErQixTQUFBLENBQUE3QixNQUFBLFdBQ1B0QixHQUFHLENBQUN1QixNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztZQUFDQyxPQUFPLEVBQUU7VUFBdUUsQ0FBQyxDQUFDO1FBQUE7VUFBQTBCLFNBQUEsQ0FBQS9CLElBQUE7VUFBQSxPQUtyRnRDLE1BQU0sQ0FBQ3dFLE9BQU8sQ0FBQ2hELFFBQVEsRUFBRXlDLElBQUksQ0FBQ1EsYUFBYSxDQUFDO1FBQUE7VUFBcEVQLGVBQWUsR0FBQUcsU0FBQSxDQUFBdEIsSUFBQTtVQUFBLElBQ2hCbUIsZUFBZTtZQUFBRyxTQUFBLENBQUEvQixJQUFBO1lBQUE7VUFBQTtVQUFBLE9BQUErQixTQUFBLENBQUE3QixNQUFBLFdBQ1R0QixHQUFHLENBQUN1QixNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztZQUFDQyxPQUFPLEVBQUU7VUFBb0MsQ0FBQyxDQUFDO1FBQUE7VUFHaEY7VUFDQTtVQUNNd0IsU0FBUyxHQUFHbEUsR0FBRyxDQUFDeUUsSUFBSSxDQUFDO1lBQ3ZCQyxFQUFFLEVBQUVWLElBQUksQ0FBQ1csT0FBTztZQUNoQnhELFNBQVMsRUFBRTZDLElBQUksQ0FBQ1ksVUFBVTtZQUMxQnhELFFBQVEsRUFBRTRDLElBQUksQ0FBQ2EsU0FBUztZQUN4QnhELEtBQUssRUFBRTJDLElBQUksQ0FBQ2M7VUFDaEIsQ0FBQyxFQUNHQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0MsaUJBQWlCLEVBQzdCO1lBQUNDLFNBQVMsRUFBRTtVQUFJLENBQ3BCLENBQUMsRUFFRDtVQUNBLElBQUlsRSxHQUFHLENBQUNtRSxPQUFPLENBQUNDLGlCQUFpQixFQUFFO1lBQy9CbkUsR0FBRyxDQUFDb0UsV0FBVyxDQUFDLG1CQUFtQixDQUFDO1VBQ3hDOztVQUVBO1VBQ0E7VUFDQXBFLEdBQUcsQ0FBQ3FFLE1BQU0sQ0FBQyxtQkFBbUIsRUFBRXBCLFNBQVMsRUFDckM7WUFBQ3FCLFFBQVEsRUFBRSxJQUFJO1lBQ2ZDLE1BQU0sRUFBRVQsT0FBTyxDQUFDQyxHQUFHLENBQUNTLFFBQVEsS0FBSyxZQUFZO1lBQzdDQyxRQUFRLEVBQUUsUUFBUTtZQUNsQkMsTUFBTSxFQUFFLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHO1VBQUksQ0FBQyxDQUFDO1VBQ2pDMUUsR0FBRyxDQUFDdUIsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7WUFDakJDLE9BQU8sRUFBRSx5QkFBeUI7WUFDbENzQixJQUFJLEVBQUU7Y0FDRlUsRUFBRSxFQUFFVixJQUFJLENBQUNXLE9BQU87Y0FDaEJ4RCxTQUFTLEVBQUU2QyxJQUFJLENBQUNZLFVBQVU7Y0FDMUJ4RCxRQUFRLEVBQUU0QyxJQUFJLENBQUNhLFNBQVM7Y0FDeEJ4RCxLQUFLLEVBQUUyQyxJQUFJLENBQUNjO1lBQ2hCO1VBQ0osQ0FBQyxDQUFDOztVQUVGO1VBQUFWLFNBQUEsQ0FBQS9CLElBQUE7VUFBQTtRQUFBO1VBQUErQixTQUFBLENBQUFoQyxJQUFBO1VBQUErQixHQUFBLEdBQUFDLFNBQUE7VUFFQWYsT0FBTyxDQUFDQyxLQUFLLENBQUMsY0FBYyxFQUFBYSxHQUFPLENBQUM7VUFDcENsRCxHQUFHLENBQUN1QixNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztZQUFDQyxPQUFPLEVBQUU7VUFBaUMsQ0FBQyxDQUFDO1FBQUM7UUFBQTtVQUFBLE9BQUEwQixTQUFBLENBQUFiLElBQUE7TUFBQTtJQUFBLEdBQUFPLFFBQUE7RUFBQSxDQUUxRTtFQUFBLGlCQUFBOEIsR0FBQSxFQUFBQyxHQUFBO0lBQUEsT0FBQWhDLEtBQUEsQ0FBQUgsS0FBQSxPQUFBQyxTQUFBO0VBQUE7QUFBQSxJQUFDOztBQUVGO0FBQ0EsSUFBTW1DLFVBQVUsR0FBR2pHLFlBQVk7RUFBQSxJQUFBa0csS0FBQSxPQUFBbkYsa0JBQUEsMEJBQUFDLFlBQUEsWUFBQUMsSUFBQSxDQUFDLFNBQUFrRixTQUFPaEYsR0FBRyxFQUFFQyxHQUFHO0lBQUEsT0FBQUosWUFBQSxZQUFBcUIsSUFBQSxXQUFBK0QsU0FBQTtNQUFBLGtCQUFBQSxTQUFBLENBQUE3RCxJQUFBLEdBQUE2RCxTQUFBLENBQUE1RCxJQUFBO1FBQUE7VUFDM0NwQixHQUFHLENBQUNvRSxXQUFXLENBQUMsbUJBQW1CLENBQUM7VUFDcENwRSxHQUFHLENBQUN1QixNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztZQUFDQyxPQUFPLEVBQUU7VUFBMEIsQ0FBQyxDQUFDO1FBQUM7UUFBQTtVQUFBLE9BQUF1RCxTQUFBLENBQUExQyxJQUFBO01BQUE7SUFBQSxHQUFBeUMsUUFBQTtFQUFBLENBQy9EO0VBQUEsaUJBQUFFLEdBQUEsRUFBQUMsR0FBQTtJQUFBLE9BQUFKLEtBQUEsQ0FBQXJDLEtBQUEsT0FBQUMsU0FBQTtFQUFBO0FBQUEsSUFBQztBQUVGeUMsTUFBTSxDQUFDQyxPQUFPLEdBQUc7RUFBQzNGLFlBQVksRUFBWkEsWUFBWTtFQUFFa0QsU0FBUyxFQUFUQSxTQUFTO0VBQUVrQyxVQUFVLEVBQVZBO0FBQVUsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["asyncHandler","require","bcrypt","jwt","_require","getPool","sql","_require2","isValidEmail","isValidPhone","isValidPassword","isValidName","sanitizeString","registerUser","_ref","_asyncToGenerator2","_regenerator","mark","_callee","req","res","_req$body","firstName","lastName","email","phone","password","streetAddress","buildingName","floor","city","postalCode","passwordValidation","pool","hashedPassword","result","_t","wrap","_context","prev","next","body","abrupt","status","json","message","valid","length","hash","sent","request","input","VarChar","toLowerCase","query","number","console","error","stop","_x","_x2","apply","arguments","loginUser","_ref2","_callee2","_req$body2","user","isPasswordValid","userToken","_t2","_context2","recordset","isActive","compare","Password_Hash","sign","id","User_ID","First_Name","Last_Name","Email","process","env","USER_ACCESS_TOKEN","expiresIn","cookies","user_access_token","clearCookie","cookie","httpOnly","secure","NODE_ENV","sameSite","maxAge","_x3","_x4","logoutUser","_ref3","_callee3","_context3","_x5","_x6","module","exports"],"sourceRoot":"/workspaces/FixAppliance-eCommerce/back-end/src/controllers/","sources":["UserController.js"],"sourcesContent":["/**\n * The below controller provides the following functionalities for a user: registering, logging in and logging out.\n * \n * For storing the password, bcrypt is used to hash and jwt (jsonwebtoken) is used to sign a token and store it as cookie.\n */\n\nconst asyncHandler = require(\"express-async-handler\");\nconst bcrypt = require(\"bcrypt\");\nconst jwt = require(\"jsonwebtoken\");\n\n// sql needed for the type definitions in .input\n// getPool is to do queries\nconst { getPool, sql } = require(\"../config/database\");\n\n// Import validation utilities\nconst { isValidEmail, isValidPhone, isValidPassword, isValidName, sanitizeString } = require(\"../utils/validators\");\n\n\n// Handles the registering functionality\nconst registerUser = asyncHandler(async (req, res) => {\n    // Getting the needed data from the request body\n    const { firstName, lastName, email, phone, password, streetAddress, buildingName, floor, city, postalCode } = req.body;\n\n    // Checking if any of them is empty, if yes then we throw a 400 \n    if (!firstName || !lastName || !email || !phone || !password || !streetAddress || !buildingName || !floor || !city || !postalCode) {\n        return res.status(400).json({message: \"You have to insert all data to register.\"});\n    }\n\n    // Validate first name format\n    if (!isValidName(firstName)) {\n        return res.status(400).json({message: \"First name must be 2-30 characters and contain only letters.\"});\n    }\n\n    // Validate last name format\n    if (!isValidName(lastName)) {\n        return res.status(400).json({message: \"Last name must be 2-30 characters and contain only letters.\"});\n    }\n\n    // Validate email format\n    if (!isValidEmail(email)) {\n        return res.status(400).json({message: \"Please enter a valid email address.\"});\n    }\n\n    // Validate phone format\n    if (!isValidPhone(phone)) {\n        return res.status(400).json({message: \"Please enter a valid phone number.\"});\n    }\n\n    // Validate password strength\n    const passwordValidation = isValidPassword(password);\n    if (!passwordValidation.valid) {\n        return res.status(400).json({message: passwordValidation.message});\n    }\n\n    // Validate address fields length\n    if (streetAddress.length > 200) {\n        return res.status(400).json({message: \"Street address cannot exceed 200 characters.\"});\n    }\n\n    if (buildingName && buildingName.length > 100) {\n        return res.status(400).json({message: \"Building name cannot exceed 100 characters.\"});\n    }\n\n    if (city.length > 50) {\n        return res.status(400).json({message: \"City name cannot exceed 50 characters.\"});\n    }\n\n    // We now try to access the database to insert the user\n    try {\n        const pool = getPool();\n\n        // Hashing the password before storing\n        const hashedPassword = await bcrypt.hash(password, 11);\n\n        // Inserting the user into the database User table (sanitize inputs)\n        const result = await pool.request()\n            .input(\"firstName\", sql.VarChar, sanitizeString(firstName))\n            .input(\"lastName\", sql.VarChar, sanitizeString(lastName))\n            .input(\"email\", sql.VarChar, sanitizeString(email).toLowerCase())\n            .input(\"phone\", sql.VarChar, sanitizeString(phone))\n            .input(\"hashedPassword\", sql.VarChar, hashedPassword)\n            .input(\"streetAddress\", sql.VarChar, sanitizeString(streetAddress))\n            .input(\"buildingName\", sql.VarChar, sanitizeString(buildingName))\n            .input(\"floor\", sql.VarChar, sanitizeString(floor))\n            .input(\"city\", sql.VarChar, sanitizeString(city))\n            .input(\"postalCode\", sql.VarChar, sanitizeString(postalCode))\n            .query(`\n            INSERT INTO [User] (First_Name, Last_Name, Email, Phone, Password_Hash, Street_Address, Building_Name, Floor, City, Postal_Code)\n            VALUES(@firstName, @lastName, @email, @phone, @hashedPassword, @streetAddress, @buildingName, @floor, @city, @postalCode)\n            `);\n\n        // Sending success message\n        res.status(201).json({message: \"User registered successfully!\"});\n    } catch (error) {\n        // Handling the unique constraints for email and phone numbers\n        // 2627 is for violation of the unique key constraint, and 2601 is for unique index violation\n        if (error.number === 2627 || error.number === 2601) {            \n            return res.status(409).json({message: \"Another account exists already either with this email address or phone number. If you have another account, please use that one instead.\"});\n        }\n\n        // Throwing the console error and 500 status in case something goes wrong.\n        console.error(\"Unexpected error registering a new user account: \", error);\n        res.status(500).json({message: \"An unexpected error occurred while registering the user.\"});\n    }\n});\n\n\n// Handling the logging in functionality\nconst loginUser = asyncHandler(async (req,res) => {\n    // Getting the email and password that the user is trying to login with.\n    const {email, password} = req.body;\n\n    // Input validation, if either empty then send 400 error\n    if (!email || !password) {\n        return res.status(400).json({message: \"You have to enter both your email and your password\"});\n    }\n\n    // Validate email format\n    if (!isValidEmail(email)) {\n        return res.status(400).json({message: \"Please enter a valid email address.\"});\n    }\n\n    try {\n        const pool = getPool();\n\n        // Searching in the database for a user with the same email passed to check if exists\n        const result = await pool.request()\n            .input(\"email\", sql.VarChar, sanitizeString(email).toLowerCase())\n            .query(`\n                SELECT User_ID, First_Name, Last_Name, Email, Password_Hash, isActive\n                FROM [User]\n                WHERE Email = @email\n                `);\n\n        // If no results returned from the query, then the email entered is invalid\n        if (result.recordset.length === 0) {\n            return res.status(401).json({message: \"Invalid email address or password.\"});\n        }\n\n        // Now we are getting the first user that we got having the same email address\n        const user = result.recordset[0];\n        if (!user.isActive) {\n            return res.status(403).json({message: \"Your account is deactivated. Please contact us to resolve this issue.\"});\n        }\n\n        // Using bcrypt to check if the email passed is the same as the hashed one stored in the database\n        // If no, throw a 401 error\n        const isPasswordValid = await bcrypt.compare(password, user.Password_Hash);\n        if (!isPasswordValid) {\n            return res.status(401).json({message: \"Invalid email address or password.\"});\n        }\n\n        // If the password matches, then create a user token using jwt by signing it with the USER_ACCESS_TOKEN\n        // stored in the .env file. The token expires in 1 day.\n        const userToken = jwt.sign({\n            id: user.User_ID,\n            firstName: user.First_Name,\n            lastName: user.Last_Name,\n            email: user.Email\n        },\n            process.env.USER_ACCESS_TOKEN,\n            {expiresIn: \"1d\"}\n        );\n\n        // If a cookie exists already for the user, clear it.\n        if (req.cookies.user_access_token) {\n            res.clearCookie('user_access_token');\n        }\n\n        // Store the new cookie such that it lasts 1 day, and throw a 200 success message with some data about the user\n        // (id, firstName, lastName, email)\n        res.cookie('user_access_token', userToken, \n            {httpOnly: true, \n            secure: process.env.NODE_ENV === \"production\",\n            sameSite: 'strict',\n            maxAge: 24 * 60 * 60 * 1000});\n        res.status(200).json({\n            message: \"Successfully logged in.\",\n            user: {\n                id: user.User_ID,\n                firstName: user.First_Name,\n                lastName: user.Last_Name,\n                email: user.Email\n            }\n        })\n\n        // If anything goes wrong, ex duplicate email, then throw an error.\n    } catch (error) {\n        console.error(\"Login error:\", error);\n        res.status(500).json({message: \"An error occurred during login.\"});\n    }\n});\n\n// Logging out functionality by clearing the user's cooking and sending a success message\nconst logoutUser = asyncHandler(async (req, res) => {\n    res.clearCookie('user_access_token');\n    res.status(200).json({message: \"Successfully logged out.\"});\n})\n\nmodule.exports = {registerUser, loginUser, logoutUser};"],"mappings":"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","ignoreList":[]}},"mtime":1764435289430},"{\"assumptions\":{},\"sourceRoot\":\"/workspaces/FixAppliance-eCommerce/back-end/src/utils/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/workspaces/FixAppliance-eCommerce/back-end\",\"filename\":\"/workspaces/FixAppliance-eCommerce/back-end/src/utils/validators.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/workspaces/FixAppliance-eCommerce/back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"_exploded\":true,\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"VoidPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/workspaces/FixAppliance-eCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$48\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/workspaces/FixAppliance-eCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$49\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"\"use strict\";\n\n/**\n * Input validation utility functions for the FixAppliance API.\n * \n * Provides validation for:\n *  - Email format\n *  - Phone number format (Lebanese format)\n *  - Password strength\n *  - Name format\n */\n\n/**\n * Validates email format using regex\n * @param {string} email - The email to validate\n * @returns {boolean} - True if valid, false otherwise\n */\nvar isValidEmail = function isValidEmail(email) {\n  if (!email || typeof email !== 'string') return false;\n\n  // Email regex that requires at least one dot in domain with proper TLD (2-10 chars)\n  var emailRegex = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*\\.[a-zA-Z]{2,10}$/;\n  return emailRegex.test(email.trim()) && email.length <= 100;\n};\n\n/**\n * Validates phone number format (Lebanese format)\n * \n * Landlines (8 digits total, with leading 0):\n *   - 01 XXX XXX (Beirut)\n *   - 04, 05, 09 XXX XXX (Mount Lebanon)\n *   - 06 XXX XXX (North)\n *   - 07 XXX XXX (South)\n *   - 08 XXX XXX (Bekaa)\n * \n * Mobile with leading 0 (8 digits total):\n *   - 03 XXX XXX (Alfa/Touch)\n * \n * Mobile without leading 0 (8 digits total):\n *   - 70, 71, 76, 78, 79, 81 XXX XXX (Alfa/Touch)\n * \n * With country code: +961 or 961 followed by number without leading 0\n * \n * @param {string} phone - The phone number to validate\n * @returns {boolean} - True if valid, false otherwise\n */\nvar isValidPhone = function isValidPhone(phone) {\n  if (!phone || typeof phone !== 'string') return false;\n\n  // Remove spaces and dashes for validation\n  var cleanPhone = phone.replace(/[\\s-]/g, '');\n\n  // Landline with leading 0: 01, 04, 05, 06, 07, 08, 09 + 6 digits = 8 total\n  var landlineRegex = /^0[1456789][0-9]{6}$/;\n\n  // Mobile 03 with leading 0: 03 + 6 digits = 8 total\n  var mobile03Regex = /^03[0-9]{6}$/;\n\n  // Mobile without leading 0: 70, 71, 76, 78, 79, 81 + 6 digits = 8 total\n  var mobileRegex = /^(70|71|76|78|79|81)[0-9]{6}$/;\n\n  // With country code +961 or 961: followed by number without leading 0\n  // Landline: 961 + 1/4/5/6/7/8/9 + 6 digits\n  var intlLandlineRegex = /^(\\+?961)[1456789][0-9]{6}$/;\n\n  // Mobile with intl code: 961 + 3 + 6 digits OR 961 + 70/71/76/78/79/81 + 6 digits\n  var intlMobileRegex = /^(\\+?961)(3[0-9]{6}|(70|71|76|78|79|81)[0-9]{6})$/;\n  return landlineRegex.test(cleanPhone) || mobile03Regex.test(cleanPhone) || mobileRegex.test(cleanPhone) || intlLandlineRegex.test(cleanPhone) || intlMobileRegex.test(cleanPhone);\n};\n\n/**\n * Validates password strength\n * Requirements: minimum 8 characters, at least one uppercase, one lowercase, one number\n * @param {string} password - The password to validate\n * @returns {{valid: boolean, message: string}} - Validation result with message\n */\nvar isValidPassword = function isValidPassword(password) {\n  if (!password || typeof password !== 'string') {\n    return {\n      valid: false,\n      message: \"Password is required.\"\n    };\n  }\n  if (password.length < 8) {\n    return {\n      valid: false,\n      message: \"Password must be at least 8 characters long.\"\n    };\n  }\n  if (password.length > 100) {\n    return {\n      valid: false,\n      message: \"Password cannot exceed 100 characters.\"\n    };\n  }\n  if (!/[a-z]/.test(password)) {\n    return {\n      valid: false,\n      message: \"Password must contain at least one lowercase letter.\"\n    };\n  }\n  if (!/[A-Z]/.test(password)) {\n    return {\n      valid: false,\n      message: \"Password must contain at least one uppercase letter.\"\n    };\n  }\n  if (!/[0-9]/.test(password)) {\n    return {\n      valid: false,\n      message: \"Password must contain at least one number.\"\n    };\n  }\n  return {\n    valid: true,\n    message: \"Password is valid.\"\n  };\n};\n\n/**\n * Validates name format (first name, last name)\n * Only allows letters, spaces, hyphens, and apostrophes\n * @param {string} name - The name to validate\n * @param {number} maxLength - Maximum allowed length (default: 30)\n * @returns {boolean} - True if valid, false otherwise\n */\nvar isValidName = function isValidName(name) {\n  var maxLength = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 30;\n  if (!name || typeof name !== 'string') return false;\n  var trimmedName = name.trim();\n\n  // Must be between 2 and maxLength characters, only letters, spaces, hyphens, apostrophes\n  var nameRegex = /^[a-zA-Z\\u0600-\\u06FF\\s'-]{2,}$/;\n  return nameRegex.test(trimmedName) && trimmedName.length <= maxLength;\n};\n\n/**\n * Sanitizes string input by trimming whitespace\n * @param {string} input - The input to sanitize\n * @returns {string} - Sanitized string or empty string if invalid\n */\nvar sanitizeString = function sanitizeString(input) {\n  if (!input || typeof input !== 'string') return '';\n  return input.trim();\n};\n\n/**\n * Validates that a string doesn't exceed a maximum length\n * @param {string} str - The string to validate\n * @param {number} maxLength - Maximum allowed length\n * @returns {boolean} - True if valid, false otherwise\n */\nvar isValidLength = function isValidLength(str, maxLength) {\n  if (!str || typeof str !== 'string') return false;\n  return str.trim().length <= maxLength;\n};\nmodule.exports = {\n  isValidEmail: isValidEmail,\n  isValidPhone: isValidPhone,\n  isValidPassword: isValidPassword,\n  isValidName: isValidName,\n  sanitizeString: sanitizeString,\n  isValidLength: isValidLength\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJpc1ZhbGlkRW1haWwiLCJlbWFpbCIsImVtYWlsUmVnZXgiLCJ0ZXN0IiwidHJpbSIsImxlbmd0aCIsImlzVmFsaWRQaG9uZSIsInBob25lIiwiY2xlYW5QaG9uZSIsInJlcGxhY2UiLCJsYW5kbGluZVJlZ2V4IiwibW9iaWxlMDNSZWdleCIsIm1vYmlsZVJlZ2V4IiwiaW50bExhbmRsaW5lUmVnZXgiLCJpbnRsTW9iaWxlUmVnZXgiLCJpc1ZhbGlkUGFzc3dvcmQiLCJwYXNzd29yZCIsInZhbGlkIiwibWVzc2FnZSIsImlzVmFsaWROYW1lIiwibmFtZSIsIm1heExlbmd0aCIsImFyZ3VtZW50cyIsInVuZGVmaW5lZCIsInRyaW1tZWROYW1lIiwibmFtZVJlZ2V4Iiwic2FuaXRpemVTdHJpbmciLCJpbnB1dCIsImlzVmFsaWRMZW5ndGgiLCJzdHIiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvd29ya3NwYWNlcy9GaXhBcHBsaWFuY2UtZUNvbW1lcmNlL2JhY2stZW5kL3NyYy91dGlscy8iLCJzb3VyY2VzIjpbInZhbGlkYXRvcnMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBJbnB1dCB2YWxpZGF0aW9uIHV0aWxpdHkgZnVuY3Rpb25zIGZvciB0aGUgRml4QXBwbGlhbmNlIEFQSS5cbiAqIFxuICogUHJvdmlkZXMgdmFsaWRhdGlvbiBmb3I6XG4gKiAgLSBFbWFpbCBmb3JtYXRcbiAqICAtIFBob25lIG51bWJlciBmb3JtYXQgKExlYmFuZXNlIGZvcm1hdClcbiAqICAtIFBhc3N3b3JkIHN0cmVuZ3RoXG4gKiAgLSBOYW1lIGZvcm1hdFxuICovXG5cbi8qKlxuICogVmFsaWRhdGVzIGVtYWlsIGZvcm1hdCB1c2luZyByZWdleFxuICogQHBhcmFtIHtzdHJpbmd9IGVtYWlsIC0gVGhlIGVtYWlsIHRvIHZhbGlkYXRlXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gLSBUcnVlIGlmIHZhbGlkLCBmYWxzZSBvdGhlcndpc2VcbiAqL1xuY29uc3QgaXNWYWxpZEVtYWlsID0gKGVtYWlsKSA9PiB7XG4gICAgaWYgKCFlbWFpbCB8fCB0eXBlb2YgZW1haWwgIT09ICdzdHJpbmcnKSByZXR1cm4gZmFsc2U7XG4gICAgXG4gICAgLy8gRW1haWwgcmVnZXggdGhhdCByZXF1aXJlcyBhdCBsZWFzdCBvbmUgZG90IGluIGRvbWFpbiB3aXRoIHByb3BlciBUTEQgKDItMTAgY2hhcnMpXG4gICAgY29uc3QgZW1haWxSZWdleCA9IC9eW2EtekEtWjAtOS4hIyQlJicqKy89P15fYHt8fX4tXStAW2EtekEtWjAtOV0oPzpbYS16QS1aMC05LV17MCw2MX1bYS16QS1aMC05XSk/KD86XFwuW2EtekEtWjAtOV0oPzpbYS16QS1aMC05LV17MCw2MX1bYS16QS1aMC05XSk/KSpcXC5bYS16QS1aXXsyLDEwfSQvO1xuICAgIFxuICAgIHJldHVybiBlbWFpbFJlZ2V4LnRlc3QoZW1haWwudHJpbSgpKSAmJiBlbWFpbC5sZW5ndGggPD0gMTAwO1xufTtcblxuLyoqXG4gKiBWYWxpZGF0ZXMgcGhvbmUgbnVtYmVyIGZvcm1hdCAoTGViYW5lc2UgZm9ybWF0KVxuICogXG4gKiBMYW5kbGluZXMgKDggZGlnaXRzIHRvdGFsLCB3aXRoIGxlYWRpbmcgMCk6XG4gKiAgIC0gMDEgWFhYIFhYWCAoQmVpcnV0KVxuICogICAtIDA0LCAwNSwgMDkgWFhYIFhYWCAoTW91bnQgTGViYW5vbilcbiAqICAgLSAwNiBYWFggWFhYIChOb3J0aClcbiAqICAgLSAwNyBYWFggWFhYIChTb3V0aClcbiAqICAgLSAwOCBYWFggWFhYIChCZWthYSlcbiAqIFxuICogTW9iaWxlIHdpdGggbGVhZGluZyAwICg4IGRpZ2l0cyB0b3RhbCk6XG4gKiAgIC0gMDMgWFhYIFhYWCAoQWxmYS9Ub3VjaClcbiAqIFxuICogTW9iaWxlIHdpdGhvdXQgbGVhZGluZyAwICg4IGRpZ2l0cyB0b3RhbCk6XG4gKiAgIC0gNzAsIDcxLCA3NiwgNzgsIDc5LCA4MSBYWFggWFhYIChBbGZhL1RvdWNoKVxuICogXG4gKiBXaXRoIGNvdW50cnkgY29kZTogKzk2MSBvciA5NjEgZm9sbG93ZWQgYnkgbnVtYmVyIHdpdGhvdXQgbGVhZGluZyAwXG4gKiBcbiAqIEBwYXJhbSB7c3RyaW5nfSBwaG9uZSAtIFRoZSBwaG9uZSBudW1iZXIgdG8gdmFsaWRhdGVcbiAqIEByZXR1cm5zIHtib29sZWFufSAtIFRydWUgaWYgdmFsaWQsIGZhbHNlIG90aGVyd2lzZVxuICovXG5jb25zdCBpc1ZhbGlkUGhvbmUgPSAocGhvbmUpID0+IHtcbiAgICBpZiAoIXBob25lIHx8IHR5cGVvZiBwaG9uZSAhPT0gJ3N0cmluZycpIHJldHVybiBmYWxzZTtcbiAgICBcbiAgICAvLyBSZW1vdmUgc3BhY2VzIGFuZCBkYXNoZXMgZm9yIHZhbGlkYXRpb25cbiAgICBjb25zdCBjbGVhblBob25lID0gcGhvbmUucmVwbGFjZSgvW1xccy1dL2csICcnKTtcbiAgICBcbiAgICAvLyBMYW5kbGluZSB3aXRoIGxlYWRpbmcgMDogMDEsIDA0LCAwNSwgMDYsIDA3LCAwOCwgMDkgKyA2IGRpZ2l0cyA9IDggdG90YWxcbiAgICBjb25zdCBsYW5kbGluZVJlZ2V4ID0gL14wWzE0NTY3ODldWzAtOV17Nn0kLztcbiAgICBcbiAgICAvLyBNb2JpbGUgMDMgd2l0aCBsZWFkaW5nIDA6IDAzICsgNiBkaWdpdHMgPSA4IHRvdGFsXG4gICAgY29uc3QgbW9iaWxlMDNSZWdleCA9IC9eMDNbMC05XXs2fSQvO1xuICAgIFxuICAgIC8vIE1vYmlsZSB3aXRob3V0IGxlYWRpbmcgMDogNzAsIDcxLCA3NiwgNzgsIDc5LCA4MSArIDYgZGlnaXRzID0gOCB0b3RhbFxuICAgIGNvbnN0IG1vYmlsZVJlZ2V4ID0gL14oNzB8NzF8NzZ8Nzh8Nzl8ODEpWzAtOV17Nn0kLztcbiAgICBcbiAgICAvLyBXaXRoIGNvdW50cnkgY29kZSArOTYxIG9yIDk2MTogZm9sbG93ZWQgYnkgbnVtYmVyIHdpdGhvdXQgbGVhZGluZyAwXG4gICAgLy8gTGFuZGxpbmU6IDk2MSArIDEvNC81LzYvNy84LzkgKyA2IGRpZ2l0c1xuICAgIGNvbnN0IGludGxMYW5kbGluZVJlZ2V4ID0gL14oXFwrPzk2MSlbMTQ1Njc4OV1bMC05XXs2fSQvO1xuICAgIFxuICAgIC8vIE1vYmlsZSB3aXRoIGludGwgY29kZTogOTYxICsgMyArIDYgZGlnaXRzIE9SIDk2MSArIDcwLzcxLzc2Lzc4Lzc5LzgxICsgNiBkaWdpdHNcbiAgICBjb25zdCBpbnRsTW9iaWxlUmVnZXggPSAvXihcXCs/OTYxKSgzWzAtOV17Nn18KDcwfDcxfDc2fDc4fDc5fDgxKVswLTldezZ9KSQvO1xuICAgIFxuICAgIHJldHVybiBsYW5kbGluZVJlZ2V4LnRlc3QoY2xlYW5QaG9uZSkgfHwgXG4gICAgICAgICAgIG1vYmlsZTAzUmVnZXgudGVzdChjbGVhblBob25lKSB8fFxuICAgICAgICAgICBtb2JpbGVSZWdleC50ZXN0KGNsZWFuUGhvbmUpIHx8IFxuICAgICAgICAgICBpbnRsTGFuZGxpbmVSZWdleC50ZXN0KGNsZWFuUGhvbmUpIHx8IFxuICAgICAgICAgICBpbnRsTW9iaWxlUmVnZXgudGVzdChjbGVhblBob25lKTtcbn07XG5cbi8qKlxuICogVmFsaWRhdGVzIHBhc3N3b3JkIHN0cmVuZ3RoXG4gKiBSZXF1aXJlbWVudHM6IG1pbmltdW0gOCBjaGFyYWN0ZXJzLCBhdCBsZWFzdCBvbmUgdXBwZXJjYXNlLCBvbmUgbG93ZXJjYXNlLCBvbmUgbnVtYmVyXG4gKiBAcGFyYW0ge3N0cmluZ30gcGFzc3dvcmQgLSBUaGUgcGFzc3dvcmQgdG8gdmFsaWRhdGVcbiAqIEByZXR1cm5zIHt7dmFsaWQ6IGJvb2xlYW4sIG1lc3NhZ2U6IHN0cmluZ319IC0gVmFsaWRhdGlvbiByZXN1bHQgd2l0aCBtZXNzYWdlXG4gKi9cbmNvbnN0IGlzVmFsaWRQYXNzd29yZCA9IChwYXNzd29yZCkgPT4ge1xuICAgIGlmICghcGFzc3dvcmQgfHwgdHlwZW9mIHBhc3N3b3JkICE9PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4geyB2YWxpZDogZmFsc2UsIG1lc3NhZ2U6IFwiUGFzc3dvcmQgaXMgcmVxdWlyZWQuXCIgfTtcbiAgICB9XG5cbiAgICBpZiAocGFzc3dvcmQubGVuZ3RoIDwgOCkge1xuICAgICAgICByZXR1cm4geyB2YWxpZDogZmFsc2UsIG1lc3NhZ2U6IFwiUGFzc3dvcmQgbXVzdCBiZSBhdCBsZWFzdCA4IGNoYXJhY3RlcnMgbG9uZy5cIiB9O1xuICAgIH1cblxuICAgIGlmIChwYXNzd29yZC5sZW5ndGggPiAxMDApIHtcbiAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlLCBtZXNzYWdlOiBcIlBhc3N3b3JkIGNhbm5vdCBleGNlZWQgMTAwIGNoYXJhY3RlcnMuXCIgfTtcbiAgICB9XG5cbiAgICBpZiAoIS9bYS16XS8udGVzdChwYXNzd29yZCkpIHtcbiAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlLCBtZXNzYWdlOiBcIlBhc3N3b3JkIG11c3QgY29udGFpbiBhdCBsZWFzdCBvbmUgbG93ZXJjYXNlIGxldHRlci5cIiB9O1xuICAgIH1cblxuICAgIGlmICghL1tBLVpdLy50ZXN0KHBhc3N3b3JkKSkge1xuICAgICAgICByZXR1cm4geyB2YWxpZDogZmFsc2UsIG1lc3NhZ2U6IFwiUGFzc3dvcmQgbXVzdCBjb250YWluIGF0IGxlYXN0IG9uZSB1cHBlcmNhc2UgbGV0dGVyLlwiIH07XG4gICAgfVxuXG4gICAgaWYgKCEvWzAtOV0vLnRlc3QocGFzc3dvcmQpKSB7XG4gICAgICAgIHJldHVybiB7IHZhbGlkOiBmYWxzZSwgbWVzc2FnZTogXCJQYXNzd29yZCBtdXN0IGNvbnRhaW4gYXQgbGVhc3Qgb25lIG51bWJlci5cIiB9O1xuICAgIH1cblxuICAgIHJldHVybiB7IHZhbGlkOiB0cnVlLCBtZXNzYWdlOiBcIlBhc3N3b3JkIGlzIHZhbGlkLlwiIH07XG59O1xuXG4vKipcbiAqIFZhbGlkYXRlcyBuYW1lIGZvcm1hdCAoZmlyc3QgbmFtZSwgbGFzdCBuYW1lKVxuICogT25seSBhbGxvd3MgbGV0dGVycywgc3BhY2VzLCBoeXBoZW5zLCBhbmQgYXBvc3Ryb3BoZXNcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gVGhlIG5hbWUgdG8gdmFsaWRhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhMZW5ndGggLSBNYXhpbXVtIGFsbG93ZWQgbGVuZ3RoIChkZWZhdWx0OiAzMClcbiAqIEByZXR1cm5zIHtib29sZWFufSAtIFRydWUgaWYgdmFsaWQsIGZhbHNlIG90aGVyd2lzZVxuICovXG5jb25zdCBpc1ZhbGlkTmFtZSA9IChuYW1lLCBtYXhMZW5ndGggPSAzMCkgPT4ge1xuICAgIGlmICghbmFtZSB8fCB0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycpIHJldHVybiBmYWxzZTtcbiAgICBcbiAgICBjb25zdCB0cmltbWVkTmFtZSA9IG5hbWUudHJpbSgpO1xuICAgIFxuICAgIC8vIE11c3QgYmUgYmV0d2VlbiAyIGFuZCBtYXhMZW5ndGggY2hhcmFjdGVycywgb25seSBsZXR0ZXJzLCBzcGFjZXMsIGh5cGhlbnMsIGFwb3N0cm9waGVzXG4gICAgY29uc3QgbmFtZVJlZ2V4ID0gL15bYS16QS1aXFx1MDYwMC1cXHUwNkZGXFxzJy1dezIsfSQvO1xuICAgIFxuICAgIHJldHVybiBuYW1lUmVnZXgudGVzdCh0cmltbWVkTmFtZSkgJiYgdHJpbW1lZE5hbWUubGVuZ3RoIDw9IG1heExlbmd0aDtcbn07XG5cbi8qKlxuICogU2FuaXRpemVzIHN0cmluZyBpbnB1dCBieSB0cmltbWluZyB3aGl0ZXNwYWNlXG4gKiBAcGFyYW0ge3N0cmluZ30gaW5wdXQgLSBUaGUgaW5wdXQgdG8gc2FuaXRpemVcbiAqIEByZXR1cm5zIHtzdHJpbmd9IC0gU2FuaXRpemVkIHN0cmluZyBvciBlbXB0eSBzdHJpbmcgaWYgaW52YWxpZFxuICovXG5jb25zdCBzYW5pdGl6ZVN0cmluZyA9IChpbnB1dCkgPT4ge1xuICAgIGlmICghaW5wdXQgfHwgdHlwZW9mIGlucHV0ICE9PSAnc3RyaW5nJykgcmV0dXJuICcnO1xuICAgIHJldHVybiBpbnB1dC50cmltKCk7XG59O1xuXG4vKipcbiAqIFZhbGlkYXRlcyB0aGF0IGEgc3RyaW5nIGRvZXNuJ3QgZXhjZWVkIGEgbWF4aW11bSBsZW5ndGhcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgLSBUaGUgc3RyaW5nIHRvIHZhbGlkYXRlXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4TGVuZ3RoIC0gTWF4aW11bSBhbGxvd2VkIGxlbmd0aFxuICogQHJldHVybnMge2Jvb2xlYW59IC0gVHJ1ZSBpZiB2YWxpZCwgZmFsc2Ugb3RoZXJ3aXNlXG4gKi9cbmNvbnN0IGlzVmFsaWRMZW5ndGggPSAoc3RyLCBtYXhMZW5ndGgpID0+IHtcbiAgICBpZiAoIXN0ciB8fCB0eXBlb2Ygc3RyICE9PSAnc3RyaW5nJykgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiBzdHIudHJpbSgpLmxlbmd0aCA8PSBtYXhMZW5ndGg7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBpc1ZhbGlkRW1haWwsXG4gICAgaXNWYWxpZFBob25lLFxuICAgIGlzVmFsaWRQYXNzd29yZCxcbiAgICBpc1ZhbGlkTmFtZSxcbiAgICBzYW5pdGl6ZVN0cmluZyxcbiAgICBpc1ZhbGlkTGVuZ3RoXG59O1xuIl0sIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBTUEsWUFBWSxHQUFHLFNBQWZBLFlBQVlBLENBQUlDLEtBQUssRUFBSztFQUM1QixJQUFJLENBQUNBLEtBQUssSUFBSSxPQUFPQSxLQUFLLEtBQUssUUFBUSxFQUFFLE9BQU8sS0FBSzs7RUFFckQ7RUFDQSxJQUFNQyxVQUFVLEdBQUcsc0pBQXNKO0VBRXpLLE9BQU9BLFVBQVUsQ0FBQ0MsSUFBSSxDQUFDRixLQUFLLENBQUNHLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSUgsS0FBSyxDQUFDSSxNQUFNLElBQUksR0FBRztBQUMvRCxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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","map":{"version":3,"names":["isValidEmail","email","emailRegex","test","trim","length","isValidPhone","phone","cleanPhone","replace","landlineRegex","mobile03Regex","mobileRegex","intlLandlineRegex","intlMobileRegex","isValidPassword","password","valid","message","isValidName","name","maxLength","arguments","undefined","trimmedName","nameRegex","sanitizeString","input","isValidLength","str","module","exports"],"sourceRoot":"/workspaces/FixAppliance-eCommerce/back-end/src/utils/","sources":["validators.js"],"sourcesContent":["/**\n * Input validation utility functions for the FixAppliance API.\n * \n * Provides validation for:\n *  - Email format\n *  - Phone number format (Lebanese format)\n *  - Password strength\n *  - Name format\n */\n\n/**\n * Validates email format using regex\n * @param {string} email - The email to validate\n * @returns {boolean} - True if valid, false otherwise\n */\nconst isValidEmail = (email) => {\n    if (!email || typeof email !== 'string') return false;\n    \n    // Email regex that requires at least one dot in domain with proper TLD (2-10 chars)\n    const emailRegex = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*\\.[a-zA-Z]{2,10}$/;\n    \n    return emailRegex.test(email.trim()) && email.length <= 100;\n};\n\n/**\n * Validates phone number format (Lebanese format)\n * \n * Landlines (8 digits total, with leading 0):\n *   - 01 XXX XXX (Beirut)\n *   - 04, 05, 09 XXX XXX (Mount Lebanon)\n *   - 06 XXX XXX (North)\n *   - 07 XXX XXX (South)\n *   - 08 XXX XXX (Bekaa)\n * \n * Mobile with leading 0 (8 digits total):\n *   - 03 XXX XXX (Alfa/Touch)\n * \n * Mobile without leading 0 (8 digits total):\n *   - 70, 71, 76, 78, 79, 81 XXX XXX (Alfa/Touch)\n * \n * With country code: +961 or 961 followed by number without leading 0\n * \n * @param {string} phone - The phone number to validate\n * @returns {boolean} - True if valid, false otherwise\n */\nconst isValidPhone = (phone) => {\n    if (!phone || typeof phone !== 'string') return false;\n    \n    // Remove spaces and dashes for validation\n    const cleanPhone = phone.replace(/[\\s-]/g, '');\n    \n    // Landline with leading 0: 01, 04, 05, 06, 07, 08, 09 + 6 digits = 8 total\n    const landlineRegex = /^0[1456789][0-9]{6}$/;\n    \n    // Mobile 03 with leading 0: 03 + 6 digits = 8 total\n    const mobile03Regex = /^03[0-9]{6}$/;\n    \n    // Mobile without leading 0: 70, 71, 76, 78, 79, 81 + 6 digits = 8 total\n    const mobileRegex = /^(70|71|76|78|79|81)[0-9]{6}$/;\n    \n    // With country code +961 or 961: followed by number without leading 0\n    // Landline: 961 + 1/4/5/6/7/8/9 + 6 digits\n    const intlLandlineRegex = /^(\\+?961)[1456789][0-9]{6}$/;\n    \n    // Mobile with intl code: 961 + 3 + 6 digits OR 961 + 70/71/76/78/79/81 + 6 digits\n    const intlMobileRegex = /^(\\+?961)(3[0-9]{6}|(70|71|76|78|79|81)[0-9]{6})$/;\n    \n    return landlineRegex.test(cleanPhone) || \n           mobile03Regex.test(cleanPhone) ||\n           mobileRegex.test(cleanPhone) || \n           intlLandlineRegex.test(cleanPhone) || \n           intlMobileRegex.test(cleanPhone);\n};\n\n/**\n * Validates password strength\n * Requirements: minimum 8 characters, at least one uppercase, one lowercase, one number\n * @param {string} password - The password to validate\n * @returns {{valid: boolean, message: string}} - Validation result with message\n */\nconst isValidPassword = (password) => {\n    if (!password || typeof password !== 'string') {\n        return { valid: false, message: \"Password is required.\" };\n    }\n\n    if (password.length < 8) {\n        return { valid: false, message: \"Password must be at least 8 characters long.\" };\n    }\n\n    if (password.length > 100) {\n        return { valid: false, message: \"Password cannot exceed 100 characters.\" };\n    }\n\n    if (!/[a-z]/.test(password)) {\n        return { valid: false, message: \"Password must contain at least one lowercase letter.\" };\n    }\n\n    if (!/[A-Z]/.test(password)) {\n        return { valid: false, message: \"Password must contain at least one uppercase letter.\" };\n    }\n\n    if (!/[0-9]/.test(password)) {\n        return { valid: false, message: \"Password must contain at least one number.\" };\n    }\n\n    return { valid: true, message: \"Password is valid.\" };\n};\n\n/**\n * Validates name format (first name, last name)\n * Only allows letters, spaces, hyphens, and apostrophes\n * @param {string} name - The name to validate\n * @param {number} maxLength - Maximum allowed length (default: 30)\n * @returns {boolean} - True if valid, false otherwise\n */\nconst isValidName = (name, maxLength = 30) => {\n    if (!name || typeof name !== 'string') return false;\n    \n    const trimmedName = name.trim();\n    \n    // Must be between 2 and maxLength characters, only letters, spaces, hyphens, apostrophes\n    const nameRegex = /^[a-zA-Z\\u0600-\\u06FF\\s'-]{2,}$/;\n    \n    return nameRegex.test(trimmedName) && trimmedName.length <= maxLength;\n};\n\n/**\n * Sanitizes string input by trimming whitespace\n * @param {string} input - The input to sanitize\n * @returns {string} - Sanitized string or empty string if invalid\n */\nconst sanitizeString = (input) => {\n    if (!input || typeof input !== 'string') return '';\n    return input.trim();\n};\n\n/**\n * Validates that a string doesn't exceed a maximum length\n * @param {string} str - The string to validate\n * @param {number} maxLength - Maximum allowed length\n * @returns {boolean} - True if valid, false otherwise\n */\nconst isValidLength = (str, maxLength) => {\n    if (!str || typeof str !== 'string') return false;\n    return str.trim().length <= maxLength;\n};\n\nmodule.exports = {\n    isValidEmail,\n    isValidPhone,\n    isValidPassword,\n    isValidName,\n    sanitizeString,\n    isValidLength\n};\n"],"mappings":"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","ignoreList":[]}},"mtime":1764435289431},"{\"assumptions\":{},\"sourceRoot\":\"/workspaces/FixAppliance-eCommerce/back-end/src/middlewares/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/workspaces/FixAppliance-eCommerce/back-end\",\"filename\":\"/workspaces/FixAppliance-eCommerce/back-end/src/middlewares/auth.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/workspaces/FixAppliance-eCommerce/back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"_exploded\":true,\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"VoidPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/workspaces/FixAppliance-eCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$48\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/workspaces/FixAppliance-eCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$49\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n/**\n * The following middleware is responsible for authenticating the user before a route is called.\n * \n * There's a middleware for 3 entities: user, technician and freelancer.\n * \n * All of them have a similar structure:\n *      1. Get the entity's access token that's stored in the request cookies.\n *      2. Check if a token exists, if not, send a 401 with a please login message.\n *      3. If the token exists, try to decode the token by using JWT and verify it with the ENTITY_ACCESS_TOKEN from the .env file\n *      4. If the decode is successful, it adds the data stored in it in the request and uses next() to send it forward to the route's functionality\n *         If the decode is NOT successful, it clears the entity's token and sends a 401 with a please login message.\n * \n */\n\nvar asyncHandler = require(\"express-async-handler\");\nvar jwt = require(\"jsonwebtoken\");\n\n// Validation for the user \nvar userValidation = asyncHandler(/*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee(req, res, next) {\n    var token, decoded, _t;\n    return _regenerator[\"default\"].wrap(function (_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          // Gets token from the cookies passed in req\n          token = req.cookies.user_access_token; // Check if token exists, if not send a 401 with a please login message\n          if (token) {\n            _context.next = 1;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(401).json({\n            message: \"Please login to your account.\"\n          }));\n        case 1:\n          _context.prev = 1;\n          decoded = jwt.verify(token, process.env.USER_ACCESS_TOKEN);\n          req.userID = decoded.id;\n          req.userFirstName = decoded.firstName;\n          req.userLastName = decoded.lastName;\n          req.userEmail = decoded.email;\n          next();\n          _context.next = 3;\n          break;\n        case 2:\n          _context.prev = 2;\n          _t = _context[\"catch\"](1);\n          res.clearCookie('user_access_token');\n          return _context.abrupt(\"return\", res.status(401).json({\n            message: \"Please login to your account.\"\n          }));\n        case 3:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[1, 2]]);\n  }));\n  return function (_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}());\n\n// Validation for technician\nvar technicianValidation = asyncHandler(/*#__PURE__*/function () {\n  var _ref2 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(req, res, next) {\n    var token, decoded, _t2;\n    return _regenerator[\"default\"].wrap(function (_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          token = req.cookies.technician_access_token;\n          if (token) {\n            _context2.next = 1;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(401).json({\n            message: \"Please login to your account.\"\n          }));\n        case 1:\n          _context2.prev = 1;\n          decoded = jwt.verify(token, process.env.TECHNICIAN_ACCESS_TOKEN);\n          req.technicianID = decoded.id;\n          req.technicianFirstName = decoded.firstName;\n          req.technicianLastName = decoded.lastName;\n          req.technicianEmail = decoded.email;\n          next();\n          _context2.next = 3;\n          break;\n        case 2:\n          _context2.prev = 2;\n          _t2 = _context2[\"catch\"](1);\n          res.clearCookie('technician_access_token');\n          return _context2.abrupt(\"return\", res.status(401).json({\n            message: \"Please login to your account.\"\n          }));\n        case 3:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[1, 2]]);\n  }));\n  return function (_x4, _x5, _x6) {\n    return _ref2.apply(this, arguments);\n  };\n}());\n\n// Validation for freelancer\nvar freelancerValidation = asyncHandler(/*#__PURE__*/function () {\n  var _ref3 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee3(req, res, next) {\n    var token, decoded, _t3;\n    return _regenerator[\"default\"].wrap(function (_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          token = req.cookies.freelancer_access_token;\n          if (token) {\n            _context3.next = 1;\n            break;\n          }\n          return _context3.abrupt(\"return\", res.status(401).json({\n            message: \"Please login to your account.\"\n          }));\n        case 1:\n          _context3.prev = 1;\n          decoded = jwt.verify(token, process.env.FREELANCER_ACCESS_TOKEN);\n          req.freelancerID = decoded.id;\n          req.freelancerFirstName = decoded.firstName;\n          req.freelancerLastName = decoded.lastName;\n          req.freelancerEmail = decoded.email;\n          next();\n          _context3.next = 3;\n          break;\n        case 2:\n          _context3.prev = 2;\n          _t3 = _context3[\"catch\"](1);\n          res.clearCookie('freelancer_access_token');\n          return _context3.abrupt(\"return\", res.status(401).json({\n            message: \"Please login to your account.\"\n          }));\n        case 3:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3, null, [[1, 2]]);\n  }));\n  return function (_x7, _x8, _x9) {\n    return _ref3.apply(this, arguments);\n  };\n}());\nmodule.exports = {\n  userValidation: userValidation,\n  technicianValidation: technicianValidation,\n  freelancerValidation: freelancerValidation\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhc3luY0hhbmRsZXIiLCJyZXF1aXJlIiwiand0IiwidXNlclZhbGlkYXRpb24iLCJfcmVmIiwiX2FzeW5jVG9HZW5lcmF0b3IyIiwiX3JlZ2VuZXJhdG9yIiwibWFyayIsIl9jYWxsZWUiLCJyZXEiLCJyZXMiLCJuZXh0IiwidG9rZW4iLCJkZWNvZGVkIiwiX3QiLCJ3cmFwIiwiX2NvbnRleHQiLCJwcmV2IiwiY29va2llcyIsInVzZXJfYWNjZXNzX3Rva2VuIiwiYWJydXB0Iiwic3RhdHVzIiwianNvbiIsIm1lc3NhZ2UiLCJ2ZXJpZnkiLCJwcm9jZXNzIiwiZW52IiwiVVNFUl9BQ0NFU1NfVE9LRU4iLCJ1c2VySUQiLCJpZCIsInVzZXJGaXJzdE5hbWUiLCJmaXJzdE5hbWUiLCJ1c2VyTGFzdE5hbWUiLCJsYXN0TmFtZSIsInVzZXJFbWFpbCIsImVtYWlsIiwiY2xlYXJDb29raWUiLCJzdG9wIiwiX3giLCJfeDIiLCJfeDMiLCJhcHBseSIsImFyZ3VtZW50cyIsInRlY2huaWNpYW5WYWxpZGF0aW9uIiwiX3JlZjIiLCJfY2FsbGVlMiIsIl90MiIsIl9jb250ZXh0MiIsInRlY2huaWNpYW5fYWNjZXNzX3Rva2VuIiwiVEVDSE5JQ0lBTl9BQ0NFU1NfVE9LRU4iLCJ0ZWNobmljaWFuSUQiLCJ0ZWNobmljaWFuRmlyc3ROYW1lIiwidGVjaG5pY2lhbkxhc3ROYW1lIiwidGVjaG5pY2lhbkVtYWlsIiwiX3g0IiwiX3g1IiwiX3g2IiwiZnJlZWxhbmNlclZhbGlkYXRpb24iLCJfcmVmMyIsIl9jYWxsZWUzIiwiX3QzIiwiX2NvbnRleHQzIiwiZnJlZWxhbmNlcl9hY2Nlc3NfdG9rZW4iLCJGUkVFTEFOQ0VSX0FDQ0VTU19UT0tFTiIsImZyZWVsYW5jZXJJRCIsImZyZWVsYW5jZXJGaXJzdE5hbWUiLCJmcmVlbGFuY2VyTGFzdE5hbWUiLCJmcmVlbGFuY2VyRW1haWwiLCJfeDciLCJfeDgiLCJfeDkiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvd29ya3NwYWNlcy9GaXhBcHBsaWFuY2UtZUNvbW1lcmNlL2JhY2stZW5kL3NyYy9taWRkbGV3YXJlcy8iLCJzb3VyY2VzIjpbImF1dGguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBUaGUgZm9sbG93aW5nIG1pZGRsZXdhcmUgaXMgcmVzcG9uc2libGUgZm9yIGF1dGhlbnRpY2F0aW5nIHRoZSB1c2VyIGJlZm9yZSBhIHJvdXRlIGlzIGNhbGxlZC5cbiAqIFxuICogVGhlcmUncyBhIG1pZGRsZXdhcmUgZm9yIDMgZW50aXRpZXM6IHVzZXIsIHRlY2huaWNpYW4gYW5kIGZyZWVsYW5jZXIuXG4gKiBcbiAqIEFsbCBvZiB0aGVtIGhhdmUgYSBzaW1pbGFyIHN0cnVjdHVyZTpcbiAqICAgICAgMS4gR2V0IHRoZSBlbnRpdHkncyBhY2Nlc3MgdG9rZW4gdGhhdCdzIHN0b3JlZCBpbiB0aGUgcmVxdWVzdCBjb29raWVzLlxuICogICAgICAyLiBDaGVjayBpZiBhIHRva2VuIGV4aXN0cywgaWYgbm90LCBzZW5kIGEgNDAxIHdpdGggYSBwbGVhc2UgbG9naW4gbWVzc2FnZS5cbiAqICAgICAgMy4gSWYgdGhlIHRva2VuIGV4aXN0cywgdHJ5IHRvIGRlY29kZSB0aGUgdG9rZW4gYnkgdXNpbmcgSldUIGFuZCB2ZXJpZnkgaXQgd2l0aCB0aGUgRU5USVRZX0FDQ0VTU19UT0tFTiBmcm9tIHRoZSAuZW52IGZpbGVcbiAqICAgICAgNC4gSWYgdGhlIGRlY29kZSBpcyBzdWNjZXNzZnVsLCBpdCBhZGRzIHRoZSBkYXRhIHN0b3JlZCBpbiBpdCBpbiB0aGUgcmVxdWVzdCBhbmQgdXNlcyBuZXh0KCkgdG8gc2VuZCBpdCBmb3J3YXJkIHRvIHRoZSByb3V0ZSdzIGZ1bmN0aW9uYWxpdHlcbiAqICAgICAgICAgSWYgdGhlIGRlY29kZSBpcyBOT1Qgc3VjY2Vzc2Z1bCwgaXQgY2xlYXJzIHRoZSBlbnRpdHkncyB0b2tlbiBhbmQgc2VuZHMgYSA0MDEgd2l0aCBhIHBsZWFzZSBsb2dpbiBtZXNzYWdlLlxuICogXG4gKi9cblxuY29uc3QgYXN5bmNIYW5kbGVyID0gcmVxdWlyZShcImV4cHJlc3MtYXN5bmMtaGFuZGxlclwiKTtcbmNvbnN0IGp3dCA9IHJlcXVpcmUoXCJqc29ud2VidG9rZW5cIik7XG5cbi8vIFZhbGlkYXRpb24gZm9yIHRoZSB1c2VyIFxuY29uc3QgdXNlclZhbGlkYXRpb24gPSBhc3luY0hhbmRsZXIoYXN5bmMocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICAvLyBHZXRzIHRva2VuIGZyb20gdGhlIGNvb2tpZXMgcGFzc2VkIGluIHJlcVxuICAgIGNvbnN0IHRva2VuID0gcmVxLmNvb2tpZXMudXNlcl9hY2Nlc3NfdG9rZW47XG5cbiAgICAvLyBDaGVjayBpZiB0b2tlbiBleGlzdHMsIGlmIG5vdCBzZW5kIGEgNDAxIHdpdGggYSBwbGVhc2UgbG9naW4gbWVzc2FnZVxuICAgIGlmICghdG9rZW4pIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHttZXNzYWdlOiBcIlBsZWFzZSBsb2dpbiB0byB5b3VyIGFjY291bnQuXCJ9KTtcbiAgICB9XG5cbiAgICAvLyBJZiB0b2tlbiBleGlzdHMgdHJ5IHRvIGRlY29kZSBpdC5cbiAgICAvLyBJZiBkZWNvZGUgc3VjY2Vzc2Z1bCBnZXQgdGhlIGRhdGEgZnJvbSB0aGUgZGVjb2RlZCBhbmQgcGFzcyBpdCB0byB0aGUgcm91dGUncyBmdW5jdGlvbmFsaXR5J3MgcmVxLlxuICAgIC8vIElmIG5vdCBzdWNjZXNzZnVsLCBjbGVhciB0aGUgY29va2llLCB0aHJvdyBhIDQwMSBhbmQgc2VuZCBhIHBsZWFzZSBsb2dpbiBtZXNzYWdlLlxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGRlY29kZWQgPSBqd3QudmVyaWZ5KHRva2VuLCBwcm9jZXNzLmVudi5VU0VSX0FDQ0VTU19UT0tFTik7XG4gICAgICAgIHJlcS51c2VySUQgPSBkZWNvZGVkLmlkO1xuICAgICAgICByZXEudXNlckZpcnN0TmFtZSA9IGRlY29kZWQuZmlyc3ROYW1lO1xuICAgICAgICByZXEudXNlckxhc3ROYW1lID0gZGVjb2RlZC5sYXN0TmFtZTtcbiAgICAgICAgcmVxLnVzZXJFbWFpbCA9IGRlY29kZWQuZW1haWw7XG4gICAgICAgIG5leHQoKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgcmVzLmNsZWFyQ29va2llKCd1c2VyX2FjY2Vzc190b2tlbicpO1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oe21lc3NhZ2U6IFwiUGxlYXNlIGxvZ2luIHRvIHlvdXIgYWNjb3VudC5cIn0pO1xuICAgIH1cbn0pXG5cbi8vIFZhbGlkYXRpb24gZm9yIHRlY2huaWNpYW5cbmNvbnN0IHRlY2huaWNpYW5WYWxpZGF0aW9uID0gYXN5bmNIYW5kbGVyKGFzeW5jKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgY29uc3QgdG9rZW4gPSByZXEuY29va2llcy50ZWNobmljaWFuX2FjY2Vzc190b2tlbjtcblxuICAgIGlmICghdG9rZW4pIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHttZXNzYWdlOiBcIlBsZWFzZSBsb2dpbiB0byB5b3VyIGFjY291bnQuXCJ9KTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgICBjb25zdCBkZWNvZGVkID0gand0LnZlcmlmeSh0b2tlbiwgcHJvY2Vzcy5lbnYuVEVDSE5JQ0lBTl9BQ0NFU1NfVE9LRU4pO1xuICAgICAgICByZXEudGVjaG5pY2lhbklEID0gZGVjb2RlZC5pZDtcbiAgICAgICAgcmVxLnRlY2huaWNpYW5GaXJzdE5hbWUgPSBkZWNvZGVkLmZpcnN0TmFtZTtcbiAgICAgICAgcmVxLnRlY2huaWNpYW5MYXN0TmFtZSA9IGRlY29kZWQubGFzdE5hbWU7XG4gICAgICAgIHJlcS50ZWNobmljaWFuRW1haWwgPSBkZWNvZGVkLmVtYWlsO1xuICAgICAgICBuZXh0KCk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJlcy5jbGVhckNvb2tpZSgndGVjaG5pY2lhbl9hY2Nlc3NfdG9rZW4nKTtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHttZXNzYWdlOiBcIlBsZWFzZSBsb2dpbiB0byB5b3VyIGFjY291bnQuXCJ9KTtcbiAgICB9XG59KVxuXG4vLyBWYWxpZGF0aW9uIGZvciBmcmVlbGFuY2VyXG5jb25zdCBmcmVlbGFuY2VyVmFsaWRhdGlvbiA9IGFzeW5jSGFuZGxlcihhc3luYyhyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIGNvbnN0IHRva2VuID0gcmVxLmNvb2tpZXMuZnJlZWxhbmNlcl9hY2Nlc3NfdG9rZW47XG5cbiAgICBpZiAoIXRva2VuKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7bWVzc2FnZTogXCJQbGVhc2UgbG9naW4gdG8geW91ciBhY2NvdW50LlwifSk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZGVjb2RlZCA9IGp3dC52ZXJpZnkodG9rZW4sIHByb2Nlc3MuZW52LkZSRUVMQU5DRVJfQUNDRVNTX1RPS0VOKTtcbiAgICAgICAgcmVxLmZyZWVsYW5jZXJJRCA9IGRlY29kZWQuaWQ7XG4gICAgICAgIHJlcS5mcmVlbGFuY2VyRmlyc3ROYW1lID0gZGVjb2RlZC5maXJzdE5hbWU7XG4gICAgICAgIHJlcS5mcmVlbGFuY2VyTGFzdE5hbWUgPSBkZWNvZGVkLmxhc3ROYW1lO1xuICAgICAgICByZXEuZnJlZWxhbmNlckVtYWlsID0gZGVjb2RlZC5lbWFpbDtcbiAgICAgICAgbmV4dCgpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICByZXMuY2xlYXJDb29raWUoJ2ZyZWVsYW5jZXJfYWNjZXNzX3Rva2VuJyk7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7bWVzc2FnZTogXCJQbGVhc2UgbG9naW4gdG8geW91ciBhY2NvdW50LlwifSk7XG4gICAgfVxufSlcblxubW9kdWxlLmV4cG9ydHMgPSB7dXNlclZhbGlkYXRpb24sIHRlY2huaWNpYW5WYWxp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","map":{"version":3,"names":["asyncHandler","require","jwt","userValidation","_ref","_asyncToGenerator2","_regenerator","mark","_callee","req","res","next","token","decoded","_t","wrap","_context","prev","cookies","user_access_token","abrupt","status","json","message","verify","process","env","USER_ACCESS_TOKEN","userID","id","userFirstName","firstName","userLastName","lastName","userEmail","email","clearCookie","stop","_x","_x2","_x3","apply","arguments","technicianValidation","_ref2","_callee2","_t2","_context2","technician_access_token","TECHNICIAN_ACCESS_TOKEN","technicianID","technicianFirstName","technicianLastName","technicianEmail","_x4","_x5","_x6","freelancerValidation","_ref3","_callee3","_t3","_context3","freelancer_access_token","FREELANCER_ACCESS_TOKEN","freelancerID","freelancerFirstName","freelancerLastName","freelancerEmail","_x7","_x8","_x9","module","exports"],"sourceRoot":"/workspaces/FixAppliance-eCommerce/back-end/src/middlewares/","sources":["auth.js"],"sourcesContent":["/**\n * The following middleware is responsible for authenticating the user before a route is called.\n * \n * There's a middleware for 3 entities: user, technician and freelancer.\n * \n * All of them have a similar structure:\n *      1. Get the entity's access token that's stored in the request cookies.\n *      2. Check if a token exists, if not, send a 401 with a please login message.\n *      3. If the token exists, try to decode the token by using JWT and verify it with the ENTITY_ACCESS_TOKEN from the .env file\n *      4. If the decode is successful, it adds the data stored in it in the request and uses next() to send it forward to the route's functionality\n *         If the decode is NOT successful, it clears the entity's token and sends a 401 with a please login message.\n * \n */\n\nconst asyncHandler = require(\"express-async-handler\");\nconst jwt = require(\"jsonwebtoken\");\n\n// Validation for the user \nconst userValidation = asyncHandler(async(req, res, next) => {\n    // Gets token from the cookies passed in req\n    const token = req.cookies.user_access_token;\n\n    // Check if token exists, if not send a 401 with a please login message\n    if (!token) {\n        return res.status(401).json({message: \"Please login to your account.\"});\n    }\n\n    // If token exists try to decode it.\n    // If decode successful get the data from the decoded and pass it to the route's functionality's req.\n    // If not successful, clear the cookie, throw a 401 and send a please login message.\n    try {\n        const decoded = jwt.verify(token, process.env.USER_ACCESS_TOKEN);\n        req.userID = decoded.id;\n        req.userFirstName = decoded.firstName;\n        req.userLastName = decoded.lastName;\n        req.userEmail = decoded.email;\n        next();\n    } catch (err) {\n        res.clearCookie('user_access_token');\n        return res.status(401).json({message: \"Please login to your account.\"});\n    }\n})\n\n// Validation for technician\nconst technicianValidation = asyncHandler(async(req, res, next) => {\n    const token = req.cookies.technician_access_token;\n\n    if (!token) {\n        return res.status(401).json({message: \"Please login to your account.\"});\n    }\n\n    try {\n        const decoded = jwt.verify(token, process.env.TECHNICIAN_ACCESS_TOKEN);\n        req.technicianID = decoded.id;\n        req.technicianFirstName = decoded.firstName;\n        req.technicianLastName = decoded.lastName;\n        req.technicianEmail = decoded.email;\n        next();\n    } catch (err) {\n        res.clearCookie('technician_access_token');\n        return res.status(401).json({message: \"Please login to your account.\"});\n    }\n})\n\n// Validation for freelancer\nconst freelancerValidation = asyncHandler(async(req, res, next) => {\n    const token = req.cookies.freelancer_access_token;\n\n    if (!token) {\n        return res.status(401).json({message: \"Please login to your account.\"});\n    }\n\n    try {\n        const decoded = jwt.verify(token, process.env.FREELANCER_ACCESS_TOKEN);\n        req.freelancerID = decoded.id;\n        req.freelancerFirstName = decoded.firstName;\n        req.freelancerLastName = decoded.lastName;\n        req.freelancerEmail = decoded.email;\n        next();\n    } catch (err) {\n        res.clearCookie('freelancer_access_token');\n        return res.status(401).json({message: \"Please login to your account.\"});\n    }\n})\n\nmodule.exports = {userValidation, technicianValidation, freelancerValidation};"],"mappings":"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","ignoreList":[]}},"mtime":1764435289430},"{\"assumptions\":{},\"sourceRoot\":\"/workspaces/FixAppliance-eCommerce/back-end/src/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/workspaces/FixAppliance-eCommerce/back-end\",\"filename\":\"/workspaces/FixAppliance-eCommerce/back-end/src/controllers/UserBookingController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/workspaces/FixAppliance-eCommerce/back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"_exploded\":true,\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"VoidPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/workspaces/FixAppliance-eCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$48\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/workspaces/FixAppliance-eCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$49\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n/**\n * This controller handles everything related to booking and the user:\n *  1. User requesting a booking\n *  2. User paying a booking\n *  3. User rating a booking\n *  4. user getting their bookings (pending/confirmed/in progress/completed/cancelled)\n */\n\nvar asyncHandler = require(\"express-async-handler\");\n\n// sql needed for the type definitions in .input\n// getPool is to do queries\nvar _require = require(\"../config/database\"),\n  getPool = _require.getPool,\n  sql = _require.sql;\n\n/**\n * Helper function to get bookings by status for a user\n * Reduces code duplication across the 5 getXBookings functions\n * @param {number} userID - The user's ID\n * @param {string} status - The booking status to filter by\n * @param {string} statusDisplayName - Human-readable status name for messages\n * @returns {Promise<{success: boolean, data?: object, error?: string, statusCode: number}>}\n */\nvar getBookingsByStatus = /*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee(userID, status, statusDisplayName) {\n    var pool, bookings, _t;\n    return _regenerator[\"default\"].wrap(function (_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          pool = getPool();\n          _context.next = 1;\n          return pool.request().input(\"userID\", sql.Int, userID).input(\"status\", sql.VarChar, status).query(\"\\n                SELECT \\n                    Booking.Booking_ID, \\n                    Booking.Booking_Date AS \\\"Scheduled Date\\\", \\n                    Booking.Booking_Time AS \\\"Scheduled Time\\\", \\n                    Booking.Total_Price AS \\\"Total Price\\\", \\n                    Appliance_Type.nameEN AS \\\"Appliance's Name (EN)\\\", \\n                    Appliance_Type.nameAR AS \\\"Appliance's Name (AR)\\\",\\n                    Booking.Issue_Description AS \\\"Issue Description\\\",\\n                    Technician.First_Name AS \\\"Technician's First Name\\\",\\n                    Technician.Last_Name AS \\\"Technician's Last Name\\\",\\n                    Technician.Phone AS \\\"Technician's Phone Number\\\",\\n                    Payment.[Status] AS \\\"Payment Status\\\",\\n                    Payment.Payment_Method AS \\\"Payment Method\\\"\\n                FROM Booking\\n                LEFT JOIN Technician ON Booking.Technician_ID = Technician.Technician_ID\\n                LEFT JOIN Payment ON Booking.Booking_ID = Payment.Booking_ID\\n                JOIN Appliance_Type ON Booking.Appliance_Type_ID = Appliance_Type.Appliance_Type_ID\\n                WHERE Booking.UserID = @userID AND Booking.[Status] = @status\\n                ORDER BY Booking.Booking_Date ASC, Booking.Booking_Time ASC\\n            \");\n        case 1:\n          bookings = _context.sent;\n          if (!(bookings.recordset.length === 0)) {\n            _context.next = 2;\n            break;\n          }\n          return _context.abrupt(\"return\", {\n            success: true,\n            statusCode: 200,\n            data: {\n              message: \"You don't have any \".concat(statusDisplayName, \" bookings.\"),\n              count: 0,\n              bookings: []\n            }\n          });\n        case 2:\n          return _context.abrupt(\"return\", {\n            success: true,\n            statusCode: 200,\n            data: {\n              message: \"You have \".concat(statusDisplayName, \" bookings!\"),\n              count: bookings.recordset.length,\n              bookings: bookings.recordset\n            }\n          });\n        case 3:\n          _context.prev = 3;\n          _t = _context[\"catch\"](0);\n          console.error(\"Unexpected error occurred when trying to fetch \".concat(statusDisplayName, \" bookings:\"), _t);\n          return _context.abrupt(\"return\", {\n            success: false,\n            statusCode: 500,\n            error: \"Unexpected error occurred when trying to fetch your \".concat(statusDisplayName, \" bookings.\")\n          });\n        case 4:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[0, 3]]);\n  }));\n  return function getBookingsByStatus(_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\n// User requesting a new booking\nvar userRequestBooking = asyncHandler(/*#__PURE__*/function () {\n  var _ref2 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(req, res) {\n    var _req$body, applianceTypeID, issueDescription, bookingDate, bookingTime, paymentMethod, userID, validPaymentMethods, timeRegex, cleanTime, pool, applianceType, basePrice, commissionRate, platformFee, transaction, bookingResult, bookingID, _t2, _t3;\n    return _regenerator[\"default\"].wrap(function (_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          // Getting all user input from the request's body and the userID as well passed by the middleware that validates user's login credentials\n          _req$body = req.body, applianceTypeID = _req$body.applianceTypeID, issueDescription = _req$body.issueDescription, bookingDate = _req$body.bookingDate, bookingTime = _req$body.bookingTime, paymentMethod = _req$body.paymentMethod;\n          userID = req.userID; // If any of the inputs arent provided then throw a 400 error\n          if (!(!applianceTypeID || !issueDescription || !bookingDate || !bookingTime || !paymentMethod)) {\n            _context2.next = 1;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(400).json({\n            message: \"All booking details are required: the appliance, a description for the issue, date and time.\"\n          }));\n        case 1:\n          // Validate the payment method such that it's one of the accepted ones\n          validPaymentMethods = ['cash', 'credit_card', 'debit_card', 'whish', 'omt'];\n          if (validPaymentMethods.includes(paymentMethod)) {\n            _context2.next = 2;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(400).json({\n            message: \"Invalid payment method. Choose either cash, credit_card, debit_card, whish or omt.\"\n          }));\n        case 2:\n          // Validating the time format passed using regex, if doesnt pass then throw a 400 of invalid time format\n          timeRegex = /^([0-1]?[0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]$/;\n          cleanTime = bookingTime.trim();\n          if (timeRegex.test(cleanTime)) {\n            _context2.next = 3;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(400).json({\n            message: \"Invalid time format. Use HH:MM:SS (e.g., 14:30:00)\"\n          }));\n        case 3:\n          _context2.prev = 3;\n          pool = getPool(); // Verifying the appliance type that was passed through the body\n          // Has to be active and has to match the appliance type ID passed by the user\n          _context2.next = 4;\n          return pool.request().input(\"applianceTypeID\", sql.Int, applianceTypeID).query(\"\\n                SELECT Base_Price \\n                FROM Appliance_Type\\n                WHERE Appliance_Type_ID = @applianceTypeID AND isActive = 1\\n                \");\n        case 4:\n          applianceType = _context2.sent;\n          if (!(applianceType.recordset.length === 0)) {\n            _context2.next = 5;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(404).json({\n            message: \"Invalid appliance type chosen.\"\n          }));\n        case 5:\n          // Getting the base price of the appliance type chosen to specify the price of the booking\n          basePrice = applianceType.recordset[0].Base_Price; // Calculating the platform fee for the payment table based on the base price\n          commissionRate = 15.00;\n          platformFee = basePrice * commissionRate / 100; // Starting a transaction so the booking and payment are created together\n          transaction = pool.transaction();\n          _context2.next = 6;\n          return transaction.begin();\n        case 6:\n          _context2.prev = 6;\n          _context2.next = 7;\n          return transaction.request().input(\"userID\", sql.Int, userID).input(\"applianceTypeID\", sql.Int, applianceTypeID).input(\"issueDescription\", sql.NVarChar, issueDescription).input(\"bookingDate\", sql.Date, bookingDate).input(\"bookingTime\", sql.VarChar(8), cleanTime).input(\"basePrice\", sql.Decimal(10, 2), basePrice).query(\"\\n            INSERT INTO Booking (UserID, Appliance_Type_ID, Issue_Description, Booking_Date, Booking_Time, [Status], Total_Price)\\n            OUTPUT INSERTED.Booking_ID -- just so we could use the bookingID later using the result of this query.\\n            VALUES(@userID, @applianceTypeID, @issueDescription, @bookingDate, CAST(@bookingTime AS TIME), 'pending', @basePrice)\\n            \");\n        case 7:\n          bookingResult = _context2.sent;\n          // Getting the booking id from the above query's result (it outputs the booking id)\n          bookingID = bookingResult.recordset[0].Booking_ID; // Insert the payment data and set it to pending status until the user confirms the payment\n          _context2.next = 8;\n          return transaction.request().input(\"bookingID\", sql.Int, bookingID).input(\"amount\", sql.Decimal(10, 2), basePrice).input(\"paymentMethod\", sql.VarChar, paymentMethod).input(\"commissionRate\", sql.Decimal(5, 2), commissionRate).input(\"platformFee\", sql.Decimal(10, 2), platformFee).query(\"\\n                        INSERT INTO Payment (Booking_ID, Amount, Payment_Method, [Status], Commission_Rate, Platform_Fee)\\n                        VALUES(@bookingID, @amount, @paymentMethod, 'pending', @commissionRate, @platformFee)\\n                        \");\n        case 8:\n          _context2.next = 9;\n          return transaction.commit();\n        case 9:\n          // Sending a 201 success message with some information passed\n          res.status(201).json({\n            message: \"Successfully booked! A technician will be assigned soon.\",\n            bookingID: bookingID,\n            totalPrice: basePrice,\n            paymentMethod: paymentMethod,\n            paymentStatus: \"pending\"\n          });\n          _context2.next = 12;\n          break;\n        case 10:\n          _context2.prev = 10;\n          _t2 = _context2[\"catch\"](6);\n          _context2.next = 11;\n          return transaction.rollback();\n        case 11:\n          throw _t2;\n        case 12:\n          _context2.next = 15;\n          break;\n        case 13:\n          _context2.prev = 13;\n          _t3 = _context2[\"catch\"](3);\n          console.error(\"Unexpected error occurred when booking:\", _t3);\n\n          // If any data is wrong then this error is thrown (wrong appliance type and wrong/invalid date)\n          if (!(_t3.number === 547)) {\n            _context2.next = 14;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(400).json({\n            message: \"Invalid booking data. Please check your appliance type, date, and ensure it's today or in the future.\"\n          }));\n        case 14:\n          res.status(500).json({\n            message: \"An unexpected error occurred while booking.\"\n          });\n        case 15:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[3, 13], [6, 10]]);\n  }));\n  return function (_x4, _x5) {\n    return _ref2.apply(this, arguments);\n  };\n}());\n\n// User paying a booking functionality\nvar userPayBooking = asyncHandler(/*#__PURE__*/function () {\n  var _ref3 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee3(req, res) {\n    var _req$body2, bookingID, transactionID, userID, pool, checkBooking, booking, transactionIdMethods, _t4;\n    return _regenerator[\"default\"].wrap(function (_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          // Getting the booking id and the transaction id (if non-cash method) from the body, and the user id passed by the authentication middleware\n          _req$body2 = req.body, bookingID = _req$body2.bookingID, transactionID = _req$body2.transactionID;\n          userID = req.userID; // If no bookingID is passed then throw a 400 error. Not passing the transactionID is fine if the method is cash.\n          if (bookingID) {\n            _context3.next = 1;\n            break;\n          }\n          return _context3.abrupt(\"return\", res.status(400).json({\n            message: \"Booking ID must be passed.\"\n          }));\n        case 1:\n          _context3.prev = 1;\n          pool = getPool(); // Checking if the bookingID passed is valid\n          _context3.next = 2;\n          return pool.request().input(\"bookingID\", sql.Int, bookingID).input(\"userID\", sql.Int, userID).query(\"\\n                SELECT b.Booking_ID, b.[Status], b.UserID, p.Payment_ID, p.[Status] AS Payment_Status, p.Payment_Method\\n                FROM Booking b\\n                JOIN Payment p ON b.Booking_ID = p.Booking_ID\\n                WHERE b.Booking_ID = @bookingID\\n                \");\n        case 2:\n          checkBooking = _context3.sent;\n          if (!(checkBooking.recordset.length === 0)) {\n            _context3.next = 3;\n            break;\n          }\n          return _context3.abrupt(\"return\", res.status(404).json({\n            message: \"Booking not found\"\n          }));\n        case 3:\n          // Getting the first row of the returned result\n          booking = checkBooking.recordset[0]; // Checking if the booking's userID matches the current logged in's userID, if it doesn't then throw a 403\n          // since the user isn't authorized to pay for this booking.\n          if (!(booking.UserID !== userID)) {\n            _context3.next = 4;\n            break;\n          }\n          return _context3.abrupt(\"return\", res.status(403).json({\n            message: \"You are not authorized to pay for this booking since it's not yours.\"\n          }));\n        case 4:\n          if (!(booking.Status === 'cancelled')) {\n            _context3.next = 5;\n            break;\n          }\n          return _context3.abrupt(\"return\", res.status(400).json({\n            message: \"Cannot pay for a cancelled booking!\"\n          }));\n        case 5:\n          if (!(booking.Status === 'completed')) {\n            _context3.next = 6;\n            break;\n          }\n          return _context3.abrupt(\"return\", res.status(400).json({\n            message: \"Cannot pay for a booking that's already paid for.\"\n          }));\n        case 6:\n          if (!(booking.Payment_Status === 'completed')) {\n            _context3.next = 7;\n            break;\n          }\n          return _context3.abrupt(\"return\", res.status(400).json({\n            message: \"This booking has already been paid.\"\n          }));\n        case 7:\n          // Ensuring that transactionID is passed when the payment method is anything but a cash method\n          // If there is no transactionID, and the payment method isnt cash, then throw a 400 error\n          transactionIdMethods = ['credit_card', 'debit_card', 'whish', 'omt'];\n          if (!(transactionIdMethods.includes(booking.Payment_Method) && !transactionID)) {\n            _context3.next = 8;\n            break;\n          }\n          return _context3.abrupt(\"return\", res.status(400).json({\n            message: \"Transaction ID is needed for this payment method!\"\n          }));\n        case 8:\n          _context3.next = 9;\n          return pool.request().input(\"bookingID\", sql.Int, bookingID).input(\"transactionID\", sql.VarChar, transactionID || null).query(\"\\n                UPDATE Payment\\n                SET [Status] = 'completed',\\n                    Transaction_ID = @transactionID,\\n                    paidAt = GETDATE()\\n                WHERE Booking_ID = @bookingID\\n                \");\n        case 9:\n          // Send a success message with the booking id and payment status as completed\n          res.status(200).json({\n            message: \"Payment completed.\",\n            bookingID: bookingID,\n            paymentStatus: \"completed\"\n          });\n          _context3.next = 12;\n          break;\n        case 10:\n          _context3.prev = 10;\n          _t4 = _context3[\"catch\"](1);\n          // Throws an error in case the booking id is invalid, or any other unexpected issue that occurred\n          console.error(\"Unexpected error occurred when processing payment:\", _t4);\n          if (!(_t4.number === 547)) {\n            _context3.next = 11;\n            break;\n          }\n          return _context3.abrupt(\"return\", res.status(400).json({\n            message: \"Invalid booking ID.\"\n          }));\n        case 11:\n          res.status(500).json({\n            message: \"An unexpected error occurred when processing the payment.\"\n          });\n        case 12:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3, null, [[1, 10]]);\n  }));\n  return function (_x6, _x7) {\n    return _ref3.apply(this, arguments);\n  };\n}());\n\n// User rating a booking functionality\nvar userRateBooking = asyncHandler(/*#__PURE__*/function () {\n  var _ref4 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee4(req, res) {\n    var _req$body3, bookingID, ratingScore, reviewText, userID, pool, checkBooking, booking, existingRating, _t5;\n    return _regenerator[\"default\"].wrap(function (_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          // Getting the needed input from the passed body and the userID passed from the middleware\n          _req$body3 = req.body, bookingID = _req$body3.bookingID, ratingScore = _req$body3.ratingScore, reviewText = _req$body3.reviewText;\n          userID = req.userID; // If the needed values are empty then throw a 400 error\n          if (!(!bookingID || !ratingScore || !reviewText)) {\n            _context4.next = 1;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(400).json({\n            message: \"You have to pass a booking ID, rating score and review text to rate a booking.\"\n          }));\n        case 1:\n          if (!(!Number.isInteger(ratingScore) || ratingScore < 1 || ratingScore > 5)) {\n            _context4.next = 2;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(400).json({\n            message: \"Rating score must be a number between 1 and 5!\"\n          }));\n        case 2:\n          if (!(reviewText.trim().length < 15)) {\n            _context4.next = 3;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(400).json({\n            message: \"Please write your review text longer, that's too short.\"\n          }));\n        case 3:\n          _context4.prev = 3;\n          pool = getPool(); // Check if the booking id passed exists\n          _context4.next = 4;\n          return pool.request().input(\"bookingID\", sql.Int, bookingID).input(\"userID\", sql.Int, userID).query(\"\\n                SELECT b.Booking_ID, b.UserID, b.Technician_ID, b.[Status]\\n                FROM Booking b\\n                WHERE b.Booking_ID = @bookingID\\n                \");\n        case 4:\n          checkBooking = _context4.sent;\n          if (!(checkBooking.recordset.length === 0)) {\n            _context4.next = 5;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(404).json({\n            message: \"Booking not found.\"\n          }));\n        case 5:\n          // Get the first booking row\n          booking = checkBooking.recordset[0]; // Check if the booking's user id matches the userid of the logged in user, if not then throw a 403 error\n          if (!(booking.UserID !== userID)) {\n            _context4.next = 6;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(403).json({\n            message: \"You are not authorized to review this booking since it's not yours!\"\n          }));\n        case 6:\n          if (booking.Technician_ID) {\n            _context4.next = 7;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(400).json({\n            message: \"Cannot rate a booking without an assigned technician.\"\n          }));\n        case 7:\n          if (!(booking.Status !== 'completed')) {\n            _context4.next = 8;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(400).json({\n            message: \"You can only rate completed bookings.\"\n          }));\n        case 8:\n          _context4.next = 9;\n          return pool.request().input(\"bookingID\", sql.Int, bookingID).query(\"SELECT Rating_ID \\n                    FROM Rating \\n                    WHERE Booking_ID = @bookingID\");\n        case 9:\n          existingRating = _context4.sent;\n          if (!(existingRating.recordset.length > 0)) {\n            _context4.next = 10;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(409).json({\n            message: \"This booking has already been rated before!\"\n          }));\n        case 10:\n          _context4.next = 11;\n          return pool.request().input(\"bookingID\", sql.Int, bookingID).input(\"userID\", sql.Int, userID).input(\"technicianID\", sql.Int, booking.Technician_ID).input(\"ratingScore\", sql.SmallInt, ratingScore).input(\"reviewText\", sql.NVarChar, reviewText.trim()).query(\"\\n                INSERT INTO Rating (Booking_ID, User_ID, Technician_ID, Rating_Score, Review_Text)\\n                VALUES(@bookingID, @userID, @technicianID, @ratingScore, @reviewText)\\n                \");\n        case 11:\n          // Send a 201 success message\n          res.status(201).json({\n            message: \"Successfully rated this booking!\",\n            bookingID: bookingID,\n            technicianID: booking.Technician_ID,\n            ratingScore: ratingScore\n          });\n          _context4.next = 15;\n          break;\n        case 12:\n          _context4.prev = 12;\n          _t5 = _context4[\"catch\"](3);\n          console.error(\"Unexpected error occurred when trying to rate a booking:\", _t5);\n\n          // Constraint violation handling\n          if (!(_t5.number === 547)) {\n            _context4.next = 13;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(400).json({\n            message: \"Invalid rating data, please check your inputs.\"\n          }));\n        case 13:\n          if (!(_t5.number === 2627)) {\n            _context4.next = 14;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(409).json({\n            message: \"This booking has already been rated.\"\n          }));\n        case 14:\n          res.status(500).json({\n            message: \"Unexpected error occurred when trying to rate a booking.\"\n          });\n        case 15:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4, null, [[3, 12]]);\n  }));\n  return function (_x8, _x9) {\n    return _ref4.apply(this, arguments);\n  };\n}());\n\n// The below methods get different types of bookings of the user: pending, confirmed, in progress, completed, cancelled\n// All use the helper function getBookingsByStatus to reduce code duplication\nvar getPendingBookings = asyncHandler(/*#__PURE__*/function () {\n  var _ref5 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee5(req, res) {\n    var userID, result;\n    return _regenerator[\"default\"].wrap(function (_context5) {\n      while (1) switch (_context5.prev = _context5.next) {\n        case 0:\n          userID = req.userID;\n          _context5.next = 1;\n          return getBookingsByStatus(userID, 'pending', 'pending');\n        case 1:\n          result = _context5.sent;\n          if (!result.success) {\n            _context5.next = 2;\n            break;\n          }\n          return _context5.abrupt(\"return\", res.status(result.statusCode).json(result.data));\n        case 2:\n          return _context5.abrupt(\"return\", res.status(result.statusCode).json({\n            message: result.error\n          }));\n        case 3:\n        case \"end\":\n          return _context5.stop();\n      }\n    }, _callee5);\n  }));\n  return function (_x0, _x1) {\n    return _ref5.apply(this, arguments);\n  };\n}());\nvar getConfirmedBookings = asyncHandler(/*#__PURE__*/function () {\n  var _ref6 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee6(req, res) {\n    var userID, result;\n    return _regenerator[\"default\"].wrap(function (_context6) {\n      while (1) switch (_context6.prev = _context6.next) {\n        case 0:\n          userID = req.userID;\n          _context6.next = 1;\n          return getBookingsByStatus(userID, 'confirmed', 'confirmed');\n        case 1:\n          result = _context6.sent;\n          if (!result.success) {\n            _context6.next = 2;\n            break;\n          }\n          return _context6.abrupt(\"return\", res.status(result.statusCode).json(result.data));\n        case 2:\n          return _context6.abrupt(\"return\", res.status(result.statusCode).json({\n            message: result.error\n          }));\n        case 3:\n        case \"end\":\n          return _context6.stop();\n      }\n    }, _callee6);\n  }));\n  return function (_x10, _x11) {\n    return _ref6.apply(this, arguments);\n  };\n}());\nvar getInProgressBookings = asyncHandler(/*#__PURE__*/function () {\n  var _ref7 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee7(req, res) {\n    var userID, result;\n    return _regenerator[\"default\"].wrap(function (_context7) {\n      while (1) switch (_context7.prev = _context7.next) {\n        case 0:\n          userID = req.userID;\n          _context7.next = 1;\n          return getBookingsByStatus(userID, 'in_progress', 'in progress');\n        case 1:\n          result = _context7.sent;\n          if (!result.success) {\n            _context7.next = 2;\n            break;\n          }\n          return _context7.abrupt(\"return\", res.status(result.statusCode).json(result.data));\n        case 2:\n          return _context7.abrupt(\"return\", res.status(result.statusCode).json({\n            message: result.error\n          }));\n        case 3:\n        case \"end\":\n          return _context7.stop();\n      }\n    }, _callee7);\n  }));\n  return function (_x12, _x13) {\n    return _ref7.apply(this, arguments);\n  };\n}());\nvar getCompletedBookings = asyncHandler(/*#__PURE__*/function () {\n  var _ref8 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee8(req, res) {\n    var userID, result;\n    return _regenerator[\"default\"].wrap(function (_context8) {\n      while (1) switch (_context8.prev = _context8.next) {\n        case 0:\n          userID = req.userID;\n          _context8.next = 1;\n          return getBookingsByStatus(userID, 'completed', 'completed');\n        case 1:\n          result = _context8.sent;\n          if (!result.success) {\n            _context8.next = 2;\n            break;\n          }\n          return _context8.abrupt(\"return\", res.status(result.statusCode).json(result.data));\n        case 2:\n          return _context8.abrupt(\"return\", res.status(result.statusCode).json({\n            message: result.error\n          }));\n        case 3:\n        case \"end\":\n          return _context8.stop();\n      }\n    }, _callee8);\n  }));\n  return function (_x14, _x15) {\n    return _ref8.apply(this, arguments);\n  };\n}());\nvar getCancelledBookings = asyncHandler(/*#__PURE__*/function () {\n  var _ref9 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee9(req, res) {\n    var userID, result;\n    return _regenerator[\"default\"].wrap(function (_context9) {\n      while (1) switch (_context9.prev = _context9.next) {\n        case 0:\n          userID = req.userID;\n          _context9.next = 1;\n          return getBookingsByStatus(userID, 'cancelled', 'cancelled');\n        case 1:\n          result = _context9.sent;\n          if (!result.success) {\n            _context9.next = 2;\n            break;\n          }\n          return _context9.abrupt(\"return\", res.status(result.statusCode).json(result.data));\n        case 2:\n          return _context9.abrupt(\"return\", res.status(result.statusCode).json({\n            message: result.error\n          }));\n        case 3:\n        case \"end\":\n          return _context9.stop();\n      }\n    }, _callee9);\n  }));\n  return function (_x16, _x17) {\n    return _ref9.apply(this, arguments);\n  };\n}());\nmodule.exports = {\n  userRequestBooking: userRequestBooking,\n  userPayBooking: userPayBooking,\n  userRateBooking: userRateBooking,\n  getPendingBookings: getPendingBookings,\n  getConfirmedBookings: getConfirmedBookings,\n  getInProgressBookings: getInProgressBookings,\n  getCompletedBookings: getCompletedBookings,\n  getCancelledBookings: getCancelledBookings\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhc3luY0hhbmRsZXIiLCJyZXF1aXJlIiwiX3JlcXVpcmUiLCJnZXRQb29sIiwic3FsIiwiZ2V0Qm9va2luZ3NCeVN0YXR1cyIsIl9yZWYiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJfcmVnZW5lcmF0b3IiLCJtYXJrIiwiX2NhbGxlZSIsInVzZXJJRCIsInN0YXR1cyIsInN0YXR1c0Rpc3BsYXlOYW1lIiwicG9vbCIsImJvb2tpbmdzIiwiX3QiLCJ3cmFwIiwiX2NvbnRleHQiLCJwcmV2IiwibmV4dCIsInJlcXVlc3QiLCJpbnB1dCIsIkludCIsIlZhckNoYXIiLCJxdWVyeSIsInNlbnQiLCJyZWNvcmRzZXQiLCJsZW5ndGgiLCJhYnJ1cHQiLCJzdWNjZXNzIiwic3RhdHVzQ29kZSIsImRhdGEiLCJtZXNzYWdlIiwiY29uY2F0IiwiY291bnQiLCJjb25zb2xlIiwiZXJyb3IiLCJzdG9wIiwiX3giLCJfeDIiLCJfeDMiLCJhcHBseSIsImFyZ3VtZW50cyIsInVzZXJSZXF1ZXN0Qm9va2luZyIsIl9yZWYyIiwiX2NhbGxlZTIiLCJyZXEiLCJyZXMiLCJfcmVxJGJvZHkiLCJhcHBsaWFuY2VUeXBlSUQiLCJpc3N1ZURlc2NyaXB0aW9uIiwiYm9va2luZ0RhdGUiLCJib29raW5nVGltZSIsInBheW1lbnRNZXRob2QiLCJ2YWxpZFBheW1lbnRNZXRob2RzIiwidGltZVJlZ2V4IiwiY2xlYW5UaW1lIiwiYXBwbGlhbmNlVHlwZSIsImJhc2VQcmljZSIsImNvbW1pc3Npb25SYXRlIiwicGxhdGZvcm1GZWUiLCJ0cmFuc2FjdGlvbiIsImJvb2tpbmdSZXN1bHQiLCJib29raW5nSUQiLCJfdDIiLCJfdDMiLCJfY29udGV4dDIiLCJib2R5IiwianNvbiIsImluY2x1ZGVzIiwidHJpbSIsInRlc3QiLCJCYXNlX1ByaWNlIiwiYmVnaW4iLCJOVmFyQ2hhciIsIkRhdGUiLCJEZWNpbWFsIiwiQm9va2luZ19JRCIsImNvbW1pdCIsInRvdGFsUHJpY2UiLCJwYXltZW50U3RhdHVzIiwicm9sbGJhY2siLCJudW1iZXIiLCJfeDQiLCJfeDUiLCJ1c2VyUGF5Qm9va2luZyIsIl9yZWYzIiwiX2NhbGxlZTMiLCJfcmVxJGJvZHkyIiwidHJhbnNhY3Rpb25JRCIsImNoZWNrQm9va2luZyIsImJvb2tpbmciLCJ0cmFuc2FjdGlvbklkTWV0aG9kcyIsIl90NCIsIl9jb250ZXh0MyIsIlVzZXJJRCIsIlN0YXR1cyIsIlBheW1lbnRfU3RhdHVzIiwiUGF5bWVudF9NZXRob2QiLCJfeDYiLCJfeDciLCJ1c2VyUmF0ZUJvb2tpbmciLCJfcmVmNCIsIl9jYWxsZWU0IiwiX3JlcSRib2R5MyIsInJhdGluZ1Njb3JlIiwicmV2aWV3VGV4dCIsImV4aXN0aW5nUmF0aW5nIiwiX3Q1IiwiX2NvbnRleHQ0IiwiTnVtYmVyIiwiaXNJbnRlZ2VyIiwiVGVjaG5pY2lhbl9JRCIsIlNtYWxsSW50IiwidGVjaG5pY2lhbklEIiwiX3g4IiwiX3g5IiwiZ2V0UGVuZGluZ0Jvb2tpbmdzIiwiX3JlZjUiLCJfY2FsbGVlNSIsInJlc3VsdCIsIl9jb250ZXh0NSIsIl94MCIsIl94MSIsImdldENvbmZpcm1lZEJvb2tpbmdzIiwiX3JlZjYiLCJfY2FsbGVlNiIsIl9jb250ZXh0NiIsIl94MTAiLCJfeDExIiwiZ2V0SW5Qcm9ncmVzc0Jvb2tpbmdzIiwiX3JlZjciLCJfY2FsbGVlNyIsIl9jb250ZXh0NyIsIl94MTIiLCJfeDEzIiwiZ2V0Q29tcGxldGVkQm9va2luZ3MiLCJfcmVmOCIsIl9jYWxsZWU4IiwiX2NvbnRleHQ4IiwiX3gxNCIsIl94MTUiLCJnZXRDYW5jZWxsZWRCb29raW5ncyIsIl9yZWY5IiwiX2NhbGxlZTkiLCJfY29udGV4dDkiLCJfeDE2IiwiX3gxNyIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii93b3Jrc3BhY2VzL0ZpeEFwcGxpYW5jZS1lQ29tbWVyY2UvYmFjay1lbmQvc3JjL2NvbnRyb2xsZXJzLyIsInNvdXJjZXMiOlsiVXNlckJvb2tpbmdDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGhpcyBjb250cm9sbGVyIGhhbmRsZXMgZXZlcnl0aGluZyByZWxhdGVkIHRvIGJvb2tpbmcgYW5kIHRoZSB1c2VyOlxuICogIDEuIFVzZXIgcmVxdWVzdGluZyBhIGJvb2tpbmdcbiAqICAyLiBVc2VyIHBheWluZyBhIGJvb2tpbmdcbiAqICAzLiBVc2VyIHJhdGluZyBhIGJvb2tpbmdcbiAqICA0LiB1c2VyIGdldHRpbmcgdGhlaXIgYm9va2luZ3MgKHBlbmRpbmcvY29uZmlybWVkL2luIHByb2dyZXNzL2NvbXBsZXRlZC9jYW5jZWxsZWQpXG4gKi9cblxuY29uc3QgYXN5bmNIYW5kbGVyID0gcmVxdWlyZShcImV4cHJlc3MtYXN5bmMtaGFuZGxlclwiKTtcblxuXG4vLyBzcWwgbmVlZGVkIGZvciB0aGUgdHlwZSBkZWZpbml0aW9ucyBpbiAuaW5wdXRcbi8vIGdldFBvb2wgaXMgdG8gZG8gcXVlcmllc1xuY29uc3QgeyBnZXRQb29sLCBzcWwgfSA9IHJlcXVpcmUoXCIuLi9jb25maWcvZGF0YWJhc2VcIik7XG5cblxuLyoqXG4gKiBIZWxwZXIgZnVuY3Rpb24gdG8gZ2V0IGJvb2tpbmdzIGJ5IHN0YXR1cyBmb3IgYSB1c2VyXG4gKiBSZWR1Y2VzIGNvZGUgZHVwbGljYXRpb24gYWNyb3NzIHRoZSA1IGdldFhCb29raW5ncyBmdW5jdGlvbnNcbiAqIEBwYXJhbSB7bnVtYmVyfSB1c2VySUQgLSBUaGUgdXNlcidzIElEXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RhdHVzIC0gVGhlIGJvb2tpbmcgc3RhdHVzIHRvIGZpbHRlciBieVxuICogQHBhcmFtIHtzdHJpbmd9IHN0YXR1c0Rpc3BsYXlOYW1lIC0gSHVtYW4tcmVhZGFibGUgc3RhdHVzIG5hbWUgZm9yIG1lc3NhZ2VzXG4gKiBAcmV0dXJucyB7UHJvbWlzZTx7c3VjY2VzczogYm9vbGVhbiwgZGF0YT86IG9iamVjdCwgZXJyb3I/OiBzdHJpbmcsIHN0YXR1c0NvZGU6IG51bWJlcn0+fVxuICovXG5jb25zdCBnZXRCb29raW5nc0J5U3RhdHVzID0gYXN5bmMgKHVzZXJJRCwgc3RhdHVzLCBzdGF0dXNEaXNwbGF5TmFtZSkgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHBvb2wgPSBnZXRQb29sKCk7XG5cbiAgICAgICAgY29uc3QgYm9va2luZ3MgPSBhd2FpdCBwb29sLnJlcXVlc3QoKVxuICAgICAgICAgICAgLmlucHV0KFwidXNlcklEXCIsIHNxbC5JbnQsIHVzZXJJRClcbiAgICAgICAgICAgIC5pbnB1dChcInN0YXR1c1wiLCBzcWwuVmFyQ2hhciwgc3RhdHVzKVxuICAgICAgICAgICAgLnF1ZXJ5KGBcbiAgICAgICAgICAgICAgICBTRUxFQ1QgXG4gICAgICAgICAgICAgICAgICAgIEJvb2tpbmcuQm9va2luZ19JRCwgXG4gICAgICAgICAgICAgICAgICAgIEJvb2tpbmcuQm9va2luZ19EYXRlIEFTIFwiU2NoZWR1bGVkIERhdGVcIiwgXG4gICAgICAgICAgICAgICAgICAgIEJvb2tpbmcuQm9va2luZ19UaW1lIEFTIFwiU2NoZWR1bGVkIFRpbWVcIiwgXG4gICAgICAgICAgICAgICAgICAgIEJvb2tpbmcuVG90YWxfUHJpY2UgQVMgXCJUb3RhbCBQcmljZVwiLCBcbiAgICAgICAgICAgICAgICAgICAgQXBwbGlhbmNlX1R5cGUubmFtZUVOIEFTIFwiQXBwbGlhbmNlJ3MgTmFtZSAoRU4pXCIsIFxuICAgICAgICAgICAgICAgICAgICBBcHBsaWFuY2VfVHlwZS5uYW1lQVIgQVMgXCJBcHBsaWFuY2UncyBOYW1lIChBUilcIixcbiAgICAgICAgICAgICAgICAgICAgQm9va2luZy5Jc3N1ZV9EZXNjcmlwdGlvbiBBUyBcIklzc3VlIERlc2NyaXB0aW9uXCIsXG4gICAgICAgICAgICAgICAgICAgIFRlY2huaWNpYW4uRmlyc3RfTmFtZSBBUyBcIlRlY2huaWNpYW4ncyBGaXJzdCBOYW1lXCIsXG4gICAgICAgICAgICAgICAgICAgIFRlY2huaWNpYW4uTGFzdF9OYW1lIEFTIFwiVGVjaG5pY2lhbidzIExhc3QgTmFtZVwiLFxuICAgICAgICAgICAgICAgICAgICBUZWNobmljaWFuLlBob25lIEFTIFwiVGVjaG5pY2lhbidzIFBob25lIE51bWJlclwiLFxuICAgICAgICAgICAgICAgICAgICBQYXltZW50LltTdGF0dXNdIEFTIFwiUGF5bWVudCBTdGF0dXNcIixcbiAgICAgICAgICAgICAgICAgICAgUGF5bWVudC5QYXltZW50X01ldGhvZCBBUyBcIlBheW1lbnQgTWV0aG9kXCJcbiAgICAgICAgICAgICAgICBGUk9NIEJvb2tpbmdcbiAgICAgICAgICAgICAgICBMRUZUIEpPSU4gVGVjaG5pY2lhbiBPTiBCb29raW5nLlRlY2huaWNpYW5fSUQgPSBUZWNobmljaWFuLlRlY2huaWNpYW5fSURcbiAgICAgICAgICAgICAgICBMRUZUIEpPSU4gUGF5bWVudCBPTiBCb29raW5nLkJvb2tpbmdfSUQgPSBQYXltZW50LkJvb2tpbmdfSURcbiAgICAgICAgICAgICAgICBKT0lOIEFwcGxpYW5jZV9UeXBlIE9OIEJvb2tpbmcuQXBwbGlhbmNlX1R5cGVfSUQgPSBBcHBsaWFuY2VfVHlwZS5BcHBsaWFuY2VfVHlwZV9JRFxuICAgICAgICAgICAgICAgIFdIRVJFIEJvb2tpbmcuVXNlcklEID0gQHVzZXJJRCBBTkQgQm9va2luZy5bU3RhdHVzXSA9IEBzdGF0dXNcbiAgICAgICAgICAgICAgICBPUkRFUiBCWSBCb29raW5nLkJvb2tpbmdfRGF0ZSBBU0MsIEJvb2tpbmcuQm9va2luZ19UaW1lIEFTQ1xuICAgICAgICAgICAgYCk7XG5cbiAgICAgICAgaWYgKGJvb2tpbmdzLnJlY29yZHNldC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICBzdGF0dXNDb2RlOiAyMDAsXG4gICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBgWW91IGRvbid0IGhhdmUgYW55ICR7c3RhdHVzRGlzcGxheU5hbWV9IGJvb2tpbmdzLmAsXG4gICAgICAgICAgICAgICAgICAgIGNvdW50OiAwLFxuICAgICAgICAgICAgICAgICAgICBib29raW5nczogW11cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICBzdGF0dXNDb2RlOiAyMDAsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogYFlvdSBoYXZlICR7c3RhdHVzRGlzcGxheU5hbWV9IGJvb2tpbmdzIWAsXG4gICAgICAgICAgICAgICAgY291bnQ6IGJvb2tpbmdzLnJlY29yZHNldC5sZW5ndGgsXG4gICAgICAgICAgICAgICAgYm9va2luZ3M6IGJvb2tpbmdzLnJlY29yZHNldFxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYFVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQgd2hlbiB0cnlpbmcgdG8gZmV0Y2ggJHtzdGF0dXNEaXNwbGF5TmFtZX0gYm9va2luZ3M6YCwgZXJyb3IpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICBzdGF0dXNDb2RlOiA1MDAsXG4gICAgICAgICAgICBlcnJvcjogYFVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQgd2hlbiB0cnlpbmcgdG8gZmV0Y2ggeW91ciAke3N0YXR1c0Rpc3BsYXlOYW1lfSBib29raW5ncy5gXG4gICAgICAgIH07XG4gICAgfVxufTtcblxuXG4vLyBVc2VyIHJlcXVlc3RpbmcgYSBuZXcgYm9va2luZ1xuY29uc3QgdXNlclJlcXVlc3RCb29raW5nID0gYXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIC8vIEdldHRpbmcgYWxsIHVzZXIgaW5wdXQgZnJvbSB0aGUgcmVxdWVzdCdzIGJvZHkgYW5kIHRoZSB1c2VySUQgYXMgd2VsbCBwYXNzZWQgYnkgdGhlIG1pZGRsZXdhcmUgdGhhdCB2YWxpZGF0ZXMgdXNlcidzIGxvZ2luIGNyZWRlbnRpYWxzXG4gICAgY29uc3QgeyBhcHBsaWFuY2VUeXBlSUQsIGlzc3VlRGVzY3JpcHRpb24sIGJvb2tpbmdEYXRlLCBib29raW5nVGltZSwgcGF5bWVudE1ldGhvZCB9ID0gcmVxLmJvZHk7XG4gICAgY29uc3QgdXNlcklEID0gcmVxLnVzZXJJRDtcblxuICAgIC8vIElmIGFueSBvZiB0aGUgaW5wdXRzIGFyZW50IHByb3ZpZGVkIHRoZW4gdGhyb3cgYSA0MDAgZXJyb3JcbiAgICBpZiAoIWFwcGxpYW5jZVR5cGVJRCB8fCAhaXNzdWVEZXNjcmlwdGlvbiB8fCAhYm9va2luZ0RhdGUgfHwgIWJvb2tpbmdUaW1lIHx8ICFwYXltZW50TWV0aG9kKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJBbGwgYm9va2luZyBkZXRhaWxzIGFyZSByZXF1aXJlZDogdGhlIGFwcGxpYW5jZSwgYSBkZXNjcmlwdGlvbiBmb3IgdGhlIGlzc3VlLCBkYXRlIGFuZCB0aW1lLlwifSk7XG4gICAgfVxuXG4gICAgLy8gVmFsaWRhdGUgdGhlIHBheW1lbnQgbWV0aG9kIHN1Y2ggdGhhdCBpdCdzIG9uZSBvZiB0aGUgYWNjZXB0ZWQgb25lc1xuICAgIGNvbnN0IHZhbGlkUGF5bWVudE1ldGhvZHMgPSBbJ2Nhc2gnLCAnY3JlZGl0X2NhcmQnLCAnZGViaXRfY2FyZCcsICd3aGlzaCcsICdvbXQnXTtcbiAgICBpZiAoIXZhbGlkUGF5bWVudE1ldGhvZHMuaW5jbHVkZXMocGF5bWVudE1ldGhvZCkpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttZXNzYWdlOiBcIkludmFsaWQgcGF5bWVudCBtZXRob2QuIENob29zZSBlaXRoZXIgY2FzaCwgY3JlZGl0X2NhcmQsIGRlYml0X2NhcmQsIHdoaXNoIG9yIG9tdC5cIn0pO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRpbmcgdGhlIHRpbWUgZm9ybWF0IHBhc3NlZCB1c2luZyByZWdleCwgaWYgZG9lc250IHBhc3MgdGhlbiB0aHJvdyBhIDQwMCBvZiBpbnZhbGlkIHRpbWUgZm9ybWF0XG4gICAgY29uc3QgdGltZVJlZ2V4ID0gL14oWzAtMV0/WzAtOV18MlswLTNdKTpbMC01XVswLTldOlswLTVdWzAtOV0kLztcbiAgICBjb25zdCBjbGVhblRpbWUgPSBib29raW5nVGltZS50cmltKCk7XG5cbiAgICBpZiAoIXRpbWVSZWdleC50ZXN0KGNsZWFuVGltZSkpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttZXNzYWdlOiBcIkludmFsaWQgdGltZSBmb3JtYXQuIFVzZSBISDpNTTpTUyAoZS5nLiwgMTQ6MzA6MDApXCJ9KTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgICBjb25zdCBwb29sID0gZ2V0UG9vbCgpO1xuXG4gICAgICAgIC8vIFZlcmlmeWluZyB0aGUgYXBwbGlhbmNlIHR5cGUgdGhhdCB3YXMgcGFzc2VkIHRocm91Z2ggdGhlIGJvZHlcbiAgICAgICAgLy8gSGFzIHRvIGJlIGFjdGl2ZSBhbmQgaGFzIHRvIG1hdGNoIHRoZSBhcHBsaWFuY2UgdHlwZSBJRCBwYXNzZWQgYnkgdGhlIHVzZXJcbiAgICAgICAgY29uc3QgYXBwbGlhbmNlVHlwZSA9IGF3YWl0IHBvb2wucmVxdWVzdCgpXG4gICAgICAgICAgICAuaW5wdXQoXCJhcHBsaWFuY2VUeXBlSURcIiwgc3FsLkludCwgYXBwbGlhbmNlVHlwZUlEKVxuICAgICAgICAgICAgLnF1ZXJ5KGBcbiAgICAgICAgICAgICAgICBTRUxFQ1QgQmFzZV9QcmljZSBcbiAgICAgICAgICAgICAgICBGUk9NIEFwcGxpYW5jZV9UeXBlXG4gICAgICAgICAgICAgICAgV0hFUkUgQXBwbGlhbmNlX1R5cGVfSUQgPSBAYXBwbGlhbmNlVHlwZUlEIEFORCBpc0FjdGl2ZSA9IDFcbiAgICAgICAgICAgICAgICBgKTtcblxuICAgICAgICAvLyBJZiBubyByZXN1bHQgcmV0dXJuZWQgZnJvbSB0aGUgYXBwbGlhbmNlIHR5cGUgY2hlY2sgcXVlcnkgdGhlbiB0aGF0IG1lYW5zIHRoZSBhcHBsaWFuY2UgdHlwZSBpZCBwYXNzZWRcbiAgICAgICAgLy8gaXMgaW52YWxpZCwgdGhyb3cgYSA0MDQgZXJyb3JcbiAgICAgICAgaWYgKGFwcGxpYW5jZVR5cGUucmVjb3Jkc2V0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHttZXNzYWdlOiBcIkludmFsaWQgYXBwbGlhbmNlIHR5cGUgY2hvc2VuLlwifSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBHZXR0aW5nIHRoZSBiYXNlIHByaWNlIG9mIHRoZSBhcHBsaWFuY2UgdHlwZSBjaG9zZW4gdG8gc3BlY2lmeSB0aGUgcHJpY2Ugb2YgdGhlIGJvb2tpbmdcbiAgICAgICAgY29uc3QgYmFzZVByaWNlID0gYXBwbGlhbmNlVHlwZS5yZWNvcmRzZXRbMF0uQmFzZV9QcmljZTtcblxuICAgICAgICAvLyBDYWxjdWxhdGluZyB0aGUgcGxhdGZvcm0gZmVlIGZvciB0aGUgcGF5bWVudCB0YWJsZSBiYXNlZCBvbiB0aGUgYmFzZSBwcmljZVxuICAgICAgICBjb25zdCBjb21taXNzaW9uUmF0ZSA9IDE1LjAwO1xuICAgICAgICBjb25zdCBwbGF0Zm9ybUZlZSA9IChiYXNlUHJpY2UgKiBjb21taXNzaW9uUmF0ZSkgLyAxMDA7XG5cbiAgICAgICAgLy8gU3RhcnRpbmcgYSB0cmFuc2FjdGlvbiBzbyB0aGUgYm9va2luZyBhbmQgcGF5bWVudCBhcmUgY3JlYXRlZCB0b2dldGhlclxuICAgICAgICBjb25zdCB0cmFuc2FjdGlvbiA9IHBvb2wudHJhbnNhY3Rpb24oKTtcbiAgICAgICAgYXdhaXQgdHJhbnNhY3Rpb24uYmVnaW4oKTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gQ3JlYXRpbmcgYm9va2luZyBkYXRhIGJ5IHBhZGRpbmcgdGhlIG5lZWRlZCBjb2x1bW4gZGF0YVxuICAgICAgICAgICAgY29uc3QgYm9va2luZ1Jlc3VsdCA9IGF3YWl0IHRyYW5zYWN0aW9uLnJlcXVlc3QoKVxuICAgICAgICAgICAgICAgIC5pbnB1dChcInVzZXJJRFwiLCBzcWwuSW50LCB1c2VySUQpXG4gICAgICAgICAgICAgICAgLmlucHV0KFwiYXBwbGlhbmNlVHlwZUlEXCIsIHNxbC5JbnQsIGFwcGxpYW5jZVR5cGVJRClcbiAgICAgICAgICAgICAgICAuaW5wdXQoXCJpc3N1ZURlc2NyaXB0aW9uXCIsIHNxbC5OVmFyQ2hhciwgaXNzdWVEZXNjcmlwdGlvbilcbiAgICAgICAgICAgICAgICAuaW5wdXQoXCJib29raW5nRGF0ZVwiLCBzcWwuRGF0ZSwgYm9va2luZ0RhdGUpXG4gICAgICAgICAgICAgICAgLmlucHV0KFwiYm9va2luZ1RpbWVcIiwgc3FsLlZhckNoYXIoOCksIGNsZWFuVGltZSlcbiAgICAgICAgICAgICAgICAuaW5wdXQoXCJiYXNlUHJpY2VcIiwgc3FsLkRlY2ltYWwoMTAsIDIpLCBiYXNlUHJpY2UpXG4gICAgICAgICAgICAgICAgLnF1ZXJ5KGBcbiAgICAgICAgICAgIElOU0VSVCBJTlRPIEJvb2tpbmcgKFVzZXJJRCwgQXBwbGlhbmNlX1R5cGVfSUQsIElzc3VlX0Rlc2NyaXB0aW9uLCBCb29raW5nX0RhdGUsIEJvb2tpbmdfVGltZSwgW1N0YXR1c10sIFRvdGFsX1ByaWNlKVxuICAgICAgICAgICAgT1VUUFVUIElOU0VSVEVELkJvb2tpbmdfSUQgLS0ganVzdCBzbyB3ZSBjb3VsZCB1c2UgdGhlIGJvb2tpbmdJRCBsYXRlciB1c2luZyB0aGUgcmVzdWx0IG9mIHRoaXMgcXVlcnkuXG4gICAgICAgICAgICBWQUxVRVMoQHVzZXJJRCwgQGFwcGxpYW5jZVR5cGVJRCwgQGlzc3VlRGVzY3JpcHRpb24sIEBib29raW5nRGF0ZSwgQ0FTVChAYm9va2luZ1RpbWUgQVMgVElNRSksICdwZW5kaW5nJywgQGJhc2VQcmljZSlcbiAgICAgICAgICAgIGApO1xuXG4gICAgICAgICAgICAvLyBHZXR0aW5nIHRoZSBib29raW5nIGlkIGZyb20gdGhlIGFib3ZlIHF1ZXJ5J3MgcmVzdWx0IChpdCBvdXRwdXRzIHRoZSBib29raW5nIGlkKVxuICAgICAgICAgICAgY29uc3QgYm9va2luZ0lEID0gYm9va2luZ1Jlc3VsdC5yZWNvcmRzZXRbMF0uQm9va2luZ19JRDtcblxuICAgICAgICAgICAgLy8gSW5zZXJ0IHRoZSBwYXltZW50IGRhdGEgYW5kIHNldCBpdCB0byBwZW5kaW5nIHN0YXR1cyB1bnRpbCB0aGUgdXNlciBjb25maXJtcyB0aGUgcGF5bWVudFxuICAgICAgICAgICAgYXdhaXQgdHJhbnNhY3Rpb24ucmVxdWVzdCgpXG4gICAgICAgICAgICAgICAgLmlucHV0KFwiYm9va2luZ0lEXCIsIHNxbC5JbnQsIGJvb2tpbmdJRClcbiAgICAgICAgICAgICAgICAuaW5wdXQoXCJhbW91bnRcIiwgc3FsLkRlY2ltYWwoMTAsIDIpLCBiYXNlUHJpY2UpXG4gICAgICAgICAgICAgICAgLmlucHV0KFwicGF5bWVudE1ldGhvZFwiLCBzcWwuVmFyQ2hhciwgcGF5bWVudE1ldGhvZClcbiAgICAgICAgICAgICAgICAuaW5wdXQoXCJjb21taXNzaW9uUmF0ZVwiLCBzcWwuRGVjaW1hbCg1LCAyKSwgY29tbWlzc2lvblJhdGUpXG4gICAgICAgICAgICAgICAgLmlucHV0KFwicGxhdGZvcm1GZWVcIiwgc3FsLkRlY2ltYWwoMTAsIDIpLCBwbGF0Zm9ybUZlZSlcbiAgICAgICAgICAgICAgICAucXVlcnkoYFxuICAgICAgICAgICAgICAgICAgICAgICAgSU5TRVJUIElOVE8gUGF5bWVudCAoQm9va2luZ19JRCwgQW1vdW50LCBQYXltZW50X01ldGhvZCwgW1N0YXR1c10sIENvbW1pc3Npb25fUmF0ZSwgUGxhdGZvcm1fRmVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgVkFMVUVTKEBib29raW5nSUQsIEBhbW91bnQsIEBwYXltZW50TWV0aG9kLCAncGVuZGluZycsIEBjb21taXNzaW9uUmF0ZSwgQHBsYXRmb3JtRmVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgYCk7XG5cbiAgICAgICAgICAgIC8vIENvbWl0cyB0aGUgY2hhbmdlcywgd2hpY2ggaW5zZXJ0cyB0aGUgYm9va2luZyBhbmQgdGhlIHBheW1lbnQgZGF0YSBvZiB0aGlzIHVzZXIncyByZXF1ZXN0ZWQgYm9va2luZ1xuICAgICAgICAgICAgYXdhaXQgdHJhbnNhY3Rpb24uY29tbWl0KCk7XG5cbiAgICAgICAgICAgIC8vIFNlbmRpbmcgYSAyMDEgc3VjY2VzcyBtZXNzYWdlIHdpdGggc29tZSBpbmZvcm1hdGlvbiBwYXNzZWRcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAxKS5qc29uKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlN1Y2Nlc3NmdWxseSBib29rZWQhIEEgdGVjaG5pY2lhbiB3aWxsIGJlIGFzc2lnbmVkIHNvb24uXCIsXG4gICAgICAgICAgICAgICAgYm9va2luZ0lEOiBib29raW5nSUQsXG4gICAgICAgICAgICAgICAgdG90YWxQcmljZTogYmFzZVByaWNlLFxuICAgICAgICAgICAgICAgIHBheW1lbnRNZXRob2Q6IHBheW1lbnRNZXRob2QsXG4gICAgICAgICAgICAgICAgcGF5bWVudFN0YXR1czogXCJwZW5kaW5nXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgLy8gcm9sbGJhY2sgaWYgc29tZXRoaW5nIGdvZXMgd3JvbmdcbiAgICAgICAgICAgIGF3YWl0IHRyYW5zYWN0aW9uLnJvbGxiYWNrKCk7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIlVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQgd2hlbiBib29raW5nOlwiLCBlcnJvcik7XG5cbiAgICAgICAgLy8gSWYgYW55IGRhdGEgaXMgd3JvbmcgdGhlbiB0aGlzIGVycm9yIGlzIHRocm93biAod3JvbmcgYXBwbGlhbmNlIHR5cGUgYW5kIHdyb25nL2ludmFsaWQgZGF0ZSlcbiAgICAgICAgaWYgKGVycm9yLm51bWJlciA9PT0gNTQ3KSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiSW52YWxpZCBib29raW5nIGRhdGEuIFBsZWFzZSBjaGVjayB5b3VyIGFwcGxpYW5jZSB0eXBlLCBkYXRlLCBhbmQgZW5zdXJlIGl0J3MgdG9kYXkgb3IgaW4gdGhlIGZ1dHVyZS5cIn0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe21lc3NhZ2U6IFwiQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZCB3aGlsZSBib29raW5nLlwifSk7XG4gICAgfVxufSk7XG5cbi8vIFVzZXIgcGF5aW5nIGEgYm9va2luZyBmdW5jdGlvbmFsaXR5XG5jb25zdCB1c2VyUGF5Qm9va2luZyA9IGFzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICAvLyBHZXR0aW5nIHRoZSBib29raW5nIGlkIGFuZCB0aGUgdHJhbnNhY3Rpb24gaWQgKGlmIG5vbi1jYXNoIG1ldGhvZCkgZnJvbSB0aGUgYm9keSwgYW5kIHRoZSB1c2VyIGlkIHBhc3NlZCBieSB0aGUgYXV0aGVudGljYXRpb24gbWlkZGxld2FyZVxuICAgIGNvbnN0IHsgYm9va2luZ0lELCB0cmFuc2FjdGlvbklEIH0gPSByZXEuYm9keTtcbiAgICBjb25zdCB1c2VySUQgPSByZXEudXNlcklEO1xuXG4gICAgLy8gSWYgbm8gYm9va2luZ0lEIGlzIHBhc3NlZCB0aGVuIHRocm93IGEgNDAwIGVycm9yLiBOb3QgcGFzc2luZyB0aGUgdHJhbnNhY3Rpb25JRCBpcyBmaW5lIGlmIHRoZSBtZXRob2QgaXMgY2FzaC5cbiAgICBpZiAoIWJvb2tpbmdJRCkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiQm9va2luZyBJRCBtdXN0IGJlIHBhc3NlZC5cIn0pO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHBvb2wgPSBnZXRQb29sKCk7XG5cbiAgICAgICAgLy8gQ2hlY2tpbmcgaWYgdGhlIGJvb2tpbmdJRCBwYXNzZWQgaXMgdmFsaWRcbiAgICAgICAgY29uc3QgY2hlY2tCb29raW5nID0gYXdhaXQgcG9vbC5yZXF1ZXN0KClcbiAgICAgICAgICAgIC5pbnB1dChcImJvb2tpbmdJRFwiLCBzcWwuSW50LCBib29raW5nSUQpXG4gICAgICAgICAgICAuaW5wdXQoXCJ1c2VySURcIiwgc3FsLkludCwgdXNlcklEKVxuICAgICAgICAgICAgLnF1ZXJ5KGBcbiAgICAgICAgICAgICAgICBTRUxFQ1QgYi5Cb29raW5nX0lELCBiLltTdGF0dXNdLCBiLlVzZXJJRCwgcC5QYXltZW50X0lELCBwLltTdGF0dXNdIEFTIFBheW1lbnRfU3RhdHVzLCBwLlBheW1lbnRfTWV0aG9kXG4gICAgICAgICAgICAgICAgRlJPTSBCb29raW5nIGJcbiAgICAgICAgICAgICAgICBKT0lOIFBheW1lbnQgcCBPTiBiLkJvb2tpbmdfSUQgPSBwLkJvb2tpbmdfSURcbiAgICAgICAgICAgICAgICBXSEVSRSBiLkJvb2tpbmdfSUQgPSBAYm9va2luZ0lEXG4gICAgICAgICAgICAgICAgYCk7XG5cbiAgICAgICAgLy8gSWYgdGhlIGFib3ZlIHNlbGVjdCBxdWVyeSBnb3Qgbm8gcmVzdWx0IHRoZW4gdGhlIGJvb2tpbmcgaXMgbm90IGZvdW5kLCB0aHJvd3MgYSA0MDRcbiAgICAgICAgaWYgKGNoZWNrQm9va2luZy5yZWNvcmRzZXQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe21lc3NhZ2U6IFwiQm9va2luZyBub3QgZm91bmRcIn0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gR2V0dGluZyB0aGUgZmlyc3Qgcm93IG9mIHRoZSByZXR1cm5lZCByZXN1bHRcbiAgICAgICAgY29uc3QgYm9va2luZyA9IGNoZWNrQm9va2luZy5yZWNvcmRzZXRbMF07XG5cbiAgICAgICAgLy8gQ2hlY2tpbmcgaWYgdGhlIGJvb2tpbmcncyB1c2VySUQgbWF0Y2hlcyB0aGUgY3VycmVudCBsb2dnZWQgaW4ncyB1c2VySUQsIGlmIGl0IGRvZXNuJ3QgdGhlbiB0aHJvdyBhIDQwM1xuICAgICAgICAvLyBzaW5jZSB0aGUgdXNlciBpc24ndCBhdXRob3JpemVkIHRvIHBheSBmb3IgdGhpcyBib29raW5nLlxuICAgICAgICBpZiAoYm9va2luZy5Vc2VySUQgIT09IHVzZXJJRCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAzKS5qc29uKHttZXNzYWdlOiBcIllvdSBhcmUgbm90IGF1dGhvcml6ZWQgdG8gcGF5IGZvciB0aGlzIGJvb2tpbmcgc2luY2UgaXQncyBub3QgeW91cnMuXCJ9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFN0YXR1cyBjaGVja2luZzogY2Fubm90IHBheSBhIGJvb2tpbmcgdGhhdCdzIGNhbmNlbGxlZC9jb21wbGV0ZWRcbiAgICAgICAgaWYgKGJvb2tpbmcuU3RhdHVzID09PSAnY2FuY2VsbGVkJykge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttZXNzYWdlOiBcIkNhbm5vdCBwYXkgZm9yIGEgY2FuY2VsbGVkIGJvb2tpbmchXCJ9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChib29raW5nLlN0YXR1cyA9PT0gJ2NvbXBsZXRlZCcpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJDYW5ub3QgcGF5IGZvciBhIGJvb2tpbmcgdGhhdCdzIGFscmVhZHkgcGFpZCBmb3IuXCJ9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIHRoZSBib29raW5nIGlzIGFscmVhZHkgcGFpZCB0aGVuIHRoZSB1c2VyIGNhbnQgcGF5IGl0IGFnYWluIVxuICAgICAgICBpZiAoYm9va2luZy5QYXltZW50X1N0YXR1cyA9PT0gJ2NvbXBsZXRlZCcpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJUaGlzIGJvb2tpbmcgaGFzIGFscmVhZHkgYmVlbiBwYWlkLlwifSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBFbnN1cmluZyB0aGF0IHRyYW5zYWN0aW9uSUQgaXMgcGFzc2VkIHdoZW4gdGhlIHBheW1lbnQgbWV0aG9kIGlzIGFueXRoaW5nIGJ1dCBhIGNhc2ggbWV0aG9kXG4gICAgICAgIC8vIElmIHRoZXJlIGlzIG5vIHRyYW5zYWN0aW9uSUQsIGFuZCB0aGUgcGF5bWVudCBtZXRob2QgaXNudCBjYXNoLCB0aGVuIHRocm93IGEgNDAwIGVycm9yXG4gICAgICAgIGNvbnN0IHRyYW5zYWN0aW9uSWRNZXRob2RzID0gWydjcmVkaXRfY2FyZCcsICdkZWJpdF9jYXJkJywgJ3doaXNoJywgJ29tdCddO1xuICAgICAgICBpZiAodHJhbnNhY3Rpb25JZE1ldGhvZHMuaW5jbHVkZXMoYm9va2luZy5QYXltZW50X01ldGhvZCkgJiYgIXRyYW5zYWN0aW9uSUQpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJUcmFuc2FjdGlvbiBJRCBpcyBuZWVkZWQgZm9yIHRoaXMgcGF5bWVudCBtZXRob2QhXCJ9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIGFsbCdzIGdvb2QgdGhlbiB1cGRhdGUgdGhlIFBheW1lbnQgcm93IG9mIHRoZSBib29raW5nSUQgY29uY2VybmVkIGFuZCBjaGFuZ2UgdGhlIHN0YXR1cyB0byBcbiAgICAgICAgLy8gY29tcGxldGVkLCB3aXRoIHNldHRpbmcgdGhlIHRyYW5zYWN0aW9uSUQgKGlmIGF2YWlsYWJsZSkgYW5kIHNldHRpbmcgdGhlIHBhaWRBdCB0byB0aGUgY3VycmVudCBkYXRlLlxuICAgICAgICBhd2FpdCBwb29sLnJlcXVlc3QoKVxuICAgICAgICAgICAgLmlucHV0KFwiYm9va2luZ0lEXCIsIHNxbC5JbnQsIGJvb2tpbmdJRClcbiAgICAgICAgICAgIC5pbnB1dChcInRyYW5zYWN0aW9uSURcIiwgc3FsLlZhckNoYXIsIHRyYW5zYWN0aW9uSUQgfHwgbnVsbClcbiAgICAgICAgICAgIC5xdWVyeShgXG4gICAgICAgICAgICAgICAgVVBEQVRFIFBheW1lbnRcbiAgICAgICAgICAgICAgICBTRVQgW1N0YXR1c10gPSAnY29tcGxldGVkJyxcbiAgICAgICAgICAgICAgICAgICAgVHJhbnNhY3Rpb25fSUQgPSBAdHJhbnNhY3Rpb25JRCxcbiAgICAgICAgICAgICAgICAgICAgcGFpZEF0ID0gR0VUREFURSgpXG4gICAgICAgICAgICAgICAgV0hFUkUgQm9va2luZ19JRCA9IEBib29raW5nSURcbiAgICAgICAgICAgICAgICBgKTtcblxuICAgICAgICAvLyBTZW5kIGEgc3VjY2VzcyBtZXNzYWdlIHdpdGggdGhlIGJvb2tpbmcgaWQgYW5kIHBheW1lbnQgc3RhdHVzIGFzIGNvbXBsZXRlZFxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIlBheW1lbnQgY29tcGxldGVkLlwiLFxuICAgICAgICAgICAgYm9va2luZ0lEOiBib29raW5nSUQsXG4gICAgICAgICAgICBwYXltZW50U3RhdHVzOiBcImNvbXBsZXRlZFwiXG4gICAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIC8vIFRocm93cyBhbiBlcnJvciBpbiBjYXNlIHRoZSBib29raW5nIGlkIGlzIGludmFsaWQsIG9yIGFueSBvdGhlciB1bmV4cGVjdGVkIGlzc3VlIHRoYXQgb2NjdXJyZWRcbiAgICAgICAgY29uc29sZS5lcnJvcihcIlVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQgd2hlbiBwcm9jZXNzaW5nIHBheW1lbnQ6XCIsIGVycm9yKTtcblxuICAgICAgICBpZiAoZXJyb3IubnVtYmVyID09PSA1NDcpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJJbnZhbGlkIGJvb2tpbmcgSUQuXCJ9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHttZXNzYWdlOiBcIkFuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQgd2hlbiBwcm9jZXNzaW5nIHRoZSBwYXltZW50LlwifSk7XG4gICAgfVxufSlcblxuLy8gVXNlciByYXRpbmcgYSBib29raW5nIGZ1bmN0aW9uYWxpdHlcbmNvbnN0IHVzZXJSYXRlQm9va2luZyA9IGFzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICAvLyBHZXR0aW5nIHRoZSBuZWVkZWQgaW5wdXQgZnJvbSB0aGUgcGFzc2VkIGJvZHkgYW5kIHRoZSB1c2VySUQgcGFzc2VkIGZyb20gdGhlIG1pZGRsZXdhcmVcbiAgICBjb25zdCB7IGJvb2tpbmdJRCwgcmF0aW5nU2NvcmUsIHJldmlld1RleHQgfSA9IHJlcS5ib2R5O1xuICAgIGNvbnN0IHVzZXJJRCA9IHJlcS51c2VySUQ7XG5cbiAgICAvLyBJZiB0aGUgbmVlZGVkIHZhbHVlcyBhcmUgZW1wdHkgdGhlbiB0aHJvdyBhIDQwMCBlcnJvclxuICAgIGlmICghYm9va2luZ0lEIHx8ICFyYXRpbmdTY29yZSB8fCAhcmV2aWV3VGV4dCkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiWW91IGhhdmUgdG8gcGFzcyBhIGJvb2tpbmcgSUQsIHJhdGluZyBzY29yZSBhbmQgcmV2aWV3IHRleHQgdG8gcmF0ZSBhIGJvb2tpbmcuXCJ9KTtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgcmF0aW5nIHNjb3JlIGlzbid0IGEgbnVtYmVyLCBvciBpc24ndCBiZXR3ZWVuIDEgYW5kIDUsIHRoZW4gdGhyb3cgYW4gZXJyb3IgNDAwXG4gICAgaWYgKCFOdW1iZXIuaXNJbnRlZ2VyKHJhdGluZ1Njb3JlKSB8fCByYXRpbmdTY29yZSA8IDEgfHwgcmF0aW5nU2NvcmUgPiA1KSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJSYXRpbmcgc2NvcmUgbXVzdCBiZSBhIG51bWJlciBiZXR3ZWVuIDEgYW5kIDUhXCJ9KTtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgcmV2aWV3IHRleHQgaXMgdG9vIHNob3J0IHRoZW4gdGhyb3cgYSA0MDAgZXJyb3JcbiAgICBpZiAocmV2aWV3VGV4dC50cmltKCkubGVuZ3RoIDwgMTUpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttZXNzYWdlOiBcIlBsZWFzZSB3cml0ZSB5b3VyIHJldmlldyB0ZXh0IGxvbmdlciwgdGhhdCdzIHRvbyBzaG9ydC5cIn0pO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHBvb2wgPSBnZXRQb29sKCk7XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGJvb2tpbmcgaWQgcGFzc2VkIGV4aXN0c1xuICAgICAgICBjb25zdCBjaGVja0Jvb2tpbmcgPSBhd2FpdCBwb29sLnJlcXVlc3QoKVxuICAgICAgICAgICAgLmlucHV0KFwiYm9va2luZ0lEXCIsIHNxbC5JbnQsIGJvb2tpbmdJRClcbiAgICAgICAgICAgIC5pbnB1dChcInVzZXJJRFwiLCBzcWwuSW50LCB1c2VySUQpXG4gICAgICAgICAgICAucXVlcnkoYFxuICAgICAgICAgICAgICAgIFNFTEVDVCBiLkJvb2tpbmdfSUQsIGIuVXNlcklELCBiLlRlY2huaWNpYW5fSUQsIGIuW1N0YXR1c11cbiAgICAgICAgICAgICAgICBGUk9NIEJvb2tpbmcgYlxuICAgICAgICAgICAgICAgIFdIRVJFIGIuQm9va2luZ19JRCA9IEBib29raW5nSURcbiAgICAgICAgICAgICAgICBgKTtcblxuICAgICAgICAvLyBJZiBub3RoaW5nIHdhcyByZXR1cm5lZCBmcm9tIHRoZSBhYm92ZSBxdWVyeSB0aGVuIHRocm93IGEgNDA0IGJlY2F1c2UgdGhlIGJvb2tpbmcgaXNuJ3QgZm91bmRcbiAgICAgICAgaWYgKGNoZWNrQm9va2luZy5yZWNvcmRzZXQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe21lc3NhZ2U6IFwiQm9va2luZyBub3QgZm91bmQuXCJ9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEdldCB0aGUgZmlyc3QgYm9va2luZyByb3dcbiAgICAgICAgY29uc3QgYm9va2luZyA9IGNoZWNrQm9va2luZy5yZWNvcmRzZXRbMF07XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGJvb2tpbmcncyB1c2VyIGlkIG1hdGNoZXMgdGhlIHVzZXJpZCBvZiB0aGUgbG9nZ2VkIGluIHVzZXIsIGlmIG5vdCB0aGVuIHRocm93IGEgNDAzIGVycm9yXG4gICAgICAgIGlmIChib29raW5nLlVzZXJJRCAhPT0gdXNlcklEKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDMpLmpzb24oe21lc3NhZ2U6IFwiWW91IGFyZSBub3QgYXV0aG9yaXplZCB0byByZXZpZXcgdGhpcyBib29raW5nIHNpbmNlIGl0J3Mgbm90IHlvdXJzIVwifSk7XG4gICAgICAgIH1cblxuICAgICAgICAvL0lmIHRoZSBib29raW5nIGRvZXNuJ3QgaGF2ZSBhIHRlY2huaWNpYW4gdGhlbiB0aGUgdXNlciBjYW50IHJhdGUgaXRcbiAgICAgICAgaWYgKCFib29raW5nLlRlY2huaWNpYW5fSUQpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJDYW5ub3QgcmF0ZSBhIGJvb2tpbmcgd2l0aG91dCBhbiBhc3NpZ25lZCB0ZWNobmljaWFuLlwifSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiB0aGUgYm9va2luZyBpc24ndCBjb21wbGV0ZWQgdGhlbiB0aGUgdXNlciBjYW50IHJhdGUgaXRcbiAgICAgICAgaWYgKGJvb2tpbmcuU3RhdHVzICE9PSAnY29tcGxldGVkJykge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttZXNzYWdlOiBcIllvdSBjYW4gb25seSByYXRlIGNvbXBsZXRlZCBib29raW5ncy5cIn0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2tpbmcgaWYgYSByYXRpbmcgYWxyZWFkeSBleGlzdHMgZm9yIHRoZSBjb25jZXJuZWQgYm9va2luZ1xuICAgICAgICBjb25zdCBleGlzdGluZ1JhdGluZyA9IGF3YWl0IHBvb2wucmVxdWVzdCgpXG4gICAgICAgICAgICAuaW5wdXQoXCJib29raW5nSURcIiwgc3FsLkludCwgYm9va2luZ0lEKVxuICAgICAgICAgICAgLnF1ZXJ5KGBTRUxFQ1QgUmF0aW5nX0lEIFxuICAgICAgICAgICAgICAgICAgICBGUk9NIFJhdGluZyBcbiAgICAgICAgICAgICAgICAgICAgV0hFUkUgQm9va2luZ19JRCA9IEBib29raW5nSURgKTtcblxuICAgICAgICAvLyBJZiB5ZXMgdGhlbiB0aHJvdyBhIDQwOSBlcnJvclxuICAgICAgICBpZiAoZXhpc3RpbmdSYXRpbmcucmVjb3Jkc2V0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwOSkuanNvbih7bWVzc2FnZTogXCJUaGlzIGJvb2tpbmcgaGFzIGFscmVhZHkgYmVlbiByYXRlZCBiZWZvcmUhXCJ9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIGFsbCdzIGdvb2QgdGhlbiBpbnNlcnQgdGhlIHJhdGluZyBkYXRhIHdpdGggdGhlIGluZm9ybWF0aW9uIHRha2VuIGZyb20gdGhlIGJvZHlcbiAgICAgICAgYXdhaXQgcG9vbC5yZXF1ZXN0KClcbiAgICAgICAgICAgIC5pbnB1dChcImJvb2tpbmdJRFwiLCBzcWwuSW50LCBib29raW5nSUQpXG4gICAgICAgICAgICAuaW5wdXQoXCJ1c2VySURcIiwgc3FsLkludCwgdXNlcklEKVxuICAgICAgICAgICAgLmlucHV0KFwidGVjaG5pY2lhbklEXCIsIHNxbC5JbnQsIGJvb2tpbmcuVGVjaG5pY2lhbl9JRClcbiAgICAgICAgICAgIC5pbnB1dChcInJhdGluZ1Njb3JlXCIsIHNxbC5TbWFsbEludCwgcmF0aW5nU2NvcmUpXG4gICAgICAgICAgICAuaW5wdXQoXCJyZXZpZXdUZXh0XCIsIHNxbC5OVmFyQ2hhciwgcmV2aWV3VGV4dC50cmltKCkpXG4gICAgICAgICAgICAucXVlcnkoYFxuICAgICAgICAgICAgICAgIElOU0VSVCBJTlRPIFJhdGluZyAoQm9va2luZ19JRCwgVXNlcl9JRCwgVGVjaG5pY2lhbl9JRCwgUmF0aW5nX1Njb3JlLCBSZXZpZXdfVGV4dClcbiAgICAgICAgICAgICAgICBWQUxVRVMoQGJvb2tpbmdJRCwgQHVzZXJJRCwgQHRlY2huaWNpYW5JRCwgQHJhdGluZ1Njb3JlLCBAcmV2aWV3VGV4dClcbiAgICAgICAgICAgICAgICBgKTtcblxuICAgICAgICAvLyBTZW5kIGEgMjAxIHN1Y2Nlc3MgbWVzc2FnZVxuICAgICAgICByZXMuc3RhdHVzKDIwMSkuanNvbih7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIlN1Y2Nlc3NmdWxseSByYXRlZCB0aGlzIGJvb2tpbmchXCIsXG4gICAgICAgICAgICBib29raW5nSUQ6IGJvb2tpbmdJRCxcbiAgICAgICAgICAgIHRlY2huaWNpYW5JRDogYm9va2luZy5UZWNobmljaWFuX0lELFxuICAgICAgICAgICAgcmF0aW5nU2NvcmU6IHJhdGluZ1Njb3JlXG4gICAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJVbmV4cGVjdGVkIGVycm9yIG9jY3VycmVkIHdoZW4gdHJ5aW5nIHRvIHJhdGUgYSBib29raW5nOlwiLCBlcnJvcik7XG5cbiAgICAgICAgLy8gQ29uc3RyYWludCB2aW9sYXRpb24gaGFuZGxpbmdcbiAgICAgICAgaWYgKGVycm9yLm51bWJlciA9PT0gNTQ3KSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiSW52YWxpZCByYXRpbmcgZGF0YSwgcGxlYXNlIGNoZWNrIHlvdXIgaW5wdXRzLlwifSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB1bmlxdWUgY29uc3RyYWludCB2aW9sYXRpb24gKGZvciBkdXBsaWNhdGUgcmF0aW5ncylcbiAgICAgICAgaWYgKGVycm9yLm51bWJlciA9PT0gMjYyNykge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA5KS5qc29uKHttZXNzYWdlOiBcIlRoaXMgYm9va2luZyBoYXMgYWxyZWFkeSBiZWVuIHJhdGVkLlwifSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7bWVzc2FnZTogXCJVbmV4cGVjdGVkIGVycm9yIG9jY3VycmVkIHdoZW4gdHJ5aW5nIHRvIHJhdGUgYSBib29raW5nLlwifSk7XG4gICAgfVxufSlcblxuLy8gVGhlIGJlbG93IG1ldGhvZHMgZ2V0IGRpZmZlcmVudCB0eXBlcyBvZiBib29raW5ncyBvZiB0aGUgdXNlcjogcGVuZGluZywgY29uZmlybWVkLCBpbiBwcm9ncmVzcywgY29tcGxldGVkLCBjYW5jZWxsZWRcbi8vIEFsbCB1c2UgdGhlIGhlbHBlciBmdW5jdGlvbiBnZXRCb29raW5nc0J5U3RhdHVzIHRvIHJlZHVjZSBjb2RlIGR1cGxpY2F0aW9uXG5jb25zdCBnZXRQZW5kaW5nQm9va2luZ3MgPSBhc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3QgdXNlcklEID0gcmVxLnVzZXJJRDtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBnZXRCb29raW5nc0J5U3RhdHVzKHVzZXJJRCwgJ3BlbmRpbmcnLCAncGVuZGluZycpO1xuICAgIFxuICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyhyZXN1bHQuc3RhdHVzQ29kZSkuanNvbihyZXN1bHQuZGF0YSk7XG4gICAgfVxuICAgIHJldHVybiByZXMuc3RhdHVzKHJlc3VsdC5zdGF0dXNDb2RlKS5qc29uKHsgbWVzc2FnZTogcmVzdWx0LmVycm9yIH0pO1xufSk7XG5cbmNvbnN0IGdldENvbmZpcm1lZEJvb2tpbmdzID0gYXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHVzZXJJRCA9IHJlcS51c2VySUQ7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZ2V0Qm9va2luZ3NCeVN0YXR1cyh1c2VySUQsICdjb25maXJtZWQnLCAnY29uZmlybWVkJyk7XG4gICAgXG4gICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKHJlc3VsdC5zdGF0dXNDb2RlKS5qc29uKHJlc3VsdC5kYXRhKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMocmVzdWx0LnN0YXR1c0NvZGUpLmpzb24oeyBtZXNzYWdlOiByZXN1bHQuZXJyb3IgfSk7XG59KTtcblxuY29uc3QgZ2V0SW5Qcm9ncmVzc0Jvb2tpbmdzID0gYXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHVzZXJJRCA9IHJlcS51c2VySUQ7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZ2V0Qm9va2luZ3NCeVN0YXR1cyh1c2VySUQsICdpbl9wcm9ncmVzcycsICdpbiBwcm9ncmVzcycpO1xuICAgIFxuICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyhyZXN1bHQuc3RhdHVzQ29kZSkuanNvbihyZXN1bHQuZGF0YSk7XG4gICAgfVxuICAgIHJldHVybiByZXMuc3RhdHVzKHJlc3VsdC5zdGF0dXNDb2RlKS5qc29uKHsgbWVzc2FnZTogcmVzdWx0LmVycm9yIH0pO1xufSk7XG5cbmNvbnN0IGdldENvbXBsZXRlZEJvb2tpbmdzID0gYXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHVzZXJJRCA9IHJlcS51c2VySUQ7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZ2V0Qm9va2luZ3NCeVN0YXR1cyh1c2VySUQsICdjb21wbGV0ZWQnLCAnY29tcGxldGVkJyk7XG4gICAgXG4gICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKHJlc3VsdC5zdGF0dXNDb2RlKS5qc29uKHJlc3VsdC5kYXRhKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMocmVzdWx0LnN0YXR1c0NvZGUpLmpzb24oeyBtZXNzYWdlOiByZXN1bHQuZXJyb3IgfSk7XG59KTtcblxuY29uc3QgZ2V0Q2FuY2VsbGVkQm9va2luZ3MgPSBhc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3QgdXNlcklEID0gcmVxLnVzZXJJRDtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBnZXRCb29raW5nc0J5U3RhdHVzKHVzZXJJRCwgJ2NhbmNlbGxlZCcsICdjYW5jZWxsZWQnKTtcbiAgICBcbiAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMocmVzdWx0LnN0YXR1c0NvZGUpLmpzb24ocmVzdWx0LmRhdGEpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzLnN0YXR1cyhyZXN1bHQuc3RhdHVzQ29kZSkuanNvbih7IG1lc3NhZ2U6IHJlc3VsdC5lcnJvciB9KTtcbn0pO1xuXG5cbm1vZHVsZS5leHBvcnRzID0geyB1c2VyUmVxdWVzdEJvb2tpbmcsIHVzZXJQYXlCb29raW5nLCB1c2VyUmF0ZUJvb2tpbmcsIGdldFBlbmRpbmdCb29raW5ncywgZ2V0Q29uZmlybWVkQm9va2luZ3MsIGdldEluUHJvZ3Jlc3NCb29raW5ncywgZ2V0Q29tcGxldGVkQm9va2luZ3MsIGdldENhbmNlbGxlZEJvb2tp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","map":{"version":3,"names":["asyncHandler","require","_require","getPool","sql","getBookingsByStatus","_ref","_asyncToGenerator2","_regenerator","mark","_callee","userID","status","statusDisplayName","pool","bookings","_t","wrap","_context","prev","next","request","input","Int","VarChar","query","sent","recordset","length","abrupt","success","statusCode","data","message","concat","count","console","error","stop","_x","_x2","_x3","apply","arguments","userRequestBooking","_ref2","_callee2","req","res","_req$body","applianceTypeID","issueDescription","bookingDate","bookingTime","paymentMethod","validPaymentMethods","timeRegex","cleanTime","applianceType","basePrice","commissionRate","platformFee","transaction","bookingResult","bookingID","_t2","_t3","_context2","body","json","includes","trim","test","Base_Price","begin","NVarChar","Date","Decimal","Booking_ID","commit","totalPrice","paymentStatus","rollback","number","_x4","_x5","userPayBooking","_ref3","_callee3","_req$body2","transactionID","checkBooking","booking","transactionIdMethods","_t4","_context3","UserID","Status","Payment_Status","Payment_Method","_x6","_x7","userRateBooking","_ref4","_callee4","_req$body3","ratingScore","reviewText","existingRating","_t5","_context4","Number","isInteger","Technician_ID","SmallInt","technicianID","_x8","_x9","getPendingBookings","_ref5","_callee5","result","_context5","_x0","_x1","getConfirmedBookings","_ref6","_callee6","_context6","_x10","_x11","getInProgressBookings","_ref7","_callee7","_context7","_x12","_x13","getCompletedBookings","_ref8","_callee8","_context8","_x14","_x15","getCancelledBookings","_ref9","_callee9","_context9","_x16","_x17","module","exports"],"sourceRoot":"/workspaces/FixAppliance-eCommerce/back-end/src/controllers/","sources":["UserBookingController.js"],"sourcesContent":["/**\n * This controller handles everything related to booking and the user:\n *  1. User requesting a booking\n *  2. User paying a booking\n *  3. User rating a booking\n *  4. user getting their bookings (pending/confirmed/in progress/completed/cancelled)\n */\n\nconst asyncHandler = require(\"express-async-handler\");\n\n\n// sql needed for the type definitions in .input\n// getPool is to do queries\nconst { getPool, sql } = require(\"../config/database\");\n\n\n/**\n * Helper function to get bookings by status for a user\n * Reduces code duplication across the 5 getXBookings functions\n * @param {number} userID - The user's ID\n * @param {string} status - The booking status to filter by\n * @param {string} statusDisplayName - Human-readable status name for messages\n * @returns {Promise<{success: boolean, data?: object, error?: string, statusCode: number}>}\n */\nconst getBookingsByStatus = async (userID, status, statusDisplayName) => {\n    try {\n        const pool = getPool();\n\n        const bookings = await pool.request()\n            .input(\"userID\", sql.Int, userID)\n            .input(\"status\", sql.VarChar, status)\n            .query(`\n                SELECT \n                    Booking.Booking_ID, \n                    Booking.Booking_Date AS \"Scheduled Date\", \n                    Booking.Booking_Time AS \"Scheduled Time\", \n                    Booking.Total_Price AS \"Total Price\", \n                    Appliance_Type.nameEN AS \"Appliance's Name (EN)\", \n                    Appliance_Type.nameAR AS \"Appliance's Name (AR)\",\n                    Booking.Issue_Description AS \"Issue Description\",\n                    Technician.First_Name AS \"Technician's First Name\",\n                    Technician.Last_Name AS \"Technician's Last Name\",\n                    Technician.Phone AS \"Technician's Phone Number\",\n                    Payment.[Status] AS \"Payment Status\",\n                    Payment.Payment_Method AS \"Payment Method\"\n                FROM Booking\n                LEFT JOIN Technician ON Booking.Technician_ID = Technician.Technician_ID\n                LEFT JOIN Payment ON Booking.Booking_ID = Payment.Booking_ID\n                JOIN Appliance_Type ON Booking.Appliance_Type_ID = Appliance_Type.Appliance_Type_ID\n                WHERE Booking.UserID = @userID AND Booking.[Status] = @status\n                ORDER BY Booking.Booking_Date ASC, Booking.Booking_Time ASC\n            `);\n\n        if (bookings.recordset.length === 0) {\n            return {\n                success: true,\n                statusCode: 200,\n                data: {\n                    message: `You don't have any ${statusDisplayName} bookings.`,\n                    count: 0,\n                    bookings: []\n                }\n            };\n        }\n\n        return {\n            success: true,\n            statusCode: 200,\n            data: {\n                message: `You have ${statusDisplayName} bookings!`,\n                count: bookings.recordset.length,\n                bookings: bookings.recordset\n            }\n        };\n    } catch (error) {\n        console.error(`Unexpected error occurred when trying to fetch ${statusDisplayName} bookings:`, error);\n        return {\n            success: false,\n            statusCode: 500,\n            error: `Unexpected error occurred when trying to fetch your ${statusDisplayName} bookings.`\n        };\n    }\n};\n\n\n// User requesting a new booking\nconst userRequestBooking = asyncHandler(async (req, res) => {\n    // Getting all user input from the request's body and the userID as well passed by the middleware that validates user's login credentials\n    const { applianceTypeID, issueDescription, bookingDate, bookingTime, paymentMethod } = req.body;\n    const userID = req.userID;\n\n    // If any of the inputs arent provided then throw a 400 error\n    if (!applianceTypeID || !issueDescription || !bookingDate || !bookingTime || !paymentMethod) {\n        return res.status(400).json({message: \"All booking details are required: the appliance, a description for the issue, date and time.\"});\n    }\n\n    // Validate the payment method such that it's one of the accepted ones\n    const validPaymentMethods = ['cash', 'credit_card', 'debit_card', 'whish', 'omt'];\n    if (!validPaymentMethods.includes(paymentMethod)) {\n        return res.status(400).json({message: \"Invalid payment method. Choose either cash, credit_card, debit_card, whish or omt.\"});\n    }\n\n    // Validating the time format passed using regex, if doesnt pass then throw a 400 of invalid time format\n    const timeRegex = /^([0-1]?[0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]$/;\n    const cleanTime = bookingTime.trim();\n\n    if (!timeRegex.test(cleanTime)) {\n        return res.status(400).json({message: \"Invalid time format. Use HH:MM:SS (e.g., 14:30:00)\"});\n    }\n\n    try {\n        const pool = getPool();\n\n        // Verifying the appliance type that was passed through the body\n        // Has to be active and has to match the appliance type ID passed by the user\n        const applianceType = await pool.request()\n            .input(\"applianceTypeID\", sql.Int, applianceTypeID)\n            .query(`\n                SELECT Base_Price \n                FROM Appliance_Type\n                WHERE Appliance_Type_ID = @applianceTypeID AND isActive = 1\n                `);\n\n        // If no result returned from the appliance type check query then that means the appliance type id passed\n        // is invalid, throw a 404 error\n        if (applianceType.recordset.length === 0) {\n            return res.status(404).json({message: \"Invalid appliance type chosen.\"});\n        }\n\n        // Getting the base price of the appliance type chosen to specify the price of the booking\n        const basePrice = applianceType.recordset[0].Base_Price;\n\n        // Calculating the platform fee for the payment table based on the base price\n        const commissionRate = 15.00;\n        const platformFee = (basePrice * commissionRate) / 100;\n\n        // Starting a transaction so the booking and payment are created together\n        const transaction = pool.transaction();\n        await transaction.begin();\n\n        try {\n            // Creating booking data by padding the needed column data\n            const bookingResult = await transaction.request()\n                .input(\"userID\", sql.Int, userID)\n                .input(\"applianceTypeID\", sql.Int, applianceTypeID)\n                .input(\"issueDescription\", sql.NVarChar, issueDescription)\n                .input(\"bookingDate\", sql.Date, bookingDate)\n                .input(\"bookingTime\", sql.VarChar(8), cleanTime)\n                .input(\"basePrice\", sql.Decimal(10, 2), basePrice)\n                .query(`\n            INSERT INTO Booking (UserID, Appliance_Type_ID, Issue_Description, Booking_Date, Booking_Time, [Status], Total_Price)\n            OUTPUT INSERTED.Booking_ID -- just so we could use the bookingID later using the result of this query.\n            VALUES(@userID, @applianceTypeID, @issueDescription, @bookingDate, CAST(@bookingTime AS TIME), 'pending', @basePrice)\n            `);\n\n            // Getting the booking id from the above query's result (it outputs the booking id)\n            const bookingID = bookingResult.recordset[0].Booking_ID;\n\n            // Insert the payment data and set it to pending status until the user confirms the payment\n            await transaction.request()\n                .input(\"bookingID\", sql.Int, bookingID)\n                .input(\"amount\", sql.Decimal(10, 2), basePrice)\n                .input(\"paymentMethod\", sql.VarChar, paymentMethod)\n                .input(\"commissionRate\", sql.Decimal(5, 2), commissionRate)\n                .input(\"platformFee\", sql.Decimal(10, 2), platformFee)\n                .query(`\n                        INSERT INTO Payment (Booking_ID, Amount, Payment_Method, [Status], Commission_Rate, Platform_Fee)\n                        VALUES(@bookingID, @amount, @paymentMethod, 'pending', @commissionRate, @platformFee)\n                        `);\n\n            // Comits the changes, which inserts the booking and the payment data of this user's requested booking\n            await transaction.commit();\n\n            // Sending a 201 success message with some information passed\n            res.status(201).json({\n                message: \"Successfully booked! A technician will be assigned soon.\",\n                bookingID: bookingID,\n                totalPrice: basePrice,\n                paymentMethod: paymentMethod,\n                paymentStatus: \"pending\"\n            });\n        } catch (error) {\n            // rollback if something goes wrong\n            await transaction.rollback();\n            throw error;\n        }\n\n    } catch (error) {\n        console.error(\"Unexpected error occurred when booking:\", error);\n\n        // If any data is wrong then this error is thrown (wrong appliance type and wrong/invalid date)\n        if (error.number === 547) {\n            return res.status(400).json({message: \"Invalid booking data. Please check your appliance type, date, and ensure it's today or in the future.\"});\n        }\n\n        res.status(500).json({message: \"An unexpected error occurred while booking.\"});\n    }\n});\n\n// User paying a booking functionality\nconst userPayBooking = asyncHandler(async (req, res) => {\n    // Getting the booking id and the transaction id (if non-cash method) from the body, and the user id passed by the authentication middleware\n    const { bookingID, transactionID } = req.body;\n    const userID = req.userID;\n\n    // If no bookingID is passed then throw a 400 error. Not passing the transactionID is fine if the method is cash.\n    if (!bookingID) {\n        return res.status(400).json({message: \"Booking ID must be passed.\"});\n    }\n\n    try {\n        const pool = getPool();\n\n        // Checking if the bookingID passed is valid\n        const checkBooking = await pool.request()\n            .input(\"bookingID\", sql.Int, bookingID)\n            .input(\"userID\", sql.Int, userID)\n            .query(`\n                SELECT b.Booking_ID, b.[Status], b.UserID, p.Payment_ID, p.[Status] AS Payment_Status, p.Payment_Method\n                FROM Booking b\n                JOIN Payment p ON b.Booking_ID = p.Booking_ID\n                WHERE b.Booking_ID = @bookingID\n                `);\n\n        // If the above select query got no result then the booking is not found, throws a 404\n        if (checkBooking.recordset.length === 0) {\n            return res.status(404).json({message: \"Booking not found\"});\n        }\n\n        // Getting the first row of the returned result\n        const booking = checkBooking.recordset[0];\n\n        // Checking if the booking's userID matches the current logged in's userID, if it doesn't then throw a 403\n        // since the user isn't authorized to pay for this booking.\n        if (booking.UserID !== userID) {\n            return res.status(403).json({message: \"You are not authorized to pay for this booking since it's not yours.\"});\n        }\n\n        // Status checking: cannot pay a booking that's cancelled/completed\n        if (booking.Status === 'cancelled') {\n            return res.status(400).json({message: \"Cannot pay for a cancelled booking!\"});\n        }\n\n        if (booking.Status === 'completed') {\n            return res.status(400).json({message: \"Cannot pay for a booking that's already paid for.\"});\n        }\n\n        // If the booking is already paid then the user cant pay it again!\n        if (booking.Payment_Status === 'completed') {\n            return res.status(400).json({message: \"This booking has already been paid.\"});\n        }\n\n        // Ensuring that transactionID is passed when the payment method is anything but a cash method\n        // If there is no transactionID, and the payment method isnt cash, then throw a 400 error\n        const transactionIdMethods = ['credit_card', 'debit_card', 'whish', 'omt'];\n        if (transactionIdMethods.includes(booking.Payment_Method) && !transactionID) {\n            return res.status(400).json({message: \"Transaction ID is needed for this payment method!\"});\n        }\n\n        // If all's good then update the Payment row of the bookingID concerned and change the status to \n        // completed, with setting the transactionID (if available) and setting the paidAt to the current date.\n        await pool.request()\n            .input(\"bookingID\", sql.Int, bookingID)\n            .input(\"transactionID\", sql.VarChar, transactionID || null)\n            .query(`\n                UPDATE Payment\n                SET [Status] = 'completed',\n                    Transaction_ID = @transactionID,\n                    paidAt = GETDATE()\n                WHERE Booking_ID = @bookingID\n                `);\n\n        // Send a success message with the booking id and payment status as completed\n        res.status(200).json({\n            message: \"Payment completed.\",\n            bookingID: bookingID,\n            paymentStatus: \"completed\"\n        });\n    } catch (error) {\n        // Throws an error in case the booking id is invalid, or any other unexpected issue that occurred\n        console.error(\"Unexpected error occurred when processing payment:\", error);\n\n        if (error.number === 547) {\n            return res.status(400).json({message: \"Invalid booking ID.\"});\n        }\n\n        res.status(500).json({message: \"An unexpected error occurred when processing the payment.\"});\n    }\n})\n\n// User rating a booking functionality\nconst userRateBooking = asyncHandler(async (req, res) => {\n    // Getting the needed input from the passed body and the userID passed from the middleware\n    const { bookingID, ratingScore, reviewText } = req.body;\n    const userID = req.userID;\n\n    // If the needed values are empty then throw a 400 error\n    if (!bookingID || !ratingScore || !reviewText) {\n        return res.status(400).json({message: \"You have to pass a booking ID, rating score and review text to rate a booking.\"});\n    }\n\n    // If the rating score isn't a number, or isn't between 1 and 5, then throw an error 400\n    if (!Number.isInteger(ratingScore) || ratingScore < 1 || ratingScore > 5) {\n        return res.status(400).json({message: \"Rating score must be a number between 1 and 5!\"});\n    }\n\n    // If the review text is too short then throw a 400 error\n    if (reviewText.trim().length < 15) {\n        return res.status(400).json({message: \"Please write your review text longer, that's too short.\"});\n    }\n\n    try {\n        const pool = getPool();\n\n        // Check if the booking id passed exists\n        const checkBooking = await pool.request()\n            .input(\"bookingID\", sql.Int, bookingID)\n            .input(\"userID\", sql.Int, userID)\n            .query(`\n                SELECT b.Booking_ID, b.UserID, b.Technician_ID, b.[Status]\n                FROM Booking b\n                WHERE b.Booking_ID = @bookingID\n                `);\n\n        // If nothing was returned from the above query then throw a 404 because the booking isn't found\n        if (checkBooking.recordset.length === 0) {\n            return res.status(404).json({message: \"Booking not found.\"});\n        }\n\n        // Get the first booking row\n        const booking = checkBooking.recordset[0];\n\n        // Check if the booking's user id matches the userid of the logged in user, if not then throw a 403 error\n        if (booking.UserID !== userID) {\n            return res.status(403).json({message: \"You are not authorized to review this booking since it's not yours!\"});\n        }\n\n        //If the booking doesn't have a technician then the user cant rate it\n        if (!booking.Technician_ID) {\n            return res.status(400).json({message: \"Cannot rate a booking without an assigned technician.\"});\n        }\n\n        // If the booking isn't completed then the user cant rate it\n        if (booking.Status !== 'completed') {\n            return res.status(400).json({message: \"You can only rate completed bookings.\"});\n        }\n\n        // Checking if a rating already exists for the concerned booking\n        const existingRating = await pool.request()\n            .input(\"bookingID\", sql.Int, bookingID)\n            .query(`SELECT Rating_ID \n                    FROM Rating \n                    WHERE Booking_ID = @bookingID`);\n\n        // If yes then throw a 409 error\n        if (existingRating.recordset.length > 0) {\n            return res.status(409).json({message: \"This booking has already been rated before!\"});\n        }\n\n        // If all's good then insert the rating data with the information taken from the body\n        await pool.request()\n            .input(\"bookingID\", sql.Int, bookingID)\n            .input(\"userID\", sql.Int, userID)\n            .input(\"technicianID\", sql.Int, booking.Technician_ID)\n            .input(\"ratingScore\", sql.SmallInt, ratingScore)\n            .input(\"reviewText\", sql.NVarChar, reviewText.trim())\n            .query(`\n                INSERT INTO Rating (Booking_ID, User_ID, Technician_ID, Rating_Score, Review_Text)\n                VALUES(@bookingID, @userID, @technicianID, @ratingScore, @reviewText)\n                `);\n\n        // Send a 201 success message\n        res.status(201).json({\n            message: \"Successfully rated this booking!\",\n            bookingID: bookingID,\n            technicianID: booking.Technician_ID,\n            ratingScore: ratingScore\n        });\n    } catch (error) {\n        console.error(\"Unexpected error occurred when trying to rate a booking:\", error);\n\n        // Constraint violation handling\n        if (error.number === 547) {\n            return res.status(400).json({message: \"Invalid rating data, please check your inputs.\"});\n        }\n\n        // unique constraint violation (for duplicate ratings)\n        if (error.number === 2627) {\n            return res.status(409).json({message: \"This booking has already been rated.\"});\n        }\n\n        res.status(500).json({message: \"Unexpected error occurred when trying to rate a booking.\"});\n    }\n})\n\n// The below methods get different types of bookings of the user: pending, confirmed, in progress, completed, cancelled\n// All use the helper function getBookingsByStatus to reduce code duplication\nconst getPendingBookings = asyncHandler(async (req, res) => {\n    const userID = req.userID;\n    const result = await getBookingsByStatus(userID, 'pending', 'pending');\n    \n    if (result.success) {\n        return res.status(result.statusCode).json(result.data);\n    }\n    return res.status(result.statusCode).json({ message: result.error });\n});\n\nconst getConfirmedBookings = asyncHandler(async (req, res) => {\n    const userID = req.userID;\n    const result = await getBookingsByStatus(userID, 'confirmed', 'confirmed');\n    \n    if (result.success) {\n        return res.status(result.statusCode).json(result.data);\n    }\n    return res.status(result.statusCode).json({ message: result.error });\n});\n\nconst getInProgressBookings = asyncHandler(async (req, res) => {\n    const userID = req.userID;\n    const result = await getBookingsByStatus(userID, 'in_progress', 'in progress');\n    \n    if (result.success) {\n        return res.status(result.statusCode).json(result.data);\n    }\n    return res.status(result.statusCode).json({ message: result.error });\n});\n\nconst getCompletedBookings = asyncHandler(async (req, res) => {\n    const userID = req.userID;\n    const result = await getBookingsByStatus(userID, 'completed', 'completed');\n    \n    if (result.success) {\n        return res.status(result.statusCode).json(result.data);\n    }\n    return res.status(result.statusCode).json({ message: result.error });\n});\n\nconst getCancelledBookings = asyncHandler(async (req, res) => {\n    const userID = req.userID;\n    const result = await getBookingsByStatus(userID, 'cancelled', 'cancelled');\n    \n    if (result.success) {\n        return res.status(result.statusCode).json(result.data);\n    }\n    return res.status(result.statusCode).json({ message: result.error });\n});\n\n\nmodule.exports = { userRequestBooking, userPayBooking, userRateBooking, getPendingBookings, getConfirmedBookings, getInProgressBookings, getCompletedBookings, getCancelledBookings };"],"mappings":"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","ignoreList":[]}},"mtime":1764435289430},"{\"assumptions\":{},\"sourceRoot\":\"/workspaces/FixAppliance-eCommerce/back-end/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/workspaces/FixAppliance-eCommerce/back-end\",\"filename\":\"/workspaces/FixAppliance-eCommerce/back-end/src/routes/technicianRoutes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/workspaces/FixAppliance-eCommerce/back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"_exploded\":true,\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"VoidPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/workspaces/FixAppliance-eCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$48\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/workspaces/FixAppliance-eCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$49\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"\"use strict\";\n\n/**\n * This express file sets up the routes of the technician, which consist of:\n *      Non-validation required routes: register and login\n *      Validation required routes: logout, setting specialty and service area, and booking-related (seeing pending bookings, accepting a booking,...)\n * \n * Validation requirement is to have the cookie with the right credintials without being expired.\n * \n * The functionalities for the routes themselves can be found in 3 files:\n *      1. controllers/TechnicianController.js for register, login, logout\n *      2. controllers/TechnicianBookingController.js for booking-related functonalities\n *      3. middlewares/auth.js for authenticating the technician's credentials that are either stored or not stored\n */\n\nvar express = require(\"express\");\nvar _require = require(\"../controllers/TechnicianController\"),\n  registerTechnician = _require.registerTechnician,\n  loginTechnician = _require.loginTechnician,\n  logoutTechnician = _require.logoutTechnician,\n  settingTechnicianSpecialty = _require.settingTechnicianSpecialty,\n  settingTechnicianServiceArea = _require.settingTechnicianServiceArea;\nvar _require2 = require(\"../middlewares/auth\"),\n  technicianValidation = _require2.technicianValidation;\nvar _require3 = require(\"../controllers/TechnicianBookingController\"),\n  getPendingBookings = _require3.getPendingBookings,\n  acceptPendingBooking = _require3.acceptPendingBooking;\nvar router = express.Router();\nrouter.post(\"/register\", registerTechnician);\nrouter.post(\"/login\", loginTechnician);\nrouter.post(\"/logout\", technicianValidation, logoutTechnician);\nrouter.post(\"/set-specialty\", technicianValidation, settingTechnicianSpecialty);\nrouter.post(\"/set-service-area\", technicianValidation, settingTechnicianServiceArea);\nrouter.get(\"/booking/get-pendings\", technicianValidation, getPendingBookings);\nrouter.post(\"/booking/accept\", technicianValidation, acceptPendingBooking);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsIl9yZXF1aXJlIiwicmVnaXN0ZXJUZWNobmljaWFuIiwibG9naW5UZWNobmljaWFuIiwibG9nb3V0VGVjaG5pY2lhbiIsInNldHRpbmdUZWNobmljaWFuU3BlY2lhbHR5Iiwic2V0dGluZ1RlY2huaWNpYW5TZXJ2aWNlQXJlYSIsIl9yZXF1aXJlMiIsInRlY2huaWNpYW5WYWxpZGF0aW9uIiwiX3JlcXVpcmUzIiwiZ2V0UGVuZGluZ0Jvb2tpbmdzIiwiYWNjZXB0UGVuZGluZ0Jvb2tpbmciLCJyb3V0ZXIiLCJSb3V0ZXIiLCJwb3N0IiwiZ2V0IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL3dvcmtzcGFjZXMvRml4QXBwbGlhbmNlLWVDb21tZXJjZS9iYWNrLWVuZC9zcmMvcm91dGVzLyIsInNvdXJjZXMiOlsidGVjaG5pY2lhblJvdXRlcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFRoaXMgZXhwcmVzcyBmaWxlIHNldHMgdXAgdGhlIHJvdXRlcyBvZiB0aGUgdGVjaG5pY2lhbiwgd2hpY2ggY29uc2lzdCBvZjpcbiAqICAgICAgTm9uLXZhbGlkYXRpb24gcmVxdWlyZWQgcm91dGVzOiByZWdpc3RlciBhbmQgbG9naW5cbiAqICAgICAgVmFsaWRhdGlvbiByZXF1aXJlZCByb3V0ZXM6IGxvZ291dCwgc2V0dGluZyBzcGVjaWFsdHkgYW5kIHNlcnZpY2UgYXJlYSwgYW5kIGJvb2tpbmctcmVsYXRlZCAoc2VlaW5nIHBlbmRpbmcgYm9va2luZ3MsIGFjY2VwdGluZyBhIGJvb2tpbmcsLi4uKVxuICogXG4gKiBWYWxpZGF0aW9uIHJlcXVpcmVtZW50IGlzIHRvIGhhdmUgdGhlIGNvb2tpZSB3aXRoIHRoZSByaWdodCBjcmVkaW50aWFscyB3aXRob3V0IGJlaW5nIGV4cGlyZWQuXG4gKiBcbiAqIFRoZSBmdW5jdGlvbmFsaXRpZXMgZm9yIHRoZSByb3V0ZXMgdGhlbXNlbHZlcyBjYW4gYmUgZm91bmQgaW4gMyBmaWxlczpcbiAqICAgICAgMS4gY29udHJvbGxlcnMvVGVjaG5pY2lhbkNvbnRyb2xsZXIuanMgZm9yIHJlZ2lzdGVyLCBsb2dpbiwgbG9nb3V0XG4gKiAgICAgIDIuIGNvbnRyb2xsZXJzL1RlY2huaWNpYW5Cb29raW5nQ29udHJvbGxlci5qcyBmb3IgYm9va2luZy1yZWxhdGVkIGZ1bmN0b25hbGl0aWVzXG4gKiAgICAgIDMuIG1pZGRsZXdhcmVzL2F1dGguanMgZm9yIGF1dGhlbnRpY2F0aW5nIHRoZSB0ZWNobmljaWFuJ3MgY3JlZGVudGlhbHMgdGhhdCBhcmUgZWl0aGVyIHN0b3JlZCBvciBub3Qgc3RvcmVkXG4gKi9cblxuY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoXCJleHByZXNzXCIpO1xuY29uc3Qge3JlZ2lzdGVyVGVjaG5pY2lhbiwgbG9naW5UZWNobmljaWFuLCBsb2dvdXRUZWNobmljaWFuLCBzZXR0aW5nVGVjaG5pY2lhblNwZWNpYWx0eSwgc2V0dGluZ1RlY2huaWNpYW5TZXJ2aWNlQXJlYX0gPSByZXF1aXJlKFwiLi4vY29udHJvbGxlcnMvVGVjaG5pY2lhbkNvbnRyb2xsZXJcIik7XG5jb25zdCB7dGVjaG5pY2lhblZhbGlkYXRpb259ID0gcmVxdWlyZShcIi4uL21pZGRsZXdhcmVzL2F1dGhcIik7XG5jb25zdCB7Z2V0UGVuZGluZ0Jvb2tpbmdzLCBhY2NlcHRQZW5kaW5nQm9va2luZ30gPSByZXF1aXJlKFwiLi4vY29udHJvbGxlcnMvVGVjaG5pY2lhbkJvb2tpbmdDb250cm9sbGVyXCIpO1xuXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG5yb3V0ZXIucG9zdChcIi9yZWdpc3RlclwiLCByZWdpc3RlclRlY2huaWNpYW4pO1xucm91dGVyLnBvc3QoXCIvbG9naW5cIiwgbG9naW5UZWNobmljaWFuKTtcbnJvdXRlci5wb3N0KFwiL2xvZ291dFwiLCB0ZWNobmljaWFuVmFsaWRhdGlvbiwgbG9nb3V0VGVjaG5pY2lhbik7XG5cbnJvdXRlci5wb3N0KFwiL3NldC1zcGVjaWFsdHlcIiwgdGVjaG5pY2lhblZhbGlkYXRpb24sIHNldHRpbmdUZWNobmljaWFuU3BlY2lhbHR5KTtcbnJvdXRlci5wb3N0KFwiL3NldC1zZXJ2aWNlLWFyZWFcIiwgdGVjaG5pY2lhblZhbGlkYXRpb24sIHNldHRpbmdUZWNobmljaWFuU2VydmljZUFyZWEpO1xuXG5yb3V0ZXIuZ2V0KFwiL2Jvb2tpbmcvZ2V0LXBlbmRpbmdzXCIsIHRlY2huaWNpYW5WYWxpZGF0aW9uLCBnZXRQZW5kaW5nQm9va2luZ3MpO1xucm91dGVyLnBvc3QoXCIvYm9va2luZy9hY2NlcHRcIiwgdGVjaG5pY2lhblZhbGlkYXRpb24sIGFjY2VwdFBlbmRpbmdCb29raW5nKTtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLElBQU1BLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFNBQVMsQ0FBQztBQUNsQyxJQUFBQyxRQUFBLEdBQTBIRCxPQUFPLENBQUMscUNBQXFDLENBQUM7RUFBaktFLGtCQUFrQixHQUFBRCxRQUFBLENBQWxCQyxrQkFBa0I7RUFBRUMsZUFBZSxHQUFBRixRQUFBLENBQWZFLGVBQWU7RUFBRUMsZ0JBQWdCLEdBQUFILFFBQUEsQ0FBaEJHLGdCQUFnQjtFQUFFQywwQkFBMEIsR0FBQUosUUFBQSxDQUExQkksMEJBQTBCO0VBQUVDLDRCQUE0QixHQUFBTCxRQUFBLENBQTVCSyw0QkFBNEI7QUFDdEgsSUFBQUMsU0FBQSxHQUErQlAsT0FBTyxDQUFDLHFCQUFxQixDQUFDO0VBQXREUSxvQkFBb0IsR0FBQUQsU0FBQSxDQUFwQkMsb0JBQW9CO0FBQzNCLElBQUFDLFNBQUEsR0FBbURULE9BQU8sQ0FBQyw0Q0FBNEMsQ0FBQztFQUFqR1Usa0JBQWtCLEdBQUFELFNBQUEsQ0FBbEJDLGtCQUFrQjtFQUFFQyxvQkFBb0IsR0FBQUYsU0FBQSxDQUFwQkUsb0JBQW9CO0FBRS9DLElBQU1DLE1BQU0sR0FBR2IsT0FBTyxDQUFDYyxNQUFNLENBQUMsQ0FBQztBQUUvQkQsTUFBTSxDQUFDRSxJQUFJLENBQUMsV0FBVyxFQUFFWixrQkFBa0IsQ0FBQztBQUM1Q1UsTUFBTSxDQUFDRSxJQUFJLENBQUMsUUFBUSxFQUFFWCxlQUFlLENBQUM7QUFDdENTLE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLFNBQVMsRUFBRU4sb0JBQW9CLEVBQUVKLGdCQUFnQixDQUFDO0FBRTlEUSxNQUFNLENBQUNFLElBQUksQ0FBQyxnQkFBZ0IsRUFBRU4sb0JBQW9CLEVBQUVILDBCQUEwQixDQUFDO0FBQy9FTyxNQUFNLENBQUNFLElBQUksQ0FBQyxtQkFBbUIsRUFBRU4sb0JBQW9CLEVBQUVGLDRCQUE0QixDQUFDO0FBRXBGTSxNQUFNLENBQUNHLEdBQUcsQ0FBQyx1QkFBdUIsRUFBRVAsb0JBQW9CLEVBQUVFLGtCQUFrQixDQUFDO0FBQzdFRSxNQUFNLENBQUNFLElBQUksQ0FBQyxpQkFBaUIsRUFBRU4sb0JBQW9CLEVBQUVHLG9CQUFvQixDQUFDO0FBRzFFSyxNQUFNLENBQUNDLE9BQU8sR0FBR0wsTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["express","require","_require","registerTechnician","loginTechnician","logoutTechnician","settingTechnicianSpecialty","settingTechnicianServiceArea","_require2","technicianValidation","_require3","getPendingBookings","acceptPendingBooking","router","Router","post","get","module","exports"],"sourceRoot":"/workspaces/FixAppliance-eCommerce/back-end/src/routes/","sources":["technicianRoutes.js"],"sourcesContent":["/**\n * This express file sets up the routes of the technician, which consist of:\n *      Non-validation required routes: register and login\n *      Validation required routes: logout, setting specialty and service area, and booking-related (seeing pending bookings, accepting a booking,...)\n * \n * Validation requirement is to have the cookie with the right credintials without being expired.\n * \n * The functionalities for the routes themselves can be found in 3 files:\n *      1. controllers/TechnicianController.js for register, login, logout\n *      2. controllers/TechnicianBookingController.js for booking-related functonalities\n *      3. middlewares/auth.js for authenticating the technician's credentials that are either stored or not stored\n */\n\nconst express = require(\"express\");\nconst {registerTechnician, loginTechnician, logoutTechnician, settingTechnicianSpecialty, settingTechnicianServiceArea} = require(\"../controllers/TechnicianController\");\nconst {technicianValidation} = require(\"../middlewares/auth\");\nconst {getPendingBookings, acceptPendingBooking} = require(\"../controllers/TechnicianBookingController\");\n\nconst router = express.Router();\n\nrouter.post(\"/register\", registerTechnician);\nrouter.post(\"/login\", loginTechnician);\nrouter.post(\"/logout\", technicianValidation, logoutTechnician);\n\nrouter.post(\"/set-specialty\", technicianValidation, settingTechnicianSpecialty);\nrouter.post(\"/set-service-area\", technicianValidation, settingTechnicianServiceArea);\n\nrouter.get(\"/booking/get-pendings\", technicianValidation, getPendingBookings);\nrouter.post(\"/booking/accept\", technicianValidation, acceptPendingBooking);\n\n\nmodule.exports = router;"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAMA,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAClC,IAAAC,QAAA,GAA0HD,OAAO,CAAC,qCAAqC,CAAC;EAAjKE,kBAAkB,GAAAD,QAAA,CAAlBC,kBAAkB;EAAEC,eAAe,GAAAF,QAAA,CAAfE,eAAe;EAAEC,gBAAgB,GAAAH,QAAA,CAAhBG,gBAAgB;EAAEC,0BAA0B,GAAAJ,QAAA,CAA1BI,0BAA0B;EAAEC,4BAA4B,GAAAL,QAAA,CAA5BK,4BAA4B;AACtH,IAAAC,SAAA,GAA+BP,OAAO,CAAC,qBAAqB,CAAC;EAAtDQ,oBAAoB,GAAAD,SAAA,CAApBC,oBAAoB;AAC3B,IAAAC,SAAA,GAAmDT,OAAO,CAAC,4CAA4C,CAAC;EAAjGU,kBAAkB,GAAAD,SAAA,CAAlBC,kBAAkB;EAAEC,oBAAoB,GAAAF,SAAA,CAApBE,oBAAoB;AAE/C,IAAMC,MAAM,GAAGb,OAAO,CAACc,MAAM,CAAC,CAAC;AAE/BD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAEZ,kBAAkB,CAAC;AAC5CU,MAAM,CAACE,IAAI,CAAC,QAAQ,EAAEX,eAAe,CAAC;AACtCS,MAAM,CAACE,IAAI,CAAC,SAAS,EAAEN,oBAAoB,EAAEJ,gBAAgB,CAAC;AAE9DQ,MAAM,CAACE,IAAI,CAAC,gBAAgB,EAAEN,oBAAoB,EAAEH,0BAA0B,CAAC;AAC/EO,MAAM,CAACE,IAAI,CAAC,mBAAmB,EAAEN,oBAAoB,EAAEF,4BAA4B,CAAC;AAEpFM,MAAM,CAACG,GAAG,CAAC,uBAAuB,EAAEP,oBAAoB,EAAEE,kBAAkB,CAAC;AAC7EE,MAAM,CAACE,IAAI,CAAC,iBAAiB,EAAEN,oBAAoB,EAAEG,oBAAoB,CAAC;AAG1EK,MAAM,CAACC,OAAO,GAAGL,MAAM","ignoreList":[]}},"mtime":1764435289430},"{\"assumptions\":{},\"sourceRoot\":\"/workspaces/FixAppliance-eCommerce/back-end/src/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/workspaces/FixAppliance-eCommerce/back-end\",\"filename\":\"/workspaces/FixAppliance-eCommerce/back-end/src/controllers/TechnicianController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/workspaces/FixAppliance-eCommerce/back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"_exploded\":true,\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"VoidPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/workspaces/FixAppliance-eCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$48\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/workspaces/FixAppliance-eCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$49\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n/**\n * This controller provides the following functionalities for a technician: registering, logging in, logging out,\n * setting specialty (appliance categories they work with), and setting service areas.\n * \n * For storing the password, bcrypt is used to hash and jwt (jsonwebtoken) is used to sign a token and store it as cookie.\n */\n\nvar asyncHandler = require(\"express-async-handler\");\nvar bcrypt = require(\"bcrypt\");\nvar jwt = require(\"jsonwebtoken\");\n\n// sql needed for the type definitions in .input\n// getPool is to do queries\nvar _require = require(\"../config/database\"),\n  getPool = _require.getPool,\n  sql = _require.sql;\n\n// Import validation utilities\nvar _require2 = require(\"../utils/validators\"),\n  isValidEmail = _require2.isValidEmail,\n  isValidPhone = _require2.isValidPhone,\n  isValidPassword = _require2.isValidPassword,\n  isValidName = _require2.isValidName,\n  sanitizeString = _require2.sanitizeString;\n\n// Handles the technician registering functionality\nvar registerTechnician = asyncHandler(/*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee(req, res) {\n    var _req$body, firstName, lastName, email, phone, password, passwordValidation, pool, hashedPassword, result, _t;\n    return _regenerator[\"default\"].wrap(function (_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          // Getting the needed data from the request body\n          _req$body = req.body, firstName = _req$body.firstName, lastName = _req$body.lastName, email = _req$body.email, phone = _req$body.phone, password = _req$body.password; // Checking if any of them is empty, if yes then we throw a 400\n          if (!(!firstName || !lastName || !email || !phone || !password)) {\n            _context.next = 1;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"You have to insert all data to register.\"\n          }));\n        case 1:\n          if (isValidName(firstName)) {\n            _context.next = 2;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"First name must be 2-30 characters and contain only letters.\"\n          }));\n        case 2:\n          if (isValidName(lastName)) {\n            _context.next = 3;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"Last name must be 2-30 characters and contain only letters.\"\n          }));\n        case 3:\n          if (isValidEmail(email)) {\n            _context.next = 4;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"Please enter a valid email address.\"\n          }));\n        case 4:\n          if (isValidPhone(phone)) {\n            _context.next = 5;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"Please enter a valid phone number.\"\n          }));\n        case 5:\n          // Validate password strength\n          passwordValidation = isValidPassword(password);\n          if (passwordValidation.valid) {\n            _context.next = 6;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: passwordValidation.message\n          }));\n        case 6:\n          _context.prev = 6;\n          pool = getPool(); // Hashing the password before storing\n          _context.next = 7;\n          return bcrypt.hash(password, 11);\n        case 7:\n          hashedPassword = _context.sent;\n          _context.next = 8;\n          return pool.request().input(\"firstName\", sql.VarChar, sanitizeString(firstName)).input(\"lastName\", sql.VarChar, sanitizeString(lastName)).input(\"email\", sql.VarChar, sanitizeString(email).toLowerCase()).input(\"phone\", sql.VarChar, sanitizeString(phone)).input(\"hashedPassword\", sql.VarChar, hashedPassword).query(\"\\n            INSERT INTO Technician (First_Name, Last_Name, Email, Phone, Password_Hash)\\n            VALUES(@firstName, @lastName, @email, @phone, @hashedPassword)\\n            \");\n        case 8:\n          result = _context.sent;\n          // Sending success message\n          res.status(201).json({\n            message: \"Technician registered successfully!\"\n          });\n          _context.next = 11;\n          break;\n        case 9:\n          _context.prev = 9;\n          _t = _context[\"catch\"](6);\n          if (!(_t.number === 2627 || _t.number === 2601)) {\n            _context.next = 10;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(409).json({\n            message: \"Another account exists already either with this email address or phone number. If you have another account, please use that one instead.\"\n          }));\n        case 10:\n          // Throwing the console error and 500 status in case something goes wrong\n          console.error(\"Unexpected error registering a new technician account: \", _t);\n          res.status(500).json({\n            message: \"An unexpected error occurred while registering the technician.\"\n          });\n        case 11:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[6, 9]]);\n  }));\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}());\n\n// Handling the logging in functionality for technicians\nvar loginTechnician = asyncHandler(/*#__PURE__*/function () {\n  var _ref2 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(req, res) {\n    var _req$body2, email, password, pool, result, technician, isPasswordValid, technicianToken, _t2;\n    return _regenerator[\"default\"].wrap(function (_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          // Getting the email and password that the technician is trying to login with\n          _req$body2 = req.body, email = _req$body2.email, password = _req$body2.password; // Input validation, if either empty then send 400 error\n          if (!(!email || !password)) {\n            _context2.next = 1;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(400).json({\n            message: \"You have to enter both your email and your password\"\n          }));\n        case 1:\n          if (isValidEmail(email)) {\n            _context2.next = 2;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(400).json({\n            message: \"Please enter a valid email address.\"\n          }));\n        case 2:\n          _context2.prev = 2;\n          pool = getPool(); // Searching in the database for a technician with the same email passed to check if exists\n          _context2.next = 3;\n          return pool.request().input(\"email\", sql.VarChar, sanitizeString(email).toLowerCase()).query(\"\\n                SELECT Technician_ID, First_Name, Last_Name, Email, Password_Hash, isActive, Verified\\n                FROM Technician\\n                WHERE Email = @email\\n                \");\n        case 3:\n          result = _context2.sent;\n          if (!(result.recordset.length === 0)) {\n            _context2.next = 4;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(401).json({\n            message: \"Invalid email address or password.\"\n          }));\n        case 4:\n          // Now we are getting the first technician that we got having the same email address\n          technician = result.recordset[0]; // Check if the technician account is active\n          if (technician.isActive) {\n            _context2.next = 5;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(403).json({\n            message: \"Your account is deactivated. Please contact us to resolve this issue.\"\n          }));\n        case 5:\n          if (technician.Verified) {\n            _context2.next = 6;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(403).json({\n            message: \"Your account is not verified yet. Please wait for admin approval.\"\n          }));\n        case 6:\n          _context2.next = 7;\n          return bcrypt.compare(password, technician.Password_Hash);\n        case 7:\n          isPasswordValid = _context2.sent;\n          if (isPasswordValid) {\n            _context2.next = 8;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(401).json({\n            message: \"Invalid email address or password.\"\n          }));\n        case 8:\n          // If the password matches, then create a technician token using jwt by signing it with the TECHNICIAN_ACCESS_TOKEN\n          // stored in the .env file. The token expires in 1 day.\n          technicianToken = jwt.sign({\n            id: technician.Technician_ID,\n            firstName: technician.First_Name,\n            lastName: technician.Last_Name,\n            email: technician.Email\n          }, process.env.TECHNICIAN_ACCESS_TOKEN, {\n            expiresIn: \"1d\"\n          }); // If a cookie exists already for the technician, clear it\n          if (req.cookies.technician_access_token) {\n            res.clearCookie('technician_access_token');\n          }\n\n          // Store the new cookie such that it lasts 1 day, and throw a 200 success message with some data about the technician\n          // (id, firstName, lastName, email)\n          res.cookie('technician_access_token', technicianToken, {\n            httpOnly: true,\n            secure: process.env.NODE_ENV === \"production\",\n            sameSite: 'strict',\n            maxAge: 24 * 60 * 60 * 1000\n          });\n          res.status(200).json({\n            message: \"Successfully logged in.\",\n            technician: {\n              id: technician.Technician_ID,\n              firstName: technician.First_Name,\n              lastName: technician.Last_Name,\n              email: technician.Email\n            }\n          });\n\n          // If anything goes wrong, throw an error\n          _context2.next = 10;\n          break;\n        case 9:\n          _context2.prev = 9;\n          _t2 = _context2[\"catch\"](2);\n          console.error(\"Login error:\", _t2);\n          res.status(500).json({\n            message: \"An error occurred during login.\"\n          });\n        case 10:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[2, 9]]);\n  }));\n  return function (_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}());\n\n// Logging out functionality by clearing the technician's cookie and sending a success message\nvar logoutTechnician = asyncHandler(/*#__PURE__*/function () {\n  var _ref3 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee3(req, res) {\n    return _regenerator[\"default\"].wrap(function (_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          res.clearCookie('technician_access_token');\n          res.status(200).json({\n            message: \"Successfully logged out.\"\n          });\n        case 1:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3);\n  }));\n  return function (_x5, _x6) {\n    return _ref3.apply(this, arguments);\n  };\n}());\n\n// Setting technician specialty - allows technicians to add appliance categories they specialize in\nvar settingTechnicianSpecialty = asyncHandler(/*#__PURE__*/function () {\n  var _ref4 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee4(req, res) {\n    var _req$body3, applianceCategoryID, yearsOfExperience, certificateDate, technicianID, certDate, today, fiftyYearsAgo, pool, checkCategory, category, checkDuplicate, _t3;\n    return _regenerator[\"default\"].wrap(function (_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          // Getting the specialty data from the body and the technicianID passed from the middleware\n          _req$body3 = req.body, applianceCategoryID = _req$body3.applianceCategoryID, yearsOfExperience = _req$body3.yearsOfExperience, certificateDate = _req$body3.certificateDate;\n          technicianID = req.technicianID; // If required fields are missing, throw a 400 error\n          // Note: yearsOfExperience uses !== undefined to allow 0 as a valid value\n          if (!(!applianceCategoryID || yearsOfExperience === undefined || yearsOfExperience === null)) {\n            _context4.next = 1;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(400).json({\n            message: \"Category ID and years of experience are required for you to pass!\"\n          }));\n        case 1:\n          if (!(!Number.isInteger(yearsOfExperience) || yearsOfExperience < 0 || yearsOfExperience > 50)) {\n            _context4.next = 2;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(400).json({\n            message: \"Your years of experience should be between 0 and 50.\"\n          }));\n        case 2:\n          if (!certificateDate) {\n            _context4.next = 4;\n            break;\n          }\n          certDate = new Date(certificateDate);\n          today = new Date();\n          today.setHours(0, 0, 0, 0);\n\n          // Certificate date cannot be in the future\n          if (!(certDate > today)) {\n            _context4.next = 3;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(400).json({\n            message: \"Certification date cannot be in the future!\"\n          }));\n        case 3:\n          // Certificate date cannot be more than 50 years ago\n          fiftyYearsAgo = new Date();\n          fiftyYearsAgo.setFullYear(fiftyYearsAgo.getFullYear() - 50);\n          if (!(certDate < fiftyYearsAgo)) {\n            _context4.next = 4;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(400).json({\n            message: \"Certification date cannot be more than 50 years ago!\"\n          }));\n        case 4:\n          _context4.prev = 4;\n          pool = getPool(); // Check if the appliance category exists and is active\n          _context4.next = 5;\n          return pool.request().input(\"applianceCategoryID\", sql.Int, applianceCategoryID).query(\"\\n                SELECT Category_ID, NameEN, NameAR, isActive\\n                FROM Appliance_Category\\n                WHERE Category_ID = @applianceCategoryID\\n                \");\n        case 5:\n          checkCategory = _context4.sent;\n          if (!(checkCategory.recordset.length === 0)) {\n            _context4.next = 6;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(404).json({\n            message: \"Invalid category passed! You should pick one of the available category IDs only.\"\n          }));\n        case 6:\n          category = checkCategory.recordset[0]; // Check if the category is active\n          if (category.isActive) {\n            _context4.next = 7;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(400).json({\n            message: \"The category chosen is currently not active!\"\n          }));\n        case 7:\n          _context4.next = 8;\n          return pool.request().input(\"technicianID\", sql.Int, technicianID).input(\"applianceCategoryID\", sql.Int, applianceCategoryID).query(\"\\n                SELECT Technician_ID\\n                FROM Technician_Category\\n                WHERE Technician_ID = @technicianID AND Category_ID = @applianceCategoryID\\n                \");\n        case 8:\n          checkDuplicate = _context4.sent;\n          if (!(checkDuplicate.recordset.length > 0)) {\n            _context4.next = 9;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(409).json({\n            message: \"You already have this specialty added.\"\n          }));\n        case 9:\n          _context4.next = 10;\n          return pool.request().input(\"technicianID\", sql.Int, technicianID).input(\"applianceCategoryID\", sql.Int, applianceCategoryID).input(\"yearsOfExperience\", sql.SmallInt, yearsOfExperience).input(\"certificateDate\", sql.Date, certificateDate || null).query(\"\\n                INSERT INTO Technician_Category (Technician_ID, Category_ID, Years_of_Experience, Certification_Date)\\n                VALUES (@technicianID, @applianceCategoryID, @yearsOfExperience, @certificateDate)\\n                \");\n        case 10:\n          // Return success response with specialty details\n          res.status(201).json({\n            message: \"Successfully set your specialty.\",\n            categoryID: category.Category_ID,\n            categoryNameEN: category.NameEN,\n            categoryNameAR: category.NameAR,\n            yearsOfExperience: yearsOfExperience,\n            certificateDate: certificateDate || null\n          });\n          _context4.next = 14;\n          break;\n        case 11:\n          _context4.prev = 11;\n          _t3 = _context4[\"catch\"](4);\n          console.error(\"An unexpected error occurred when trying to set your specialty:\", _t3);\n\n          // Foreign key constraint violation\n          if (!(_t3.number === 547)) {\n            _context4.next = 12;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(400).json({\n            message: \"Invalid technician or category ID.\"\n          }));\n        case 12:\n          if (!(_t3.number === 2627)) {\n            _context4.next = 13;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(409).json({\n            message: \"You already have this specialty added!\"\n          }));\n        case 13:\n          res.status(500).json({\n            message: \"An unexpected error occurred when trying to set your specialty.\"\n          });\n        case 14:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4, null, [[4, 11]]);\n  }));\n  return function (_x7, _x8) {\n    return _ref4.apply(this, arguments);\n  };\n}());\n\n// Setting technician service area - allows technicians to add areas they work in with priority\nvar settingTechnicianServiceArea = asyncHandler(/*#__PURE__*/function () {\n  var _ref5 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee5(req, res) {\n    var _req$body4, serviceAreaID, priority, technicianID, pool, checkArea, serviceArea, checkDuplicate, _t4;\n    return _regenerator[\"default\"].wrap(function (_context5) {\n      while (1) switch (_context5.prev = _context5.next) {\n        case 0:\n          // Getting the service area data from the body and the technicianID passed from the middleware\n          _req$body4 = req.body, serviceAreaID = _req$body4.serviceAreaID, priority = _req$body4.priority;\n          technicianID = req.technicianID; // If required fields are missing, throw a 400 error\n          if (!(!serviceAreaID || !priority)) {\n            _context5.next = 1;\n            break;\n          }\n          return _context5.abrupt(\"return\", res.status(400).json({\n            message: \"You have to specify from which service area you are and the priority of it.\"\n          }));\n        case 1:\n          if (!(!Number.isInteger(priority) || priority < 1 || priority > 100)) {\n            _context5.next = 2;\n            break;\n          }\n          return _context5.abrupt(\"return\", res.status(400).json({\n            message: \"Priority must be an integer between 1 and 100.\"\n          }));\n        case 2:\n          _context5.prev = 2;\n          pool = getPool(); // Check if the service area exists\n          _context5.next = 3;\n          return pool.request().input(\"serviceAreaID\", sql.Int, serviceAreaID).query(\"\\n                SELECT Area_ID, NameEN, NameAR, Region, isActive\\n                FROM Service_Area\\n                WHERE Area_ID = @serviceAreaID\\n                \");\n        case 3:\n          checkArea = _context5.sent;\n          if (!(checkArea.recordset.length === 0)) {\n            _context5.next = 4;\n            break;\n          }\n          return _context5.abrupt(\"return\", res.status(404).json({\n            message: \"Invalid service area chosen! You have to choose one of the available ones.\"\n          }));\n        case 4:\n          serviceArea = checkArea.recordset[0]; // Check if the service area is active\n          if (serviceArea.isActive) {\n            _context5.next = 5;\n            break;\n          }\n          return _context5.abrupt(\"return\", res.status(400).json({\n            message: \"Currently this service area is not active.\"\n          }));\n        case 5:\n          _context5.next = 6;\n          return pool.request().input(\"technicianID\", sql.Int, technicianID).input(\"serviceAreaID\", sql.Int, serviceAreaID).query(\"\\n                SELECT Technician_ID\\n                FROM Technician_Service_Area\\n                WHERE Technician_ID = @technicianID AND Area_ID = @serviceAreaID\\n                \");\n        case 6:\n          checkDuplicate = _context5.sent;\n          if (!(checkDuplicate.recordset.length > 0)) {\n            _context5.next = 7;\n            break;\n          }\n          return _context5.abrupt(\"return\", res.status(409).json({\n            message: \"You already have set this service area!\"\n          }));\n        case 7:\n          _context5.next = 8;\n          return pool.request().input(\"technicianID\", sql.Int, technicianID).input(\"serviceAreaID\", sql.Int, serviceAreaID).input(\"priority\", sql.Int, priority).query(\"\\n                INSERT INTO Technician_Service_Area (Technician_ID, Area_ID, Priority_Order)\\n                VALUES (@technicianID, @serviceAreaID, @priority)\\n                \");\n        case 8:\n          // Return success response with service area details\n          res.status(201).json({\n            message: \"Successfully set your service area.\",\n            areaID: serviceArea.Area_ID,\n            areaNameEN: serviceArea.NameEN,\n            areaNameAR: serviceArea.NameAR,\n            areaRegion: serviceArea.Region,\n            priority: priority\n          });\n          _context5.next = 12;\n          break;\n        case 9:\n          _context5.prev = 9;\n          _t4 = _context5[\"catch\"](2);\n          console.error(\"An unexpected error occurred when trying to set your service area:\", _t4);\n\n          // Foreign key constraint violation\n          if (!(_t4.number === 547)) {\n            _context5.next = 10;\n            break;\n          }\n          return _context5.abrupt(\"return\", res.status(400).json({\n            message: \"Invalid technician or service area ID.\"\n          }));\n        case 10:\n          if (!(_t4.number === 2627)) {\n            _context5.next = 11;\n            break;\n          }\n          return _context5.abrupt(\"return\", res.status(409).json({\n            message: \"You already have this service area set!\"\n          }));\n        case 11:\n          res.status(500).json({\n            message: \"An unexpected error occurred when trying to set your service area.\"\n          });\n        case 12:\n        case \"end\":\n          return _context5.stop();\n      }\n    }, _callee5, null, [[2, 9]]);\n  }));\n  return function (_x9, _x0) {\n    return _ref5.apply(this, arguments);\n  };\n}());\nmodule.exports = {\n  registerTechnician: registerTechnician,\n  loginTechnician: loginTechnician,\n  logoutTechnician: logoutTechnician,\n  settingTechnicianSpecialty: settingTechnicianSpecialty,\n  settingTechnicianServiceArea: settingTechnicianServiceArea\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhc3luY0hhbmRsZXIiLCJyZXF1aXJlIiwiYmNyeXB0Iiwiand0IiwiX3JlcXVpcmUiLCJnZXRQb29sIiwic3FsIiwiX3JlcXVpcmUyIiwiaXNWYWxpZEVtYWlsIiwiaXNWYWxpZFBob25lIiwiaXNWYWxpZFBhc3N3b3JkIiwiaXNWYWxpZE5hbWUiLCJzYW5pdGl6ZVN0cmluZyIsInJlZ2lzdGVyVGVjaG5pY2lhbiIsIl9yZWYiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJfcmVnZW5lcmF0b3IiLCJtYXJrIiwiX2NhbGxlZSIsInJlcSIsInJlcyIsIl9yZXEkYm9keSIsImZpcnN0TmFtZSIsImxhc3ROYW1lIiwiZW1haWwiLCJwaG9uZSIsInBhc3N3b3JkIiwicGFzc3dvcmRWYWxpZGF0aW9uIiwicG9vbCIsImhhc2hlZFBhc3N3b3JkIiwicmVzdWx0IiwiX3QiLCJ3cmFwIiwiX2NvbnRleHQiLCJwcmV2IiwibmV4dCIsImJvZHkiLCJhYnJ1cHQiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsInZhbGlkIiwiaGFzaCIsInNlbnQiLCJyZXF1ZXN0IiwiaW5wdXQiLCJWYXJDaGFyIiwidG9Mb3dlckNhc2UiLCJxdWVyeSIsIm51bWJlciIsImNvbnNvbGUiLCJlcnJvciIsInN0b3AiLCJfeCIsIl94MiIsImFwcGx5IiwiYXJndW1lbnRzIiwibG9naW5UZWNobmljaWFuIiwiX3JlZjIiLCJfY2FsbGVlMiIsIl9yZXEkYm9keTIiLCJ0ZWNobmljaWFuIiwiaXNQYXNzd29yZFZhbGlkIiwidGVjaG5pY2lhblRva2VuIiwiX3QyIiwiX2NvbnRleHQyIiwicmVjb3Jkc2V0IiwibGVuZ3RoIiwiaXNBY3RpdmUiLCJWZXJpZmllZCIsImNvbXBhcmUiLCJQYXNzd29yZF9IYXNoIiwic2lnbiIsImlkIiwiVGVjaG5pY2lhbl9JRCIsIkZpcnN0X05hbWUiLCJMYXN0X05hbWUiLCJFbWFpbCIsInByb2Nlc3MiLCJlbnYiLCJURUNITklDSUFOX0FDQ0VTU19UT0tFTiIsImV4cGlyZXNJbiIsImNvb2tpZXMiLCJ0ZWNobmljaWFuX2FjY2Vzc190b2tlbiIsImNsZWFyQ29va2llIiwiY29va2llIiwiaHR0cE9ubHkiLCJzZWN1cmUiLCJOT0RFX0VOViIsInNhbWVTaXRlIiwibWF4QWdlIiwiX3gzIiwiX3g0IiwibG9nb3V0VGVjaG5pY2lhbiIsIl9yZWYzIiwiX2NhbGxlZTMiLCJfY29udGV4dDMiLCJfeDUiLCJfeDYiLCJzZXR0aW5nVGVjaG5pY2lhblNwZWNpYWx0eSIsIl9yZWY0IiwiX2NhbGxlZTQiLCJfcmVxJGJvZHkzIiwiYXBwbGlhbmNlQ2F0ZWdvcnlJRCIsInllYXJzT2ZFeHBlcmllbmNlIiwiY2VydGlmaWNhdGVEYXRlIiwidGVjaG5pY2lhbklEIiwiY2VydERhdGUiLCJ0b2RheSIsImZpZnR5WWVhcnNBZ28iLCJjaGVja0NhdGVnb3J5IiwiY2F0ZWdvcnkiLCJjaGVja0R1cGxpY2F0ZSIsIl90MyIsIl9jb250ZXh0NCIsInVuZGVmaW5lZCIsIk51bWJlciIsImlzSW50ZWdlciIsIkRhdGUiLCJzZXRIb3VycyIsInNldEZ1bGxZZWFyIiwiZ2V0RnVsbFllYXIiLCJJbnQiLCJTbWFsbEludCIsImNhdGVnb3J5SUQiLCJDYXRlZ29yeV9JRCIsImNhdGVnb3J5TmFtZUVOIiwiTmFtZUVOIiwiY2F0ZWdvcnlOYW1lQVIiLCJOYW1lQVIiLCJfeDciLCJfeDgiLCJzZXR0aW5nVGVjaG5pY2lhblNlcnZpY2VBcmVhIiwiX3JlZjUiLCJfY2FsbGVlNSIsIl9yZXEkYm9keTQiLCJzZXJ2aWNlQXJlYUlEIiwicHJpb3JpdHkiLCJjaGVja0FyZWEiLCJzZXJ2aWNlQXJlYSIsIl90NCIsIl9jb250ZXh0NSIsImFyZWFJRCIsIkFyZWFfSUQiLCJhcmVhTmFtZUVOIiwiYXJlYU5hbWVBUiIsImFyZWFSZWdpb24iLCJSZWdpb24iLCJfeDkiLCJfeDAiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvd29ya3NwYWNlcy9GaXhBcHBsaWFuY2UtZUNvbW1lcmNlL2JhY2stZW5kL3NyYy9jb250cm9sbGVycy8iLCJzb3VyY2VzIjpbIlRlY2huaWNpYW5Db250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGhpcyBjb250cm9sbGVyIHByb3ZpZGVzIHRoZSBmb2xsb3dpbmcgZnVuY3Rpb25hbGl0aWVzIGZvciBhIHRlY2huaWNpYW46IHJlZ2lzdGVyaW5nLCBsb2dnaW5nIGluLCBsb2dnaW5nIG91dCxcbiAqIHNldHRpbmcgc3BlY2lhbHR5IChhcHBsaWFuY2UgY2F0ZWdvcmllcyB0aGV5IHdvcmsgd2l0aCksIGFuZCBzZXR0aW5nIHNlcnZpY2UgYXJlYXMuXG4gKiBcbiAqIEZvciBzdG9yaW5nIHRoZSBwYXNzd29yZCwgYmNyeXB0IGlzIHVzZWQgdG8gaGFzaCBhbmQgand0IChqc29ud2VidG9rZW4pIGlzIHVzZWQgdG8gc2lnbiBhIHRva2VuIGFuZCBzdG9yZSBpdCBhcyBjb29raWUuXG4gKi9cblxuY29uc3QgYXN5bmNIYW5kbGVyID0gcmVxdWlyZShcImV4cHJlc3MtYXN5bmMtaGFuZGxlclwiKTtcbmNvbnN0IGJjcnlwdCA9IHJlcXVpcmUoXCJiY3J5cHRcIik7XG5jb25zdCBqd3QgPSByZXF1aXJlKFwianNvbndlYnRva2VuXCIpO1xuXG4vLyBzcWwgbmVlZGVkIGZvciB0aGUgdHlwZSBkZWZpbml0aW9ucyBpbiAuaW5wdXRcbi8vIGdldFBvb2wgaXMgdG8gZG8gcXVlcmllc1xuY29uc3QgeyBnZXRQb29sLCBzcWwgfSA9IHJlcXVpcmUoXCIuLi9jb25maWcvZGF0YWJhc2VcIik7XG5cbi8vIEltcG9ydCB2YWxpZGF0aW9uIHV0aWxpdGllc1xuY29uc3QgeyBpc1ZhbGlkRW1haWwsIGlzVmFsaWRQaG9uZSwgaXNWYWxpZFBhc3N3b3JkLCBpc1ZhbGlkTmFtZSwgc2FuaXRpemVTdHJpbmcgfSA9IHJlcXVpcmUoXCIuLi91dGlscy92YWxpZGF0b3JzXCIpO1xuXG5cbi8vIEhhbmRsZXMgdGhlIHRlY2huaWNpYW4gcmVnaXN0ZXJpbmcgZnVuY3Rpb25hbGl0eVxuY29uc3QgcmVnaXN0ZXJUZWNobmljaWFuID0gYXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIC8vIEdldHRpbmcgdGhlIG5lZWRlZCBkYXRhIGZyb20gdGhlIHJlcXVlc3QgYm9keVxuICAgIGNvbnN0IHsgZmlyc3ROYW1lLCBsYXN0TmFtZSwgZW1haWwsIHBob25lLCBwYXNzd29yZH0gPSByZXEuYm9keTtcblxuICAgIC8vIENoZWNraW5nIGlmIGFueSBvZiB0aGVtIGlzIGVtcHR5LCBpZiB5ZXMgdGhlbiB3ZSB0aHJvdyBhIDQwMFxuICAgIGlmICghZmlyc3ROYW1lIHx8ICFsYXN0TmFtZSB8fCAhZW1haWwgfHwgIXBob25lIHx8ICFwYXNzd29yZCkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiWW91IGhhdmUgdG8gaW5zZXJ0IGFsbCBkYXRhIHRvIHJlZ2lzdGVyLlwifSk7XG4gICAgfVxuXG4gICAgLy8gVmFsaWRhdGUgZmlyc3QgbmFtZSBmb3JtYXRcbiAgICBpZiAoIWlzVmFsaWROYW1lKGZpcnN0TmFtZSkpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttZXNzYWdlOiBcIkZpcnN0IG5hbWUgbXVzdCBiZSAyLTMwIGNoYXJhY3RlcnMgYW5kIGNvbnRhaW4gb25seSBsZXR0ZXJzLlwifSk7XG4gICAgfVxuXG4gICAgLy8gVmFsaWRhdGUgbGFzdCBuYW1lIGZvcm1hdFxuICAgIGlmICghaXNWYWxpZE5hbWUobGFzdE5hbWUpKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJMYXN0IG5hbWUgbXVzdCBiZSAyLTMwIGNoYXJhY3RlcnMgYW5kIGNvbnRhaW4gb25seSBsZXR0ZXJzLlwifSk7XG4gICAgfVxuXG4gICAgLy8gVmFsaWRhdGUgZW1haWwgZm9ybWF0XG4gICAgaWYgKCFpc1ZhbGlkRW1haWwoZW1haWwpKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJQbGVhc2UgZW50ZXIgYSB2YWxpZCBlbWFpbCBhZGRyZXNzLlwifSk7XG4gICAgfVxuXG4gICAgLy8gVmFsaWRhdGUgcGhvbmUgZm9ybWF0XG4gICAgaWYgKCFpc1ZhbGlkUGhvbmUocGhvbmUpKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJQbGVhc2UgZW50ZXIgYSB2YWxpZCBwaG9uZSBudW1iZXIuXCJ9KTtcbiAgICB9XG5cbiAgICAvLyBWYWxpZGF0ZSBwYXNzd29yZCBzdHJlbmd0aFxuICAgIGNvbnN0IHBhc3N3b3JkVmFsaWRhdGlvbiA9IGlzVmFsaWRQYXNzd29yZChwYXNzd29yZCk7XG4gICAgaWYgKCFwYXNzd29yZFZhbGlkYXRpb24udmFsaWQpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttZXNzYWdlOiBwYXNzd29yZFZhbGlkYXRpb24ubWVzc2FnZX0pO1xuICAgIH1cblxuICAgIC8vIFdlIG5vdyB0cnkgdG8gYWNjZXNzIHRoZSBkYXRhYmFzZSB0byBpbnNlcnQgdGhlIHRlY2huaWNpYW5cbiAgICB0cnkge1xuICAgICAgICBjb25zdCBwb29sID0gZ2V0UG9vbCgpO1xuXG4gICAgICAgIC8vIEhhc2hpbmcgdGhlIHBhc3N3b3JkIGJlZm9yZSBzdG9yaW5nXG4gICAgICAgIGNvbnN0IGhhc2hlZFBhc3N3b3JkID0gYXdhaXQgYmNyeXB0Lmhhc2gocGFzc3dvcmQsIDExKTtcblxuICAgICAgICAvLyBJbnNlcnRpbmcgdGhlIHRlY2huaWNpYW4gaW50byB0aGUgZGF0YWJhc2UgVGVjaG5pY2lhbiB0YWJsZVxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwb29sLnJlcXVlc3QoKVxuICAgICAgICAgICAgLmlucHV0KFwiZmlyc3ROYW1lXCIsIHNxbC5WYXJDaGFyLCBzYW5pdGl6ZVN0cmluZyhmaXJzdE5hbWUpKVxuICAgICAgICAgICAgLmlucHV0KFwibGFzdE5hbWVcIiwgc3FsLlZhckNoYXIsIHNhbml0aXplU3RyaW5nKGxhc3ROYW1lKSlcbiAgICAgICAgICAgIC5pbnB1dChcImVtYWlsXCIsIHNxbC5WYXJDaGFyLCBzYW5pdGl6ZVN0cmluZyhlbWFpbCkudG9Mb3dlckNhc2UoKSlcbiAgICAgICAgICAgIC5pbnB1dChcInBob25lXCIsIHNxbC5WYXJDaGFyLCBzYW5pdGl6ZVN0cmluZyhwaG9uZSkpXG4gICAgICAgICAgICAuaW5wdXQoXCJoYXNoZWRQYXNzd29yZFwiLCBzcWwuVmFyQ2hhciwgaGFzaGVkUGFzc3dvcmQpXG4gICAgICAgICAgICAucXVlcnkoYFxuICAgICAgICAgICAgSU5TRVJUIElOVE8gVGVjaG5pY2lhbiAoRmlyc3RfTmFtZSwgTGFzdF9OYW1lLCBFbWFpbCwgUGhvbmUsIFBhc3N3b3JkX0hhc2gpXG4gICAgICAgICAgICBWQUxVRVMoQGZpcnN0TmFtZSwgQGxhc3ROYW1lLCBAZW1haWwsIEBwaG9uZSwgQGhhc2hlZFBhc3N3b3JkKVxuICAgICAgICAgICAgYCk7XG5cbiAgICAgICAgLy8gU2VuZGluZyBzdWNjZXNzIG1lc3NhZ2VcbiAgICAgICAgcmVzLnN0YXR1cygyMDEpLmpzb24oe21lc3NhZ2U6IFwiVGVjaG5pY2lhbiByZWdpc3RlcmVkIHN1Y2Nlc3NmdWxseSFcIn0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIC8vIEhhbmRsaW5nIHRoZSB1bmlxdWUgY29uc3RyYWludHMgZm9yIGVtYWlsIGFuZCBwaG9uZSBudW1iZXJzXG4gICAgICAgIC8vIDI2MjcgaXMgZm9yIHZpb2xhdGlvbiBvZiB0aGUgdW5pcXVlIGtleSBjb25zdHJhaW50LCBhbmQgMjYwMSBpcyBmb3IgdW5pcXVlIGluZGV4IHZpb2xhdGlvblxuICAgICAgICBpZiAoZXJyb3IubnVtYmVyID09PSAyNjI3IHx8IGVycm9yLm51bWJlciA9PT0gMjYwMSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA5KS5qc29uKHttZXNzYWdlOiBcIkFub3RoZXIgYWNjb3VudCBleGlzdHMgYWxyZWFkeSBlaXRoZXIgd2l0aCB0aGlzIGVtYWlsIGFkZHJlc3Mgb3IgcGhvbmUgbnVtYmVyLiBJZiB5b3UgaGF2ZSBhbm90aGVyIGFjY291bnQsIHBsZWFzZSB1c2UgdGhhdCBvbmUgaW5zdGVhZC5cIn0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVGhyb3dpbmcgdGhlIGNvbnNvbGUgZXJyb3IgYW5kIDUwMCBzdGF0dXMgaW4gY2FzZSBzb21ldGhpbmcgZ29lcyB3cm9uZ1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiVW5leHBlY3RlZCBlcnJvciByZWdpc3RlcmluZyBhIG5ldyB0ZWNobmljaWFuIGFjY291bnQ6IFwiLCBlcnJvcik7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHttZXNzYWdlOiBcIkFuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQgd2hpbGUgcmVnaXN0ZXJpbmcgdGhlIHRlY2huaWNpYW4uXCJ9KTtcbiAgICB9XG59KTtcblxuLy8gSGFuZGxpbmcgdGhlIGxvZ2dpbmcgaW4gZnVuY3Rpb25hbGl0eSBmb3IgdGVjaG5pY2lhbnNcbmNvbnN0IGxvZ2luVGVjaG5pY2lhbiA9IGFzeW5jSGFuZGxlcihhc3luYyAocmVxLHJlcykgPT4ge1xuICAgIC8vIEdldHRpbmcgdGhlIGVtYWlsIGFuZCBwYXNzd29yZCB0aGF0IHRoZSB0ZWNobmljaWFuIGlzIHRyeWluZyB0byBsb2dpbiB3aXRoXG4gICAgY29uc3Qge2VtYWlsLCBwYXNzd29yZH0gPSByZXEuYm9keTtcblxuICAgIC8vIElucHV0IHZhbGlkYXRpb24sIGlmIGVpdGhlciBlbXB0eSB0aGVuIHNlbmQgNDAwIGVycm9yXG4gICAgaWYgKCFlbWFpbCB8fCAhcGFzc3dvcmQpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttZXNzYWdlOiBcIllvdSBoYXZlIHRvIGVudGVyIGJvdGggeW91ciBlbWFpbCBhbmQgeW91ciBwYXNzd29yZFwifSk7XG4gICAgfVxuXG4gICAgLy8gVmFsaWRhdGUgZW1haWwgZm9ybWF0XG4gICAgaWYgKCFpc1ZhbGlkRW1haWwoZW1haWwpKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJQbGVhc2UgZW50ZXIgYSB2YWxpZCBlbWFpbCBhZGRyZXNzLlwifSk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcG9vbCA9IGdldFBvb2woKTtcblxuICAgICAgICAvLyBTZWFyY2hpbmcgaW4gdGhlIGRhdGFiYXNlIGZvciBhIHRlY2huaWNpYW4gd2l0aCB0aGUgc2FtZSBlbWFpbCBwYXNzZWQgdG8gY2hlY2sgaWYgZXhpc3RzXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBvb2wucmVxdWVzdCgpXG4gICAgICAgICAgICAuaW5wdXQoXCJlbWFpbFwiLCBzcWwuVmFyQ2hhciwgc2FuaXRpemVTdHJpbmcoZW1haWwpLnRvTG93ZXJDYXNlKCkpXG4gICAgICAgICAgICAucXVlcnkoYFxuICAgICAgICAgICAgICAgIFNFTEVDVCBUZWNobmljaWFuX0lELCBGaXJzdF9OYW1lLCBMYXN0X05hbWUsIEVtYWlsLCBQYXNzd29yZF9IYXNoLCBpc0FjdGl2ZSwgVmVyaWZpZWRcbiAgICAgICAgICAgICAgICBGUk9NIFRlY2huaWNpYW5cbiAgICAgICAgICAgICAgICBXSEVSRSBFbWFpbCA9IEBlbWFpbFxuICAgICAgICAgICAgICAgIGApO1xuXG4gICAgICAgIC8vIElmIG5vIHJlc3VsdHMgcmV0dXJuZWQgZnJvbSB0aGUgcXVlcnksIHRoZW4gdGhlIGVtYWlsIGVudGVyZWQgaXMgaW52YWxpZFxuICAgICAgICBpZiAocmVzdWx0LnJlY29yZHNldC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7bWVzc2FnZTogXCJJbnZhbGlkIGVtYWlsIGFkZHJlc3Mgb3IgcGFzc3dvcmQuXCJ9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE5vdyB3ZSBhcmUgZ2V0dGluZyB0aGUgZmlyc3QgdGVjaG5pY2lhbiB0aGF0IHdlIGdvdCBoYXZpbmcgdGhlIHNhbWUgZW1haWwgYWRkcmVzc1xuICAgICAgICBjb25zdCB0ZWNobmljaWFuID0gcmVzdWx0LnJlY29yZHNldFswXTtcblxuICAgICAgICAvLyBDaGVjayBpZiB0aGUgdGVjaG5pY2lhbiBhY2NvdW50IGlzIGFjdGl2ZVxuICAgICAgICBpZiAoIXRlY2huaWNpYW4uaXNBY3RpdmUpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMykuanNvbih7bWVzc2FnZTogXCJZb3VyIGFjY291bnQgaXMgZGVhY3RpdmF0ZWQuIFBsZWFzZSBjb250YWN0IHVzIHRvIHJlc29sdmUgdGhpcyBpc3N1ZS5cIn0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHRlY2huaWNpYW4gYWNjb3VudCBpcyB2ZXJpZmllZCBieSBhZG1pblxuICAgICAgICBpZiAoIXRlY2huaWNpYW4uVmVyaWZpZWQpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMykuanNvbih7bWVzc2FnZTogXCJZb3VyIGFjY291bnQgaXMgbm90IHZlcmlmaWVkIHlldC4gUGxlYXNlIHdhaXQgZm9yIGFkbWluIGFwcHJvdmFsLlwifSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBVc2luZyBiY3J5cHQgdG8gY2hlY2sgaWYgdGhlIHBhc3N3b3JkIHBhc3NlZCBpcyB0aGUgc2FtZSBhcyB0aGUgaGFzaGVkIG9uZSBzdG9yZWQgaW4gdGhlIGRhdGFiYXNlXG4gICAgICAgIC8vIElmIG5vLCB0aHJvdyBhIDQwMSBlcnJvclxuICAgICAgICBjb25zdCBpc1Bhc3N3b3JkVmFsaWQgPSBhd2FpdCBiY3J5cHQuY29tcGFyZShwYXNzd29yZCwgdGVjaG5pY2lhbi5QYXNzd29yZF9IYXNoKTtcbiAgICAgICAgaWYgKCFpc1Bhc3N3b3JkVmFsaWQpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7bWVzc2FnZTogXCJJbnZhbGlkIGVtYWlsIGFkZHJlc3Mgb3IgcGFzc3dvcmQuXCJ9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIHRoZSBwYXNzd29yZCBtYXRjaGVzLCB0aGVuIGNyZWF0ZSBhIHRlY2huaWNpYW4gdG9rZW4gdXNpbmcgand0IGJ5IHNpZ25pbmcgaXQgd2l0aCB0aGUgVEVDSE5JQ0lBTl9BQ0NFU1NfVE9LRU5cbiAgICAgICAgLy8gc3RvcmVkIGluIHRoZSAuZW52IGZpbGUuIFRoZSB0b2tlbiBleHBpcmVzIGluIDEgZGF5LlxuICAgICAgICBjb25zdCB0ZWNobmljaWFuVG9rZW4gPSBqd3Quc2lnbih7XG4gICAgICAgICAgICBpZDogdGVjaG5pY2lhbi5UZWNobmljaWFuX0lELFxuICAgICAgICAgICAgZmlyc3ROYW1lOiB0ZWNobmljaWFuLkZpcnN0X05hbWUsXG4gICAgICAgICAgICBsYXN0TmFtZTogdGVjaG5pY2lhbi5MYXN0X05hbWUsXG4gICAgICAgICAgICBlbWFpbDogdGVjaG5pY2lhbi5FbWFpbFxuICAgICAgICB9LFxuICAgICAgICAgICAgcHJvY2Vzcy5lbnYuVEVDSE5JQ0lBTl9BQ0NFU1NfVE9LRU4sXG4gICAgICAgICAgICB7ZXhwaXJlc0luOiBcIjFkXCJ9XG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gSWYgYSBjb29raWUgZXhpc3RzIGFscmVhZHkgZm9yIHRoZSB0ZWNobmljaWFuLCBjbGVhciBpdFxuICAgICAgICBpZiAocmVxLmNvb2tpZXMudGVjaG5pY2lhbl9hY2Nlc3NfdG9rZW4pIHtcbiAgICAgICAgICAgIHJlcy5jbGVhckNvb2tpZSgndGVjaG5pY2lhbl9hY2Nlc3NfdG9rZW4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFN0b3JlIHRoZSBuZXcgY29va2llIHN1Y2ggdGhhdCBpdCBsYXN0cyAxIGRheSwgYW5kIHRocm93IGEgMjAwIHN1Y2Nlc3MgbWVzc2FnZSB3aXRoIHNvbWUgZGF0YSBhYm91dCB0aGUgdGVjaG5pY2lhblxuICAgICAgICAvLyAoaWQsIGZpcnN0TmFtZSwgbGFzdE5hbWUsIGVtYWlsKVxuICAgICAgICByZXMuY29va2llKCd0ZWNobmljaWFuX2FjY2Vzc190b2tlbicsIHRlY2huaWNpYW5Ub2tlbiwgXG4gICAgICAgICAgICB7aHR0cE9ubHk6IHRydWUsIFxuICAgICAgICAgICAgc2VjdXJlOiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCIsXG4gICAgICAgICAgICBzYW1lU2l0ZTogJ3N0cmljdCcsXG4gICAgICAgICAgICBtYXhBZ2U6IDI0ICogNjAgKiA2MCAqIDEwMDB9KTtcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgbWVzc2FnZTogXCJTdWNjZXNzZnVsbHkgbG9nZ2VkIGluLlwiLFxuICAgICAgICAgICAgdGVjaG5pY2lhbjoge1xuICAgICAgICAgICAgICAgIGlkOiB0ZWNobmljaWFuLlRlY2huaWNpYW5fSUQsXG4gICAgICAgICAgICAgICAgZmlyc3ROYW1lOiB0ZWNobmljaWFuLkZpcnN0X05hbWUsXG4gICAgICAgICAgICAgICAgbGFzdE5hbWU6IHRlY2huaWNpYW4uTGFzdF9OYW1lLFxuICAgICAgICAgICAgICAgIGVtYWlsOiB0ZWNobmljaWFuLkVtYWlsXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG5cbiAgICAgICAgLy8gSWYgYW55dGhpbmcgZ29lcyB3cm9uZywgdGhyb3cgYW4gZXJyb3JcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiTG9naW4gZXJyb3I6XCIsIGVycm9yKTtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe21lc3NhZ2U6IFwiQW4gZXJyb3Igb2NjdXJyZWQgZHVyaW5nIGxvZ2luLlwifSk7XG4gICAgfVxufSk7XG5cbi8vIExvZ2dpbmcgb3V0IGZ1bmN0aW9uYWxpdHkgYnkgY2xlYXJpbmcgdGhlIHRlY2huaWNpYW4ncyBjb29raWUgYW5kIHNlbmRpbmcgYSBzdWNjZXNzIG1lc3NhZ2VcbmNvbnN0IGxvZ291dFRlY2huaWNpYW4gPSBhc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgcmVzLmNsZWFyQ29va2llKCd0ZWNobmljaWFuX2FjY2Vzc190b2tlbicpO1xuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHttZXNzYWdlOiBcIlN1Y2Nlc3NmdWxseSBsb2dnZWQgb3V0LlwifSk7XG59KVxuXG5cbi8vIFNldHRpbmcgdGVjaG5pY2lhbiBzcGVjaWFsdHkgLSBhbGxvd3MgdGVjaG5pY2lhbnMgdG8gYWRkIGFwcGxpYW5jZSBjYXRlZ29yaWVzIHRoZXkgc3BlY2lhbGl6ZSBpblxuY29uc3Qgc2V0dGluZ1RlY2huaWNpYW5TcGVjaWFsdHkgPSBhc3luY0hhbmRsZXIoYXN5bmMgKHJlcSxyZXMpID0+IHtcbiAgICAvLyBHZXR0aW5nIHRoZSBzcGVjaWFsdHkgZGF0YSBmcm9tIHRoZSBib2R5IGFuZCB0aGUgdGVjaG5pY2lhbklEIHBhc3NlZCBmcm9tIHRoZSBtaWRkbGV3YXJlXG4gICAgY29uc3Qge2FwcGxpYW5jZUNhdGVnb3J5SUQsIHllYXJzT2ZFeHBlcmllbmNlLCBjZXJ0aWZpY2F0ZURhdGV9ID0gcmVxLmJvZHk7XG4gICAgY29uc3QgdGVjaG5pY2lhbklEID0gcmVxLnRlY2huaWNpYW5JRDtcblxuICAgIC8vIElmIHJlcXVpcmVkIGZpZWxkcyBhcmUgbWlzc2luZywgdGhyb3cgYSA0MDAgZXJyb3JcbiAgICAvLyBOb3RlOiB5ZWFyc09mRXhwZXJpZW5jZSB1c2VzICE9PSB1bmRlZmluZWQgdG8gYWxsb3cgMCBhcyBhIHZhbGlkIHZhbHVlXG4gICAgaWYgKCFhcHBsaWFuY2VDYXRlZ29yeUlEIHx8IHllYXJzT2ZFeHBlcmllbmNlID09PSB1bmRlZmluZWQgfHwgeWVhcnNPZkV4cGVyaWVuY2UgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttZXNzYWdlOiBcIkNhdGVnb3J5IElEIGFuZCB5ZWFycyBvZiBleHBlcmllbmNlIGFyZSByZXF1aXJlZCBmb3IgeW91IHRvIHBhc3MhXCJ9KTtcbiAgICB9XG5cbiAgICAvLyBWYWxpZGF0aW5nIHllYXJzIG9mIGV4cGVyaWVuY2UgLSBtdXN0IGJlIGFuIGludGVnZXIgYmV0d2VlbiAwIGFuZCA1MFxuICAgIGlmICghTnVtYmVyLmlzSW50ZWdlcih5ZWFyc09mRXhwZXJpZW5jZSkgfHwgeWVhcnNPZkV4cGVyaWVuY2UgPCAwIHx8IHllYXJzT2ZFeHBlcmllbmNlID4gNTApIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttZXNzYWdlOiBcIllvdXIgeWVhcnMgb2YgZXhwZXJpZW5jZSBzaG91bGQgYmUgYmV0d2VlbiAwIGFuZCA1MC5cIn0pO1xuICAgIH1cblxuICAgIC8vIElmIGNlcnRpZmljYXRlIGRhdGUgaXMgcHJvdmlkZWQsIHZhbGlkYXRlIGl0XG4gICAgaWYgKGNlcnRpZmljYXRlRGF0ZSkge1xuICAgICAgICBjb25zdCBjZXJ0RGF0ZSA9IG5ldyBEYXRlKGNlcnRpZmljYXRlRGF0ZSk7XG4gICAgICAgIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKTtcbiAgICAgICAgdG9kYXkuc2V0SG91cnMoMCwwLDAsMCk7XG5cbiAgICAgICAgLy8gQ2VydGlmaWNhdGUgZGF0ZSBjYW5ub3QgYmUgaW4gdGhlIGZ1dHVyZVxuICAgICAgICBpZiAoY2VydERhdGUgPiB0b2RheSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttZXNzYWdlOiBcIkNlcnRpZmljYXRpb24gZGF0ZSBjYW5ub3QgYmUgaW4gdGhlIGZ1dHVyZSFcIn0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2VydGlmaWNhdGUgZGF0ZSBjYW5ub3QgYmUgbW9yZSB0aGFuIDUwIHllYXJzIGFnb1xuICAgICAgICBjb25zdCBmaWZ0eVllYXJzQWdvID0gbmV3IERhdGUoKTtcbiAgICAgICAgZmlmdHlZZWFyc0Fnby5zZXRGdWxsWWVhcihmaWZ0eVllYXJzQWdvLmdldEZ1bGxZZWFyKCkgLSA1MCk7XG5cbiAgICAgICAgaWYgKGNlcnREYXRlIDwgZmlmdHlZZWFyc0Fnbykge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttZXNzYWdlOiBcIkNlcnRpZmljYXRpb24gZGF0ZSBjYW5ub3QgYmUgbW9yZSB0aGFuIDUwIHllYXJzIGFnbyFcIn0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcG9vbCA9IGdldFBvb2woKTtcblxuICAgICAgICAvLyBDaGVjayBpZiB0aGUgYXBwbGlhbmNlIGNhdGVnb3J5IGV4aXN0cyBhbmQgaXMgYWN0aXZlXG4gICAgICAgIGNvbnN0IGNoZWNrQ2F0ZWdvcnkgPSBhd2FpdCBwb29sLnJlcXVlc3QoKVxuICAgICAgICAgICAgLmlucHV0KFwiYXBwbGlhbmNlQ2F0ZWdvcnlJRFwiLCBzcWwuSW50LCBhcHBsaWFuY2VDYXRlZ29yeUlEKVxuICAgICAgICAgICAgLnF1ZXJ5KGBcbiAgICAgICAgICAgICAgICBTRUxFQ1QgQ2F0ZWdvcnlfSUQsIE5hbWVFTiwgTmFtZUFSLCBpc0FjdGl2ZVxuICAgICAgICAgICAgICAgIEZST00gQXBwbGlhbmNlX0NhdGVnb3J5XG4gICAgICAgICAgICAgICAgV0hFUkUgQ2F0ZWdvcnlfSUQgPSBAYXBwbGlhbmNlQ2F0ZWdvcnlJRFxuICAgICAgICAgICAgICAgIGApO1xuXG4gICAgICAgIC8vIElmIG5vIHJlc3VsdCByZXR1cm5lZCwgdGhlIGNhdGVnb3J5IElEIGlzIGludmFsaWRcbiAgICAgICAgaWYgKGNoZWNrQ2F0ZWdvcnkucmVjb3Jkc2V0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHttZXNzYWdlOiBcIkludmFsaWQgY2F0ZWdvcnkgcGFzc2VkISBZb3Ugc2hvdWxkIHBpY2sgb25lIG9mIHRoZSBhdmFpbGFibGUgY2F0ZWdvcnkgSURzIG9ubHkuXCJ9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNhdGVnb3J5ID0gY2hlY2tDYXRlZ29yeS5yZWNvcmRzZXRbMF07XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGNhdGVnb3J5IGlzIGFjdGl2ZVxuICAgICAgICBpZiAoIWNhdGVnb3J5LmlzQWN0aXZlKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiVGhlIGNhdGVnb3J5IGNob3NlbiBpcyBjdXJyZW50bHkgbm90IGFjdGl2ZSFcIn0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2tpbmcgZm9yIGR1cGxpY2F0ZSBzcGVjaWFsdHkgLSB0ZWNobmljaWFuIGNhbm5vdCBhZGQgc2FtZSBjYXRlZ29yeSB0d2ljZVxuICAgICAgICBjb25zdCBjaGVja0R1cGxpY2F0ZSA9IGF3YWl0IHBvb2wucmVxdWVzdCgpXG4gICAgICAgICAgICAuaW5wdXQoXCJ0ZWNobmljaWFuSURcIiwgc3FsLkludCwgdGVjaG5pY2lhbklEKVxuICAgICAgICAgICAgLmlucHV0KFwiYXBwbGlhbmNlQ2F0ZWdvcnlJRFwiLCBzcWwuSW50LCBhcHBsaWFuY2VDYXRlZ29yeUlEKVxuICAgICAgICAgICAgLnF1ZXJ5KGBcbiAgICAgICAgICAgICAgICBTRUxFQ1QgVGVjaG5pY2lhbl9JRFxuICAgICAgICAgICAgICAgIEZST00gVGVjaG5pY2lhbl9DYXRlZ29yeVxuICAgICAgICAgICAgICAgIFdIRVJFIFRlY2huaWNpYW5fSUQgPSBAdGVjaG5pY2lhbklEIEFORCBDYXRlZ29yeV9JRCA9IEBhcHBsaWFuY2VDYXRlZ29yeUlEXG4gICAgICAgICAgICAgICAgYCk7XG5cbiAgICAgICAgLy8gSWYgZHVwbGljYXRlIGZvdW5kLCB0aHJvdyBhIDQwOSBjb25mbGljdCBlcnJvclxuICAgICAgICBpZiAoY2hlY2tEdXBsaWNhdGUucmVjb3Jkc2V0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwOSkuanNvbih7bWVzc2FnZTogXCJZb3UgYWxyZWFkeSBoYXZlIHRoaXMgc3BlY2lhbHR5IGFkZGVkLlwifSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJbnNlcnQgdGhlIG5ldyBzcGVjaWFsdHkgaW50byBUZWNobmljaWFuX0NhdGVnb3J5IHRhYmxlXG4gICAgICAgIGF3YWl0IHBvb2wucmVxdWVzdCgpXG4gICAgICAgICAgICAuaW5wdXQoXCJ0ZWNobmljaWFuSURcIiwgc3FsLkludCwgdGVjaG5pY2lhbklEKVxuICAgICAgICAgICAgLmlucHV0KFwiYXBwbGlhbmNlQ2F0ZWdvcnlJRFwiLCBzcWwuSW50LCBhcHBsaWFuY2VDYXRlZ29yeUlEKVxuICAgICAgICAgICAgLmlucHV0KFwieWVhcnNPZkV4cGVyaWVuY2VcIiwgc3FsLlNtYWxsSW50LCB5ZWFyc09mRXhwZXJpZW5jZSlcbiAgICAgICAgICAgIC5pbnB1dChcImNlcnRpZmljYXRlRGF0ZVwiLCBzcWwuRGF0ZSwgY2VydGlmaWNhdGVEYXRlIHx8IG51bGwpXG4gICAgICAgICAgICAucXVlcnkoYFxuICAgICAgICAgICAgICAgIElOU0VSVCBJTlRPIFRlY2huaWNpYW5fQ2F0ZWdvcnkgKFRlY2huaWNpYW5fSUQsIENhdGVnb3J5X0lELCBZZWFyc19vZl9FeHBlcmllbmNlLCBDZXJ0aWZpY2F0aW9uX0RhdGUpXG4gICAgICAgICAgICAgICAgVkFMVUVTIChAdGVjaG5pY2lhbklELCBAYXBwbGlhbmNlQ2F0ZWdvcnlJRCwgQHllYXJzT2ZFeHBlcmllbmNlLCBAY2VydGlmaWNhdGVEYXRlKVxuICAgICAgICAgICAgICAgIGApO1xuXG4gICAgICAgIC8vIFJldHVybiBzdWNjZXNzIHJlc3BvbnNlIHdpdGggc3BlY2lhbHR5IGRldGFpbHNcbiAgICAgICAgcmVzLnN0YXR1cygyMDEpLmpzb24oe1xuICAgICAgICAgICAgbWVzc2FnZTogXCJTdWNjZXNzZnVsbHkgc2V0IHlvdXIgc3BlY2lhbHR5LlwiLFxuICAgICAgICAgICAgY2F0ZWdvcnlJRDogY2F0ZWdvcnkuQ2F0ZWdvcnlfSUQsXG4gICAgICAgICAgICBjYXRlZ29yeU5hbWVFTjogY2F0ZWdvcnkuTmFtZUVOLFxuICAgICAgICAgICAgY2F0ZWdvcnlOYW1lQVI6IGNhdGVnb3J5Lk5hbWVBUixcbiAgICAgICAgICAgIHllYXJzT2ZFeHBlcmllbmNlOiB5ZWFyc09mRXhwZXJpZW5jZSxcbiAgICAgICAgICAgIGNlcnRpZmljYXRlRGF0ZTogY2VydGlmaWNhdGVEYXRlIHx8IG51bGxcbiAgICAgICAgfSk7XG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZCB3aGVuIHRyeWluZyB0byBzZXQgeW91ciBzcGVjaWFsdHk6XCIsIGVycm9yKTtcblxuICAgICAgICAvLyBGb3JlaWduIGtleSBjb25zdHJhaW50IHZpb2xhdGlvblxuICAgICAgICBpZiAoZXJyb3IubnVtYmVyID09PSA1NDcpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJJbnZhbGlkIHRlY2huaWNpYW4gb3IgY2F0ZWdvcnkgSUQuXCJ9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFVuaXF1ZSBjb25zdHJhaW50IHZpb2xhdGlvbiAoZHVwbGljYXRlIGVudHJ5KVxuICAgICAgICBpZiAoZXJyb3IubnVtYmVyID09PSAyNjI3KSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDkpLmpzb24oe21lc3NhZ2U6IFwiWW91IGFscmVhZHkgaGF2ZSB0aGlzIHNwZWNpYWx0eSBhZGRlZCFcIn0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe21lc3NhZ2U6IFwiQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZCB3aGVuIHRyeWluZyB0byBzZXQgeW91ciBzcGVjaWFsdHkuXCJ9KTtcbiAgICB9XG59KVxuXG4vLyBTZXR0aW5nIHRlY2huaWNpYW4gc2VydmljZSBhcmVhIC0gYWxsb3dzIHRlY2huaWNpYW5zIHRvIGFkZCBhcmVhcyB0aGV5IHdvcmsgaW4gd2l0aCBwcmlvcml0eVxuY29uc3Qgc2V0dGluZ1RlY2huaWNpYW5TZXJ2aWNlQXJlYSA9IGFzeW5jSGFuZGxlcihhc3luYyAocmVxLHJlcykgPT4ge1xuICAgIC8vIEdldHRpbmcgdGhlIHNlcnZpY2UgYXJlYSBkYXRhIGZyb20gdGhlIGJvZHkgYW5kIHRoZSB0ZWNobmljaWFuSUQgcGFzc2VkIGZyb20gdGhlIG1pZGRsZXdhcmVcbiAgICBjb25zdCB7c2VydmljZUFyZWFJRCwgcHJpb3JpdHl9ID0gcmVxLmJvZHk7XG4gICAgY29uc3QgdGVjaG5pY2lhbklEID0gcmVxLnRlY2huaWNpYW5JRDtcblxuICAgIC8vIElmIHJlcXVpcmVkIGZpZWxkcyBhcmUgbWlzc2luZywgdGhyb3cgYSA0MDAgZXJyb3JcbiAgICBpZiAoIXNlcnZpY2VBcmVhSUQgfHwgIXByaW9yaXR5KSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJZb3UgaGF2ZSB0byBzcGVjaWZ5IGZyb20gd2hpY2ggc2VydmljZSBhcmVhIHlvdSBhcmUgYW5kIHRoZSBwcmlvcml0eSBvZiBpdC5cIn0pO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRpbmcgcHJpb3JpdHkgLSBtdXN0IGJlIGFuIGludGVnZXIgYmV0d2VlbiAxIGFuZCAxMDBcbiAgICBpZiAoIU51bWJlci5pc0ludGVnZXIocHJpb3JpdHkpIHx8IHByaW9yaXR5IDwgMSB8fCBwcmlvcml0eSA+IDEwMCkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiUHJpb3JpdHkgbXVzdCBiZSBhbiBpbnRlZ2VyIGJldHdlZW4gMSBhbmQgMTAwLlwifSk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcG9vbCA9IGdldFBvb2woKTtcblxuICAgICAgICAvLyBDaGVjayBpZiB0aGUgc2VydmljZSBhcmVhIGV4aXN0c1xuICAgICAgICBjb25zdCBjaGVja0FyZWEgPSBhd2FpdCBwb29sLnJlcXVlc3QoKVxuICAgICAgICAgICAgLmlucHV0KFwic2VydmljZUFyZWFJRFwiLCBzcWwuSW50LCBzZXJ2aWNlQXJlYUlEKVxuICAgICAgICAgICAgLnF1ZXJ5KGBcbiAgICAgICAgICAgICAgICBTRUxFQ1QgQXJlYV9JRCwgTmFtZUVOLCBOYW1lQVIsIFJlZ2lvbiwgaXNBY3RpdmVcbiAgICAgICAgICAgICAgICBGUk9NIFNlcnZpY2VfQXJlYVxuICAgICAgICAgICAgICAgIFdIRVJFIEFyZWFfSUQgPSBAc2VydmljZUFyZWFJRFxuICAgICAgICAgICAgICAgIGApO1xuXG4gICAgICAgIC8vIElmIG5vIHJlc3VsdCByZXR1cm5lZCwgdGhlIHNlcnZpY2UgYXJlYSBJRCBpcyBpbnZhbGlkXG4gICAgICAgIGlmIChjaGVja0FyZWEucmVjb3Jkc2V0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHttZXNzYWdlOiBcIkludmFsaWQgc2VydmljZSBhcmVhIGNob3NlbiEgWW91IGhhdmUgdG8gY2hvb3NlIG9uZSBvZiB0aGUgYXZhaWxhYmxlIG9uZXMuXCJ9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNlcnZpY2VBcmVhID0gY2hlY2tBcmVhLnJlY29yZHNldFswXTtcblxuICAgICAgICAvLyBDaGVjayBpZiB0aGUgc2VydmljZSBhcmVhIGlzIGFjdGl2ZVxuICAgICAgICBpZiAoIXNlcnZpY2VBcmVhLmlzQWN0aXZlKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiQ3VycmVudGx5IHRoaXMgc2VydmljZSBhcmVhIGlzIG5vdCBhY3RpdmUuXCJ9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENoZWNraW5nIGZvciBkdXBsaWNhdGUgc2VydmljZSBhcmVhIC0gdGVjaG5pY2lhbiBjYW5ub3QgYWRkIHNhbWUgYXJlYSB0d2ljZVxuICAgICAgICBjb25zdCBjaGVja0R1cGxpY2F0ZSA9IGF3YWl0IHBvb2wucmVxdWVzdCgpXG4gICAgICAgICAgICAuaW5wdXQoXCJ0ZWNobmljaWFuSURcIiwgc3FsLkludCwgdGVjaG5pY2lhbklEKVxuICAgICAgICAgICAgLmlucHV0KFwic2VydmljZUFyZWFJRFwiLCBzcWwuSW50LCBzZXJ2aWNlQXJlYUlEKVxuICAgICAgICAgICAgLnF1ZXJ5KGBcbiAgICAgICAgICAgICAgICBTRUxFQ1QgVGVjaG5pY2lhbl9JRFxuICAgICAgICAgICAgICAgIEZST00gVGVjaG5pY2lhbl9TZXJ2aWNlX0FyZWFcbiAgICAgICAgICAgICAgICBXSEVSRSBUZWNobmljaWFuX0lEID0gQHRlY2huaWNpYW5JRCBBTkQgQXJlYV9JRCA9IEBzZXJ2aWNlQXJlYUlEXG4gICAgICAgICAgICAgICAgYCk7XG5cbiAgICAgICAgLy8gSWYgZHVwbGljYXRlIGZvdW5kLCB0aHJvdyBhIDQwOSBjb25mbGljdCBlcnJvclxuICAgICAgICBpZiAoY2hlY2tEdXBsaWNhdGUucmVjb3Jkc2V0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwOSkuanNvbih7bWVzc2FnZTogXCJZb3UgYWxyZWFkeSBoYXZlIHNldCB0aGlzIHNlcnZpY2UgYXJlYSFcIn0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSW5zZXJ0IHRoZSBuZXcgc2VydmljZSBhcmVhIGludG8gVGVjaG5pY2lhbl9TZXJ2aWNlX0FyZWEgdGFibGVcbiAgICAgICAgYXdhaXQgcG9vbC5yZXF1ZXN0KClcbiAgICAgICAgICAgIC5pbnB1dChcInRlY2huaWNpYW5JRFwiLCBzcWwuSW50LCB0ZWNobmljaWFuSUQpXG4gICAgICAgICAgICAuaW5wdXQoXCJzZXJ2aWNlQXJlYUlEXCIsIHNxbC5JbnQsIHNlcnZpY2VBcmVhSUQpXG4gICAgICAgICAgICAuaW5wdXQoXCJwcmlvcml0eVwiLCBzcWwuSW50LCBwcmlvcml0eSlcbiAgICAgICAgICAgIC5xdWVyeShgXG4gICAgICAgICAgICAgICAgSU5TRVJUIElOVE8gVGVjaG5pY2lhbl9TZXJ2aWNlX0FyZWEgKFRlY2huaWNpYW5fSUQsIEFyZWFfSUQsIFByaW9yaXR5X09yZGVyKVxuICAgICAgICAgICAgICAgIFZBTFVFUyAoQHRlY2huaWNpYW5JRCwgQHNlcnZpY2VBcmVhSUQsIEBwcmlvcml0eSlcbiAgICAgICAgICAgICAgICBgKTtcblxuICAgICAgICAvLyBSZXR1cm4gc3VjY2VzcyByZXNwb25zZSB3aXRoIHNlcnZpY2UgYXJlYSBkZXRhaWxzXG4gICAgICAgIHJlcy5zdGF0dXMoMjAxKS5qc29uKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiU3VjY2Vzc2Z1bGx5IHNldCB5b3VyIHNlcnZpY2UgYXJlYS5cIixcbiAgICAgICAgICAgIGFyZWFJRDogc2VydmljZUFyZWEuQXJlYV9JRCxcbiAgICAgICAgICAgIGFyZWFOYW1lRU46IHNlcnZpY2VBcmVhLk5hbWVFTixcbiAgICAgICAgICAgIGFyZWFOYW1lQVI6IHNlcnZpY2VBcmVhLk5hbWVBUixcbiAgICAgICAgICAgIGFyZWFSZWdpb246IHNlcnZpY2VBcmVhLlJlZ2lvbixcbiAgICAgICAgICAgIHByaW9yaXR5OiBwcmlvcml0eVxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkFuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQgd2hlbiB0cnlpbmcgdG8gc2V0IHlvdXIgc2VydmljZSBhcmVhOlwiLCBlcnJvcik7XG5cbiAgICAgICAgLy8gRm9yZWlnbiBrZXkgY29uc3RyYWludCB2aW9sYXRpb25cbiAgICAgICAgaWYgKGVycm9yLm51bWJlciA9PT0gNTQ3KSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiSW52YWxpZCB0ZWNobmljaWFuIG9yIHNlcnZpY2UgYXJlYSBJRC5cIn0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVW5pcXVlIGNvbnN0cmFpbnQgdmlvbGF0aW9uIChkdXBsaWNhdGUgZW50cnkpXG4gICAgICAgIGlmIChlcnJvci5udW1iZXIgPT09IDI2MjcpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwOSkuanNvbih7bWVzc2FnZTogXCJZb3UgYWxyZWFkeSBoYXZlIHRoaXMgc2VydmljZSBhcmVhIHNldCFcIn0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe21lc3NhZ2U6IFwiQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZCB3aGVuIHRyeWluZyB0byBzZXQgeW91ciBzZXJ2aWNlIGFyZWEuXCJ9KTtcbiAgICB9XG59KVxuXG5cbm1vZHVsZS5leHBvcnRzID0ge3JlZ2lzdGVyVGVjaG5pY2lhbiwgbG9naW5UZWNobmljaWFuLCBsb2dvdXRUZWNobmljaWFuLCBzZXR0aW5nVGVjaG5pY2lhblNwZWNpYWx0eSwgc2V0dGluZ1RlY2huaWNpYW5TZXJ2aWNlQXJlYX07ICJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsSUFBTUEsWUFBWSxHQUFHQyxPQUFPLENBQUMsdUJBQXVCLENBQUM7QUFDckQsSUFBTUMsTUFBTSxHQUFHRCxPQUFPLENBQUMsUUFBUSxDQUFDO0FBQ2hDLElBQU1FLEdBQUcsR0FBR0YsT0FBTyxDQUFDLGNBQWMsQ0FBQzs7QUFFbkM7QUFDQTtBQUNBLElBQUFHLFFBQUEsR0FBeUJILE9BQU8sQ0FBQyxvQkFBb0IsQ0FBQztFQUE5Q0ksT0FBTyxHQUFBRCxRQUFBLENBQVBDLE9BQU87RUFBRUMsR0FBRyxHQUFBRixRQUFBLENBQUhFLEdBQUc7O0FBRXBCO0FBQ0EsSUFBQUMsU0FBQSxHQUFxRk4sT0FBTyxDQUFD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","map":{"version":3,"names":["asyncHandler","require","bcrypt","jwt","_require","getPool","sql","_require2","isValidEmail","isValidPhone","isValidPassword","isValidName","sanitizeString","registerTechnician","_ref","_asyncToGenerator2","_regenerator","mark","_callee","req","res","_req$body","firstName","lastName","email","phone","password","passwordValidation","pool","hashedPassword","result","_t","wrap","_context","prev","next","body","abrupt","status","json","message","valid","hash","sent","request","input","VarChar","toLowerCase","query","number","console","error","stop","_x","_x2","apply","arguments","loginTechnician","_ref2","_callee2","_req$body2","technician","isPasswordValid","technicianToken","_t2","_context2","recordset","length","isActive","Verified","compare","Password_Hash","sign","id","Technician_ID","First_Name","Last_Name","Email","process","env","TECHNICIAN_ACCESS_TOKEN","expiresIn","cookies","technician_access_token","clearCookie","cookie","httpOnly","secure","NODE_ENV","sameSite","maxAge","_x3","_x4","logoutTechnician","_ref3","_callee3","_context3","_x5","_x6","settingTechnicianSpecialty","_ref4","_callee4","_req$body3","applianceCategoryID","yearsOfExperience","certificateDate","technicianID","certDate","today","fiftyYearsAgo","checkCategory","category","checkDuplicate","_t3","_context4","undefined","Number","isInteger","Date","setHours","setFullYear","getFullYear","Int","SmallInt","categoryID","Category_ID","categoryNameEN","NameEN","categoryNameAR","NameAR","_x7","_x8","settingTechnicianServiceArea","_ref5","_callee5","_req$body4","serviceAreaID","priority","checkArea","serviceArea","_t4","_context5","areaID","Area_ID","areaNameEN","areaNameAR","areaRegion","Region","_x9","_x0","module","exports"],"sourceRoot":"/workspaces/FixAppliance-eCommerce/back-end/src/controllers/","sources":["TechnicianController.js"],"sourcesContent":["/**\n * This controller provides the following functionalities for a technician: registering, logging in, logging out,\n * setting specialty (appliance categories they work with), and setting service areas.\n * \n * For storing the password, bcrypt is used to hash and jwt (jsonwebtoken) is used to sign a token and store it as cookie.\n */\n\nconst asyncHandler = require(\"express-async-handler\");\nconst bcrypt = require(\"bcrypt\");\nconst jwt = require(\"jsonwebtoken\");\n\n// sql needed for the type definitions in .input\n// getPool is to do queries\nconst { getPool, sql } = require(\"../config/database\");\n\n// Import validation utilities\nconst { isValidEmail, isValidPhone, isValidPassword, isValidName, sanitizeString } = require(\"../utils/validators\");\n\n\n// Handles the technician registering functionality\nconst registerTechnician = asyncHandler(async (req, res) => {\n    // Getting the needed data from the request body\n    const { firstName, lastName, email, phone, password} = req.body;\n\n    // Checking if any of them is empty, if yes then we throw a 400\n    if (!firstName || !lastName || !email || !phone || !password) {\n        return res.status(400).json({message: \"You have to insert all data to register.\"});\n    }\n\n    // Validate first name format\n    if (!isValidName(firstName)) {\n        return res.status(400).json({message: \"First name must be 2-30 characters and contain only letters.\"});\n    }\n\n    // Validate last name format\n    if (!isValidName(lastName)) {\n        return res.status(400).json({message: \"Last name must be 2-30 characters and contain only letters.\"});\n    }\n\n    // Validate email format\n    if (!isValidEmail(email)) {\n        return res.status(400).json({message: \"Please enter a valid email address.\"});\n    }\n\n    // Validate phone format\n    if (!isValidPhone(phone)) {\n        return res.status(400).json({message: \"Please enter a valid phone number.\"});\n    }\n\n    // Validate password strength\n    const passwordValidation = isValidPassword(password);\n    if (!passwordValidation.valid) {\n        return res.status(400).json({message: passwordValidation.message});\n    }\n\n    // We now try to access the database to insert the technician\n    try {\n        const pool = getPool();\n\n        // Hashing the password before storing\n        const hashedPassword = await bcrypt.hash(password, 11);\n\n        // Inserting the technician into the database Technician table\n        const result = await pool.request()\n            .input(\"firstName\", sql.VarChar, sanitizeString(firstName))\n            .input(\"lastName\", sql.VarChar, sanitizeString(lastName))\n            .input(\"email\", sql.VarChar, sanitizeString(email).toLowerCase())\n            .input(\"phone\", sql.VarChar, sanitizeString(phone))\n            .input(\"hashedPassword\", sql.VarChar, hashedPassword)\n            .query(`\n            INSERT INTO Technician (First_Name, Last_Name, Email, Phone, Password_Hash)\n            VALUES(@firstName, @lastName, @email, @phone, @hashedPassword)\n            `);\n\n        // Sending success message\n        res.status(201).json({message: \"Technician registered successfully!\"});\n    } catch (error) {\n        // Handling the unique constraints for email and phone numbers\n        // 2627 is for violation of the unique key constraint, and 2601 is for unique index violation\n        if (error.number === 2627 || error.number === 2601) {\n            return res.status(409).json({message: \"Another account exists already either with this email address or phone number. If you have another account, please use that one instead.\"});\n        }\n\n        // Throwing the console error and 500 status in case something goes wrong\n        console.error(\"Unexpected error registering a new technician account: \", error);\n        res.status(500).json({message: \"An unexpected error occurred while registering the technician.\"});\n    }\n});\n\n// Handling the logging in functionality for technicians\nconst loginTechnician = asyncHandler(async (req,res) => {\n    // Getting the email and password that the technician is trying to login with\n    const {email, password} = req.body;\n\n    // Input validation, if either empty then send 400 error\n    if (!email || !password) {\n        return res.status(400).json({message: \"You have to enter both your email and your password\"});\n    }\n\n    // Validate email format\n    if (!isValidEmail(email)) {\n        return res.status(400).json({message: \"Please enter a valid email address.\"});\n    }\n\n    try {\n        const pool = getPool();\n\n        // Searching in the database for a technician with the same email passed to check if exists\n        const result = await pool.request()\n            .input(\"email\", sql.VarChar, sanitizeString(email).toLowerCase())\n            .query(`\n                SELECT Technician_ID, First_Name, Last_Name, Email, Password_Hash, isActive, Verified\n                FROM Technician\n                WHERE Email = @email\n                `);\n\n        // If no results returned from the query, then the email entered is invalid\n        if (result.recordset.length === 0) {\n            return res.status(401).json({message: \"Invalid email address or password.\"});\n        }\n\n        // Now we are getting the first technician that we got having the same email address\n        const technician = result.recordset[0];\n\n        // Check if the technician account is active\n        if (!technician.isActive) {\n            return res.status(403).json({message: \"Your account is deactivated. Please contact us to resolve this issue.\"});\n        }\n\n        // Check if the technician account is verified by admin\n        if (!technician.Verified) {\n            return res.status(403).json({message: \"Your account is not verified yet. Please wait for admin approval.\"});\n        }\n\n        // Using bcrypt to check if the password passed is the same as the hashed one stored in the database\n        // If no, throw a 401 error\n        const isPasswordValid = await bcrypt.compare(password, technician.Password_Hash);\n        if (!isPasswordValid) {\n            return res.status(401).json({message: \"Invalid email address or password.\"});\n        }\n\n        // If the password matches, then create a technician token using jwt by signing it with the TECHNICIAN_ACCESS_TOKEN\n        // stored in the .env file. The token expires in 1 day.\n        const technicianToken = jwt.sign({\n            id: technician.Technician_ID,\n            firstName: technician.First_Name,\n            lastName: technician.Last_Name,\n            email: technician.Email\n        },\n            process.env.TECHNICIAN_ACCESS_TOKEN,\n            {expiresIn: \"1d\"}\n        );\n\n        // If a cookie exists already for the technician, clear it\n        if (req.cookies.technician_access_token) {\n            res.clearCookie('technician_access_token');\n        }\n\n        // Store the new cookie such that it lasts 1 day, and throw a 200 success message with some data about the technician\n        // (id, firstName, lastName, email)\n        res.cookie('technician_access_token', technicianToken, \n            {httpOnly: true, \n            secure: process.env.NODE_ENV === \"production\",\n            sameSite: 'strict',\n            maxAge: 24 * 60 * 60 * 1000});\n        res.status(200).json({\n            message: \"Successfully logged in.\",\n            technician: {\n                id: technician.Technician_ID,\n                firstName: technician.First_Name,\n                lastName: technician.Last_Name,\n                email: technician.Email\n            }\n        })\n\n        // If anything goes wrong, throw an error\n    } catch (error) {\n        console.error(\"Login error:\", error);\n        res.status(500).json({message: \"An error occurred during login.\"});\n    }\n});\n\n// Logging out functionality by clearing the technician's cookie and sending a success message\nconst logoutTechnician = asyncHandler(async (req, res) => {\n    res.clearCookie('technician_access_token');\n    res.status(200).json({message: \"Successfully logged out.\"});\n})\n\n\n// Setting technician specialty - allows technicians to add appliance categories they specialize in\nconst settingTechnicianSpecialty = asyncHandler(async (req,res) => {\n    // Getting the specialty data from the body and the technicianID passed from the middleware\n    const {applianceCategoryID, yearsOfExperience, certificateDate} = req.body;\n    const technicianID = req.technicianID;\n\n    // If required fields are missing, throw a 400 error\n    // Note: yearsOfExperience uses !== undefined to allow 0 as a valid value\n    if (!applianceCategoryID || yearsOfExperience === undefined || yearsOfExperience === null) {\n        return res.status(400).json({message: \"Category ID and years of experience are required for you to pass!\"});\n    }\n\n    // Validating years of experience - must be an integer between 0 and 50\n    if (!Number.isInteger(yearsOfExperience) || yearsOfExperience < 0 || yearsOfExperience > 50) {\n        return res.status(400).json({message: \"Your years of experience should be between 0 and 50.\"});\n    }\n\n    // If certificate date is provided, validate it\n    if (certificateDate) {\n        const certDate = new Date(certificateDate);\n        const today = new Date();\n        today.setHours(0,0,0,0);\n\n        // Certificate date cannot be in the future\n        if (certDate > today) {\n            return res.status(400).json({message: \"Certification date cannot be in the future!\"});\n        }\n\n        // Certificate date cannot be more than 50 years ago\n        const fiftyYearsAgo = new Date();\n        fiftyYearsAgo.setFullYear(fiftyYearsAgo.getFullYear() - 50);\n\n        if (certDate < fiftyYearsAgo) {\n            return res.status(400).json({message: \"Certification date cannot be more than 50 years ago!\"});\n        }\n    }\n\n    try {\n        const pool = getPool();\n\n        // Check if the appliance category exists and is active\n        const checkCategory = await pool.request()\n            .input(\"applianceCategoryID\", sql.Int, applianceCategoryID)\n            .query(`\n                SELECT Category_ID, NameEN, NameAR, isActive\n                FROM Appliance_Category\n                WHERE Category_ID = @applianceCategoryID\n                `);\n\n        // If no result returned, the category ID is invalid\n        if (checkCategory.recordset.length === 0) {\n            return res.status(404).json({message: \"Invalid category passed! You should pick one of the available category IDs only.\"});\n        }\n\n        const category = checkCategory.recordset[0];\n\n        // Check if the category is active\n        if (!category.isActive) {\n            return res.status(400).json({message: \"The category chosen is currently not active!\"});\n        }\n\n        // Checking for duplicate specialty - technician cannot add same category twice\n        const checkDuplicate = await pool.request()\n            .input(\"technicianID\", sql.Int, technicianID)\n            .input(\"applianceCategoryID\", sql.Int, applianceCategoryID)\n            .query(`\n                SELECT Technician_ID\n                FROM Technician_Category\n                WHERE Technician_ID = @technicianID AND Category_ID = @applianceCategoryID\n                `);\n\n        // If duplicate found, throw a 409 conflict error\n        if (checkDuplicate.recordset.length > 0) {\n            return res.status(409).json({message: \"You already have this specialty added.\"});\n        }\n\n        // Insert the new specialty into Technician_Category table\n        await pool.request()\n            .input(\"technicianID\", sql.Int, technicianID)\n            .input(\"applianceCategoryID\", sql.Int, applianceCategoryID)\n            .input(\"yearsOfExperience\", sql.SmallInt, yearsOfExperience)\n            .input(\"certificateDate\", sql.Date, certificateDate || null)\n            .query(`\n                INSERT INTO Technician_Category (Technician_ID, Category_ID, Years_of_Experience, Certification_Date)\n                VALUES (@technicianID, @applianceCategoryID, @yearsOfExperience, @certificateDate)\n                `);\n\n        // Return success response with specialty details\n        res.status(201).json({\n            message: \"Successfully set your specialty.\",\n            categoryID: category.Category_ID,\n            categoryNameEN: category.NameEN,\n            categoryNameAR: category.NameAR,\n            yearsOfExperience: yearsOfExperience,\n            certificateDate: certificateDate || null\n        });\n\n    } catch (error) {\n        console.error(\"An unexpected error occurred when trying to set your specialty:\", error);\n\n        // Foreign key constraint violation\n        if (error.number === 547) {\n            return res.status(400).json({message: \"Invalid technician or category ID.\"});\n        }\n\n        // Unique constraint violation (duplicate entry)\n        if (error.number === 2627) {\n            return res.status(409).json({message: \"You already have this specialty added!\"});\n        }\n\n        res.status(500).json({message: \"An unexpected error occurred when trying to set your specialty.\"});\n    }\n})\n\n// Setting technician service area - allows technicians to add areas they work in with priority\nconst settingTechnicianServiceArea = asyncHandler(async (req,res) => {\n    // Getting the service area data from the body and the technicianID passed from the middleware\n    const {serviceAreaID, priority} = req.body;\n    const technicianID = req.technicianID;\n\n    // If required fields are missing, throw a 400 error\n    if (!serviceAreaID || !priority) {\n        return res.status(400).json({message: \"You have to specify from which service area you are and the priority of it.\"});\n    }\n\n    // Validating priority - must be an integer between 1 and 100\n    if (!Number.isInteger(priority) || priority < 1 || priority > 100) {\n        return res.status(400).json({message: \"Priority must be an integer between 1 and 100.\"});\n    }\n\n    try {\n        const pool = getPool();\n\n        // Check if the service area exists\n        const checkArea = await pool.request()\n            .input(\"serviceAreaID\", sql.Int, serviceAreaID)\n            .query(`\n                SELECT Area_ID, NameEN, NameAR, Region, isActive\n                FROM Service_Area\n                WHERE Area_ID = @serviceAreaID\n                `);\n\n        // If no result returned, the service area ID is invalid\n        if (checkArea.recordset.length === 0) {\n            return res.status(404).json({message: \"Invalid service area chosen! You have to choose one of the available ones.\"});\n        }\n\n        const serviceArea = checkArea.recordset[0];\n\n        // Check if the service area is active\n        if (!serviceArea.isActive) {\n            return res.status(400).json({message: \"Currently this service area is not active.\"});\n        }\n\n        // Checking for duplicate service area - technician cannot add same area twice\n        const checkDuplicate = await pool.request()\n            .input(\"technicianID\", sql.Int, technicianID)\n            .input(\"serviceAreaID\", sql.Int, serviceAreaID)\n            .query(`\n                SELECT Technician_ID\n                FROM Technician_Service_Area\n                WHERE Technician_ID = @technicianID AND Area_ID = @serviceAreaID\n                `);\n\n        // If duplicate found, throw a 409 conflict error\n        if (checkDuplicate.recordset.length > 0) {\n            return res.status(409).json({message: \"You already have set this service area!\"});\n        }\n\n        // Insert the new service area into Technician_Service_Area table\n        await pool.request()\n            .input(\"technicianID\", sql.Int, technicianID)\n            .input(\"serviceAreaID\", sql.Int, serviceAreaID)\n            .input(\"priority\", sql.Int, priority)\n            .query(`\n                INSERT INTO Technician_Service_Area (Technician_ID, Area_ID, Priority_Order)\n                VALUES (@technicianID, @serviceAreaID, @priority)\n                `);\n\n        // Return success response with service area details\n        res.status(201).json({\n            message: \"Successfully set your service area.\",\n            areaID: serviceArea.Area_ID,\n            areaNameEN: serviceArea.NameEN,\n            areaNameAR: serviceArea.NameAR,\n            areaRegion: serviceArea.Region,\n            priority: priority\n        });\n        \n    } catch (error) {\n        console.error(\"An unexpected error occurred when trying to set your service area:\", error);\n\n        // Foreign key constraint violation\n        if (error.number === 547) {\n            return res.status(400).json({message: \"Invalid technician or service area ID.\"});\n        }\n\n        // Unique constraint violation (duplicate entry)\n        if (error.number === 2627) {\n            return res.status(409).json({message: \"You already have this service area set!\"});\n        }\n\n        res.status(500).json({message: \"An unexpected error occurred when trying to set your service area.\"});\n    }\n})\n\n\nmodule.exports = {registerTechnician, loginTechnician, logoutTechnician, settingTechnicianSpecialty, settingTechnicianServiceArea}; "],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAMA,YAAY,GAAGC,OAAO,CAAC,uBAAuB,CAAC;AACrD,IAAMC,MAAM,GAAGD,OAAO,CAAC,QAAQ,CAAC;AAChC,IAAME,GAAG,GAAGF,OAAO,CAAC,cAAc,CAAC;;AAEnC;AACA;AACA,IAAAG,QAAA,GAAyBH,OAAO,CAAC,oBAAoB,CAAC;EAA9CI,OAAO,GAAAD,QAAA,CAAPC,OAAO;EAAEC,GAAG,GAAAF,QAAA,CAAHE,GAAG;;AAEpB;AACA,IAAAC,SAAA,GAAqFN,OAAO,CAAC,qBAAqB,CAAC;EAA3GO,YAAY,GAAAD,SAAA,CAAZC,YAAY;EAAEC,YAAY,GAAAF,SAAA,CAAZE,YAAY;EAAEC,eAAe,GAAAH,SAAA,CAAfG,eAAe;EAAEC,WAAW,GAAAJ,SAAA,CAAXI,WAAW;EAAEC,cAAc,GAAAL,SAAA,CAAdK,cAAc;;AAGhF;AACA,IAAMC,kBAAkB,GAAGb,YAAY;EAAA,IAAAc,IAAA,OAAAC,kBAAA,0BAAAC,YAAA,YAAAC,IAAA,CAAC,SAAAC,QAAOC,GAAG,EAAEC,GAAG;IAAA,IAAAC,SAAA,EAAAC,SAAA,EAAAC,QAAA,EAAAC,KAAA,EAAAC,KAAA,EAAAC,QAAA,EAAAC,kBAAA,EAAAC,IAAA,EAAAC,cAAA,EAAAC,MAAA,EAAAC,EAAA;IAAA,OAAAf,YAAA,YAAAgB,IAAA,WAAAC,QAAA;MAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;QAAA;UACnD;UAAAd,SAAA,GACuDF,GAAG,CAACiB,IAAI,EAAvDd,SAAS,GAAAD,SAAA,CAATC,SAAS,EAAEC,QAAQ,GAAAF,SAAA,CAARE,QAAQ,EAAEC,KAAK,GAAAH,SAAA,CAALG,KAAK,EAAEC,KAAK,GAAAJ,SAAA,CAALI,KAAK,EAAEC,QAAQ,GAAAL,SAAA,CAARK,QAAQ,EAEnD;UAAA,MACI,CAACJ,SAAS,IAAI,CAACC,QAAQ,IAAI,CAACC,KAAK,IAAI,CAACC,KAAK,IAAI,CAACC,QAAQ;YAAAO,QAAA,CAAAE,IAAA;YAAA;UAAA;UAAA,OAAAF,QAAA,CAAAI,MAAA,WACjDjB,GAAG,CAACkB,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAACC,OAAO,EAAE;UAA0C,CAAC,CAAC;QAAA;UAAA,IAIjF7B,WAAW,CAACW,SAAS,CAAC;YAAAW,QAAA,CAAAE,IAAA;YAAA;UAAA;UAAA,OAAAF,QAAA,CAAAI,MAAA,WAChBjB,GAAG,CAACkB,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAACC,OAAO,EAAE;UAA8D,CAAC,CAAC;QAAA;UAAA,IAIrG7B,WAAW,CAACY,QAAQ,CAAC;YAAAU,QAAA,CAAAE,IAAA;YAAA;UAAA;UAAA,OAAAF,QAAA,CAAAI,MAAA,WACfjB,GAAG,CAACkB,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAACC,OAAO,EAAE;UAA6D,CAAC,CAAC;QAAA;UAAA,IAIpGhC,YAAY,CAACgB,KAAK,CAAC;YAAAS,QAAA,CAAAE,IAAA;YAAA;UAAA;UAAA,OAAAF,QAAA,CAAAI,MAAA,WACbjB,GAAG,CAACkB,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAACC,OAAO,EAAE;UAAqC,CAAC,CAAC;QAAA;UAAA,IAI5E/B,YAAY,CAACgB,KAAK,CAAC;YAAAQ,QAAA,CAAAE,IAAA;YAAA;UAAA;UAAA,OAAAF,QAAA,CAAAI,MAAA,WACbjB,GAAG,CAACkB,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAACC,OAAO,EAAE;UAAoC,CAAC,CAAC;QAAA;UAGhF;UACMb,kBAAkB,GAAGjB,eAAe,CAACgB,QAAQ,CAAC;UAAA,IAC/CC,kBAAkB,CAACc,KAAK;YAAAR,QAAA,CAAAE,IAAA;YAAA;UAAA;UAAA,OAAAF,QAAA,CAAAI,MAAA,WAClBjB,GAAG,CAACkB,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAACC,OAAO,EAAEb,kBAAkB,CAACa;UAAO,CAAC,CAAC;QAAA;UAAAP,QAAA,CAAAC,IAAA;UAK5DN,IAAI,GAAGvB,OAAO,CAAC,CAAC,EAEtB;UAAA4B,QAAA,CAAAE,IAAA;UAAA,OAC6BjC,MAAM,CAACwC,IAAI,CAAChB,QAAQ,EAAE,EAAE,CAAC;QAAA;UAAhDG,cAAc,GAAAI,QAAA,CAAAU,IAAA;UAAAV,QAAA,CAAAE,IAAA;UAAA,OAGCP,IAAI,CAACgB,OAAO,CAAC,CAAC,CAC9BC,KAAK,CAAC,WAAW,EAAEvC,GAAG,CAACwC,OAAO,EAAElC,cAAc,CAACU,SAAS,CAAC,CAAC,CAC1DuB,KAAK,CAAC,UAAU,EAAEvC,GAAG,CAACwC,OAAO,EAAElC,cAAc,CAACW,QAAQ,CAAC,CAAC,CACxDsB,KAAK,CAAC,OAAO,EAAEvC,GAAG,CAACwC,OAAO,EAAElC,cAAc,CAACY,KAAK,CAAC,CAACuB,WAAW,CAAC,CAAC,CAAC,CAChEF,KAAK,CAAC,OAAO,EAAEvC,GAAG,CAACwC,OAAO,EAAElC,cAAc,CAACa,KAAK,CAAC,CAAC,CAClDoB,KAAK,CAAC,gBAAgB,EAAEvC,GAAG,CAACwC,OAAO,EAAEjB,cAAc,CAAC,CACpDmB,KAAK,sLAGL,CAAC;QAAA;UATAlB,MAAM,GAAAG,QAAA,CAAAU,IAAA;UAWZ;UACAvB,GAAG,CAACkB,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAACC,OAAO,EAAE;UAAqC,CAAC,CAAC;UAACP,QAAA,CAAAE,IAAA;UAAA;QAAA;UAAAF,QAAA,CAAAC,IAAA;UAAAH,EAAA,GAAAE,QAAA;UAAA,MAInEF,EAAA,CAAMkB,MAAM,KAAK,IAAI,IAAIlB,EAAA,CAAMkB,MAAM,KAAK,IAAI;YAAAhB,QAAA,CAAAE,IAAA;YAAA;UAAA;UAAA,OAAAF,QAAA,CAAAI,MAAA,WACvCjB,GAAG,CAACkB,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAACC,OAAO,EAAE;UAA0I,CAAC,CAAC;QAAA;UAGtL;UACAU,OAAO,CAACC,KAAK,CAAC,yDAAyD,EAAApB,EAAO,CAAC;UAC/EX,GAAG,CAACkB,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAACC,OAAO,EAAE;UAAgE,CAAC,CAAC;QAAC;QAAA;UAAA,OAAAP,QAAA,CAAAmB,IAAA;MAAA;IAAA,GAAAlC,OAAA;EAAA,CAEzG;EAAA,iBAAAmC,EAAA,EAAAC,GAAA;IAAA,OAAAxC,IAAA,CAAAyC,KAAA,OAAAC,SAAA;EAAA;AAAA,IAAC;;AAEF;AACA,IAAMC,eAAe,GAAGzD,YAAY;EAAA,IAAA0D,KAAA,OAAA3C,kBAAA,0BAAAC,YAAA,YAAAC,IAAA,CAAC,SAAA0C,SAAOxC,GAAG,EAACC,GAAG;IAAA,IAAAwC,UAAA,EAAApC,KAAA,EAAAE,QAAA,EAAAE,IAAA,EAAAE,MAAA,EAAA+B,UAAA,EAAAC,eAAA,EAAAC,eAAA,EAAAC,GAAA;IAAA,OAAAhD,YAAA,YAAAgB,IAAA,WAAAiC,SAAA;MAAA,kBAAAA,SAAA,CAAA/B,IAAA,GAAA+B,SAAA,CAAA9B,IAAA;QAAA;UAC/C;UAAAyB,UAAA,GAC0BzC,GAAG,CAACiB,IAAI,EAA3BZ,KAAK,GAAAoC,UAAA,CAALpC,KAAK,EAAEE,QAAQ,GAAAkC,UAAA,CAARlC,QAAQ,EAEtB;UAAA,MACI,CAACF,KAAK,IAAI,CAACE,QAAQ;YAAAuC,SAAA,CAAA9B,IAAA;YAAA;UAAA;UAAA,OAAA8B,SAAA,CAAA5B,MAAA,WACZjB,GAAG,CAACkB,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAACC,OAAO,EAAE;UAAqD,CAAC,CAAC;QAAA;UAAA,IAI5FhC,YAAY,CAACgB,KAAK,CAAC;YAAAyC,SAAA,CAAA9B,IAAA;YAAA;UAAA;UAAA,OAAA8B,SAAA,CAAA5B,MAAA,WACbjB,GAAG,CAACkB,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAACC,OAAO,EAAE;UAAqC,CAAC,CAAC;QAAA;UAAAyB,SAAA,CAAA/B,IAAA;UAIvEN,IAAI,GAAGvB,OAAO,CAAC,CAAC,EAEtB;UAAA4D,SAAA,CAAA9B,IAAA;UAAA,OACqBP,IAAI,CAACgB,OAAO,CAAC,CAAC,CAC9BC,KAAK,CAAC,OAAO,EAAEvC,GAAG,CAACwC,OAAO,EAAElC,cAAc,CAACY,KAAK,CAAC,CAACuB,WAAW,CAAC,CAAC,CAAC,CAChEC,KAAK,mMAID,CAAC;QAAA;UANJlB,MAAM,GAAAmC,SAAA,CAAAtB,IAAA;UAAA,MASRb,MAAM,CAACoC,SAAS,CAACC,MAAM,KAAK,CAAC;YAAAF,SAAA,CAAA9B,IAAA;YAAA;UAAA;UAAA,OAAA8B,SAAA,CAAA5B,MAAA,WACtBjB,GAAG,CAACkB,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAACC,OAAO,EAAE;UAAoC,CAAC,CAAC;QAAA;UAGhF;UACMqB,UAAU,GAAG/B,MAAM,CAACoC,SAAS,CAAC,CAAC,CAAC,EAEtC;UAAA,IACKL,UAAU,CAACO,QAAQ;YAAAH,SAAA,CAAA9B,IAAA;YAAA;UAAA;UAAA,OAAA8B,SAAA,CAAA5B,MAAA,WACbjB,GAAG,CAACkB,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAACC,OAAO,EAAE;UAAuE,CAAC,CAAC;QAAA;UAAA,IAI9GqB,UAAU,CAACQ,QAAQ;YAAAJ,SAAA,CAAA9B,IAAA;YAAA;UAAA;UAAA,OAAA8B,SAAA,CAAA5B,MAAA,WACbjB,GAAG,CAACkB,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAACC,OAAO,EAAE;UAAmE,CAAC,CAAC;QAAA;UAAAyB,SAAA,CAAA9B,IAAA;UAAA,OAKjFjC,MAAM,CAACoE,OAAO,CAAC5C,QAAQ,EAAEmC,UAAU,CAACU,aAAa,CAAC;QAAA;UAA1ET,eAAe,GAAAG,SAAA,CAAAtB,IAAA;UAAA,IAChBmB,eAAe;YAAAG,SAAA,CAAA9B,IAAA;YAAA;UAAA;UAAA,OAAA8B,SAAA,CAAA5B,MAAA,WACTjB,GAAG,CAACkB,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAACC,OAAO,EAAE;UAAoC,CAAC,CAAC;QAAA;UAGhF;UACA;UACMuB,eAAe,GAAG5D,GAAG,CAACqE,IAAI,CAAC;YAC7BC,EAAE,EAAEZ,UAAU,CAACa,aAAa;YAC5BpD,SAAS,EAAEuC,UAAU,CAACc,UAAU;YAChCpD,QAAQ,EAAEsC,UAAU,CAACe,SAAS;YAC9BpD,KAAK,EAAEqC,UAAU,CAACgB;UACtB,CAAC,EACGC,OAAO,CAACC,GAAG,CAACC,uBAAuB,EACnC;YAACC,SAAS,EAAE;UAAI,CACpB,CAAC,EAED;UACA,IAAI9D,GAAG,CAAC+D,OAAO,CAACC,uBAAuB,EAAE;YACrC/D,GAAG,CAACgE,WAAW,CAAC,yBAAyB,CAAC;UAC9C;;UAEA;UACA;UACAhE,GAAG,CAACiE,MAAM,CAAC,yBAAyB,EAAEtB,eAAe,EACjD;YAACuB,QAAQ,EAAE,IAAI;YACfC,MAAM,EAAET,OAAO,CAACC,GAAG,CAACS,QAAQ,KAAK,YAAY;YAC7CC,QAAQ,EAAE,QAAQ;YAClBC,MAAM,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG;UAAI,CAAC,CAAC;UACjCtE,GAAG,CAACkB,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YACjBC,OAAO,EAAE,yBAAyB;YAClCqB,UAAU,EAAE;cACRY,EAAE,EAAEZ,UAAU,CAACa,aAAa;cAC5BpD,SAAS,EAAEuC,UAAU,CAACc,UAAU;cAChCpD,QAAQ,EAAEsC,UAAU,CAACe,SAAS;cAC9BpD,KAAK,EAAEqC,UAAU,CAACgB;YACtB;UACJ,CAAC,CAAC;;UAEF;UAAAZ,SAAA,CAAA9B,IAAA;UAAA;QAAA;UAAA8B,SAAA,CAAA/B,IAAA;UAAA8B,GAAA,GAAAC,SAAA;UAEAf,OAAO,CAACC,KAAK,CAAC,cAAc,EAAAa,GAAO,CAAC;UACpC5C,GAAG,CAACkB,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAACC,OAAO,EAAE;UAAiC,CAAC,CAAC;QAAC;QAAA;UAAA,OAAAyB,SAAA,CAAAb,IAAA;MAAA;IAAA,GAAAO,QAAA;EAAA,CAE1E;EAAA,iBAAAgC,GAAA,EAAAC,GAAA;IAAA,OAAAlC,KAAA,CAAAH,KAAA,OAAAC,SAAA;EAAA;AAAA,IAAC;;AAEF;AACA,IAAMqC,gBAAgB,GAAG7F,YAAY;EAAA,IAAA8F,KAAA,OAAA/E,kBAAA,0BAAAC,YAAA,YAAAC,IAAA,CAAC,SAAA8E,SAAO5E,GAAG,EAAEC,GAAG;IAAA,OAAAJ,YAAA,YAAAgB,IAAA,WAAAgE,SAAA;MAAA,kBAAAA,SAAA,CAAA9D,IAAA,GAAA8D,SAAA,CAAA7D,IAAA;QAAA;UACjDf,GAAG,CAACgE,WAAW,CAAC,yBAAyB,CAAC;UAC1ChE,GAAG,CAACkB,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAACC,OAAO,EAAE;UAA0B,CAAC,CAAC;QAAC;QAAA;UAAA,OAAAwD,SAAA,CAAA5C,IAAA;MAAA;IAAA,GAAA2C,QAAA;EAAA,CAC/D;EAAA,iBAAAE,GAAA,EAAAC,GAAA;IAAA,OAAAJ,KAAA,CAAAvC,KAAA,OAAAC,SAAA;EAAA;AAAA,IAAC;;AAGF;AACA,IAAM2C,0BAA0B,GAAGnG,YAAY;EAAA,IAAAoG,KAAA,OAAArF,kBAAA,0BAAAC,YAAA,YAAAC,IAAA,CAAC,SAAAoF,SAAOlF,GAAG,EAACC,GAAG;IAAA,IAAAkF,UAAA,EAAAC,mBAAA,EAAAC,iBAAA,EAAAC,eAAA,EAAAC,YAAA,EAAAC,QAAA,EAAAC,KAAA,EAAAC,aAAA,EAAAjF,IAAA,EAAAkF,aAAA,EAAAC,QAAA,EAAAC,cAAA,EAAAC,GAAA;IAAA,OAAAjG,YAAA,YAAAgB,IAAA,WAAAkF,SAAA;MAAA,kBAAAA,SAAA,CAAAhF,IAAA,GAAAgF,SAAA,CAAA/E,IAAA;QAAA;UAC1D;UAAAmE,UAAA,GACkEnF,GAAG,CAACiB,IAAI,EAAnEmE,mBAAmB,GAAAD,UAAA,CAAnBC,mBAAmB,EAAEC,iBAAiB,GAAAF,UAAA,CAAjBE,iBAAiB,EAAEC,eAAe,GAAAH,UAAA,CAAfG,eAAe;UACxDC,YAAY,GAAGvF,GAAG,CAACuF,YAAY,EAErC;UACA;UAAA,MACI,CAACH,mBAAmB,IAAIC,iBAAiB,KAAKW,SAAS,IAAIX,iBAAiB,KAAK,IAAI;YAAAU,SAAA,CAAA/E,IAAA;YAAA;UAAA;UAAA,OAAA+E,SAAA,CAAA7E,MAAA,WAC9EjB,GAAG,CAACkB,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAACC,OAAO,EAAE;UAAmE,CAAC,CAAC;QAAA;UAAA,MAI3G,CAAC4E,MAAM,CAACC,SAAS,CAACb,iBAAiB,CAAC,IAAIA,iBAAiB,GAAG,CAAC,IAAIA,iBAAiB,GAAG,EAAE;YAAAU,SAAA,CAAA/E,IAAA;YAAA;UAAA;UAAA,OAAA+E,SAAA,CAAA7E,MAAA,WAChFjB,GAAG,CAACkB,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAACC,OAAO,EAAE;UAAsD,CAAC,CAAC;QAAA;UAAA,KAI9FiE,eAAe;YAAAS,SAAA,CAAA/E,IAAA;YAAA;UAAA;UACTwE,QAAQ,GAAG,IAAIW,IAAI,CAACb,eAAe,CAAC;UACpCG,KAAK,GAAG,IAAIU,IAAI,CAAC,CAAC;UACxBV,KAAK,CAACW,QAAQ,CAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC,CAAC;;UAEvB;UAAA,MACIZ,QAAQ,GAAGC,KAAK;YAAAM,SAAA,CAAA/E,IAAA;YAAA;UAAA;UAAA,OAAA+E,SAAA,CAAA7E,MAAA,WACTjB,GAAG,CAACkB,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAACC,OAAO,EAAE;UAA6C,CAAC,CAAC;QAAA;UAGzF;UACMqE,aAAa,GAAG,IAAIS,IAAI,CAAC,CAAC;UAChCT,aAAa,CAACW,WAAW,CAACX,aAAa,CAACY,WAAW,CAAC,CAAC,GAAG,EAAE,CAAC;UAAC,MAExDd,QAAQ,GAAGE,aAAa;YAAAK,SAAA,CAAA/E,IAAA;YAAA;UAAA;UAAA,OAAA+E,SAAA,CAAA7E,MAAA,WACjBjB,GAAG,CAACkB,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAACC,OAAO,EAAE;UAAsD,CAAC,CAAC;QAAA;UAAA0E,SAAA,CAAAhF,IAAA;UAK5FN,IAAI,GAAGvB,OAAO,CAAC,CAAC,EAEtB;UAAA6G,SAAA,CAAA/E,IAAA;UAAA,OAC4BP,IAAI,CAACgB,OAAO,CAAC,CAAC,CACrCC,KAAK,CAAC,qBAAqB,EAAEvC,GAAG,CAACoH,GAAG,EAAEnB,mBAAmB,CAAC,CAC1DvD,KAAK,sLAID,CAAC;QAAA;UANJ8D,aAAa,GAAAI,SAAA,CAAAvE,IAAA;UAAA,MASfmE,aAAa,CAAC5C,SAAS,CAACC,MAAM,KAAK,CAAC;YAAA+C,SAAA,CAAA/E,IAAA;YAAA;UAAA;UAAA,OAAA+E,SAAA,CAAA7E,MAAA,WAC7BjB,GAAG,CAACkB,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAACC,OAAO,EAAE;UAAkF,CAAC,CAAC;QAAA;UAGxHuE,QAAQ,GAAGD,aAAa,CAAC5C,SAAS,CAAC,CAAC,CAAC,EAE3C;UAAA,IACK6C,QAAQ,CAAC3C,QAAQ;YAAA8C,SAAA,CAAA/E,IAAA;YAAA;UAAA;UAAA,OAAA+E,SAAA,CAAA7E,MAAA,WACXjB,GAAG,CAACkB,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAACC,OAAO,EAAE;UAA8C,CAAC,CAAC;QAAA;UAAA0E,SAAA,CAAA/E,IAAA;UAAA,OAI7DP,IAAI,CAACgB,OAAO,CAAC,CAAC,CACtCC,KAAK,CAAC,cAAc,EAAEvC,GAAG,CAACoH,GAAG,EAAEhB,YAAY,CAAC,CAC5C7D,KAAK,CAAC,qBAAqB,EAAEvC,GAAG,CAACoH,GAAG,EAAEnB,mBAAmB,CAAC,CAC1DvD,KAAK,iMAID,CAAC;QAAA;UAPJgE,cAAc,GAAAE,SAAA,CAAAvE,IAAA;UAAA,MAUhBqE,cAAc,CAAC9C,SAAS,CAACC,MAAM,GAAG,CAAC;YAAA+C,SAAA,CAAA/E,IAAA;YAAA;UAAA;UAAA,OAAA+E,SAAA,CAAA7E,MAAA,WAC5BjB,GAAG,CAACkB,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAACC,OAAO,EAAE;UAAwC,CAAC,CAAC;QAAA;UAAA0E,SAAA,CAAA/E,IAAA;UAAA,OAI9EP,IAAI,CAACgB,OAAO,CAAC,CAAC,CACfC,KAAK,CAAC,cAAc,EAAEvC,GAAG,CAACoH,GAAG,EAAEhB,YAAY,CAAC,CAC5C7D,KAAK,CAAC,qBAAqB,EAAEvC,GAAG,CAACoH,GAAG,EAAEnB,mBAAmB,CAAC,CAC1D1D,KAAK,CAAC,mBAAmB,EAAEvC,GAAG,CAACqH,QAAQ,EAAEnB,iBAAiB,CAAC,CAC3D3D,KAAK,CAAC,iBAAiB,EAAEvC,GAAG,CAACgH,IAAI,EAAEb,eAAe,IAAI,IAAI,CAAC,CAC3DzD,KAAK,gPAGD,CAAC;QAAA;UAEV;UACA5B,GAAG,CAACkB,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YACjBC,OAAO,EAAE,kCAAkC;YAC3CoF,UAAU,EAAEb,QAAQ,CAACc,WAAW;YAChCC,cAAc,EAAEf,QAAQ,CAACgB,MAAM;YAC/BC,cAAc,EAAEjB,QAAQ,CAACkB,MAAM;YAC/BzB,iBAAiB,EAAEA,iBAAiB;YACpCC,eAAe,EAAEA,eAAe,IAAI;UACxC,CAAC,CAAC;UAACS,SAAA,CAAA/E,IAAA;UAAA;QAAA;UAAA+E,SAAA,CAAAhF,IAAA;UAAA+E,GAAA,GAAAC,SAAA;UAGHhE,OAAO,CAACC,KAAK,CAAC,iEAAiE,EAAA8D,GAAO,CAAC;;UAEvF;UAAA,MACIA,GAAA,CAAMhE,MAAM,KAAK,GAAG;YAAAiE,SAAA,CAAA/E,IAAA;YAAA;UAAA;UAAA,OAAA+E,SAAA,CAAA7E,MAAA,WACbjB,GAAG,CAACkB,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAACC,OAAO,EAAE;UAAoC,CAAC,CAAC;QAAA;UAAA,MAI5EyE,GAAA,CAAMhE,MAAM,KAAK,IAAI;YAAAiE,SAAA,CAAA/E,IAAA;YAAA;UAAA;UAAA,OAAA+E,SAAA,CAAA7E,MAAA,WACdjB,GAAG,CAACkB,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAACC,OAAO,EAAE;UAAwC,CAAC,CAAC;QAAA;UAGpFpB,GAAG,CAACkB,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAACC,OAAO,EAAE;UAAiE,CAAC,CAAC;QAAC;QAAA;UAAA,OAAA0E,SAAA,CAAA9D,IAAA;MAAA;IAAA,GAAAiD,QAAA;EAAA,CAE1G;EAAA,iBAAA6B,GAAA,EAAAC,GAAA;IAAA,OAAA/B,KAAA,CAAA7C,KAAA,OAAAC,SAAA;EAAA;AAAA,IAAC;;AAEF;AACA,IAAM4E,4BAA4B,GAAGpI,YAAY;EAAA,IAAAqI,KAAA,OAAAtH,kBAAA,0BAAAC,YAAA,YAAAC,IAAA,CAAC,SAAAqH,SAAOnH,GAAG,EAACC,GAAG;IAAA,IAAAmH,UAAA,EAAAC,aAAA,EAAAC,QAAA,EAAA/B,YAAA,EAAA9E,IAAA,EAAA8G,SAAA,EAAAC,WAAA,EAAA3B,cAAA,EAAA4B,GAAA;IAAA,OAAA5H,YAAA,YAAAgB,IAAA,WAAA6G,SAAA;MAAA,kBAAAA,SAAA,CAAA3G,IAAA,GAAA2G,SAAA,CAAA1G,IAAA;QAAA;UAC5D;UAAAoG,UAAA,GACkCpH,GAAG,CAACiB,IAAI,EAAnCoG,aAAa,GAAAD,UAAA,CAAbC,aAAa,EAAEC,QAAQ,GAAAF,UAAA,CAARE,QAAQ;UACxB/B,YAAY,GAAGvF,GAAG,CAACuF,YAAY,EAErC;UAAA,MACI,CAAC8B,aAAa,IAAI,CAACC,QAAQ;YAAAI,SAAA,CAAA1G,IAAA;YAAA;UAAA;UAAA,OAAA0G,SAAA,CAAAxG,MAAA,WACpBjB,GAAG,CAACkB,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAACC,OAAO,EAAE;UAA6E,CAAC,CAAC;QAAA;UAAA,MAIrH,CAAC4E,MAAM,CAACC,SAAS,CAACoB,QAAQ,CAAC,IAAIA,QAAQ,GAAG,CAAC,IAAIA,QAAQ,GAAG,GAAG;YAAAI,SAAA,CAAA1G,IAAA;YAAA;UAAA;UAAA,OAAA0G,SAAA,CAAAxG,MAAA,WACtDjB,GAAG,CAACkB,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAACC,OAAO,EAAE;UAAgD,CAAC,CAAC;QAAA;UAAAqG,SAAA,CAAA3G,IAAA;UAIlFN,IAAI,GAAGvB,OAAO,CAAC,CAAC,EAEtB;UAAAwI,SAAA,CAAA1G,IAAA;UAAA,OACwBP,IAAI,CAACgB,OAAO,CAAC,CAAC,CACjCC,KAAK,CAAC,eAAe,EAAEvC,GAAG,CAACoH,GAAG,EAAEc,aAAa,CAAC,CAC9CxF,KAAK,0KAID,CAAC;QAAA;UANJ0F,SAAS,GAAAG,SAAA,CAAAlG,IAAA;UAAA,MASX+F,SAAS,CAACxE,SAAS,CAACC,MAAM,KAAK,CAAC;YAAA0E,SAAA,CAAA1G,IAAA;YAAA;UAAA;UAAA,OAAA0G,SAAA,CAAAxG,MAAA,WACzBjB,GAAG,CAACkB,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAACC,OAAO,EAAE;UAA4E,CAAC,CAAC;QAAA;UAGlHmG,WAAW,GAAGD,SAAS,CAACxE,SAAS,CAAC,CAAC,CAAC,EAE1C;UAAA,IACKyE,WAAW,CAACvE,QAAQ;YAAAyE,SAAA,CAAA1G,IAAA;YAAA;UAAA;UAAA,OAAA0G,SAAA,CAAAxG,MAAA,WACdjB,GAAG,CAACkB,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAACC,OAAO,EAAE;UAA4C,CAAC,CAAC;QAAA;UAAAqG,SAAA,CAAA1G,IAAA;UAAA,OAI3DP,IAAI,CAACgB,OAAO,CAAC,CAAC,CACtCC,KAAK,CAAC,cAAc,EAAEvC,GAAG,CAACoH,GAAG,EAAEhB,YAAY,CAAC,CAC5C7D,KAAK,CAAC,eAAe,EAAEvC,GAAG,CAACoH,GAAG,EAAEc,aAAa,CAAC,CAC9CxF,KAAK,2LAID,CAAC;QAAA;UAPJgE,cAAc,GAAA6B,SAAA,CAAAlG,IAAA;UAAA,MAUhBqE,cAAc,CAAC9C,SAAS,CAACC,MAAM,GAAG,CAAC;YAAA0E,SAAA,CAAA1G,IAAA;YAAA;UAAA;UAAA,OAAA0G,SAAA,CAAAxG,MAAA,WAC5BjB,GAAG,CAACkB,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAACC,OAAO,EAAE;UAAyC,CAAC,CAAC;QAAA;UAAAqG,SAAA,CAAA1G,IAAA;UAAA,OAI/EP,IAAI,CAACgB,OAAO,CAAC,CAAC,CACfC,KAAK,CAAC,cAAc,EAAEvC,GAAG,CAACoH,GAAG,EAAEhB,YAAY,CAAC,CAC5C7D,KAAK,CAAC,eAAe,EAAEvC,GAAG,CAACoH,GAAG,EAAEc,aAAa,CAAC,CAC9C3F,KAAK,CAAC,UAAU,EAAEvC,GAAG,CAACoH,GAAG,EAAEe,QAAQ,CAAC,CACpCzF,KAAK,sLAGD,CAAC;QAAA;UAEV;UACA5B,GAAG,CAACkB,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YACjBC,OAAO,EAAE,qCAAqC;YAC9CsG,MAAM,EAAEH,WAAW,CAACI,OAAO;YAC3BC,UAAU,EAAEL,WAAW,CAACZ,MAAM;YAC9BkB,UAAU,EAAEN,WAAW,CAACV,MAAM;YAC9BiB,UAAU,EAAEP,WAAW,CAACQ,MAAM;YAC9BV,QAAQ,EAAEA;UACd,CAAC,CAAC;UAACI,SAAA,CAAA1G,IAAA;UAAA;QAAA;UAAA0G,SAAA,CAAA3G,IAAA;UAAA0G,GAAA,GAAAC,SAAA;UAGH3F,OAAO,CAACC,KAAK,CAAC,oEAAoE,EAAAyF,GAAO,CAAC;;UAE1F;UAAA,MACIA,GAAA,CAAM3F,MAAM,KAAK,GAAG;YAAA4F,SAAA,CAAA1G,IAAA;YAAA;UAAA;UAAA,OAAA0G,SAAA,CAAAxG,MAAA,WACbjB,GAAG,CAACkB,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAACC,OAAO,EAAE;UAAwC,CAAC,CAAC;QAAA;UAAA,MAIhFoG,GAAA,CAAM3F,MAAM,KAAK,IAAI;YAAA4F,SAAA,CAAA1G,IAAA;YAAA;UAAA;UAAA,OAAA0G,SAAA,CAAAxG,MAAA,WACdjB,GAAG,CAACkB,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAACC,OAAO,EAAE;UAAyC,CAAC,CAAC;QAAA;UAGrFpB,GAAG,CAACkB,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAACC,OAAO,EAAE;UAAoE,CAAC,CAAC;QAAC;QAAA;UAAA,OAAAqG,SAAA,CAAAzF,IAAA;MAAA;IAAA,GAAAkF,QAAA;EAAA,CAE7G;EAAA,iBAAAc,GAAA,EAAAC,GAAA;IAAA,OAAAhB,KAAA,CAAA9E,KAAA,OAAAC,SAAA;EAAA;AAAA,IAAC;AAGF8F,MAAM,CAACC,OAAO,GAAG;EAAC1I,kBAAkB,EAAlBA,kBAAkB;EAAE4C,eAAe,EAAfA,eAAe;EAAEoC,gBAAgB,EAAhBA,gBAAgB;EAAEM,0BAA0B,EAA1BA,0BAA0B;EAAEiC,4BAA4B,EAA5BA;AAA4B,CAAC","ignoreList":[]}},"mtime":1764435289429},"{\"assumptions\":{},\"sourceRoot\":\"/workspaces/FixAppliance-eCommerce/back-end/src/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/workspaces/FixAppliance-eCommerce/back-end\",\"filename\":\"/workspaces/FixAppliance-eCommerce/back-end/src/controllers/TechnicianBookingController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/workspaces/FixAppliance-eCommerce/back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"_exploded\":true,\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"VoidPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/workspaces/FixAppliance-eCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$48\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/workspaces/FixAppliance-eCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$49\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n/**\n * This controller handles everything related to booking and the technician:\n *  1. Technician accepting a pending booking\n *  2. Technician getting all pending bookings available to accept\n */\n\nvar asyncHandler = require(\"express-async-handler\");\n\n// sql needed for the type definitions in .input\n// getPool is to do queries\nvar _require = require(\"../config/database\"),\n  getPool = _require.getPool,\n  sql = _require.sql;\n\n// Technician accepting a pending booking\nvar acceptPendingBooking = asyncHandler(/*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee(req, res) {\n    var bookingID, technicianID, pool, checkBooking, booking, result, _t;\n    return _regenerator[\"default\"].wrap(function (_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          // Getting the booking ID from the body and the technician ID passed from the middleware\n          bookingID = req.body.bookingID;\n          technicianID = req.technicianID; // If no booking ID is passed, throw a 400 error\n          if (bookingID) {\n            _context.next = 1;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"You need to pass a booking ID.\"\n          }));\n        case 1:\n          _context.prev = 1;\n          pool = getPool(); // Check if the booking exists and get its current status and assigned technician\n          _context.next = 2;\n          return pool.request().input(\"bookingID\", sql.Int, bookingID).query(\"\\n                    SELECT Booking_ID, [Status], Technician_ID\\n                    FROM Booking\\n                    WHERE Booking_ID = @bookingID\\n                    \");\n        case 2:\n          checkBooking = _context.sent;\n          if (!(checkBooking.recordset.length === 0)) {\n            _context.next = 3;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(404).json({\n            message: \"Booking not found.\"\n          }));\n        case 3:\n          booking = checkBooking.recordset[0]; // Check if booking is already assigned to another technician\n          if (!(booking.Technician_ID !== null)) {\n            _context.next = 4;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(409).json({\n            message: \"This booking is already assigned to another technician.\"\n          }));\n        case 4:\n          if (!(booking.Status !== 'pending')) {\n            _context.next = 5;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"This booking is \".concat(booking.Status, \" and cannot be accepted.\")\n          }));\n        case 5:\n          _context.next = 6;\n          return pool.request().input(\"bookingID\", sql.Int, bookingID).input(\"technicianID\", sql.Int, technicianID).query(\"\\n                    UPDATE Booking\\n                    SET Technician_ID = @technicianID,\\n                        [Status] = 'confirmed',\\n                        modifiedAt = GETDATE()\\n                    WHERE Booking_ID = @bookingID\\n                    \");\n        case 6:\n          result = _context.sent;\n          // Return success response with booking and technician details\n          res.status(200).json({\n            message: \"Booking accepted successfully.\",\n            bookingID: bookingID,\n            technicianID: technicianID\n          });\n          _context.next = 9;\n          break;\n        case 7:\n          _context.prev = 7;\n          _t = _context[\"catch\"](1);\n          console.error(\"Unexpected error occurred when trying to apply booking to technician: \", _t);\n\n          // Foreign key constraint violation\n          if (!(_t.number === 547)) {\n            _context.next = 8;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"Invalid booking or technician ID.\"\n          }));\n        case 8:\n          res.status(500).json({\n            message: \"Unexpected error occurred when trying to set booking to technician.\"\n          });\n        case 9:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[1, 7]]);\n  }));\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}());\n\n// Get all pending bookings available for technicians to accept\nvar getPendingBookings = asyncHandler(/*#__PURE__*/function () {\n  var _ref2 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(req, res) {\n    var pool, result, _t2;\n    return _regenerator[\"default\"].wrap(function (_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          pool = getPool(); // Query all pending bookings with user and appliance details\n          // Ordered by date and time (earliest first)\n          _context2.next = 1;\n          return pool.request().query(\"\\n                SELECT \\n                    Booking.Booking_ID, \\n                    Booking.Booking_Date AS \\\"Scheduled Date\\\", \\n                    Booking.Booking_Time AS \\\"Scheduled Time\\\", \\n                    Booking.Total_Price AS \\\"Total Price\\\", \\n                    Appliance_Type.nameEN AS \\\"Appliance's Name (EN)\\\", \\n                    Appliance_Type.nameAR AS \\\"Appliance's Name (AR)\\\",\\n                    Booking.Issue_Description AS \\\"Issue Description\\\",\\n                    [User].First_Name AS \\\"First Name\\\",\\n                    [User].Last_Name AS \\\"Last Name\\\", \\n                    [User].Phone AS \\\"Phone Number\\\",\\n                    [User].City AS \\\"City\\\",\\n                    [User].Street_Address AS \\\"Street Address\\\", \\n                    [User].Building_Name AS \\\"Building Name\\\", \\n                    [User].Floor AS \\\"Building Floor\\\", \\n                    [User].Postal_Code AS \\\"Postal Code\\\"\\n                FROM Booking\\n                JOIN [User] ON Booking.UserID = [User].User_ID\\n                JOIN Appliance_Type ON Booking.Appliance_Type_ID = Appliance_Type.Appliance_Type_ID\\n                WHERE Booking.[Status] = 'pending'\\n                ORDER BY Booking.Booking_Date ASC, Booking.Booking_Time ASC\\n            \");\n        case 1:\n          result = _context2.sent;\n          if (!(result.recordset.length === 0)) {\n            _context2.next = 2;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(200).json({\n            message: \"No pending bookings found.\",\n            bookings: []\n          }));\n        case 2:\n          // Return pending bookings with count\n          res.status(200).json({\n            message: \"There are pending bookings.\",\n            count: result.recordset.length,\n            bookings: result.recordset\n          });\n          _context2.next = 4;\n          break;\n        case 3:\n          _context2.prev = 3;\n          _t2 = _context2[\"catch\"](0);\n          console.error(\"Unexpected error occurred while fetching pending bookings:\", _t2);\n          res.status(500).json({\n            message: \"An unexpected error occurred while fetching pending bookings.\"\n          });\n        case 4:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[0, 3]]);\n  }));\n  return function (_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}());\nmodule.exports = {\n  getPendingBookings: getPendingBookings,\n  acceptPendingBooking: acceptPendingBooking\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhc3luY0hhbmRsZXIiLCJyZXF1aXJlIiwiX3JlcXVpcmUiLCJnZXRQb29sIiwic3FsIiwiYWNjZXB0UGVuZGluZ0Jvb2tpbmciLCJfcmVmIiwiX2FzeW5jVG9HZW5lcmF0b3IyIiwiX3JlZ2VuZXJhdG9yIiwibWFyayIsIl9jYWxsZWUiLCJyZXEiLCJyZXMiLCJib29raW5nSUQiLCJ0ZWNobmljaWFuSUQiLCJwb29sIiwiY2hlY2tCb29raW5nIiwiYm9va2luZyIsInJlc3VsdCIsIl90Iiwid3JhcCIsIl9jb250ZXh0IiwicHJldiIsIm5leHQiLCJib2R5IiwiYWJydXB0Iiwic3RhdHVzIiwianNvbiIsIm1lc3NhZ2UiLCJyZXF1ZXN0IiwiaW5wdXQiLCJJbnQiLCJxdWVyeSIsInNlbnQiLCJyZWNvcmRzZXQiLCJsZW5ndGgiLCJUZWNobmljaWFuX0lEIiwiU3RhdHVzIiwiY29uY2F0IiwiY29uc29sZSIsImVycm9yIiwibnVtYmVyIiwic3RvcCIsIl94IiwiX3gyIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJnZXRQZW5kaW5nQm9va2luZ3MiLCJfcmVmMiIsIl9jYWxsZWUyIiwiX3QyIiwiX2NvbnRleHQyIiwiYm9va2luZ3MiLCJjb3VudCIsIl94MyIsIl94NCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii93b3Jrc3BhY2VzL0ZpeEFwcGxpYW5jZS1lQ29tbWVyY2UvYmFjay1lbmQvc3JjL2NvbnRyb2xsZXJzLyIsInNvdXJjZXMiOlsiVGVjaG5pY2lhbkJvb2tpbmdDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGhpcyBjb250cm9sbGVyIGhhbmRsZXMgZXZlcnl0aGluZyByZWxhdGVkIHRvIGJvb2tpbmcgYW5kIHRoZSB0ZWNobmljaWFuOlxuICogIDEuIFRlY2huaWNpYW4gYWNjZXB0aW5nIGEgcGVuZGluZyBib29raW5nXG4gKiAgMi4gVGVjaG5pY2lhbiBnZXR0aW5nIGFsbCBwZW5kaW5nIGJvb2tpbmdzIGF2YWlsYWJsZSB0byBhY2NlcHRcbiAqL1xuXG5jb25zdCBhc3luY0hhbmRsZXIgPSByZXF1aXJlKFwiZXhwcmVzcy1hc3luYy1oYW5kbGVyXCIpO1xuXG5cbi8vIHNxbCBuZWVkZWQgZm9yIHRoZSB0eXBlIGRlZmluaXRpb25zIGluIC5pbnB1dFxuLy8gZ2V0UG9vbCBpcyB0byBkbyBxdWVyaWVzXG5jb25zdCB7IGdldFBvb2wsIHNxbCB9ID0gcmVxdWlyZShcIi4uL2NvbmZpZy9kYXRhYmFzZVwiKTtcblxuXG4vLyBUZWNobmljaWFuIGFjY2VwdGluZyBhIHBlbmRpbmcgYm9va2luZ1xuY29uc3QgYWNjZXB0UGVuZGluZ0Jvb2tpbmcgPSBhc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgICAgIC8vIEdldHRpbmcgdGhlIGJvb2tpbmcgSUQgZnJvbSB0aGUgYm9keSBhbmQgdGhlIHRlY2huaWNpYW4gSUQgcGFzc2VkIGZyb20gdGhlIG1pZGRsZXdhcmVcbiAgICAgICAgY29uc3QgeyBib29raW5nSUQgfSA9IHJlcS5ib2R5O1xuICAgICAgICBjb25zdCB0ZWNobmljaWFuSUQgPSByZXEudGVjaG5pY2lhbklEO1xuXG4gICAgICAgIC8vIElmIG5vIGJvb2tpbmcgSUQgaXMgcGFzc2VkLCB0aHJvdyBhIDQwMCBlcnJvclxuICAgICAgICBpZiAoIWJvb2tpbmdJRCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttZXNzYWdlOiBcIllvdSBuZWVkIHRvIHBhc3MgYSBib29raW5nIElELlwifSk7XG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcG9vbCA9IGdldFBvb2woKTtcblxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGJvb2tpbmcgZXhpc3RzIGFuZCBnZXQgaXRzIGN1cnJlbnQgc3RhdHVzIGFuZCBhc3NpZ25lZCB0ZWNobmljaWFuXG4gICAgICAgICAgICBjb25zdCBjaGVja0Jvb2tpbmcgPSBhd2FpdCBwb29sLnJlcXVlc3QoKVxuICAgICAgICAgICAgICAgIC5pbnB1dChcImJvb2tpbmdJRFwiLCBzcWwuSW50LCBib29raW5nSUQpXG4gICAgICAgICAgICAgICAgLnF1ZXJ5KGBcbiAgICAgICAgICAgICAgICAgICAgU0VMRUNUIEJvb2tpbmdfSUQsIFtTdGF0dXNdLCBUZWNobmljaWFuX0lEXG4gICAgICAgICAgICAgICAgICAgIEZST00gQm9va2luZ1xuICAgICAgICAgICAgICAgICAgICBXSEVSRSBCb29raW5nX0lEID0gQGJvb2tpbmdJRFxuICAgICAgICAgICAgICAgICAgICBgKTtcblxuICAgICAgICAgICAgLy8gSWYgbm8gcmVzdWx0IHJldHVybmVkLCB0aGUgYm9va2luZyBkb2Vzbid0IGV4aXN0XG4gICAgICAgICAgICBpZiAoY2hlY2tCb29raW5nLnJlY29yZHNldC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe21lc3NhZ2U6IFwiQm9va2luZyBub3QgZm91bmQuXCJ9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgYm9va2luZyA9IGNoZWNrQm9va2luZy5yZWNvcmRzZXRbMF07XG5cbiAgICAgICAgICAgIC8vIENoZWNrIGlmIGJvb2tpbmcgaXMgYWxyZWFkeSBhc3NpZ25lZCB0byBhbm90aGVyIHRlY2huaWNpYW5cbiAgICAgICAgICAgIGlmIChib29raW5nLlRlY2huaWNpYW5fSUQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDkpLmpzb24oe21lc3NhZ2U6IFwiVGhpcyBib29raW5nIGlzIGFscmVhZHkgYXNzaWduZWQgdG8gYW5vdGhlciB0ZWNobmljaWFuLlwifSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENoZWNrIGlmIGJvb2tpbmcgc3RhdHVzIGlzIHBlbmRpbmcgLSBvbmx5IHBlbmRpbmcgYm9va2luZ3MgY2FuIGJlIGFjY2VwdGVkXG4gICAgICAgICAgICBpZiAoYm9va2luZy5TdGF0dXMgIT09ICdwZW5kaW5nJykge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogYFRoaXMgYm9va2luZyBpcyAke2Jvb2tpbmcuU3RhdHVzfSBhbmQgY2Fubm90IGJlIGFjY2VwdGVkLmB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBib29raW5nIC0gYXNzaWduIHRlY2huaWNpYW4gYW5kIGNoYW5nZSBzdGF0dXMgdG8gY29uZmlybWVkXG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwb29sLnJlcXVlc3QoKVxuICAgICAgICAgICAgICAgIC5pbnB1dChcImJvb2tpbmdJRFwiLCBzcWwuSW50LCBib29raW5nSUQpXG4gICAgICAgICAgICAgICAgLmlucHV0KFwidGVjaG5pY2lhbklEXCIsIHNxbC5JbnQsIHRlY2huaWNpYW5JRClcbiAgICAgICAgICAgICAgICAucXVlcnkoYFxuICAgICAgICAgICAgICAgICAgICBVUERBVEUgQm9va2luZ1xuICAgICAgICAgICAgICAgICAgICBTRVQgVGVjaG5pY2lhbl9JRCA9IEB0ZWNobmljaWFuSUQsXG4gICAgICAgICAgICAgICAgICAgICAgICBbU3RhdHVzXSA9ICdjb25maXJtZWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kaWZpZWRBdCA9IEdFVERBVEUoKVxuICAgICAgICAgICAgICAgICAgICBXSEVSRSBCb29raW5nX0lEID0gQGJvb2tpbmdJRFxuICAgICAgICAgICAgICAgICAgICBgKTtcblxuICAgICAgICAgICAgLy8gUmV0dXJuIHN1Y2Nlc3MgcmVzcG9uc2Ugd2l0aCBib29raW5nIGFuZCB0ZWNobmljaWFuIGRldGFpbHNcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkJvb2tpbmcgYWNjZXB0ZWQgc3VjY2Vzc2Z1bGx5LlwiLFxuICAgICAgICAgICAgICAgIGJvb2tpbmdJRDogYm9va2luZ0lELFxuICAgICAgICAgICAgICAgIHRlY2huaWNpYW5JRDogdGVjaG5pY2lhbklEXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiVW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZCB3aGVuIHRyeWluZyB0byBhcHBseSBib29raW5nIHRvIHRlY2huaWNpYW46IFwiLCBlcnJvcik7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEZvcmVpZ24ga2V5IGNvbnN0cmFpbnQgdmlvbGF0aW9uXG4gICAgICAgICAgICBpZiAoZXJyb3IubnVtYmVyID09PSA1NDcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiSW52YWxpZCBib29raW5nIG9yIHRlY2huaWNpYW4gSUQuXCJ9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe21lc3NhZ2U6IFwiVW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZCB3aGVuIHRyeWluZyB0byBzZXQgYm9va2luZyB0byB0ZWNobmljaWFuLlwifSk7XG4gICAgICAgIH1cbn0pXG5cblxuLy8gR2V0IGFsbCBwZW5kaW5nIGJvb2tpbmdzIGF2YWlsYWJsZSBmb3IgdGVjaG5pY2lhbnMgdG8gYWNjZXB0XG5jb25zdCBnZXRQZW5kaW5nQm9va2luZ3MgPSBhc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcG9vbCA9IGdldFBvb2woKTtcbiAgICAgICBcbiAgICAgICAgLy8gUXVlcnkgYWxsIHBlbmRpbmcgYm9va2luZ3Mgd2l0aCB1c2VyIGFuZCBhcHBsaWFuY2UgZGV0YWlsc1xuICAgICAgICAvLyBPcmRlcmVkIGJ5IGRhdGUgYW5kIHRpbWUgKGVhcmxpZXN0IGZpcnN0KVxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwb29sLnJlcXVlc3QoKVxuICAgICAgICAgICAgLnF1ZXJ5KGBcbiAgICAgICAgICAgICAgICBTRUxFQ1QgXG4gICAgICAgICAgICAgICAgICAgIEJvb2tpbmcuQm9va2luZ19JRCwgXG4gICAgICAgICAgICAgICAgICAgIEJvb2tpbmcuQm9va2luZ19EYXRlIEFTIFwiU2NoZWR1bGVkIERhdGVcIiwgXG4gICAgICAgICAgICAgICAgICAgIEJvb2tpbmcuQm9va2luZ19UaW1lIEFTIFwiU2NoZWR1bGVkIFRpbWVcIiwgXG4gICAgICAgICAgICAgICAgICAgIEJvb2tpbmcuVG90YWxfUHJpY2UgQVMgXCJUb3RhbCBQcmljZVwiLCBcbiAgICAgICAgICAgICAgICAgICAgQXBwbGlhbmNlX1R5cGUubmFtZUVOIEFTIFwiQXBwbGlhbmNlJ3MgTmFtZSAoRU4pXCIsIFxuICAgICAgICAgICAgICAgICAgICBBcHBsaWFuY2VfVHlwZS5uYW1lQVIgQVMgXCJBcHBsaWFuY2UncyBOYW1lIChBUilcIixcbiAgICAgICAgICAgICAgICAgICAgQm9va2luZy5Jc3N1ZV9EZXNjcmlwdGlvbiBBUyBcIklzc3VlIERlc2NyaXB0aW9uXCIsXG4gICAgICAgICAgICAgICAgICAgIFtVc2VyXS5GaXJzdF9OYW1lIEFTIFwiRmlyc3QgTmFtZVwiLFxuICAgICAgICAgICAgICAgICAgICBbVXNlcl0uTGFzdF9OYW1lIEFTIFwiTGFzdCBOYW1lXCIsIFxuICAgICAgICAgICAgICAgICAgICBbVXNlcl0uUGhvbmUgQVMgXCJQaG9uZSBOdW1iZXJcIixcbiAgICAgICAgICAgICAgICAgICAgW1VzZXJdLkNpdHkgQVMgXCJDaXR5XCIsXG4gICAgICAgICAgICAgICAgICAgIFtVc2VyXS5TdHJlZXRfQWRkcmVzcyBBUyBcIlN0cmVldCBBZGRyZXNzXCIsIFxuICAgICAgICAgICAgICAgICAgICBbVXNlcl0uQnVpbGRpbmdfTmFtZSBBUyBcIkJ1aWxkaW5nIE5hbWVcIiwgXG4gICAgICAgICAgICAgICAgICAgIFtVc2VyXS5GbG9vciBBUyBcIkJ1aWxkaW5nIEZsb29yXCIsIFxuICAgICAgICAgICAgICAgICAgICBbVXNlcl0uUG9zdGFsX0NvZGUgQVMgXCJQb3N0YWwgQ29kZVwiXG4gICAgICAgICAgICAgICAgRlJPTSBCb29raW5nXG4gICAgICAgICAgICAgICAgSk9JTiBbVXNlcl0gT04gQm9va2luZy5Vc2VySUQgPSBbVXNlcl0uVXNlcl9JRFxuICAgICAgICAgICAgICAgIEpPSU4gQXBwbGlhbmNlX1R5cGUgT04gQm9va2luZy5BcHBsaWFuY2VfVHlwZV9JRCA9IEFwcGxpYW5jZV9UeXBlLkFwcGxpYW5jZV9UeXBlX0lEXG4gICAgICAgICAgICAgICAgV0hFUkUgQm9va2luZy5bU3RhdHVzXSA9ICdwZW5kaW5nJ1xuICAgICAgICAgICAgICAgIE9SREVSIEJZIEJvb2tpbmcuQm9va2luZ19EYXRlIEFTQywgQm9va2luZy5Cb29raW5nX1RpbWUgQVNDXG4gICAgICAgICAgICBgKTtcblxuICAgICAgICAvLyBJZiBubyBwZW5kaW5nIGJvb2tpbmdzIGZvdW5kLCByZXR1cm4gZW1wdHkgYXJyYXkgd2l0aCBpbmZvcm1hdGl2ZSBtZXNzYWdlXG4gICAgICAgIGlmIChyZXN1bHQucmVjb3Jkc2V0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5vIHBlbmRpbmcgYm9va2luZ3MgZm91bmQuXCIsXG4gICAgICAgICAgICAgICAgYm9va2luZ3M6IFtdXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJldHVybiBwZW5kaW5nIGJvb2tpbmdzIHdpdGggY291bnRcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgbWVzc2FnZTogXCJUaGVyZSBhcmUgcGVuZGluZyBib29raW5ncy5cIixcbiAgICAgICAgICAgIGNvdW50OiByZXN1bHQucmVjb3Jkc2V0Lmxlbmd0aCxcbiAgICAgICAgICAgIGJvb2tpbmdzOiByZXN1bHQucmVjb3Jkc2V0XG4gICAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJVbmV4cGVjdGVkIGVycm9yIG9jY3VycmVkIHdoaWxlIGZldGNoaW5nIHBlbmRpbmcgYm9va2luZ3M6XCIsIGVycm9yKTtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe21lc3NhZ2U6IFwiQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZCB3aGlsZSBmZXRjaGluZyBwZW5kaW5nIGJvb2tpbmdzLlwifSk7XG4gICAgfVxufSlcblxuXG5tb2R1bGUuZXhwb3J0cyA9IHtnZXRQZW5kaW5nQm9va2luZ3MsIGFjY2VwdFBlbmRpbmdCb29raW5nfTsiXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxJQUFNQSxZQUFZLEdBQUdDLE9BQU8sQ0FBQyx1QkFBdUIsQ0FBQzs7QUFHckQ7QUFDQTtBQUNBLElBQUFDLFFBQUEsR0FBeUJELE9BQU8sQ0FBQyxvQkFBb0IsQ0FBQztFQUE5Q0UsT0FBTyxHQUFBRCxRQUFBLENBQVBDLE9BQU87RUFBRUMsR0FBRyxHQUFBRixRQUFBLENBQUhFLEdBQUc7O0FBR3BCO0FBQ0EsSUFBTUMsb0JBQW9CLEdBQUdMLFlBQVk7RUFBQSxJQUFBTSxJQUFBLE9BQUFDLGtCQUFBLDBCQUFBQyxZQUFBLFlBQUFDLElBQUEsQ0FBQyxTQUFBQyxRQUFPQyxHQUFHLEVBQUVDLEdBQUc7SUFBQSxJQUFBQyxTQUFBLEVBQUFDLFlBQUEsRUFBQUMsSUFBQSxFQUFBQyxZQUFBLEVBQUFDLE9BQUEsRUFBQUMsTUFBQSxFQUFBQyxFQUFBO0lBQUEsT0FBQVgsWUFBQSxZQUFBWSxJQUFBLFdBQUFDLFFBQUE7TUFBQSxrQkFBQUEsUUFBQSxDQUFBQyxJQUFB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","map":{"version":3,"names":["asyncHandler","require","_require","getPool","sql","acceptPendingBooking","_ref","_asyncToGenerator2","_regenerator","mark","_callee","req","res","bookingID","technicianID","pool","checkBooking","booking","result","_t","wrap","_context","prev","next","body","abrupt","status","json","message","request","input","Int","query","sent","recordset","length","Technician_ID","Status","concat","console","error","number","stop","_x","_x2","apply","arguments","getPendingBookings","_ref2","_callee2","_t2","_context2","bookings","count","_x3","_x4","module","exports"],"sourceRoot":"/workspaces/FixAppliance-eCommerce/back-end/src/controllers/","sources":["TechnicianBookingController.js"],"sourcesContent":["/**\n * This controller handles everything related to booking and the technician:\n *  1. Technician accepting a pending booking\n *  2. Technician getting all pending bookings available to accept\n */\n\nconst asyncHandler = require(\"express-async-handler\");\n\n\n// sql needed for the type definitions in .input\n// getPool is to do queries\nconst { getPool, sql } = require(\"../config/database\");\n\n\n// Technician accepting a pending booking\nconst acceptPendingBooking = asyncHandler(async (req, res) => {\n        // Getting the booking ID from the body and the technician ID passed from the middleware\n        const { bookingID } = req.body;\n        const technicianID = req.technicianID;\n\n        // If no booking ID is passed, throw a 400 error\n        if (!bookingID) {\n            return res.status(400).json({message: \"You need to pass a booking ID.\"});\n        }\n\n        try {\n            const pool = getPool();\n\n            // Check if the booking exists and get its current status and assigned technician\n            const checkBooking = await pool.request()\n                .input(\"bookingID\", sql.Int, bookingID)\n                .query(`\n                    SELECT Booking_ID, [Status], Technician_ID\n                    FROM Booking\n                    WHERE Booking_ID = @bookingID\n                    `);\n\n            // If no result returned, the booking doesn't exist\n            if (checkBooking.recordset.length === 0) {\n                return res.status(404).json({message: \"Booking not found.\"});\n            }\n\n            const booking = checkBooking.recordset[0];\n\n            // Check if booking is already assigned to another technician\n            if (booking.Technician_ID !== null) {\n                return res.status(409).json({message: \"This booking is already assigned to another technician.\"});\n            }\n\n            // Check if booking status is pending - only pending bookings can be accepted\n            if (booking.Status !== 'pending') {\n                return res.status(400).json({message: `This booking is ${booking.Status} and cannot be accepted.`});\n            }\n\n            // Update the booking - assign technician and change status to confirmed\n            const result = await pool.request()\n                .input(\"bookingID\", sql.Int, bookingID)\n                .input(\"technicianID\", sql.Int, technicianID)\n                .query(`\n                    UPDATE Booking\n                    SET Technician_ID = @technicianID,\n                        [Status] = 'confirmed',\n                        modifiedAt = GETDATE()\n                    WHERE Booking_ID = @bookingID\n                    `);\n\n            // Return success response with booking and technician details\n            res.status(200).json({\n                message: \"Booking accepted successfully.\",\n                bookingID: bookingID,\n                technicianID: technicianID\n            });\n\n            \n        } catch (error) {\n            console.error(\"Unexpected error occurred when trying to apply booking to technician: \", error);\n            \n            // Foreign key constraint violation\n            if (error.number === 547) {\n                return res.status(400).json({message: \"Invalid booking or technician ID.\"});\n            }\n\n            res.status(500).json({message: \"Unexpected error occurred when trying to set booking to technician.\"});\n        }\n})\n\n\n// Get all pending bookings available for technicians to accept\nconst getPendingBookings = asyncHandler(async (req, res) => {\n    try {\n        const pool = getPool();\n       \n        // Query all pending bookings with user and appliance details\n        // Ordered by date and time (earliest first)\n        const result = await pool.request()\n            .query(`\n                SELECT \n                    Booking.Booking_ID, \n                    Booking.Booking_Date AS \"Scheduled Date\", \n                    Booking.Booking_Time AS \"Scheduled Time\", \n                    Booking.Total_Price AS \"Total Price\", \n                    Appliance_Type.nameEN AS \"Appliance's Name (EN)\", \n                    Appliance_Type.nameAR AS \"Appliance's Name (AR)\",\n                    Booking.Issue_Description AS \"Issue Description\",\n                    [User].First_Name AS \"First Name\",\n                    [User].Last_Name AS \"Last Name\", \n                    [User].Phone AS \"Phone Number\",\n                    [User].City AS \"City\",\n                    [User].Street_Address AS \"Street Address\", \n                    [User].Building_Name AS \"Building Name\", \n                    [User].Floor AS \"Building Floor\", \n                    [User].Postal_Code AS \"Postal Code\"\n                FROM Booking\n                JOIN [User] ON Booking.UserID = [User].User_ID\n                JOIN Appliance_Type ON Booking.Appliance_Type_ID = Appliance_Type.Appliance_Type_ID\n                WHERE Booking.[Status] = 'pending'\n                ORDER BY Booking.Booking_Date ASC, Booking.Booking_Time ASC\n            `);\n\n        // If no pending bookings found, return empty array with informative message\n        if (result.recordset.length === 0) {\n            return res.status(200).json({\n                message: \"No pending bookings found.\",\n                bookings: []\n            });\n        }\n\n        // Return pending bookings with count\n        res.status(200).json({\n            message: \"There are pending bookings.\",\n            count: result.recordset.length,\n            bookings: result.recordset\n        });\n    } catch (error) {\n        console.error(\"Unexpected error occurred while fetching pending bookings:\", error);\n        res.status(500).json({message: \"An unexpected error occurred while fetching pending bookings.\"});\n    }\n})\n\n\nmodule.exports = {getPendingBookings, acceptPendingBooking};"],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;;AAEA,IAAMA,YAAY,GAAGC,OAAO,CAAC,uBAAuB,CAAC;;AAGrD;AACA;AACA,IAAAC,QAAA,GAAyBD,OAAO,CAAC,oBAAoB,CAAC;EAA9CE,OAAO,GAAAD,QAAA,CAAPC,OAAO;EAAEC,GAAG,GAAAF,QAAA,CAAHE,GAAG;;AAGpB;AACA,IAAMC,oBAAoB,GAAGL,YAAY;EAAA,IAAAM,IAAA,OAAAC,kBAAA,0BAAAC,YAAA,YAAAC,IAAA,CAAC,SAAAC,QAAOC,GAAG,EAAEC,GAAG;IAAA,IAAAC,SAAA,EAAAC,YAAA,EAAAC,IAAA,EAAAC,YAAA,EAAAC,OAAA,EAAAC,MAAA,EAAAC,EAAA;IAAA,OAAAX,YAAA,YAAAY,IAAA,WAAAC,QAAA;MAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;QAAA;UACjD;UACQV,SAAS,GAAKF,GAAG,CAACa,IAAI,CAAtBX,SAAS;UACXC,YAAY,GAAGH,GAAG,CAACG,YAAY,EAErC;UAAA,IACKD,SAAS;YAAAQ,QAAA,CAAAE,IAAA;YAAA;UAAA;UAAA,OAAAF,QAAA,CAAAI,MAAA,WACHb,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAACC,OAAO,EAAE;UAAgC,CAAC,CAAC;QAAA;UAAAP,QAAA,CAAAC,IAAA;UAIlEP,IAAI,GAAGZ,OAAO,CAAC,CAAC,EAEtB;UAAAkB,QAAA,CAAAE,IAAA;UAAA,OAC2BR,IAAI,CAACc,OAAO,CAAC,CAAC,CACpCC,KAAK,CAAC,WAAW,EAAE1B,GAAG,CAAC2B,GAAG,EAAElB,SAAS,CAAC,CACtCmB,KAAK,8KAID,CAAC;QAAA;UANJhB,YAAY,GAAAK,QAAA,CAAAY,IAAA;UAAA,MASdjB,YAAY,CAACkB,SAAS,CAACC,MAAM,KAAK,CAAC;YAAAd,QAAA,CAAAE,IAAA;YAAA;UAAA;UAAA,OAAAF,QAAA,CAAAI,MAAA,WAC5Bb,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAACC,OAAO,EAAE;UAAoB,CAAC,CAAC;QAAA;UAG1DX,OAAO,GAAGD,YAAY,CAACkB,SAAS,CAAC,CAAC,CAAC,EAEzC;UAAA,MACIjB,OAAO,CAACmB,aAAa,KAAK,IAAI;YAAAf,QAAA,CAAAE,IAAA;YAAA;UAAA;UAAA,OAAAF,QAAA,CAAAI,MAAA,WACvBb,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAACC,OAAO,EAAE;UAAyD,CAAC,CAAC;QAAA;UAAA,MAIjGX,OAAO,CAACoB,MAAM,KAAK,SAAS;YAAAhB,QAAA,CAAAE,IAAA;YAAA;UAAA;UAAA,OAAAF,QAAA,CAAAI,MAAA,WACrBb,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAACC,OAAO,qBAAAU,MAAA,CAAqBrB,OAAO,CAACoB,MAAM;UAA0B,CAAC,CAAC;QAAA;UAAAhB,QAAA,CAAAE,IAAA;UAAA,OAIlFR,IAAI,CAACc,OAAO,CAAC,CAAC,CAC9BC,KAAK,CAAC,WAAW,EAAE1B,GAAG,CAAC2B,GAAG,EAAElB,SAAS,CAAC,CACtCiB,KAAK,CAAC,cAAc,EAAE1B,GAAG,CAAC2B,GAAG,EAAEjB,YAAY,CAAC,CAC5CkB,KAAK,yQAMD,CAAC;QAAA;UATJd,MAAM,GAAAG,QAAA,CAAAY,IAAA;UAWZ;UACArB,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YACjBC,OAAO,EAAE,gCAAgC;YACzCf,SAAS,EAAEA,SAAS;YACpBC,YAAY,EAAEA;UAClB,CAAC,CAAC;UAACO,QAAA,CAAAE,IAAA;UAAA;QAAA;UAAAF,QAAA,CAAAC,IAAA;UAAAH,EAAA,GAAAE,QAAA;UAIHkB,OAAO,CAACC,KAAK,CAAC,wEAAwE,EAAArB,EAAO,CAAC;;UAE9F;UAAA,MACIA,EAAA,CAAMsB,MAAM,KAAK,GAAG;YAAApB,QAAA,CAAAE,IAAA;YAAA;UAAA;UAAA,OAAAF,QAAA,CAAAI,MAAA,WACbb,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAACC,OAAO,EAAE;UAAmC,CAAC,CAAC;QAAA;UAG/EhB,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAACC,OAAO,EAAE;UAAqE,CAAC,CAAC;QAAC;QAAA;UAAA,OAAAP,QAAA,CAAAqB,IAAA;MAAA;IAAA,GAAAhC,OAAA;EAAA,CAElH;EAAA,iBAAAiC,EAAA,EAAAC,GAAA;IAAA,OAAAtC,IAAA,CAAAuC,KAAA,OAAAC,SAAA;EAAA;AAAA,IAAC;;AAGF;AACA,IAAMC,kBAAkB,GAAG/C,YAAY;EAAA,IAAAgD,KAAA,OAAAzC,kBAAA,0BAAAC,YAAA,YAAAC,IAAA,CAAC,SAAAwC,SAAOtC,GAAG,EAAEC,GAAG;IAAA,IAAAG,IAAA,EAAAG,MAAA,EAAAgC,GAAA;IAAA,OAAA1C,YAAA,YAAAY,IAAA,WAAA+B,SAAA;MAAA,kBAAAA,SAAA,CAAA7B,IAAA,GAAA6B,SAAA,CAAA5B,IAAA;QAAA;UAAA4B,SAAA,CAAA7B,IAAA;UAEzCP,IAAI,GAAGZ,OAAO,CAAC,CAAC,EAEtB;UACA;UAAAgD,SAAA,CAAA5B,IAAA;UAAA,OACqBR,IAAI,CAACc,OAAO,CAAC,CAAC,CAC9BG,KAAK,uwCAsBL,CAAC;QAAA;UAvBAd,MAAM,GAAAiC,SAAA,CAAAlB,IAAA;UAAA,MA0BRf,MAAM,CAACgB,SAAS,CAACC,MAAM,KAAK,CAAC;YAAAgB,SAAA,CAAA5B,IAAA;YAAA;UAAA;UAAA,OAAA4B,SAAA,CAAA1B,MAAA,WACtBb,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YACxBC,OAAO,EAAE,4BAA4B;YACrCwB,QAAQ,EAAE;UACd,CAAC,CAAC;QAAA;UAGN;UACAxC,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YACjBC,OAAO,EAAE,6BAA6B;YACtCyB,KAAK,EAAEnC,MAAM,CAACgB,SAAS,CAACC,MAAM;YAC9BiB,QAAQ,EAAElC,MAAM,CAACgB;UACrB,CAAC,CAAC;UAACiB,SAAA,CAAA5B,IAAA;UAAA;QAAA;UAAA4B,SAAA,CAAA7B,IAAA;UAAA4B,GAAA,GAAAC,SAAA;UAEHZ,OAAO,CAACC,KAAK,CAAC,4DAA4D,EAAAU,GAAO,CAAC;UAClFtC,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAACC,OAAO,EAAE;UAA+D,CAAC,CAAC;QAAC;QAAA;UAAA,OAAAuB,SAAA,CAAAT,IAAA;MAAA;IAAA,GAAAO,QAAA;EAAA,CAExG;EAAA,iBAAAK,GAAA,EAAAC,GAAA;IAAA,OAAAP,KAAA,CAAAH,KAAA,OAAAC,SAAA;EAAA;AAAA,IAAC;AAGFU,MAAM,CAACC,OAAO,GAAG;EAACV,kBAAkB,EAAlBA,kBAAkB;EAAE1C,oBAAoB,EAApBA;AAAoB,CAAC","ignoreList":[]}},"mtime":1764435289429},"{\"assumptions\":{},\"sourceRoot\":\"/workspaces/FixAppliance-eCommerce/back-end/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/workspaces/FixAppliance-eCommerce/back-end\",\"filename\":\"/workspaces/FixAppliance-eCommerce/back-end/src/routes/freelancerRoutes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/workspaces/FixAppliance-eCommerce/back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"_exploded\":true,\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"VoidPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/workspaces/FixAppliance-eCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$48\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/workspaces/FixAppliance-eCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$49\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"\"use strict\";\n\n/**\n * This express file sets up the routes of the freelancer, which consist of:\n *      Non-validation required routes: register and login\n *      Validation required routes: logout\n * \n * Validation requirement is to have the cookie with the right credintials without being expired.\n * \n * The functionalities for the routes themselves can be found in:\n *      1. middlewares/auth.js for authenticating the freelancer's credentials that are either stored or not stored\n * \n * No full implementation for freelancers is added yet.\n */\n\nvar express = require(\"express\");\nvar _require = require(\"../controllers/FreelancerController\"),\n  registerFreelancer = _require.registerFreelancer,\n  loginFreelancer = _require.loginFreelancer,\n  logoutFreelancer = _require.logoutFreelancer;\nvar _require2 = require(\"../middlewares/auth\"),\n  freelancerValidation = _require2.freelancerValidation;\nvar router = express.Router();\nrouter.post(\"/register\", registerFreelancer);\nrouter.post(\"/login\", loginFreelancer);\nrouter.post(\"/logout\", freelancerValidation, logoutFreelancer);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsIl9yZXF1aXJlIiwicmVnaXN0ZXJGcmVlbGFuY2VyIiwibG9naW5GcmVlbGFuY2VyIiwibG9nb3V0RnJlZWxhbmNlciIsIl9yZXF1aXJlMiIsImZyZWVsYW5jZXJWYWxpZGF0aW9uIiwicm91dGVyIiwiUm91dGVyIiwicG9zdCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii93b3Jrc3BhY2VzL0ZpeEFwcGxpYW5jZS1lQ29tbWVyY2UvYmFjay1lbmQvc3JjL3JvdXRlcy8iLCJzb3VyY2VzIjpbImZyZWVsYW5jZXJSb3V0ZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBUaGlzIGV4cHJlc3MgZmlsZSBzZXRzIHVwIHRoZSByb3V0ZXMgb2YgdGhlIGZyZWVsYW5jZXIsIHdoaWNoIGNvbnNpc3Qgb2Y6XG4gKiAgICAgIE5vbi12YWxpZGF0aW9uIHJlcXVpcmVkIHJvdXRlczogcmVnaXN0ZXIgYW5kIGxvZ2luXG4gKiAgICAgIFZhbGlkYXRpb24gcmVxdWlyZWQgcm91dGVzOiBsb2dvdXRcbiAqIFxuICogVmFsaWRhdGlvbiByZXF1aXJlbWVudCBpcyB0byBoYXZlIHRoZSBjb29raWUgd2l0aCB0aGUgcmlnaHQgY3JlZGludGlhbHMgd2l0aG91dCBiZWluZyBleHBpcmVkLlxuICogXG4gKiBUaGUgZnVuY3Rpb25hbGl0aWVzIGZvciB0aGUgcm91dGVzIHRoZW1zZWx2ZXMgY2FuIGJlIGZvdW5kIGluOlxuICogICAgICAxLiBtaWRkbGV3YXJlcy9hdXRoLmpzIGZvciBhdXRoZW50aWNhdGluZyB0aGUgZnJlZWxhbmNlcidzIGNyZWRlbnRpYWxzIHRoYXQgYXJlIGVpdGhlciBzdG9yZWQgb3Igbm90IHN0b3JlZFxuICogXG4gKiBObyBmdWxsIGltcGxlbWVudGF0aW9uIGZvciBmcmVlbGFuY2VycyBpcyBhZGRlZCB5ZXQuXG4gKi9cblxuY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoXCJleHByZXNzXCIpO1xuY29uc3Qge3JlZ2lzdGVyRnJlZWxhbmNlciwgbG9naW5GcmVlbGFuY2VyLCBsb2dvdXRGcmVlbGFuY2VyfSA9IHJlcXVpcmUoXCIuLi9jb250cm9sbGVycy9GcmVlbGFuY2VyQ29udHJvbGxlclwiKTtcbmNvbnN0IHtmcmVlbGFuY2VyVmFsaWRhdGlvbn0gPSByZXF1aXJlKFwiLi4vbWlkZGxld2FyZXMvYXV0aFwiKTtcblxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcblxucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXJcIiwgcmVnaXN0ZXJGcmVlbGFuY2VyKTtcbnJvdXRlci5wb3N0KFwiL2xvZ2luXCIsIGxvZ2luRnJlZWxhbmNlcik7XG5yb3V0ZXIucG9zdChcIi9sb2dvdXRcIiwgZnJlZWxhbmNlclZhbGlkYXRpb24sIGxvZ291dEZyZWVsYW5jZXIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLElBQU1BLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFNBQVMsQ0FBQztBQUNsQyxJQUFBQyxRQUFBLEdBQWdFRCxPQUFPLENBQUMscUNBQXFDLENBQUM7RUFBdkdFLGtCQUFrQixHQUFBRCxRQUFBLENBQWxCQyxrQkFBa0I7RUFBRUMsZUFBZSxHQUFBRixRQUFBLENBQWZFLGVBQWU7RUFBRUMsZ0JBQWdCLEdBQUFILFFBQUEsQ0FBaEJHLGdCQUFnQjtBQUM1RCxJQUFBQyxTQUFBLEdBQStCTCxPQUFPLENBQUMscUJBQXFCLENBQUM7RUFBdERNLG9CQUFvQixHQUFBRCxTQUFBLENBQXBCQyxvQkFBb0I7QUFFM0IsSUFBTUMsTUFBTSxHQUFHUixPQUFPLENBQUNTLE1BQU0sQ0FBQyxDQUFDO0FBRS9CRCxNQUFNLENBQUNFLElBQUksQ0FBQyxXQUFXLEVBQUVQLGtCQUFrQixDQUFDO0FBQzVDSyxNQUFNLENBQUNFLElBQUksQ0FBQyxRQUFRLEVBQUVOLGVBQWUsQ0FBQztBQUN0Q0ksTUFBTSxDQUFDRSxJQUFJLENBQUMsU0FBUyxFQUFFSCxvQkFBb0IsRUFBRUYsZ0JBQWdCLENBQUM7QUFFOURNLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHSixNQUFNIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["express","require","_require","registerFreelancer","loginFreelancer","logoutFreelancer","_require2","freelancerValidation","router","Router","post","module","exports"],"sourceRoot":"/workspaces/FixAppliance-eCommerce/back-end/src/routes/","sources":["freelancerRoutes.js"],"sourcesContent":["/**\n * This express file sets up the routes of the freelancer, which consist of:\n *      Non-validation required routes: register and login\n *      Validation required routes: logout\n * \n * Validation requirement is to have the cookie with the right credintials without being expired.\n * \n * The functionalities for the routes themselves can be found in:\n *      1. middlewares/auth.js for authenticating the freelancer's credentials that are either stored or not stored\n * \n * No full implementation for freelancers is added yet.\n */\n\nconst express = require(\"express\");\nconst {registerFreelancer, loginFreelancer, logoutFreelancer} = require(\"../controllers/FreelancerController\");\nconst {freelancerValidation} = require(\"../middlewares/auth\");\n\nconst router = express.Router();\n\nrouter.post(\"/register\", registerFreelancer);\nrouter.post(\"/login\", loginFreelancer);\nrouter.post(\"/logout\", freelancerValidation, logoutFreelancer);\n\nmodule.exports = router;"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAMA,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAClC,IAAAC,QAAA,GAAgED,OAAO,CAAC,qCAAqC,CAAC;EAAvGE,kBAAkB,GAAAD,QAAA,CAAlBC,kBAAkB;EAAEC,eAAe,GAAAF,QAAA,CAAfE,eAAe;EAAEC,gBAAgB,GAAAH,QAAA,CAAhBG,gBAAgB;AAC5D,IAAAC,SAAA,GAA+BL,OAAO,CAAC,qBAAqB,CAAC;EAAtDM,oBAAoB,GAAAD,SAAA,CAApBC,oBAAoB;AAE3B,IAAMC,MAAM,GAAGR,OAAO,CAACS,MAAM,CAAC,CAAC;AAE/BD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAEP,kBAAkB,CAAC;AAC5CK,MAAM,CAACE,IAAI,CAAC,QAAQ,EAAEN,eAAe,CAAC;AACtCI,MAAM,CAACE,IAAI,CAAC,SAAS,EAAEH,oBAAoB,EAAEF,gBAAgB,CAAC;AAE9DM,MAAM,CAACC,OAAO,GAAGJ,MAAM","ignoreList":[]}},"mtime":1764435289430},"{\"assumptions\":{},\"sourceRoot\":\"/workspaces/FixAppliance-eCommerce/back-end/src/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/workspaces/FixAppliance-eCommerce/back-end\",\"filename\":\"/workspaces/FixAppliance-eCommerce/back-end/src/controllers/FreelancerController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/workspaces/FixAppliance-eCommerce/back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"_exploded\":true,\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"VoidPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/workspaces/FixAppliance-eCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$48\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/workspaces/FixAppliance-eCommerce/back-end/node_modules/@babel/preset-env/lib/index.js$49\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n/**\n * This controller provides the following functionalities for a freelancer: registering, logging in, and logging out.\n * \n * For storing the password, bcrypt is used to hash and jwt (jsonwebtoken) is used to sign a token and store it as cookie.\n * \n * Freelancers create DIY content (videos/articles) for appliance repairs and are paid per content.\n * New freelancers start with isActive = 0 and Rate_Per_Content = 0, requiring admin approval.\n */\n\nvar asyncHandler = require(\"express-async-handler\");\nvar bcrypt = require(\"bcrypt\");\nvar jwt = require(\"jsonwebtoken\");\n\n// sql needed for the type definitions in .input\n// getPool is to do queries\nvar _require = require(\"../config/database\"),\n  getPool = _require.getPool,\n  sql = _require.sql;\n\n// Import validation utilities\nvar _require2 = require(\"../utils/validators\"),\n  isValidEmail = _require2.isValidEmail,\n  isValidPhone = _require2.isValidPhone,\n  isValidPassword = _require2.isValidPassword,\n  isValidName = _require2.isValidName,\n  sanitizeString = _require2.sanitizeString;\n\n// Handles the freelancer registering functionality\nvar registerFreelancer = asyncHandler(/*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee(req, res) {\n    var _req$body, firstName, lastName, email, phone, password, content_type_specialty, portfolio_url, passwordValidation, pool, hashedPassword, result, _t;\n    return _regenerator[\"default\"].wrap(function (_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          // Getting the needed data from the request body\n          _req$body = req.body, firstName = _req$body.firstName, lastName = _req$body.lastName, email = _req$body.email, phone = _req$body.phone, password = _req$body.password, content_type_specialty = _req$body.content_type_specialty, portfolio_url = _req$body.portfolio_url; // Checking if required fields are empty, if yes then we throw a 400\n          if (!(!firstName || !lastName || !email || !phone || !password || !content_type_specialty)) {\n            _context.next = 1;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"Required fields are missing.\"\n          }));\n        case 1:\n          if (isValidName(firstName)) {\n            _context.next = 2;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"First name must be 2-30 characters and contain only letters.\"\n          }));\n        case 2:\n          if (isValidName(lastName)) {\n            _context.next = 3;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"Last name must be 2-30 characters and contain only letters.\"\n          }));\n        case 3:\n          if (isValidEmail(email)) {\n            _context.next = 4;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"Please enter a valid email address.\"\n          }));\n        case 4:\n          if (isValidPhone(phone)) {\n            _context.next = 5;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"Please enter a valid phone number.\"\n          }));\n        case 5:\n          // Validate password strength\n          passwordValidation = isValidPassword(password);\n          if (passwordValidation.valid) {\n            _context.next = 6;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: passwordValidation.message\n          }));\n        case 6:\n          if (['video', 'article'].includes(content_type_specialty)) {\n            _context.next = 7;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"Content type specialty must be either 'video' or 'article'.\"\n          }));\n        case 7:\n          if (!(portfolio_url && portfolio_url.length > 255)) {\n            _context.next = 8;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: \"Portfolio URL cannot exceed 255 characters.\"\n          }));\n        case 8:\n          _context.prev = 8;\n          pool = getPool(); // Hashing the password before storing\n          _context.next = 9;\n          return bcrypt.hash(password, 11);\n        case 9:\n          hashedPassword = _context.sent;\n          _context.next = 10;\n          return pool.request().input(\"firstName\", sql.VarChar, sanitizeString(firstName)).input(\"lastName\", sql.VarChar, sanitizeString(lastName)).input(\"email\", sql.VarChar, sanitizeString(email).toLowerCase()).input(\"phone\", sql.VarChar, sanitizeString(phone)).input(\"hashedPassword\", sql.VarChar, hashedPassword).input(\"contentTypeSpecialty\", sql.VarChar, content_type_specialty).input(\"portfolioUrl\", sql.VarChar, portfolio_url ? sanitizeString(portfolio_url) : null).query(\"\\n            INSERT INTO Freelancer (First_Name, Last_Name, Email, Phone, Password_Hash, Content_Type_Specialty, Rate_Per_Content, Payment_Currency, Portfolio_URL, isActive)\\n            VALUES(@firstName, @lastName, @email, @phone, @hashedPassword, @contentTypeSpecialty, 0.00, 'USD', @portfolioUrl, 0)\\n            \");\n        case 10:\n          result = _context.sent;\n          // Sending success message\n          res.status(201).json({\n            message: \"Freelancer registered successfully! Please wait for admin approval.\"\n          });\n          _context.next = 13;\n          break;\n        case 11:\n          _context.prev = 11;\n          _t = _context[\"catch\"](8);\n          if (!(_t.number === 2627 || _t.number === 2601)) {\n            _context.next = 12;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(409).json({\n            message: \"Another account exists already either with this email address or phone number. If you have another account, please use that one instead.\"\n          }));\n        case 12:\n          // Throwing the console error and 500 status in case something goes wrong\n          console.error(\"Unexpected error registering a new freelancer's account: \", _t);\n          res.status(500).json({\n            message: \"An unexpected error occurred while registering the freelancer.\"\n          });\n        case 13:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[8, 11]]);\n  }));\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}());\n\n// Handling the logging in functionality for freelancers\nvar loginFreelancer = asyncHandler(/*#__PURE__*/function () {\n  var _ref2 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(req, res) {\n    var _req$body2, email, password, pool, result, freelancer, isPasswordValid, freelancerToken, _t2;\n    return _regenerator[\"default\"].wrap(function (_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          // Getting the email and password that the freelancer is trying to login with\n          _req$body2 = req.body, email = _req$body2.email, password = _req$body2.password; // Input validation, if either empty then send 400 error\n          if (!(!email || !password)) {\n            _context2.next = 1;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(400).json({\n            message: \"You have to enter both your email and your password\"\n          }));\n        case 1:\n          if (isValidEmail(email)) {\n            _context2.next = 2;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(400).json({\n            message: \"Please enter a valid email address.\"\n          }));\n        case 2:\n          _context2.prev = 2;\n          pool = getPool(); // Searching in the database for a freelancer with the same email passed to check if exists\n          _context2.next = 3;\n          return pool.request().input(\"email\", sql.VarChar, sanitizeString(email).toLowerCase()).query(\"\\n                SELECT Freelancer_ID, First_Name, Last_Name, Email, Password_Hash, isActive\\n                FROM Freelancer\\n                WHERE Email = @email\\n                \");\n        case 3:\n          result = _context2.sent;\n          if (!(result.recordset.length === 0)) {\n            _context2.next = 4;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(401).json({\n            message: \"Invalid email address or password.\"\n          }));\n        case 4:\n          // Now we are getting the first freelancer that we got having the same email address\n          freelancer = result.recordset[0]; // Check if the freelancer account is active (approved by admin)\n          if (freelancer.isActive) {\n            _context2.next = 5;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(403).json({\n            message: \"Your account is not activated yet. Please wait till you receive the approval/denial email to know if you can start working with us.\"\n          }));\n        case 5:\n          _context2.next = 6;\n          return bcrypt.compare(password, freelancer.Password_Hash);\n        case 6:\n          isPasswordValid = _context2.sent;\n          if (isPasswordValid) {\n            _context2.next = 7;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(401).json({\n            message: \"Invalid email address or password.\"\n          }));\n        case 7:\n          // If the password matches, then create a freelancer token using jwt by signing it with the FREELANCER_ACCESS_TOKEN\n          // stored in the .env file. The token expires in 1 day.\n          freelancerToken = jwt.sign({\n            id: freelancer.Freelancer_ID,\n            firstName: freelancer.First_Name,\n            lastName: freelancer.Last_Name,\n            email: freelancer.Email\n          }, process.env.FREELANCER_ACCESS_TOKEN, {\n            expiresIn: \"1d\"\n          }); // If a cookie exists already for the freelancer, clear it\n          if (req.cookies.freelancer_access_token) {\n            res.clearCookie('freelancer_access_token');\n          }\n\n          // Store the new cookie such that it lasts 1 day, and throw a 200 success message with some data about the freelancer\n          // (id, firstName, lastName, email)\n          res.cookie('freelancer_access_token', freelancerToken, {\n            httpOnly: true,\n            secure: process.env.NODE_ENV === \"production\",\n            sameSite: 'strict',\n            maxAge: 24 * 60 * 60 * 1000\n          });\n          res.status(200).json({\n            message: \"Successfully logged in.\",\n            freelancer: {\n              id: freelancer.Freelancer_ID,\n              firstName: freelancer.First_Name,\n              lastName: freelancer.Last_Name,\n              email: freelancer.Email\n            }\n          });\n\n          // If anything goes wrong, throw an error\n          _context2.next = 9;\n          break;\n        case 8:\n          _context2.prev = 8;\n          _t2 = _context2[\"catch\"](2);\n          console.error(\"Login error:\", _t2);\n          res.status(500).json({\n            message: \"An error occurred during login.\"\n          });\n        case 9:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[2, 8]]);\n  }));\n  return function (_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}());\n\n// Logging out functionality by clearing the freelancer's cookie and sending a success message\nvar logoutFreelancer = asyncHandler(/*#__PURE__*/function () {\n  var _ref3 = (0, _asyncToGenerator2[\"default\"])(/*#__PURE__*/_regenerator[\"default\"].mark(function _callee3(req, res) {\n    return _regenerator[\"default\"].wrap(function (_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          res.clearCookie('freelancer_access_token');\n          res.status(200).json({\n            message: \"Successfully logged out.\"\n          });\n        case 1:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3);\n  }));\n  return function (_x5, _x6) {\n    return _ref3.apply(this, arguments);\n  };\n}());\nmodule.exports = {\n  registerFreelancer: registerFreelancer,\n  loginFreelancer: loginFreelancer,\n  logoutFreelancer: logoutFreelancer\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhc3luY0hhbmRsZXIiLCJyZXF1aXJlIiwiYmNyeXB0Iiwiand0IiwiX3JlcXVpcmUiLCJnZXRQb29sIiwic3FsIiwiX3JlcXVpcmUyIiwiaXNWYWxpZEVtYWlsIiwiaXNWYWxpZFBob25lIiwiaXNWYWxpZFBhc3N3b3JkIiwiaXNWYWxpZE5hbWUiLCJzYW5pdGl6ZVN0cmluZyIsInJlZ2lzdGVyRnJlZWxhbmNlciIsIl9yZWYiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJfcmVnZW5lcmF0b3IiLCJtYXJrIiwiX2NhbGxlZSIsInJlcSIsInJlcyIsIl9yZXEkYm9keSIsImZpcnN0TmFtZSIsImxhc3ROYW1lIiwiZW1haWwiLCJwaG9uZSIsInBhc3N3b3JkIiwiY29udGVudF90eXBlX3NwZWNpYWx0eSIsInBvcnRmb2xpb191cmwiLCJwYXNzd29yZFZhbGlkYXRpb24iLCJwb29sIiwiaGFzaGVkUGFzc3dvcmQiLCJyZXN1bHQiLCJfdCIsIndyYXAiLCJfY29udGV4dCIsInByZXYiLCJuZXh0IiwiYm9keSIsImFicnVwdCIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwidmFsaWQiLCJpbmNsdWRlcyIsImxlbmd0aCIsImhhc2giLCJzZW50IiwicmVxdWVzdCIsImlucHV0IiwiVmFyQ2hhciIsInRvTG93ZXJDYXNlIiwicXVlcnkiLCJudW1iZXIiLCJjb25zb2xlIiwiZXJyb3IiLCJzdG9wIiwiX3giLCJfeDIiLCJhcHBseSIsImFyZ3VtZW50cyIsImxvZ2luRnJlZWxhbmNlciIsIl9yZWYyIiwiX2NhbGxlZTIiLCJfcmVxJGJvZHkyIiwiZnJlZWxhbmNlciIsImlzUGFzc3dvcmRWYWxpZCIsImZyZWVsYW5jZXJUb2tlbiIsIl90MiIsIl9jb250ZXh0MiIsInJlY29yZHNldCIsImlzQWN0aXZlIiwiY29tcGFyZSIsIlBhc3N3b3JkX0hhc2giLCJzaWduIiwiaWQiLCJGcmVlbGFuY2VyX0lEIiwiRmlyc3RfTmFtZSIsIkxhc3RfTmFtZSIsIkVtYWlsIiwicHJvY2VzcyIsImVudiIsIkZSRUVMQU5DRVJfQUNDRVNTX1RPS0VOIiwiZXhwaXJlc0luIiwiY29va2llcyIsImZyZWVsYW5jZXJfYWNjZXNzX3Rva2VuIiwiY2xlYXJDb29raWUiLCJjb29raWUiLCJodHRwT25seSIsInNlY3VyZSIsIk5PREVfRU5WIiwic2FtZVNpdGUiLCJtYXhBZ2UiLCJfeDMiLCJfeDQiLCJsb2dvdXRGcmVlbGFuY2VyIiwiX3JlZjMiLCJfY2FsbGVlMyIsIl9jb250ZXh0MyIsIl94NSIsIl94NiIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii93b3Jrc3BhY2VzL0ZpeEFwcGxpYW5jZS1lQ29tbWVyY2UvYmFjay1lbmQvc3JjL2NvbnRyb2xsZXJzLyIsInNvdXJjZXMiOlsiRnJlZWxhbmNlckNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBUaGlzIGNvbnRyb2xsZXIgcHJvdmlkZXMgdGhlIGZvbGxvd2luZyBmdW5jdGlvbmFsaXRpZXMgZm9yIGEgZnJlZWxhbmNlcjogcmVnaXN0ZXJpbmcsIGxvZ2dpbmcgaW4sIGFuZCBsb2dnaW5nIG91dC5cbiAqIFxuICogRm9yIHN0b3JpbmcgdGhlIHBhc3N3b3JkLCBiY3J5cHQgaXMgdXNlZCB0byBoYXNoIGFuZCBqd3QgKGpzb253ZWJ0b2tlbikgaXMgdXNlZCB0byBzaWduIGEgdG9rZW4gYW5kIHN0b3JlIGl0IGFzIGNvb2tpZS5cbiAqIFxuICogRnJlZWxhbmNlcnMgY3JlYXRlIERJWSBjb250ZW50ICh2aWRlb3MvYXJ0aWNsZXMpIGZvciBhcHBsaWFuY2UgcmVwYWlycyBhbmQgYXJlIHBhaWQgcGVyIGNvbnRlbnQuXG4gKiBOZXcgZnJlZWxhbmNlcnMgc3RhcnQgd2l0aCBpc0FjdGl2ZSA9IDAgYW5kIFJhdGVfUGVyX0NvbnRlbnQgPSAwLCByZXF1aXJpbmcgYWRtaW4gYXBwcm92YWwuXG4gKi9cblxuY29uc3QgYXN5bmNIYW5kbGVyID0gcmVxdWlyZShcImV4cHJlc3MtYXN5bmMtaGFuZGxlclwiKTtcbmNvbnN0IGJjcnlwdCA9IHJlcXVpcmUoXCJiY3J5cHRcIik7XG5jb25zdCBqd3QgPSByZXF1aXJlKFwianNvbndlYnRva2VuXCIpO1xuXG4vLyBzcWwgbmVlZGVkIGZvciB0aGUgdHlwZSBkZWZpbml0aW9ucyBpbiAuaW5wdXRcbi8vIGdldFBvb2wgaXMgdG8gZG8gcXVlcmllc1xuY29uc3QgeyBnZXRQb29sLCBzcWwgfSA9IHJlcXVpcmUoXCIuLi9jb25maWcvZGF0YWJhc2VcIik7XG5cbi8vIEltcG9ydCB2YWxpZGF0aW9uIHV0aWxpdGllc1xuY29uc3QgeyBpc1ZhbGlkRW1haWwsIGlzVmFsaWRQaG9uZSwgaXNWYWxpZFBhc3N3b3JkLCBpc1ZhbGlkTmFtZSwgc2FuaXRpemVTdHJpbmcgfSA9IHJlcXVpcmUoXCIuLi91dGlscy92YWxpZGF0b3JzXCIpO1xuXG5cbi8vIEhhbmRsZXMgdGhlIGZyZWVsYW5jZXIgcmVnaXN0ZXJpbmcgZnVuY3Rpb25hbGl0eVxuY29uc3QgcmVnaXN0ZXJGcmVlbGFuY2VyID0gYXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIC8vIEdldHRpbmcgdGhlIG5lZWRlZCBkYXRhIGZyb20gdGhlIHJlcXVlc3QgYm9keVxuICAgIGNvbnN0IHsgZmlyc3ROYW1lLCBsYXN0TmFtZSwgZW1haWwsIHBob25lLCBwYXNzd29yZCwgY29udGVudF90eXBlX3NwZWNpYWx0eSwgcG9ydGZvbGlvX3VybH0gPSByZXEuYm9keTtcblxuICAgIC8vIENoZWNraW5nIGlmIHJlcXVpcmVkIGZpZWxkcyBhcmUgZW1wdHksIGlmIHllcyB0aGVuIHdlIHRocm93IGEgNDAwXG4gICAgaWYgKCFmaXJzdE5hbWUgfHwgIWxhc3ROYW1lIHx8ICFlbWFpbCB8fCAhcGhvbmUgfHwgIXBhc3N3b3JkIHx8ICFjb250ZW50X3R5cGVfc3BlY2lhbHR5KSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJSZXF1aXJlZCBmaWVsZHMgYXJlIG1pc3NpbmcuXCJ9KTtcbiAgICB9XG5cbiAgICAvLyBWYWxpZGF0ZSBmaXJzdCBuYW1lIGZvcm1hdFxuICAgIGlmICghaXNWYWxpZE5hbWUoZmlyc3ROYW1lKSkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiRmlyc3QgbmFtZSBtdXN0IGJlIDItMzAgY2hhcmFjdGVycyBhbmQgY29udGFpbiBvbmx5IGxldHRlcnMuXCJ9KTtcbiAgICB9XG5cbiAgICAvLyBWYWxpZGF0ZSBsYXN0IG5hbWUgZm9ybWF0XG4gICAgaWYgKCFpc1ZhbGlkTmFtZShsYXN0TmFtZSkpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttZXNzYWdlOiBcIkxhc3QgbmFtZSBtdXN0IGJlIDItMzAgY2hhcmFjdGVycyBhbmQgY29udGFpbiBvbmx5IGxldHRlcnMuXCJ9KTtcbiAgICB9XG5cbiAgICAvLyBWYWxpZGF0ZSBlbWFpbCBmb3JtYXRcbiAgICBpZiAoIWlzVmFsaWRFbWFpbChlbWFpbCkpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttZXNzYWdlOiBcIlBsZWFzZSBlbnRlciBhIHZhbGlkIGVtYWlsIGFkZHJlc3MuXCJ9KTtcbiAgICB9XG5cbiAgICAvLyBWYWxpZGF0ZSBwaG9uZSBmb3JtYXRcbiAgICBpZiAoIWlzVmFsaWRQaG9uZShwaG9uZSkpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttZXNzYWdlOiBcIlBsZWFzZSBlbnRlciBhIHZhbGlkIHBob25lIG51bWJlci5cIn0pO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRlIHBhc3N3b3JkIHN0cmVuZ3RoXG4gICAgY29uc3QgcGFzc3dvcmRWYWxpZGF0aW9uID0gaXNWYWxpZFBhc3N3b3JkKHBhc3N3b3JkKTtcbiAgICBpZiAoIXBhc3N3b3JkVmFsaWRhdGlvbi52YWxpZCkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IHBhc3N3b3JkVmFsaWRhdGlvbi5tZXNzYWdlfSk7XG4gICAgfVxuXG4gICAgLy8gVmFsaWRhdGUgY29udGVudCB0eXBlIHNwZWNpYWx0eSAtIG11c3QgYmUgZWl0aGVyICd2aWRlbycgb3IgJ2FydGljbGUnXG4gICAgaWYgKCFbJ3ZpZGVvJywgJ2FydGljbGUnXS5pbmNsdWRlcyhjb250ZW50X3R5cGVfc3BlY2lhbHR5KSkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiQ29udGVudCB0eXBlIHNwZWNpYWx0eSBtdXN0IGJlIGVpdGhlciAndmlkZW8nIG9yICdhcnRpY2xlJy5cIn0pO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRlIHBvcnRmb2xpbyBVUkwgbGVuZ3RoIGlmIHByb3ZpZGVkXG4gICAgaWYgKHBvcnRmb2xpb191cmwgJiYgcG9ydGZvbGlvX3VybC5sZW5ndGggPiAyNTUpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttZXNzYWdlOiBcIlBvcnRmb2xpbyBVUkwgY2Fubm90IGV4Y2VlZCAyNTUgY2hhcmFjdGVycy5cIn0pO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHBvb2wgPSBnZXRQb29sKCk7XG5cbiAgICAgICAgLy8gSGFzaGluZyB0aGUgcGFzc3dvcmQgYmVmb3JlIHN0b3JpbmdcbiAgICAgICAgY29uc3QgaGFzaGVkUGFzc3dvcmQgPSBhd2FpdCBiY3J5cHQuaGFzaChwYXNzd29yZCwgMTEpO1xuXG4gICAgICAgIC8vIEJ5IGRlZmF1bHQgbm8gcmF0ZSBhbmQgZnJlZWxhbmNlciB1bnZlcmlmaWVkIHVudGlsIGFkbWluIGFwcHJvdmVzIGFuZCBzZXRzIGEgcmF0ZS5cbiAgICAgICAgLy8gSW5zZXJ0aW5nIHRoZSBmcmVlbGFuY2VyIGludG8gdGhlIGRhdGFiYXNlIEZyZWVsYW5jZXIgdGFibGVcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcG9vbC5yZXF1ZXN0KClcbiAgICAgICAgICAgIC5pbnB1dChcImZpcnN0TmFtZVwiLCBzcWwuVmFyQ2hhciwgc2FuaXRpemVTdHJpbmcoZmlyc3ROYW1lKSlcbiAgICAgICAgICAgIC5pbnB1dChcImxhc3ROYW1lXCIsIHNxbC5WYXJDaGFyLCBzYW5pdGl6ZVN0cmluZyhsYXN0TmFtZSkpXG4gICAgICAgICAgICAuaW5wdXQoXCJlbWFpbFwiLCBzcWwuVmFyQ2hhciwgc2FuaXRpemVTdHJpbmcoZW1haWwpLnRvTG93ZXJDYXNlKCkpXG4gICAgICAgICAgICAuaW5wdXQoXCJwaG9uZVwiLCBzcWwuVmFyQ2hhciwgc2FuaXRpemVTdHJpbmcocGhvbmUpKVxuICAgICAgICAgICAgLmlucHV0KFwiaGFzaGVkUGFzc3dvcmRcIiwgc3FsLlZhckNoYXIsIGhhc2hlZFBhc3N3b3JkKVxuICAgICAgICAgICAgLmlucHV0KFwiY29udGVudFR5cGVTcGVjaWFsdHlcIiwgc3FsLlZhckNoYXIsIGNvbnRlbnRfdHlwZV9zcGVjaWFsdHkpXG4gICAgICAgICAgICAuaW5wdXQoXCJwb3J0Zm9saW9VcmxcIiwgc3FsLlZhckNoYXIsIHBvcnRmb2xpb191cmwgPyBzYW5pdGl6ZVN0cmluZyhwb3J0Zm9saW9fdXJsKSA6IG51bGwpXG4gICAgICAgICAgICAucXVlcnkoYFxuICAgICAgICAgICAgSU5TRVJUIElOVE8gRnJlZWxhbmNlciAoRmlyc3RfTmFtZSwgTGFzdF9OYW1lLCBFbWFpbCwgUGhvbmUsIFBhc3N3b3JkX0hhc2gsIENvbnRlbnRfVHlwZV9TcGVjaWFsdHksIFJhdGVfUGVyX0NvbnRlbnQsIFBheW1lbnRfQ3VycmVuY3ksIFBvcnRmb2xpb19VUkwsIGlzQWN0aXZlKVxuICAgICAgICAgICAgVkFMVUVTKEBmaXJzdE5hbWUsIEBsYXN0TmFtZSwgQGVtYWlsLCBAcGhvbmUsIEBoYXNoZWRQYXNzd29yZCwgQGNvbnRlbnRUeXBlU3BlY2lhbHR5LCAwLjAwLCAnVVNEJywgQHBvcnRmb2xpb1VybCwgMClcbiAgICAgICAgICAgIGApO1xuXG4gICAgICAgIC8vIFNlbmRpbmcgc3VjY2VzcyBtZXNzYWdlXG4gICAgICAgIHJlcy5zdGF0dXMoMjAxKS5qc29uKHttZXNzYWdlOiBcIkZyZWVsYW5jZXIgcmVnaXN0ZXJlZCBzdWNjZXNzZnVsbHkhIFBsZWFzZSB3YWl0IGZvciBhZG1pbiBhcHByb3ZhbC5cIn0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIC8vIEhhbmRsaW5nIHRoZSB1bmlxdWUgY29uc3RyYWludHMgZm9yIGVtYWlsIGFuZCBwaG9uZSBudW1iZXJzXG4gICAgICAgIC8vIDI2MjcgaXMgZm9yIHZpb2xhdGlvbiBvZiB0aGUgdW5pcXVlIGtleSBjb25zdHJhaW50LCBhbmQgMjYwMSBpcyBmb3IgdW5pcXVlIGluZGV4IHZpb2xhdGlvblxuICAgICAgICBpZiAoZXJyb3IubnVtYmVyID09PSAyNjI3IHx8IGVycm9yLm51bWJlciA9PT0gMjYwMSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA5KS5qc29uKHttZXNzYWdlOiBcIkFub3RoZXIgYWNjb3VudCBleGlzdHMgYWxyZWFkeSBlaXRoZXIgd2l0aCB0aGlzIGVtYWlsIGFkZHJlc3Mgb3IgcGhvbmUgbnVtYmVyLiBJZiB5b3UgaGF2ZSBhbm90aGVyIGFjY291bnQsIHBsZWFzZSB1c2UgdGhhdCBvbmUgaW5zdGVhZC5cIn0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVGhyb3dpbmcgdGhlIGNvbnNvbGUgZXJyb3IgYW5kIDUwMCBzdGF0dXMgaW4gY2FzZSBzb21ldGhpbmcgZ29lcyB3cm9uZ1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiVW5leHBlY3RlZCBlcnJvciByZWdpc3RlcmluZyBhIG5ldyBmcmVlbGFuY2VyJ3MgYWNjb3VudDogXCIsIGVycm9yKTtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe21lc3NhZ2U6IFwiQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZCB3aGlsZSByZWdpc3RlcmluZyB0aGUgZnJlZWxhbmNlci5cIn0pO1xuICAgIH1cbn0pO1xuXG4vLyBIYW5kbGluZyB0aGUgbG9nZ2luZyBpbiBmdW5jdGlvbmFsaXR5IGZvciBmcmVlbGFuY2Vyc1xuY29uc3QgbG9naW5GcmVlbGFuY2VyID0gYXN5bmNIYW5kbGVyKGFzeW5jIChyZXEscmVzKSA9PiB7XG4gICAgLy8gR2V0dGluZyB0aGUgZW1haWwgYW5kIHBhc3N3b3JkIHRoYXQgdGhlIGZyZWVsYW5jZXIgaXMgdHJ5aW5nIHRvIGxvZ2luIHdpdGhcbiAgICBjb25zdCB7ZW1haWwsIHBhc3N3b3JkfSA9IHJlcS5ib2R5O1xuXG4gICAgLy8gSW5wdXQgdmFsaWRhdGlvbiwgaWYgZWl0aGVyIGVtcHR5IHRoZW4gc2VuZCA0MDAgZXJyb3JcbiAgICBpZiAoIWVtYWlsIHx8ICFwYXNzd29yZCkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiWW91IGhhdmUgdG8gZW50ZXIgYm90aCB5b3VyIGVtYWlsIGFuZCB5b3VyIHBhc3N3b3JkXCJ9KTtcbiAgICB9XG5cbiAgICAvLyBWYWxpZGF0ZSBlbWFpbCBmb3JtYXRcbiAgICBpZiAoIWlzVmFsaWRFbWFpbChlbWFpbCkpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttZXNzYWdlOiBcIlBsZWFzZSBlbnRlciBhIHZhbGlkIGVtYWlsIGFkZHJlc3MuXCJ9KTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgICBjb25zdCBwb29sID0gZ2V0UG9vbCgpO1xuXG4gICAgICAgIC8vIFNlYXJjaGluZyBpbiB0aGUgZGF0YWJhc2UgZm9yIGEgZnJlZWxhbmNlciB3aXRoIHRoZSBzYW1lIGVtYWlsIHBhc3NlZCB0byBjaGVjayBpZiBleGlzdHNcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcG9vbC5yZXF1ZXN0KClcbiAgICAgICAgICAgIC5pbnB1dChcImVtYWlsXCIsIHNxbC5WYXJDaGFyLCBzYW5pdGl6ZVN0cmluZyhlbWFpbCkudG9Mb3dlckNhc2UoKSlcbiAgICAgICAgICAgIC5xdWVyeShgXG4gICAgICAgICAgICAgICAgU0VMRUNUIEZyZWVsYW5jZXJfSUQsIEZpcnN0X05hbWUsIExhc3RfTmFtZSwgRW1haWwsIFBhc3N3b3JkX0hhc2gsIGlzQWN0aXZlXG4gICAgICAgICAgICAgICAgRlJPTSBGcmVlbGFuY2VyXG4gICAgICAgICAgICAgICAgV0hFUkUgRW1haWwgPSBAZW1haWxcbiAgICAgICAgICAgICAgICBgKTtcblxuICAgICAgICAvLyBJZiBubyByZXN1bHRzIHJldHVybmVkIGZyb20gdGhlIHF1ZXJ5LCB0aGVuIHRoZSBlbWFpbCBlbnRlcmVkIGlzIGludmFsaWRcbiAgICAgICAgaWYgKHJlc3VsdC5yZWNvcmRzZXQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oe21lc3NhZ2U6IFwiSW52YWxpZCBlbWFpbCBhZGRyZXNzIG9yIHBhc3N3b3JkLlwifSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBOb3cgd2UgYXJlIGdldHRpbmcgdGhlIGZpcnN0IGZyZWVsYW5jZXIgdGhhdCB3ZSBnb3QgaGF2aW5nIHRoZSBzYW1lIGVtYWlsIGFkZHJlc3NcbiAgICAgICAgY29uc3QgZnJlZWxhbmNlciA9IHJlc3VsdC5yZWNvcmRzZXRbMF07XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGZyZWVsYW5jZXIgYWNjb3VudCBpcyBhY3RpdmUgKGFwcHJvdmVkIGJ5IGFkbWluKVxuICAgICAgICBpZiAoIWZyZWVsYW5jZXIuaXNBY3RpdmUpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMykuanNvbih7bWVzc2FnZTogXCJZb3VyIGFjY291bnQgaXMgbm90IGFjdGl2YXRlZCB5ZXQuIFBsZWFzZSB3YWl0IHRpbGwgeW91IHJlY2VpdmUgdGhlIGFwcHJvdmFsL2RlbmlhbCBlbWFpbCB0byBrbm93IGlmIHlvdSBjYW4gc3RhcnQgd29ya2luZyB3aXRoIHVzLlwifSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBVc2luZyBiY3J5cHQgdG8gY2hlY2sgaWYgdGhlIHBhc3N3b3JkIHBhc3NlZCBpcyB0aGUgc2FtZSBhcyB0aGUgaGFzaGVkIG9uZSBzdG9yZWQgaW4gdGhlIGRhdGFiYXNlXG4gICAgICAgIC8vIElmIG5vLCB0aHJvdyBhIDQwMSBlcnJvclxuICAgICAgICBjb25zdCBpc1Bhc3N3b3JkVmFsaWQgPSBhd2FpdCBiY3J5cHQuY29tcGFyZShwYXNzd29yZCwgZnJlZWxhbmNlci5QYXNzd29yZF9IYXNoKTtcbiAgICAgICAgaWYgKCFpc1Bhc3N3b3JkVmFsaWQpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7bWVzc2FnZTogXCJJbnZhbGlkIGVtYWlsIGFkZHJlc3Mgb3IgcGFzc3dvcmQuXCJ9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIHRoZSBwYXNzd29yZCBtYXRjaGVzLCB0aGVuIGNyZWF0ZSBhIGZyZWVsYW5jZXIgdG9rZW4gdXNpbmcgand0IGJ5IHNpZ25pbmcgaXQgd2l0aCB0aGUgRlJFRUxBTkNFUl9BQ0NFU1NfVE9LRU5cbiAgICAgICAgLy8gc3RvcmVkIGluIHRoZSAuZW52IGZpbGUuIFRoZSB0b2tlbiBleHBpcmVzIGluIDEgZGF5LlxuICAgICAgICBjb25zdCBmcmVlbGFuY2VyVG9rZW4gPSBqd3Quc2lnbih7XG4gICAgICAgICAgICBpZDogZnJlZWxhbmNlci5GcmVlbGFuY2VyX0lELFxuICAgICAgICAgICAgZmlyc3ROYW1lOiBmcmVlbGFuY2VyLkZpcnN0X05hbWUsXG4gICAgICAgICAgICBsYXN0TmFtZTogZnJlZWxhbmNlci5MYXN0X05hbWUsXG4gICAgICAgICAgICBlbWFpbDogZnJlZWxhbmNlci5FbWFpbFxuICAgICAgICB9LFxuICAgICAgICAgICAgcHJvY2Vzcy5lbnYuRlJFRUxBTkNFUl9BQ0NFU1NfVE9LRU4sXG4gICAgICAgICAgICB7ZXhwaXJlc0luOiBcIjFkXCJ9XG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gSWYgYSBjb29raWUgZXhpc3RzIGFscmVhZHkgZm9yIHRoZSBmcmVlbGFuY2VyLCBjbGVhciBpdFxuICAgICAgICBpZiAocmVxLmNvb2tpZXMuZnJlZWxhbmNlcl9hY2Nlc3NfdG9rZW4pIHtcbiAgICAgICAgICAgIHJlcy5jbGVhckNvb2tpZSgnZnJlZWxhbmNlcl9hY2Nlc3NfdG9rZW4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFN0b3JlIHRoZSBuZXcgY29va2llIHN1Y2ggdGhhdCBpdCBsYXN0cyAxIGRheSwgYW5kIHRocm93IGEgMjAwIHN1Y2Nlc3MgbWVzc2FnZSB3aXRoIHNvbWUgZGF0YSBhYm91dCB0aGUgZnJlZWxhbmNlclxuICAgICAgICAvLyAoaWQsIGZpcnN0TmFtZSwgbGFzdE5hbWUsIGVtYWlsKVxuICAgICAgICByZXMuY29va2llKCdmcmVlbGFuY2VyX2FjY2Vzc190b2tlbicsIGZyZWVsYW5jZXJUb2tlbiwgXG4gICAgICAgICAgICB7aHR0cE9ubHk6IHRydWUsIFxuICAgICAgICAgICAgc2VjdXJlOiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCIsXG4gICAgICAgICAgICBzYW1lU2l0ZTogJ3N0cmljdCcsXG4gICAgICAgICAgICBtYXhBZ2U6IDI0ICogNjAgKiA2MCAqIDEwMDB9KTtcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgbWVzc2FnZTogXCJTdWNjZXNzZnVsbHkgbG9nZ2VkIGluLlwiLFxuICAgICAgICAgICAgZnJlZWxhbmNlcjoge1xuICAgICAgICAgICAgICAgIGlkOiBmcmVlbGFuY2VyLkZyZWVsYW5jZXJfSUQsXG4gICAgICAgICAgICAgICAgZmlyc3ROYW1lOiBmcmVlbGFuY2VyLkZpcnN0X05hbWUsXG4gICAgICAgICAgICAgICAgbGFzdE5hbWU6IGZyZWVsYW5jZXIuTGFzdF9OYW1lLFxuICAgICAgICAgICAgICAgIGVtYWlsOiBmcmVlbGFuY2VyLkVtYWlsXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG5cbiAgICAgICAgLy8gSWYgYW55dGhpbmcgZ29lcyB3cm9uZywgdGhyb3cgYW4gZXJyb3JcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiTG9naW4gZXJyb3I6XCIsIGVycm9yKTtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe21lc3NhZ2U6IFwiQW4gZXJyb3Igb2NjdXJyZWQgZHVyaW5nIGxvZ2luLlwifSk7XG4gICAgfVxufSk7XG5cbi8vIExvZ2dpbmcgb3V0IGZ1bmN0aW9uYWxpdHkgYnkgY2xlYXJpbmcgdGhlIGZyZWVsYW5jZXIncyBjb29raWUgYW5kIHNlbmRpbmcgYSBzdWNjZXNzIG1lc3NhZ2VcbmNvbnN0IGxvZ291dEZyZWVsYW5jZXIgPSBhc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgcmVzLmNsZWFyQ29va2llKCdmcmVlbGFuY2VyX2FjY2Vzc190b2tlbicpO1xuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHttZXNzYWdlOiBcIlN1Y2Nlc3NmdWxseSBsb2dnZWQgb3V0LlwifSk7XG59KVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtyZWdpc3RlckZyZWVsYW5jZXIsIGxvZ2luRnJlZWxhbmNlciwgbG9nb3V0RnJlZWxhbmNlcn07Il0sIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsSUFBTUEsWUFBWSxHQUFHQyxPQUFPLENBQUMsdUJBQXVCLENBQUM7QUFDckQsSUFBTUMsTUFBTSxHQUFHRCxPQUFPLENBQUMsUUFBUSxDQUFDO0FBQ2hDLElBQU1FLEdBQUcsR0FBR0YsT0FBTyxDQUFDLGNBQWMsQ0FBQzs7QUFFbkM7QUFDQTtBQUNBLElBQUFHLFFBQUEsR0FBeUJILE9BQU8sQ0FBQyxvQkFBb0IsQ0FBQztFQUE5Q0ksT0FBTyxHQUFBRCxRQUFBLENBQVBDLE9BQU87RUFBRUMsR0FBRyxHQUFBRixR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","map":{"version":3,"names":["asyncHandler","require","bcrypt","jwt","_require","getPool","sql","_require2","isValidEmail","isValidPhone","isValidPassword","isValidName","sanitizeString","registerFreelancer","_ref","_asyncToGenerator2","_regenerator","mark","_callee","req","res","_req$body","firstName","lastName","email","phone","password","content_type_specialty","portfolio_url","passwordValidation","pool","hashedPassword","result","_t","wrap","_context","prev","next","body","abrupt","status","json","message","valid","includes","length","hash","sent","request","input","VarChar","toLowerCase","query","number","console","error","stop","_x","_x2","apply","arguments","loginFreelancer","_ref2","_callee2","_req$body2","freelancer","isPasswordValid","freelancerToken","_t2","_context2","recordset","isActive","compare","Password_Hash","sign","id","Freelancer_ID","First_Name","Last_Name","Email","process","env","FREELANCER_ACCESS_TOKEN","expiresIn","cookies","freelancer_access_token","clearCookie","cookie","httpOnly","secure","NODE_ENV","sameSite","maxAge","_x3","_x4","logoutFreelancer","_ref3","_callee3","_context3","_x5","_x6","module","exports"],"sourceRoot":"/workspaces/FixAppliance-eCommerce/back-end/src/controllers/","sources":["FreelancerController.js"],"sourcesContent":["/**\n * This controller provides the following functionalities for a freelancer: registering, logging in, and logging out.\n * \n * For storing the password, bcrypt is used to hash and jwt (jsonwebtoken) is used to sign a token and store it as cookie.\n * \n * Freelancers create DIY content (videos/articles) for appliance repairs and are paid per content.\n * New freelancers start with isActive = 0 and Rate_Per_Content = 0, requiring admin approval.\n */\n\nconst asyncHandler = require(\"express-async-handler\");\nconst bcrypt = require(\"bcrypt\");\nconst jwt = require(\"jsonwebtoken\");\n\n// sql needed for the type definitions in .input\n// getPool is to do queries\nconst { getPool, sql } = require(\"../config/database\");\n\n// Import validation utilities\nconst { isValidEmail, isValidPhone, isValidPassword, isValidName, sanitizeString } = require(\"../utils/validators\");\n\n\n// Handles the freelancer registering functionality\nconst registerFreelancer = asyncHandler(async (req, res) => {\n    // Getting the needed data from the request body\n    const { firstName, lastName, email, phone, password, content_type_specialty, portfolio_url} = req.body;\n\n    // Checking if required fields are empty, if yes then we throw a 400\n    if (!firstName || !lastName || !email || !phone || !password || !content_type_specialty) {\n        return res.status(400).json({message: \"Required fields are missing.\"});\n    }\n\n    // Validate first name format\n    if (!isValidName(firstName)) {\n        return res.status(400).json({message: \"First name must be 2-30 characters and contain only letters.\"});\n    }\n\n    // Validate last name format\n    if (!isValidName(lastName)) {\n        return res.status(400).json({message: \"Last name must be 2-30 characters and contain only letters.\"});\n    }\n\n    // Validate email format\n    if (!isValidEmail(email)) {\n        return res.status(400).json({message: \"Please enter a valid email address.\"});\n    }\n\n    // Validate phone format\n    if (!isValidPhone(phone)) {\n        return res.status(400).json({message: \"Please enter a valid phone number.\"});\n    }\n\n    // Validate password strength\n    const passwordValidation = isValidPassword(password);\n    if (!passwordValidation.valid) {\n        return res.status(400).json({message: passwordValidation.message});\n    }\n\n    // Validate content type specialty - must be either 'video' or 'article'\n    if (!['video', 'article'].includes(content_type_specialty)) {\n        return res.status(400).json({message: \"Content type specialty must be either 'video' or 'article'.\"});\n    }\n\n    // Validate portfolio URL length if provided\n    if (portfolio_url && portfolio_url.length > 255) {\n        return res.status(400).json({message: \"Portfolio URL cannot exceed 255 characters.\"});\n    }\n\n    try {\n        const pool = getPool();\n\n        // Hashing the password before storing\n        const hashedPassword = await bcrypt.hash(password, 11);\n\n        // By default no rate and freelancer unverified until admin approves and sets a rate.\n        // Inserting the freelancer into the database Freelancer table\n        const result = await pool.request()\n            .input(\"firstName\", sql.VarChar, sanitizeString(firstName))\n            .input(\"lastName\", sql.VarChar, sanitizeString(lastName))\n            .input(\"email\", sql.VarChar, sanitizeString(email).toLowerCase())\n            .input(\"phone\", sql.VarChar, sanitizeString(phone))\n            .input(\"hashedPassword\", sql.VarChar, hashedPassword)\n            .input(\"contentTypeSpecialty\", sql.VarChar, content_type_specialty)\n            .input(\"portfolioUrl\", sql.VarChar, portfolio_url ? sanitizeString(portfolio_url) : null)\n            .query(`\n            INSERT INTO Freelancer (First_Name, Last_Name, Email, Phone, Password_Hash, Content_Type_Specialty, Rate_Per_Content, Payment_Currency, Portfolio_URL, isActive)\n            VALUES(@firstName, @lastName, @email, @phone, @hashedPassword, @contentTypeSpecialty, 0.00, 'USD', @portfolioUrl, 0)\n            `);\n\n        // Sending success message\n        res.status(201).json({message: \"Freelancer registered successfully! Please wait for admin approval.\"});\n    } catch (error) {\n        // Handling the unique constraints for email and phone numbers\n        // 2627 is for violation of the unique key constraint, and 2601 is for unique index violation\n        if (error.number === 2627 || error.number === 2601) {\n            return res.status(409).json({message: \"Another account exists already either with this email address or phone number. If you have another account, please use that one instead.\"});\n        }\n\n        // Throwing the console error and 500 status in case something goes wrong\n        console.error(\"Unexpected error registering a new freelancer's account: \", error);\n        res.status(500).json({message: \"An unexpected error occurred while registering the freelancer.\"});\n    }\n});\n\n// Handling the logging in functionality for freelancers\nconst loginFreelancer = asyncHandler(async (req,res) => {\n    // Getting the email and password that the freelancer is trying to login with\n    const {email, password} = req.body;\n\n    // Input validation, if either empty then send 400 error\n    if (!email || !password) {\n        return res.status(400).json({message: \"You have to enter both your email and your password\"});\n    }\n\n    // Validate email format\n    if (!isValidEmail(email)) {\n        return res.status(400).json({message: \"Please enter a valid email address.\"});\n    }\n\n    try {\n        const pool = getPool();\n\n        // Searching in the database for a freelancer with the same email passed to check if exists\n        const result = await pool.request()\n            .input(\"email\", sql.VarChar, sanitizeString(email).toLowerCase())\n            .query(`\n                SELECT Freelancer_ID, First_Name, Last_Name, Email, Password_Hash, isActive\n                FROM Freelancer\n                WHERE Email = @email\n                `);\n\n        // If no results returned from the query, then the email entered is invalid\n        if (result.recordset.length === 0) {\n            return res.status(401).json({message: \"Invalid email address or password.\"});\n        }\n\n        // Now we are getting the first freelancer that we got having the same email address\n        const freelancer = result.recordset[0];\n\n        // Check if the freelancer account is active (approved by admin)\n        if (!freelancer.isActive) {\n            return res.status(403).json({message: \"Your account is not activated yet. Please wait till you receive the approval/denial email to know if you can start working with us.\"});\n        }\n\n        // Using bcrypt to check if the password passed is the same as the hashed one stored in the database\n        // If no, throw a 401 error\n        const isPasswordValid = await bcrypt.compare(password, freelancer.Password_Hash);\n        if (!isPasswordValid) {\n            return res.status(401).json({message: \"Invalid email address or password.\"});\n        }\n\n        // If the password matches, then create a freelancer token using jwt by signing it with the FREELANCER_ACCESS_TOKEN\n        // stored in the .env file. The token expires in 1 day.\n        const freelancerToken = jwt.sign({\n            id: freelancer.Freelancer_ID,\n            firstName: freelancer.First_Name,\n            lastName: freelancer.Last_Name,\n            email: freelancer.Email\n        },\n            process.env.FREELANCER_ACCESS_TOKEN,\n            {expiresIn: \"1d\"}\n        );\n\n        // If a cookie exists already for the freelancer, clear it\n        if (req.cookies.freelancer_access_token) {\n            res.clearCookie('freelancer_access_token');\n        }\n\n        // Store the new cookie such that it lasts 1 day, and throw a 200 success message with some data about the freelancer\n        // (id, firstName, lastName, email)\n        res.cookie('freelancer_access_token', freelancerToken, \n            {httpOnly: true, \n            secure: process.env.NODE_ENV === \"production\",\n            sameSite: 'strict',\n            maxAge: 24 * 60 * 60 * 1000});\n        res.status(200).json({\n            message: \"Successfully logged in.\",\n            freelancer: {\n                id: freelancer.Freelancer_ID,\n                firstName: freelancer.First_Name,\n                lastName: freelancer.Last_Name,\n                email: freelancer.Email\n            }\n        })\n\n        // If anything goes wrong, throw an error\n    } catch (error) {\n        console.error(\"Login error:\", error);\n        res.status(500).json({message: \"An error occurred during login.\"});\n    }\n});\n\n// Logging out functionality by clearing the freelancer's cookie and sending a success message\nconst logoutFreelancer = asyncHandler(async (req, res) => {\n    res.clearCookie('freelancer_access_token');\n    res.status(200).json({message: \"Successfully logged out.\"});\n})\n\nmodule.exports = {registerFreelancer, loginFreelancer, logoutFreelancer};"],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAMA,YAAY,GAAGC,OAAO,CAAC,uBAAuB,CAAC;AACrD,IAAMC,MAAM,GAAGD,OAAO,CAAC,QAAQ,CAAC;AAChC,IAAME,GAAG,GAAGF,OAAO,CAAC,cAAc,CAAC;;AAEnC;AACA;AACA,IAAAG,QAAA,GAAyBH,OAAO,CAAC,oBAAoB,CAAC;EAA9CI,OAAO,GAAAD,QAAA,CAAPC,OAAO;EAAEC,GAAG,GAAAF,QAAA,CAAHE,GAAG;;AAEpB;AACA,IAAAC,SAAA,GAAqFN,OAAO,CAAC,qBAAqB,CAAC;EAA3GO,YAAY,GAAAD,SAAA,CAAZC,YAAY;EAAEC,YAAY,GAAAF,SAAA,CAAZE,YAAY;EAAEC,eAAe,GAAAH,SAAA,CAAfG,eAAe;EAAEC,WAAW,GAAAJ,SAAA,CAAXI,WAAW;EAAEC,cAAc,GAAAL,SAAA,CAAdK,cAAc;;AAGhF;AACA,IAAMC,kBAAkB,GAAGb,YAAY;EAAA,IAAAc,IAAA,OAAAC,kBAAA,0BAAAC,YAAA,YAAAC,IAAA,CAAC,SAAAC,QAAOC,GAAG,EAAEC,GAAG;IAAA,IAAAC,SAAA,EAAAC,SAAA,EAAAC,QAAA,EAAAC,KAAA,EAAAC,KAAA,EAAAC,QAAA,EAAAC,sBAAA,EAAAC,aAAA,EAAAC,kBAAA,EAAAC,IAAA,EAAAC,cAAA,EAAAC,MAAA,EAAAC,EAAA;IAAA,OAAAjB,YAAA,YAAAkB,IAAA,WAAAC,QAAA;MAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;QAAA;UACnD;UAAAhB,SAAA,GAC8FF,GAAG,CAACmB,IAAI,EAA9FhB,SAAS,GAAAD,SAAA,CAATC,SAAS,EAAEC,QAAQ,GAAAF,SAAA,CAARE,QAAQ,EAAEC,KAAK,GAAAH,SAAA,CAALG,KAAK,EAAEC,KAAK,GAAAJ,SAAA,CAALI,KAAK,EAAEC,QAAQ,GAAAL,SAAA,CAARK,QAAQ,EAAEC,sBAAsB,GAAAN,SAAA,CAAtBM,sBAAsB,EAAEC,aAAa,GAAAP,SAAA,CAAbO,aAAa,EAE1F;UAAA,MACI,CAACN,SAAS,IAAI,CAACC,QAAQ,IAAI,CAACC,KAAK,IAAI,CAACC,KAAK,IAAI,CAACC,QAAQ,IAAI,CAACC,sBAAsB;YAAAQ,QAAA,CAAAE,IAAA;YAAA;UAAA;UAAA,OAAAF,QAAA,CAAAI,MAAA,WAC5EnB,GAAG,CAACoB,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAACC,OAAO,EAAE;UAA8B,CAAC,CAAC;QAAA;UAAA,IAIrE/B,WAAW,CAACW,SAAS,CAAC;YAAAa,QAAA,CAAAE,IAAA;YAAA;UAAA;UAAA,OAAAF,QAAA,CAAAI,MAAA,WAChBnB,GAAG,CAACoB,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAACC,OAAO,EAAE;UAA8D,CAAC,CAAC;QAAA;UAAA,IAIrG/B,WAAW,CAACY,QAAQ,CAAC;YAAAY,QAAA,CAAAE,IAAA;YAAA;UAAA;UAAA,OAAAF,QAAA,CAAAI,MAAA,WACfnB,GAAG,CAACoB,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAACC,OAAO,EAAE;UAA6D,CAAC,CAAC;QAAA;UAAA,IAIpGlC,YAAY,CAACgB,KAAK,CAAC;YAAAW,QAAA,CAAAE,IAAA;YAAA;UAAA;UAAA,OAAAF,QAAA,CAAAI,MAAA,WACbnB,GAAG,CAACoB,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAACC,OAAO,EAAE;UAAqC,CAAC,CAAC;QAAA;UAAA,IAI5EjC,YAAY,CAACgB,KAAK,CAAC;YAAAU,QAAA,CAAAE,IAAA;YAAA;UAAA;UAAA,OAAAF,QAAA,CAAAI,MAAA,WACbnB,GAAG,CAACoB,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAACC,OAAO,EAAE;UAAoC,CAAC,CAAC;QAAA;UAGhF;UACMb,kBAAkB,GAAGnB,eAAe,CAACgB,QAAQ,CAAC;UAAA,IAC/CG,kBAAkB,CAACc,KAAK;YAAAR,QAAA,CAAAE,IAAA;YAAA;UAAA;UAAA,OAAAF,QAAA,CAAAI,MAAA,WAClBnB,GAAG,CAACoB,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAACC,OAAO,EAAEb,kBAAkB,CAACa;UAAO,CAAC,CAAC;QAAA;UAAA,IAIjE,CAAC,OAAO,EAAE,SAAS,CAAC,CAACE,QAAQ,CAACjB,sBAAsB,CAAC;YAAAQ,QAAA,CAAAE,IAAA;YAAA;UAAA;UAAA,OAAAF,QAAA,CAAAI,MAAA,WAC/CnB,GAAG,CAACoB,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAACC,OAAO,EAAE;UAA6D,CAAC,CAAC;QAAA;UAAA,MAIrGd,aAAa,IAAIA,aAAa,CAACiB,MAAM,GAAG,GAAG;YAAAV,QAAA,CAAAE,IAAA;YAAA;UAAA;UAAA,OAAAF,QAAA,CAAAI,MAAA,WACpCnB,GAAG,CAACoB,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAACC,OAAO,EAAE;UAA6C,CAAC,CAAC;QAAA;UAAAP,QAAA,CAAAC,IAAA;UAI/EN,IAAI,GAAGzB,OAAO,CAAC,CAAC,EAEtB;UAAA8B,QAAA,CAAAE,IAAA;UAAA,OAC6BnC,MAAM,CAAC4C,IAAI,CAACpB,QAAQ,EAAE,EAAE,CAAC;QAAA;UAAhDK,cAAc,GAAAI,QAAA,CAAAY,IAAA;UAAAZ,QAAA,CAAAE,IAAA;UAAA,OAICP,IAAI,CAACkB,OAAO,CAAC,CAAC,CAC9BC,KAAK,CAAC,WAAW,EAAE3C,GAAG,CAAC4C,OAAO,EAAEtC,cAAc,CAACU,SAAS,CAAC,CAAC,CAC1D2B,KAAK,CAAC,UAAU,EAAE3C,GAAG,CAAC4C,OAAO,EAAEtC,cAAc,CAACW,QAAQ,CAAC,CAAC,CACxD0B,KAAK,CAAC,OAAO,EAAE3C,GAAG,CAAC4C,OAAO,EAAEtC,cAAc,CAACY,KAAK,CAAC,CAAC2B,WAAW,CAAC,CAAC,CAAC,CAChEF,KAAK,CAAC,OAAO,EAAE3C,GAAG,CAAC4C,OAAO,EAAEtC,cAAc,CAACa,KAAK,CAAC,CAAC,CAClDwB,KAAK,CAAC,gBAAgB,EAAE3C,GAAG,CAAC4C,OAAO,EAAEnB,cAAc,CAAC,CACpDkB,KAAK,CAAC,sBAAsB,EAAE3C,GAAG,CAAC4C,OAAO,EAAEvB,sBAAsB,CAAC,CAClEsB,KAAK,CAAC,cAAc,EAAE3C,GAAG,CAAC4C,OAAO,EAAEtB,aAAa,GAAGhB,cAAc,CAACgB,aAAa,CAAC,GAAG,IAAI,CAAC,CACxFwB,KAAK,iUAGL,CAAC;QAAA;UAXApB,MAAM,GAAAG,QAAA,CAAAY,IAAA;UAaZ;UACA3B,GAAG,CAACoB,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAACC,OAAO,EAAE;UAAqE,CAAC,CAAC;UAACP,QAAA,CAAAE,IAAA;UAAA;QAAA;UAAAF,QAAA,CAAAC,IAAA;UAAAH,EAAA,GAAAE,QAAA;UAAA,MAInGF,EAAA,CAAMoB,MAAM,KAAK,IAAI,IAAIpB,EAAA,CAAMoB,MAAM,KAAK,IAAI;YAAAlB,QAAA,CAAAE,IAAA;YAAA;UAAA;UAAA,OAAAF,QAAA,CAAAI,MAAA,WACvCnB,GAAG,CAACoB,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAACC,OAAO,EAAE;UAA0I,CAAC,CAAC;QAAA;UAGtL;UACAY,OAAO,CAACC,KAAK,CAAC,2DAA2D,EAAAtB,EAAO,CAAC;UACjFb,GAAG,CAACoB,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAACC,OAAO,EAAE;UAAgE,CAAC,CAAC;QAAC;QAAA;UAAA,OAAAP,QAAA,CAAAqB,IAAA;MAAA;IAAA,GAAAtC,OAAA;EAAA,CAEzG;EAAA,iBAAAuC,EAAA,EAAAC,GAAA;IAAA,OAAA5C,IAAA,CAAA6C,KAAA,OAAAC,SAAA;EAAA;AAAA,IAAC;;AAEF;AACA,IAAMC,eAAe,GAAG7D,YAAY;EAAA,IAAA8D,KAAA,OAAA/C,kBAAA,0BAAAC,YAAA,YAAAC,IAAA,CAAC,SAAA8C,SAAO5C,GAAG,EAACC,GAAG;IAAA,IAAA4C,UAAA,EAAAxC,KAAA,EAAAE,QAAA,EAAAI,IAAA,EAAAE,MAAA,EAAAiC,UAAA,EAAAC,eAAA,EAAAC,eAAA,EAAAC,GAAA;IAAA,OAAApD,YAAA,YAAAkB,IAAA,WAAAmC,SAAA;MAAA,kBAAAA,SAAA,CAAAjC,IAAA,GAAAiC,SAAA,CAAAhC,IAAA;QAAA;UAC/C;UAAA2B,UAAA,GAC0B7C,GAAG,CAACmB,IAAI,EAA3Bd,KAAK,GAAAwC,UAAA,CAALxC,KAAK,EAAEE,QAAQ,GAAAsC,UAAA,CAARtC,QAAQ,EAEtB;UAAA,MACI,CAACF,KAAK,IAAI,CAACE,QAAQ;YAAA2C,SAAA,CAAAhC,IAAA;YAAA;UAAA;UAAA,OAAAgC,SAAA,CAAA9B,MAAA,WACZnB,GAAG,CAACoB,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAACC,OAAO,EAAE;UAAqD,CAAC,CAAC;QAAA;UAAA,IAI5FlC,YAAY,CAACgB,KAAK,CAAC;YAAA6C,SAAA,CAAAhC,IAAA;YAAA;UAAA;UAAA,OAAAgC,SAAA,CAAA9B,MAAA,WACbnB,GAAG,CAACoB,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAACC,OAAO,EAAE;UAAqC,CAAC,CAAC;QAAA;UAAA2B,SAAA,CAAAjC,IAAA;UAIvEN,IAAI,GAAGzB,OAAO,CAAC,CAAC,EAEtB;UAAAgE,SAAA,CAAAhC,IAAA;UAAA,OACqBP,IAAI,CAACkB,OAAO,CAAC,CAAC,CAC9BC,KAAK,CAAC,OAAO,EAAE3C,GAAG,CAAC4C,OAAO,EAAEtC,cAAc,CAACY,KAAK,CAAC,CAAC2B,WAAW,CAAC,CAAC,CAAC,CAChEC,KAAK,yLAID,CAAC;QAAA;UANJpB,MAAM,GAAAqC,SAAA,CAAAtB,IAAA;UAAA,MASRf,MAAM,CAACsC,SAAS,CAACzB,MAAM,KAAK,CAAC;YAAAwB,SAAA,CAAAhC,IAAA;YAAA;UAAA;UAAA,OAAAgC,SAAA,CAAA9B,MAAA,WACtBnB,GAAG,CAACoB,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAACC,OAAO,EAAE;UAAoC,CAAC,CAAC;QAAA;UAGhF;UACMuB,UAAU,GAAGjC,MAAM,CAACsC,SAAS,CAAC,CAAC,CAAC,EAEtC;UAAA,IACKL,UAAU,CAACM,QAAQ;YAAAF,SAAA,CAAAhC,IAAA;YAAA;UAAA;UAAA,OAAAgC,SAAA,CAAA9B,MAAA,WACbnB,GAAG,CAACoB,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAACC,OAAO,EAAE;UAAqI,CAAC,CAAC;QAAA;UAAA2B,SAAA,CAAAhC,IAAA;UAAA,OAKnJnC,MAAM,CAACsE,OAAO,CAAC9C,QAAQ,EAAEuC,UAAU,CAACQ,aAAa,CAAC;QAAA;UAA1EP,eAAe,GAAAG,SAAA,CAAAtB,IAAA;UAAA,IAChBmB,eAAe;YAAAG,SAAA,CAAAhC,IAAA;YAAA;UAAA;UAAA,OAAAgC,SAAA,CAAA9B,MAAA,WACTnB,GAAG,CAACoB,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAACC,OAAO,EAAE;UAAoC,CAAC,CAAC;QAAA;UAGhF;UACA;UACMyB,eAAe,GAAGhE,GAAG,CAACuE,IAAI,CAAC;YAC7BC,EAAE,EAAEV,UAAU,CAACW,aAAa;YAC5BtD,SAAS,EAAE2C,UAAU,CAACY,UAAU;YAChCtD,QAAQ,EAAE0C,UAAU,CAACa,SAAS;YAC9BtD,KAAK,EAAEyC,UAAU,CAACc;UACtB,CAAC,EACGC,OAAO,CAACC,GAAG,CAACC,uBAAuB,EACnC;YAACC,SAAS,EAAE;UAAI,CACpB,CAAC,EAED;UACA,IAAIhE,GAAG,CAACiE,OAAO,CAACC,uBAAuB,EAAE;YACrCjE,GAAG,CAACkE,WAAW,CAAC,yBAAyB,CAAC;UAC9C;;UAEA;UACA;UACAlE,GAAG,CAACmE,MAAM,CAAC,yBAAyB,EAAEpB,eAAe,EACjD;YAACqB,QAAQ,EAAE,IAAI;YACfC,MAAM,EAAET,OAAO,CAACC,GAAG,CAACS,QAAQ,KAAK,YAAY;YAC7CC,QAAQ,EAAE,QAAQ;YAClBC,MAAM,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG;UAAI,CAAC,CAAC;UACjCxE,GAAG,CAACoB,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YACjBC,OAAO,EAAE,yBAAyB;YAClCuB,UAAU,EAAE;cACRU,EAAE,EAAEV,UAAU,CAACW,aAAa;cAC5BtD,SAAS,EAAE2C,UAAU,CAACY,UAAU;cAChCtD,QAAQ,EAAE0C,UAAU,CAACa,SAAS;cAC9BtD,KAAK,EAAEyC,UAAU,CAACc;YACtB;UACJ,CAAC,CAAC;;UAEF;UAAAV,SAAA,CAAAhC,IAAA;UAAA;QAAA;UAAAgC,SAAA,CAAAjC,IAAA;UAAAgC,GAAA,GAAAC,SAAA;UAEAf,OAAO,CAACC,KAAK,CAAC,cAAc,EAAAa,GAAO,CAAC;UACpChD,GAAG,CAACoB,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAACC,OAAO,EAAE;UAAiC,CAAC,CAAC;QAAC;QAAA;UAAA,OAAA2B,SAAA,CAAAb,IAAA;MAAA;IAAA,GAAAO,QAAA;EAAA,CAE1E;EAAA,iBAAA8B,GAAA,EAAAC,GAAA;IAAA,OAAAhC,KAAA,CAAAH,KAAA,OAAAC,SAAA;EAAA;AAAA,IAAC;;AAEF;AACA,IAAMmC,gBAAgB,GAAG/F,YAAY;EAAA,IAAAgG,KAAA,OAAAjF,kBAAA,0BAAAC,YAAA,YAAAC,IAAA,CAAC,SAAAgF,SAAO9E,GAAG,EAAEC,GAAG;IAAA,OAAAJ,YAAA,YAAAkB,IAAA,WAAAgE,SAAA;MAAA,kBAAAA,SAAA,CAAA9D,IAAA,GAAA8D,SAAA,CAAA7D,IAAA;QAAA;UACjDjB,GAAG,CAACkE,WAAW,CAAC,yBAAyB,CAAC;UAC1ClE,GAAG,CAACoB,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAACC,OAAO,EAAE;UAA0B,CAAC,CAAC;QAAC;QAAA;UAAA,OAAAwD,SAAA,CAAA1C,IAAA;MAAA;IAAA,GAAAyC,QAAA;EAAA,CAC/D;EAAA,iBAAAE,GAAA,EAAAC,GAAA;IAAA,OAAAJ,KAAA,CAAArC,KAAA,OAAAC,SAAA;EAAA;AAAA,IAAC;AAEFyC,MAAM,CAACC,OAAO,GAAG;EAACzF,kBAAkB,EAAlBA,kBAAkB;EAAEgD,eAAe,EAAfA,eAAe;EAAEkC,gBAAgB,EAAhBA;AAAgB,CAAC","ignoreList":[]}},"mtime":1764435289429}}